/*!
 * jQuery JavaScript Library v3.1.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2016-09-22T22:30Z
 */
!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t,e){e=e||et;var n=e.createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function i(t){var e=!!t&&"length"in t&&t.length,n=pt.type(t);return"function"!==n&&!pt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function r(t,e,n){return pt.isFunction(e)?pt.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?pt.grep(t,function(t){return t===e!==n}):"string"!=typeof e?pt.grep(t,function(t){return at.call(e,t)>-1!==n}):Et.test(e)?pt.filter(e,t,n):(e=pt.filter(e,t),pt.grep(t,function(t){return at.call(e,t)>-1!==n&&1===t.nodeType}))}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function a(t){var e={};return pt.each(t.match($t)||[],function(t,n){e[n]=!0}),e}function s(t){return t}function u(t){throw t}function l(t,e,n){var i;try{t&&pt.isFunction(i=t.promise)?i.call(t).done(e).fail(n):t&&pt.isFunction(i=t.then)?i.call(t,e,n):e.call(void 0,t)}catch(t){n.call(void 0,t)}}function c(){et.removeEventListener("DOMContentLoaded",c),t.removeEventListener("load",c),pt.ready()}function f(){this.expando=pt.expando+f.uid++}function h(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Rt.test(t)?JSON.parse(t):t)}function d(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Ft,"-$&").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n=h(n)}catch(r){}Pt.set(t,e,n)}else n=void 0;return n}function p(t,e,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return pt.css(t,e,"")},u=s(),l=n&&n[3]||(pt.cssNumber[e]?"":"px"),c=(pt.cssNumber[e]||"px"!==l&&+u)&&Ut.exec(pt.css(t,e));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do o=o||".5",c/=o,pt.style(t,e,c+l);while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(c=+c||+u||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=c,i.end=r)),r}function g(t){var e,n=t.ownerDocument,i=t.nodeName,r=Wt[i];return r?r:(e=n.body.appendChild(n.createElement(i)),r=pt.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),Wt[i]=r,r)}function m(t,e){for(var n,i,r=[],o=0,a=t.length;o<a;o++)i=t[o],i.style&&(n=i.style.display,e?("none"===n&&(r[o]=Lt.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&Ht(i)&&(r[o]=g(i))):"none"!==n&&(r[o]="none",Lt.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}function v(t,e){var n;return n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&pt.nodeName(t,e)?pt.merge([t],n):n}function y(t,e){for(var n=0,i=t.length;n<i;n++)Lt.set(t[n],"globalEval",!e||Lt.get(e[n],"globalEval"))}function b(t,e,n,i,r){for(var o,a,s,u,l,c,f=e.createDocumentFragment(),h=[],d=0,p=t.length;d<p;d++)if(o=t[d],o||0===o)if("object"===pt.type(o))pt.merge(h,o.nodeType?[o]:o);else if(Gt.test(o)){for(a=a||f.appendChild(e.createElement("div")),s=(Bt.exec(o)||["",""])[1].toLowerCase(),u=Xt[s]||Xt._default,a.innerHTML=u[1]+pt.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;pt.merge(h,a.childNodes),a=f.firstChild,a.textContent=""}else h.push(e.createTextNode(o));for(f.textContent="",d=0;o=h[d++];)if(i&&pt.inArray(o,i)>-1)r&&r.push(o);else if(l=pt.contains(o.ownerDocument,o),a=v(f.appendChild(o),"script"),l&&y(a),n)for(c=0;o=a[c++];)Vt.test(o.type||"")&&n.push(o);return f}function _(){return!0}function x(){return!1}function w(){try{return et.activeElement}catch(t){}}function k(t,e,n,i,r,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(s in e)k(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=x;else if(!r)return t;return 1===o&&(a=r,r=function(t){return pt().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=pt.guid++)),t.each(function(){pt.event.add(this,e,r,i,n)})}function E(t,e){return pt.nodeName(t,"table")&&pt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t:t}function S(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function C(t){var e=ie.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function T(t,e){var n,i,r,o,a,s,u,l;if(1===e.nodeType){if(Lt.hasData(t)&&(o=Lt.access(t),a=Lt.set(e,o),l=o.events)){delete a.handle,a.events={};for(r in l)for(n=0,i=l[r].length;n<i;n++)pt.event.add(e,r,l[r][n])}Pt.hasData(t)&&(s=Pt.access(t),u=pt.extend({},s),Pt.set(e,u))}}function M(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Yt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function A(t,e,i,r){e=rt.apply([],e);var o,a,s,u,l,c,f=0,h=t.length,d=h-1,p=e[0],g=pt.isFunction(p);if(g||h>1&&"string"==typeof p&&!ht.checkClone&&ne.test(p))return t.each(function(n){var o=t.eq(n);g&&(e[0]=p.call(this,n,o.html())),A(o,e,i,r)});if(h&&(o=b(e,t[0].ownerDocument,!1,t,r),a=o.firstChild,1===o.childNodes.length&&(o=a),a||r)){for(s=pt.map(v(o,"script"),S),u=s.length;f<h;f++)l=o,f!==d&&(l=pt.clone(l,!0,!0),u&&pt.merge(s,v(l,"script"))),i.call(t[f],l,f);if(u)for(c=s[s.length-1].ownerDocument,pt.map(s,C),f=0;f<u;f++)l=s[f],Vt.test(l.type||"")&&!Lt.access(l,"globalEval")&&pt.contains(c,l)&&(l.src?pt._evalUrl&&pt._evalUrl(l.src):n(l.textContent.replace(re,""),c))}return t}function $(t,e,n){for(var i,r=e?pt.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||pt.cleanData(v(i)),i.parentNode&&(n&&pt.contains(i.ownerDocument,i)&&y(v(i,"script")),i.parentNode.removeChild(i));return t}function O(t,e,n){var i,r,o,a,s=t.style;return n=n||se(t),n&&(a=n.getPropertyValue(e)||n[e],""!==a||pt.contains(t.ownerDocument,t)||(a=pt.style(t,e)),!ht.pixelMarginRight()&&ae.test(a)&&oe.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function D(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function N(t){if(t in he)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=fe.length;n--;)if(t=fe[n]+e,t in he)return t}function I(t,e,n){var i=Ut.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function L(t,e,n,i,r){var o,a=0;for(o=n===(i?"border":"content")?4:"width"===e?1:0;o<4;o+=2)"margin"===n&&(a+=pt.css(t,n+zt[o],!0,r)),i?("content"===n&&(a-=pt.css(t,"padding"+zt[o],!0,r)),"margin"!==n&&(a-=pt.css(t,"border"+zt[o]+"Width",!0,r))):(a+=pt.css(t,"padding"+zt[o],!0,r),"padding"!==n&&(a+=pt.css(t,"border"+zt[o]+"Width",!0,r)));return a}function P(t,e,n){var i,r=!0,o=se(t),a="border-box"===pt.css(t,"boxSizing",!1,o);if(t.getClientRects().length&&(i=t.getBoundingClientRect()[e]),i<=0||null==i){if(i=O(t,e,o),(i<0||null==i)&&(i=t.style[e]),ae.test(i))return i;r=a&&(ht.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+L(t,e,n||(a?"border":"content"),r,o)+"px"}function R(t,e,n,i,r){return new R.prototype.init(t,e,n,i,r)}function F(){pe&&(t.requestAnimationFrame(F),pt.fx.tick())}function j(){return t.setTimeout(function(){de=void 0}),de=pt.now()}function U(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)n=zt[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function z(t,e,n){for(var i,r=(W.tweeners[e]||[]).concat(W.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function H(t,e,n){var i,r,o,a,s,u,l,c,f="width"in e||"height"in e,h=this,d={},p=t.style,g=t.nodeType&&Ht(t),v=Lt.get(t,"fxshow");n.queue||(a=pt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,pt.queue(t,"fx").length||a.empty.fire()})}));for(i in e)if(r=e[i],ge.test(r)){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;g=!0}d[i]=v&&v[i]||pt.style(t,i)}if(u=!pt.isEmptyObject(e),u||!pt.isEmptyObject(d)){f&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=v&&v.display,null==l&&(l=Lt.get(t,"display")),c=pt.css(t,"display"),"none"===c&&(l?c=l:(m([t],!0),l=t.style.display||l,c=pt.css(t,"display"),m([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===pt.css(t,"float")&&(u||(h.done(function(){p.display=l}),null==l&&(c=p.display,l="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1;for(i in d)u||(v?"hidden"in v&&(g=v.hidden):v=Lt.access(t,"fxshow",{display:l}),o&&(v.hidden=!g),g&&m([t],!0),h.done(function(){g||m([t]),Lt.remove(t,"fxshow");for(i in d)pt.style(t,i,d[i])})),u=z(g?v[i]:0,i,h),i in v||(v[i]=u.start,g&&(u.end=u.start,u.start=0))}}function q(t,e){var n,i,r,o,a;for(n in t)if(i=pt.camelCase(n),r=e[i],o=t[n],pt.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),a=pt.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function W(t,e,n){var i,r,o=0,a=W.prefilters.length,s=pt.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var e=de||j(),n=Math.max(0,l.startTime+l.duration-e),i=n/l.duration||0,o=1-i,a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(o);return s.notifyWith(t,[l,o,n]),o<1&&u?n:(s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:pt.extend({},e),opts:pt.extend(!0,{specialEasing:{},easing:pt.easing._default},n),originalProperties:e,originalOptions:n,startTime:de||j(),duration:n.duration,tweens:[],createTween:function(e,n){var i=pt.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return e?(s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l,e])):s.rejectWith(t,[l,e]),this}}),c=l.props;for(q(c,l.opts.specialEasing);o<a;o++)if(i=W.prefilters[o].call(l,t,c,l.opts))return pt.isFunction(i.stop)&&(pt._queueHooks(l.elem,l.opts.queue).stop=pt.proxy(i.stop,i)),i;return pt.map(c,z,l),pt.isFunction(l.opts.start)&&l.opts.start.call(t,l),pt.fx.timer(pt.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function Y(t){var e=t.match($t)||[];return e.join(" ")}function B(t){return t.getAttribute&&t.getAttribute("class")||""}function V(t,e,n,i){var r;if(pt.isArray(e))pt.each(e,function(e,r){n||Ce.test(t)?i(t,r):V(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==pt.type(e))i(t,e);else for(r in e)V(t+"["+r+"]",e[r],n,i)}function X(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match($t)||[];if(pt.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function G(t,e,n,i){function r(s){var u;return o[s]=!0,pt.each(t[s]||[],function(t,s){var l=s(e,n,i);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),u}var o={},a=t===Fe;return r(e.dataTypes[0])||!o["*"]&&r("*")}function K(t,e){var n,i,r=pt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&pt.extend(!0,t,i),t}function J(t,e,n){for(var i,r,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){u.unshift(r);break}if(u[0]in n)o=u[0];else{for(r in n){if(!u[0]||t.converters[r+" "+u[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function Z(t,e,n,i){var r,o,a,s,u,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(r in l)if(s=r.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[r]:l[r]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(f){return{state:"parsererror",error:a?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function Q(t){return pt.isWindow(t)?t:9===t.nodeType&&t.defaultView}var tt=[],et=t.document,nt=Object.getPrototypeOf,it=tt.slice,rt=tt.concat,ot=tt.push,at=tt.indexOf,st={},ut=st.toString,lt=st.hasOwnProperty,ct=lt.toString,ft=ct.call(Object),ht={},dt="3.1.1",pt=function(t,e){return new pt.fn.init(t,e)},gt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,mt=/^-ms-/,vt=/-([a-z])/g,yt=function(t,e){return e.toUpperCase()};pt.fn=pt.prototype={jquery:dt,constructor:pt,length:0,toArray:function(){return it.call(this)},get:function(t){return null==t?it.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=pt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return pt.each(this,t)},map:function(t){return this.pushStack(pt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(it.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ot,sort:tt.sort,splice:tt.splice},pt.extend=pt.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||pt.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],i=t[e],a!==i&&(l&&i&&(pt.isPlainObject(i)||(r=pt.isArray(i)))?(r?(r=!1,o=n&&pt.isArray(n)?n:[]):o=n&&pt.isPlainObject(n)?n:{},a[e]=pt.extend(l,o,i)):void 0!==i&&(a[e]=i));return a},pt.extend({expando:"jQuery"+(dt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===pt.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=pt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==ut.call(t))&&(!(e=nt(t))||(n=lt.call(e,"constructor")&&e.constructor,"function"==typeof n&&ct.call(n)===ft))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?st[ut.call(t)]||"object":typeof t},globalEval:function(t){n(t)},camelCase:function(t){return t.replace(mt,"ms-").replace(vt,yt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,r=0;if(i(t))for(n=t.length;r<n&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(gt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?pt.merge(n,"string"==typeof t?[t]:t):ot.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:at.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,a=t.length,s=!n;o<a;o++)i=!e(t[o],o),i!==s&&r.push(t[o]);return r},map:function(t,e,n){var r,o,a=0,s=[];if(i(t))for(r=t.length;a<r;a++)o=e(t[a],a,n),null!=o&&s.push(o);else for(a in t)o=e(t[a],a,n),null!=o&&s.push(o);return rt.apply([],s)},guid:1,proxy:function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),pt.isFunction(t))return i=it.call(arguments,2),r=function(){return t.apply(e||this,i.concat(it.call(arguments)))},r.guid=t.guid=t.guid||pt.guid++,r},now:Date.now,support:ht}),"function"==typeof Symbol&&(pt.fn[Symbol.iterator]=tt[Symbol.iterator]),pt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){st["[object "+e+"]"]=e.toLowerCase()});var bt=/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(t){function e(t,e,n,i){var r,o,a,s,u,l,c,h=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!i&&((e?e.ownerDocument||e:z)!==N&&D(e),e=e||N,L)){if(11!==p&&(u=vt.exec(t)))if(r=u[1]){if(9===p){if(!(a=e.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(h&&(a=h.getElementById(r))&&j(e,a)&&a.id===r)return n.push(a),n}else{if(u[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((r=u[3])&&w.getElementsByClassName&&e.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(r)),n}if(w.qsa&&!B[t+" "]&&(!P||!P.test(t))){if(1!==p)h=e,c=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(xt,wt):e.setAttribute("id",s=U),l=C(t),o=l.length;o--;)l[o]="#"+s+" "+d(l[o]);c=l.join(","),h=yt.test(t)&&f(e.parentNode)||e}if(c)try{return Z.apply(n,h.querySelectorAll(c)),n}catch(g){}finally{s===U&&e.removeAttribute("id")}}}return M(t.replace(st,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>k.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[U]=!0,t}function r(t){var e=N.createElement("fieldset");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)k.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return function(e){return"form"in e?e.parentNode&&e.disabled===!1?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Et(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function c(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function f(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function d(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,r=e.next,o=r||i,a=n&&"parentNode"===o,s=q++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||a)return t(e,n,r);return!1}:function(e,n,u){var l,c,f,h=[H,s];if(u){for(;e=e[i];)if((1===e.nodeType||a)&&t(e,n,u))return!0}else for(;e=e[i];)if(1===e.nodeType||a)if(f=e[U]||(e[U]={}),c=f[e.uniqueID]||(f[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((l=c[o])&&l[0]===H&&l[1]===s)return h[2]=l[2];if(c[o]=h,h[2]=t(e,n,u))return!0}return!1}}function g(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function m(t,n,i){for(var r=0,o=n.length;r<o;r++)e(t,n[r],i);return i}function v(t,e,n,i,r){for(var o,a=[],s=0,u=t.length,l=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),l&&e.push(s)));return a}function y(t,e,n,r,o,a){return r&&!r[U]&&(r=y(r)),o&&!o[U]&&(o=y(o,a)),i(function(i,a,s,u){var l,c,f,h=[],d=[],p=a.length,g=i||m(e||"*",s.nodeType?[s]:s,[]),y=!t||!i&&e?g:v(g,h,t,s,u),b=n?o||(i?t:p||r)?[]:a:y;if(n&&n(y,b,s,u),r)for(l=v(b,d),r(l,[],s,u),c=l.length;c--;)(f=l[c])&&(b[d[c]]=!(y[d[c]]=f));if(i){if(o||t){if(o){for(l=[],c=b.length;c--;)(f=b[c])&&l.push(y[c]=f);o(null,b=[],l,u)}for(c=b.length;c--;)(f=b[c])&&(l=o?tt(i,f):h[c])>-1&&(i[l]=!(a[l]=f))}}else b=v(b===a?b.splice(p,b.length):b),o?o(null,a,b,u):Z.apply(a,b)})}function b(t){for(var e,n,i,r=t.length,o=k.relative[t[0].type],a=o||k.relative[" "],s=o?1:0,u=p(function(t){return t===e},a,!0),l=p(function(t){return tt(e,t)>-1},a,!0),c=[function(t,n,i){var r=!o&&(i||n!==A)||((e=n).nodeType?u(t,n,i):l(t,n,i));return e=null,r}];s<r;s++)if(n=k.relative[t[s].type])c=[p(g(c),n)];else{if(n=k.filter[t[s].type].apply(null,t[s].matches),n[U]){for(i=++s;i<r&&!k.relative[t[i].type];i++);return y(s>1&&g(c),s>1&&d(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),n,s<i&&b(t.slice(s,i)),i<r&&b(t=t.slice(i)),i<r&&d(t))}c.push(n)}return g(c)}function _(t,n){var r=n.length>0,o=t.length>0,a=function(i,a,s,u,l){var c,f,h,d=0,p="0",g=i&&[],m=[],y=A,b=i||o&&k.find.TAG("*",l),_=H+=null==y?1:Math.random()||.1,x=b.length;for(l&&(A=a===N||a||l);p!==x&&null!=(c=b[p]);p++){if(o&&c){for(f=0,a||c.ownerDocument===N||(D(c),s=!L);h=t[f++];)if(h(c,a||N,s)){u.push(c);break}l&&(H=_)}r&&((c=!h&&c)&&d--,i&&g.push(c))}if(d+=p,r&&p!==d){for(f=0;h=n[f++];)h(g,m,a,s);if(i){if(d>0)for(;p--;)g[p]||m[p]||(m[p]=K.call(u));m=v(m)}Z.apply(u,m),l&&!i&&m.length>0&&d+n.length>1&&e.uniqueSort(u)}return l&&(H=_,A=y),g};return r?i(a):a}var x,w,k,E,S,C,T,M,A,$,O,D,N,I,L,P,R,F,j,U="sizzle"+1*new Date,z=t.document,H=0,q=0,W=n(),Y=n(),B=n(),V=function(t,e){return t===e&&(O=!0),0},X={}.hasOwnProperty,G=[],K=G.pop,J=G.push,Z=G.push,Q=G.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),lt=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ft=new RegExp(ot),ht=new RegExp("^"+it+"$"),dt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),_t=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,wt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},kt=function(){D()},Et=p(function(t){return t.disabled===!0&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{Z.apply(G=Q.call(z.childNodes),z.childNodes),G[z.childNodes.length].nodeType}catch(St){Z={apply:G.length?function(t,e){J.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}w=e.support={},S=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},D=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:z;return i!==N&&9===i.nodeType&&i.documentElement?(N=i,I=N.documentElement,L=!S(N),z!==N&&(n=N.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",kt,!1):n.attachEvent&&n.attachEvent("onunload",kt)),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild(N.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=mt.test(N.getElementsByClassName),w.getById=r(function(t){return I.appendChild(t).id=U,!N.getElementsByName||!N.getElementsByName(U).length}),w.getById?(k.filter.ID=function(t){var e=t.replace(bt,_t);return function(t){return t.getAttribute("id")===e}},k.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&L){var n=e.getElementById(t);return n?[n]:[]}}):(k.filter.ID=function(t){var e=t.replace(bt,_t);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},k.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&L){var n,i,r,o=e.getElementById(t);if(o){if(n=o.getAttributeNode("id"),n&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if(n=o.getAttributeNode("id"),n&&n.value===t)return[o]}return[]}}),k.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},k.find.CLASS=w.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&L)return e.getElementsByClassName(t)},R=[],P=[],(w.qsa=mt.test(N.querySelectorAll))&&(r(function(t){I.appendChild(t).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||P.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+U+"-]").length||P.push("~="),t.querySelectorAll(":checked").length||P.push(":checked"),t.querySelectorAll("a#"+U+"+*").length||P.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=N.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&P.push("name"+nt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&P.push(":enabled",":disabled"),I.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&P.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),P.push(",.*:")})),(w.matchesSelector=mt.test(F=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&r(function(t){w.disconnectedMatch=F.call(t,"*"),F.call(t,"[s!='']:x"),R.push("!=",ot)}),P=P.length&&new RegExp(P.join("|")),R=R.length&&new RegExp(R.join("|")),e=mt.test(I.compareDocumentPosition),j=e||mt.test(I.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return O=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===N||t.ownerDocument===z&&j(z,t)?-1:e===N||e.ownerDocument===z&&j(z,e)?1:$?tt($,t)-tt($,e):0:4&n?-1:1)}:function(t,e){if(t===e)return O=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],u=[e];if(!r||!o)return t===N?-1:e===N?1:r?-1:o?1:$?tt($,t)-tt($,e):0;if(r===o)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;s[i]===u[i];)i++;return i?a(s[i],u[i]):s[i]===z?-1:u[i]===z?1:0},N):N},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==N&&D(t),n=n.replace(ct,"='$1']"),w.matchesSelector&&L&&!B[n+" "]&&(!R||!R.test(n))&&(!P||!P.test(n)))try{var i=F.call(t,n);if(i||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,N,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==N&&D(t),j(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==N&&D(t);var n=k.attrHandle[e.toLowerCase()],i=n&&X.call(k.attrHandle,e.toLowerCase())?n(t,e,!L):void 0;return void 0!==i?i:w.attributes||!L?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.escape=function(t){return(t+"").replace(xt,wt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(O=!w.detectDuplicates,$=!w.sortStable&&t.slice(0),t.sort(V),O){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return $=null,t},E=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=E(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=E(e);return n},k=e.selectors={cacheLength:50,createPseudo:i,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,_t),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,_t),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ft.test(n)&&(e=C(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,_t).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(at," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,u){var l,c,f,h,d,p,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!u&&!s,b=!1;if(m){if(o){for(;g;){for(h=e;h=h[g];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(h=m,f=h[U]||(h[U]={}),c=f[h.uniqueID]||(f[h.uniqueID]={}),l=c[t]||[],d=l[0]===H&&l[1],b=d&&l[2],h=d&&m.childNodes[d];h=++d&&h&&h[g]||(b=d=0)||p.pop();)if(1===h.nodeType&&++b&&h===e){c[t]=[H,d,b];break}}else if(y&&(h=e,f=h[U]||(h[U]={}),c=f[h.uniqueID]||(f[h.uniqueID]={}),l=c[t]||[],d=l[0]===H&&l[1],b=d),b===!1)for(;(h=++d&&h&&h[g]||(b=d=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&(f=h[U]||(h[U]={}),c=f[h.uniqueID]||(f[h.uniqueID]={}),c[t]=[H,b]),h!==e)););return b-=r,b===i||b%i===0&&b/i>=0}}},PSEUDO:function(t,n){var r,o=k.pseudos[t]||k.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[U]?o(n):o.length>1?(r=[t,t,"",n],k.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),a=r.length;a--;)i=tt(t,r[a]),t[i]=!(e[i]=r[a])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=T(t.replace(st,"$1"));return r[U]?i(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(bt,_t),function(e){return(e.textContent||e.innerText||E(e)).indexOf(t)>-1}}),lang:i(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,_t).toLowerCase(),function(e){var n;do if(n=L?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===I},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:l(!1),disabled:l(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!k.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[n<0?n+e:n]}),even:c(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:c(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},k.pseudos.nth=k.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})k.pseudos[x]=u(x);return h.prototype=k.filters=k.pseudos,k.setFilters=new h,C=e.tokenize=function(t,n){var i,r,o,a,s,u,l,c=Y[t+" "];if(c)return n?0:c.slice(0);for(s=t,u=[],l=k.preFilter;s;){i&&!(r=ut.exec(s))||(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),i=!1,(r=lt.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(st," ")}),s=s.slice(i.length));for(a in k.filter)!(r=dt[a].exec(s))||l[a]&&!(r=l[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):Y(t,u).slice(0)},T=e.compile=function(t,e){var n,i=[],r=[],o=B[t+" "];if(!o){for(e||(e=C(t)),n=e.length;n--;)o=b(e[n]),o[U]?i.push(o):r.push(o);o=B(t,_(r,i)),o.selector=t}return o},M=e.select=function(t,e,n,i){var r,o,a,s,u,l="function"==typeof t&&t,c=!i&&C(t=l.selector||t);if(n=n||[],1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===e.nodeType&&L&&k.relative[o[1].type]){if(e=(k.find.ID(a.matches[0].replace(bt,_t),e)||[])[0],!e)return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=dt.needsContext.test(t)?0:o.length;r--&&(a=o[r],!k.relative[s=a.type]);)if((u=k.find[s])&&(i=u(a.matches[0].replace(bt,_t),yt.test(o[0].type)&&f(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&d(o),!t)return Z.apply(n,i),n;break}}return(l||T(t,c))(i,e,!L,n,!e||yt.test(t)&&f(e.parentNode)||e),n},w.sortStable=U.split("").sort(V).join("")===U,w.detectDuplicates=!!O,D(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition(N.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var i;if(!n)return t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);pt.find=bt,pt.expr=bt.selectors,pt.expr[":"]=pt.expr.pseudos,pt.uniqueSort=pt.unique=bt.uniqueSort,pt.text=bt.getText,pt.isXMLDoc=bt.isXML,pt.contains=bt.contains,pt.escapeSelector=bt.escape;var _t=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&pt(t).is(n))break;i.push(t)}return i},xt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},wt=pt.expr.match.needsContext,kt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Et=/^.[^:#\[\.,]*$/;pt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?pt.find.matchesSelector(i,t)?[i]:[]:pt.find.matches(t,pt.grep(e,function(t){return 1===t.nodeType}))},pt.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(pt(t).filter(function(){for(e=0;e<i;e++)if(pt.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)pt.find(t,r[e],n);return i>1?pt.uniqueSort(n):n},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&wt.test(t)?pt(t):t||[],!1).length}});var St,Ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Tt=pt.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||St,"string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Ct.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof pt?e[0]:e,pt.merge(this,pt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:et,!0)),kt.test(i[1])&&pt.isPlainObject(e))for(i in e)pt.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=et.getElementById(i[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):pt.isFunction(t)?void 0!==n.ready?n.ready(t):t(pt):pt.makeArray(t,this)};Tt.prototype=pt.fn,St=pt(et);var Mt=/^(?:parents|prev(?:Until|All))/,At={children:!0,contents:!0,next:!0,prev:!0};pt.fn.extend({has:function(t){var e=pt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(pt.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],a="string"!=typeof t&&pt(t);if(!wt.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&pt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?pt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?at.call(pt(t),this[0]):at.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(pt.uniqueSort(pt.merge(this.get(),pt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),pt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return _t(t,"parentNode")},parentsUntil:function(t,e,n){return _t(t,"parentNode",n)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return _t(t,"nextSibling")},prevAll:function(t){return _t(t,"previousSibling")},nextUntil:function(t,e,n){return _t(t,"nextSibling",n)},prevUntil:function(t,e,n){return _t(t,"previousSibling",n)},siblings:function(t){return xt((t.parentNode||{}).firstChild,t)},children:function(t){return xt(t.firstChild)},contents:function(t){return t.contentDocument||pt.merge([],t.childNodes)}},function(t,e){pt.fn[t]=function(n,i){var r=pt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=pt.filter(i,r)),this.length>1&&(At[t]||pt.uniqueSort(r),Mt.test(t)&&r.reverse()),this.pushStack(r)}});var $t=/[^\x20\t\r\n\f]+/g;pt.Callbacks=function(t){t="string"==typeof t?a(t):pt.extend({},t);var e,n,i,r,o=[],s=[],u=-1,l=function(){for(r=t.once,i=e=!0;s.length;u=-1)for(n=s.shift();++u<o.length;)o[u].apply(n[0],n[1])===!1&&t.stopOnFalse&&(u=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(u=o.length-1,s.push(n)),function i(e){pt.each(e,function(e,n){pt.isFunction(n)?t.unique&&c.has(n)||o.push(n):n&&n.length&&"string"!==pt.type(n)&&i(n)})}(arguments),n&&!e&&l()),this},remove:function(){return pt.each(arguments,function(t,e){for(var n;(n=pt.inArray(e,o,n))>-1;)o.splice(n,1),n<=u&&u--}),this},has:function(t){return t?pt.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},pt.extend({Deferred:function(e){var n=[["notify","progress",pt.Callbacks("memory"),pt.Callbacks("memory"),2],["resolve","done",pt.Callbacks("once memory"),pt.Callbacks("once memory"),0,"resolved"],["reject","fail",pt.Callbacks("once memory"),pt.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(t){return r.then(null,t)},pipe:function(){var t=arguments;return pt.Deferred(function(e){pt.each(n,function(n,i){var r=pt.isFunction(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&pt.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,i,r){function o(e,n,i,r){return function(){var l=this,c=arguments,f=function(){var t,f;if(!(e<a)){if(t=i.apply(l,c),t===n.promise())throw new TypeError("Thenable self-resolution");f=t&&("object"==typeof t||"function"==typeof t)&&t.then,pt.isFunction(f)?r?f.call(t,o(a,n,s,r),o(a,n,u,r)):(a++,f.call(t,o(a,n,s,r),o(a,n,u,r),o(a,n,s,n.notifyWith))):(i!==s&&(l=void 0,c=[t]),(r||n.resolveWith)(l,c))}},h=r?f:function(){try{f()}catch(t){pt.Deferred.exceptionHook&&pt.Deferred.exceptionHook(t,h.stackTrace),e+1>=a&&(i!==u&&(l=void 0,c=[t]),n.rejectWith(l,c))}};e?h():(pt.Deferred.getStackHook&&(h.stackTrace=pt.Deferred.getStackHook()),t.setTimeout(h))}}var a=0;return pt.Deferred(function(t){n[0][3].add(o(0,t,pt.isFunction(r)?r:s,t.notifyWith)),n[1][3].add(o(0,t,pt.isFunction(e)?e:s)),n[2][3].add(o(0,t,pt.isFunction(i)?i:u))}).promise()},promise:function(t){return null!=t?pt.extend(t,r):r}},o={};return pt.each(n,function(t,e){var a=e[2],s=e[5];r[e[1]]=a.add,s&&a.add(function(){i=s},n[3-t][2].disable,n[0][2].lock),a.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=it.call(arguments),o=pt.Deferred(),a=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?it.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(l(t,o.done(a(n)).resolve,o.reject),"pending"===o.state()||pt.isFunction(r[n]&&r[n].then)))return o.then();for(;n--;)l(r[n],a(n),o.reject);return o.promise()}});var Ot=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;pt.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&Ot.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},pt.readyException=function(e){t.setTimeout(function(){throw e})};var Dt=pt.Deferred();pt.fn.ready=function(t){return Dt.then(t)["catch"](function(t){pt.readyException(t)}),this},pt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?pt.readyWait++:pt.ready(!0)},ready:function(t){(t===!0?--pt.readyWait:pt.isReady)||(pt.isReady=!0,t!==!0&&--pt.readyWait>0||Dt.resolveWith(et,[pt]))}}),pt.ready.then=Dt.then,"complete"===et.readyState||"loading"!==et.readyState&&!et.documentElement.doScroll?t.setTimeout(pt.ready):(et.addEventListener("DOMContentLoaded",c),t.addEventListener("load",c));var Nt=function(t,e,n,i,r,o,a){var s=0,u=t.length,l=null==n;if("object"===pt.type(n)){r=!0;for(s in n)Nt(t,e,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,pt.isFunction(i)||(a=!0),l&&(a?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(pt(t),n)})),e))for(;s<u;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:l?e.call(t):u?e(t[0],n):o},It=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};f.uid=1,f.prototype={cache:function(t){var e=t[this.expando];return e||(e={},It(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[pt.camelCase(e)]=n;else for(i in e)r[pt.camelCase(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][pt.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){pt.isArray(e)?e=e.map(pt.camelCase):(e=pt.camelCase(e),e=e in i?[e]:e.match($t)||[]),n=e.length;for(;n--;)delete i[e[n]]}(void 0===e||pt.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!pt.isEmptyObject(e)}};var Lt=new f,Pt=new f,Rt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ft=/[A-Z]/g;pt.extend({hasData:function(t){return Pt.hasData(t)||Lt.hasData(t)},data:function(t,e,n){return Pt.access(t,e,n)},removeData:function(t,e){Pt.remove(t,e)},_data:function(t,e,n){return Lt.access(t,e,n)},_removeData:function(t,e){Lt.remove(t,e)}}),pt.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=Pt.get(o),1===o.nodeType&&!Lt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=pt.camelCase(i.slice(5)),d(o,i,r[i])));Lt.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Pt.set(this,t)}):Nt(this,function(e){var n;if(o&&void 0===e){if(n=Pt.get(o,t),void 0!==n)return n;if(n=d(o,t),void 0!==n)return n}else this.each(function(){Pt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Pt.remove(this,t)})}}),pt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Lt.get(t,e),n&&(!i||pt.isArray(n)?i=Lt.access(t,e,pt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=pt.queue(t,e),i=n.length,r=n.shift(),o=pt._queueHooks(t,e),a=function(){pt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Lt.get(t,n)||Lt.access(t,n,{empty:pt.Callbacks("once memory").add(function(){Lt.remove(t,[e+"queue",n])})})}}),pt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?pt.queue(this[0],t):void 0===e?this:this.each(function(){var n=pt.queue(this,t,e);pt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&pt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){pt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=pt.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=Lt.get(o[a],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var jt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ut=new RegExp("^(?:([+-])=|)("+jt+")([a-z%]*)$","i"),zt=["Top","Right","Bottom","Left"],Ht=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&pt.contains(t.ownerDocument,t)&&"none"===pt.css(t,"display")},qt=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=a[o];return r},Wt={};pt.fn.extend({show:function(){return m(this,!0)},hide:function(){return m(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ht(this)?pt(this).show():pt(this).hide()})}});var Yt=/^(?:checkbox|radio)$/i,Bt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Vt=/^$|\/(?:java|ecma)script/i,Xt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Xt.optgroup=Xt.option,Xt.tbody=Xt.tfoot=Xt.colgroup=Xt.caption=Xt.thead,
Xt.th=Xt.td;var Gt=/<|&#?\w+;/;!function(){var t=et.createDocumentFragment(),e=t.appendChild(et.createElement("div")),n=et.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),ht.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",ht.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Kt=et.documentElement,Jt=/^key/,Zt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qt=/^([^.]*)(?:\.(.+)|)/;pt.event={global:{},add:function(t,e,n,i,r){var o,a,s,u,l,c,f,h,d,p,g,m=Lt.get(t);if(m)for(n.handler&&(o=n,n=o.handler,r=o.selector),r&&pt.find.matchesSelector(Kt,r),n.guid||(n.guid=pt.guid++),(u=m.events)||(u=m.events={}),(a=m.handle)||(a=m.handle=function(e){return"undefined"!=typeof pt&&pt.event.triggered!==e.type?pt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match($t)||[""],l=e.length;l--;)s=Qt.exec(e[l])||[],d=g=s[1],p=(s[2]||"").split(".").sort(),d&&(f=pt.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,f=pt.event.special[d]||{},c=pt.extend({type:d,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&pt.expr.match.needsContext.test(r),namespace:p.join(".")},o),(h=u[d])||(h=u[d]=[],h.delegateCount=0,f.setup&&f.setup.call(t,i,p,a)!==!1||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),pt.event.global[d]=!0)},remove:function(t,e,n,i,r){var o,a,s,u,l,c,f,h,d,p,g,m=Lt.hasData(t)&&Lt.get(t);if(m&&(u=m.events)){for(e=(e||"").match($t)||[""],l=e.length;l--;)if(s=Qt.exec(e[l])||[],d=g=s[1],p=(s[2]||"").split(".").sort(),d){for(f=pt.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,h=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)c=h[o],!r&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,f.remove&&f.remove.call(t,c));a&&!h.length&&(f.teardown&&f.teardown.call(t,p,m.handle)!==!1||pt.removeEvent(t,d,m.handle),delete u[d])}else for(d in u)pt.event.remove(t,d+e[l],n,i,!0);pt.isEmptyObject(u)&&Lt.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,a,s=pt.event.fix(t),u=new Array(arguments.length),l=(Lt.get(this,"events")||{})[s.type]||[],c=pt.event.special[s.type]||{};for(u[0]=s,e=1;e<arguments.length;e++)u[e]=arguments[e];if(s.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,s)!==!1){for(a=pt.event.handlers.call(this,s,l),e=0;(r=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,i=((pt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,u),void 0!==i&&(s.result=i)===!1&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,i,r,o,a,s=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||l.disabled!==!0)){for(o=[],a={},n=0;n<u;n++)i=e[n],r=i.selector+" ",void 0===a[r]&&(a[r]=i.needsContext?pt(r,this).index(l)>-1:pt.find(r,this,null,[l]).length),a[r]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return l=this,u<e.length&&s.push({elem:l,handlers:e.slice(u)}),s},addProp:function(t,e){Object.defineProperty(pt.Event.prototype,t,{enumerable:!0,configurable:!0,get:pt.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[pt.expando]?t:new pt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===w()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&pt.nodeName(this,"input"))return this.click(),!1},_default:function(t){return pt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},pt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},pt.Event=function(t,e){return this instanceof pt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?_:x,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&pt.extend(this,e),this.timeStamp=t&&t.timeStamp||pt.now(),void(this[pt.expando]=!0)):new pt.Event(t,e)},pt.Event.prototype={constructor:pt.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=_,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=_,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=_,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},pt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Jt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Zt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},pt.event.addProp),pt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){pt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||pt.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),pt.fn.extend({on:function(t,e,n,i){return k(this,t,e,n,i)},one:function(t,e,n,i){return k(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,pt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=x),this.each(function(){pt.event.remove(this,t,n,e)})}});var te=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ee=/<script|<style|<link/i,ne=/checked\s*(?:[^=]|=\s*.checked.)/i,ie=/^true\/(.*)/,re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;pt.extend({htmlPrefilter:function(t){return t.replace(te,"<$1></$2>")},clone:function(t,e,n){var i,r,o,a,s=t.cloneNode(!0),u=pt.contains(t.ownerDocument,t);if(!(ht.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||pt.isXMLDoc(t)))for(a=v(s),o=v(t),i=0,r=o.length;i<r;i++)M(o[i],a[i]);if(e)if(n)for(o=o||v(t),a=a||v(s),i=0,r=o.length;i<r;i++)T(o[i],a[i]);else T(t,s);return a=v(s,"script"),a.length>0&&y(a,!u&&v(t,"script")),s},cleanData:function(t){for(var e,n,i,r=pt.event.special,o=0;void 0!==(n=t[o]);o++)if(It(n)){if(e=n[Lt.expando]){if(e.events)for(i in e.events)r[i]?pt.event.remove(n,i):pt.removeEvent(n,i,e.handle);n[Lt.expando]=void 0}n[Pt.expando]&&(n[Pt.expando]=void 0)}}}),pt.fn.extend({detach:function(t){return $(this,t,!0)},remove:function(t){return $(this,t)},text:function(t){return Nt(this,function(t){return void 0===t?pt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return A(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=E(this,t);e.appendChild(t)}})},prepend:function(){return A(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=E(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return A(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return A(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(pt.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return pt.clone(this,t,e)})},html:function(t){return Nt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ee.test(t)&&!Xt[(Bt.exec(t)||["",""])[1].toLowerCase()]){t=pt.htmlPrefilter(t);try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(pt.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return A(this,arguments,function(e){var n=this.parentNode;pt.inArray(this,t)<0&&(pt.cleanData(v(this)),n&&n.replaceChild(e,this))},t)}}),pt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){pt.fn[t]=function(t){for(var n,i=[],r=pt(t),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),pt(r[a])[e](n),ot.apply(i,n.get());return this.pushStack(i)}});var oe=/^margin/,ae=new RegExp("^("+jt+")(?!px)[a-z%]+$","i"),se=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)};!function(){function e(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Kt.appendChild(a);var e=t.getComputedStyle(s);n="1%"!==e.top,o="2px"===e.marginLeft,i="4px"===e.width,s.style.marginRight="50%",r="4px"===e.marginRight,Kt.removeChild(a),s=null}}var n,i,r,o,a=et.createElement("div"),s=et.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",ht.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),pt.extend(ht,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return e(),i},pixelMarginRight:function(){return e(),r},reliableMarginLeft:function(){return e(),o}}))}();var ue=/^(none|table(?!-c[ea]).+)/,le={position:"absolute",visibility:"hidden",display:"block"},ce={letterSpacing:"0",fontWeight:"400"},fe=["Webkit","Moz","ms"],he=et.createElement("div").style;pt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=O(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=pt.camelCase(e),u=t.style;return e=pt.cssProps[s]||(pt.cssProps[s]=N(s)||s),a=pt.cssHooks[e]||pt.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:u[e]:(o=typeof n,"string"===o&&(r=Ut.exec(n))&&r[1]&&(n=p(t,e,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(pt.cssNumber[s]?"":"px")),ht.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(u[e]=n)),void 0)}},css:function(t,e,n,i){var r,o,a,s=pt.camelCase(e);return e=pt.cssProps[s]||(pt.cssProps[s]=N(s)||s),a=pt.cssHooks[e]||pt.cssHooks[s],a&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=O(t,e,i)),"normal"===r&&e in ce&&(r=ce[e]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),pt.each(["height","width"],function(t,e){pt.cssHooks[e]={get:function(t,n,i){if(n)return!ue.test(pt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?P(t,e,i):qt(t,le,function(){return P(t,e,i)})},set:function(t,n,i){var r,o=i&&se(t),a=i&&L(t,e,i,"border-box"===pt.css(t,"boxSizing",!1,o),o);return a&&(r=Ut.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=pt.css(t,e)),I(t,n,a)}}}),pt.cssHooks.marginLeft=D(ht.reliableMarginLeft,function(t,e){if(e)return(parseFloat(O(t,"marginLeft"))||t.getBoundingClientRect().left-qt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),pt.each({margin:"",padding:"",border:"Width"},function(t,e){pt.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+zt[i]+e]=o[i]||o[i-2]||o[0];return r}},oe.test(t)||(pt.cssHooks[t+e].set=I)}),pt.fn.extend({css:function(t,e){return Nt(this,function(t,e,n){var i,r,o={},a=0;if(pt.isArray(e)){for(i=se(t),r=e.length;a<r;a++)o[e[a]]=pt.css(t,e[a],!1,i);return o}return void 0!==n?pt.style(t,e,n):pt.css(t,e)},t,e,arguments.length>1)}}),pt.Tween=R,R.prototype={constructor:R,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||pt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(pt.cssNumber[n]?"":"px")},cur:function(){var t=R.propHooks[this.prop];return t&&t.get?t.get(this):R.propHooks._default.get(this)},run:function(t){var e,n=R.propHooks[this.prop];return this.options.duration?this.pos=e=pt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=pt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){pt.fx.step[t.prop]?pt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[pt.cssProps[t.prop]]&&!pt.cssHooks[t.prop]?t.elem[t.prop]=t.now:pt.style(t.elem,t.prop,t.now+t.unit)}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},pt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},pt.fx=R.prototype.init,pt.fx.step={};var de,pe,ge=/^(?:toggle|show|hide)$/,me=/queueHooks$/;pt.Animation=pt.extend(W,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return p(n.elem,t,Ut.exec(e),n),n}]},tweener:function(t,e){pt.isFunction(t)?(e=t,t=["*"]):t=t.match($t);for(var n,i=0,r=t.length;i<r;i++)n=t[i],W.tweeners[n]=W.tweeners[n]||[],W.tweeners[n].unshift(e)},prefilters:[H],prefilter:function(t,e){e?W.prefilters.unshift(t):W.prefilters.push(t)}}),pt.speed=function(t,e,n){var i=t&&"object"==typeof t?pt.extend({},t):{complete:n||!n&&e||pt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!pt.isFunction(e)&&e};return pt.fx.off||et.hidden?i.duration=0:"number"!=typeof i.duration&&(i.duration in pt.fx.speeds?i.duration=pt.fx.speeds[i.duration]:i.duration=pt.fx.speeds._default),null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){pt.isFunction(i.old)&&i.old.call(this),i.queue&&pt.dequeue(this,i.queue)},i},pt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Ht).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=pt.isEmptyObject(t),o=pt.speed(e,n,i),a=function(){var e=W(this,pt.extend({},t),o);(r||Lt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=pt.timers,a=Lt.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&me.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||pt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=Lt.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=pt.timers,a=i?i.length:0;for(n.finish=!0,pt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),pt.each(["toggle","show","hide"],function(t,e){var n=pt.fn[e];pt.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(U(e,!0),t,i,r)}}),pt.each({slideDown:U("show"),slideUp:U("hide"),slideToggle:U("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){pt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),pt.timers=[],pt.fx.tick=function(){var t,e=0,n=pt.timers;for(de=pt.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||pt.fx.stop(),de=void 0},pt.fx.timer=function(t){pt.timers.push(t),t()?pt.fx.start():pt.timers.pop()},pt.fx.interval=13,pt.fx.start=function(){pe||(pe=t.requestAnimationFrame?t.requestAnimationFrame(F):t.setInterval(pt.fx.tick,pt.fx.interval))},pt.fx.stop=function(){t.cancelAnimationFrame?t.cancelAnimationFrame(pe):t.clearInterval(pe),pe=null},pt.fx.speeds={slow:600,fast:200,_default:400},pt.fn.delay=function(e,n){return e=pt.fx?pt.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=et.createElement("input"),e=et.createElement("select"),n=e.appendChild(et.createElement("option"));t.type="checkbox",ht.checkOn=""!==t.value,ht.optSelected=n.selected,t=et.createElement("input"),t.value="t",t.type="radio",ht.radioValue="t"===t.value}();var ve,ye=pt.expr.attrHandle;pt.fn.extend({attr:function(t,e){return Nt(this,pt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){pt.removeAttr(this,t)})}}),pt.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?pt.prop(t,e,n):(1===o&&pt.isXMLDoc(t)||(r=pt.attrHooks[e.toLowerCase()]||(pt.expr.match.bool.test(e)?ve:void 0)),void 0!==n?null===n?void pt.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=pt.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!ht.radioValue&&"radio"===e&&pt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match($t);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),ve={set:function(t,e,n){return e===!1?pt.removeAttr(t,n):t.setAttribute(n,n),n}},pt.each(pt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ye[e]||pt.find.attr;ye[e]=function(t,e,i){var r,o,a=e.toLowerCase();return i||(o=ye[a],ye[a]=r,r=null!=n(t,e,i)?a:null,ye[a]=o),r}});var be=/^(?:input|select|textarea|button)$/i,_e=/^(?:a|area)$/i;pt.fn.extend({prop:function(t,e){return Nt(this,pt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[pt.propFix[t]||t]})}}),pt.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&pt.isXMLDoc(t)||(e=pt.propFix[e]||e,r=pt.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=pt.find.attr(t,"tabindex");return e?parseInt(e,10):be.test(t.nodeName)||_e.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ht.optSelected||(pt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),pt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pt.propFix[this.toLowerCase()]=this}),pt.fn.extend({addClass:function(t){var e,n,i,r,o,a,s,u=0;if(pt.isFunction(t))return this.each(function(e){pt(this).addClass(t.call(this,e,B(this)))});if("string"==typeof t&&t)for(e=t.match($t)||[];n=this[u++];)if(r=B(n),i=1===n.nodeType&&" "+Y(r)+" "){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=Y(i),r!==s&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,o,a,s,u=0;if(pt.isFunction(t))return this.each(function(e){pt(this).removeClass(t.call(this,e,B(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match($t)||[];n=this[u++];)if(r=B(n),i=1===n.nodeType&&" "+Y(r)+" "){for(a=0;o=e[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");s=Y(i),r!==s&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):pt.isFunction(t)?this.each(function(n){pt(this).toggleClass(t.call(this,n,B(this),e),e)}):this.each(function(){var e,i,r,o;if("string"===n)for(i=0,r=pt(this),o=t.match($t)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||(e=B(this),e&&Lt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Lt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+Y(B(n))+" ").indexOf(e)>-1)return!0;return!1}});var xe=/\r/g;pt.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=pt.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,pt(this).val()):t,null==r?r="":"number"==typeof r?r+="":pt.isArray(r)&&(r=pt.map(r,function(t){return null==t?"":t+""})),e=pt.valHooks[this.type]||pt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=pt.valHooks[r.type]||pt.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(xe,""):null==n?"":n)}}}),pt.extend({valHooks:{option:{get:function(t){var e=pt.find.attr(t,"value");return null!=e?e:Y(pt.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],u=a?o+1:r.length;for(i=o<0?u:a?o:0;i<u;i++)if(n=r[i],(n.selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!pt.nodeName(n.parentNode,"optgroup"))){if(e=pt(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=pt.makeArray(e),a=r.length;a--;)i=r[a],(i.selected=pt.inArray(pt.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),pt.each(["radio","checkbox"],function(){pt.valHooks[this]={set:function(t,e){if(pt.isArray(e))return t.checked=pt.inArray(pt(t).val(),e)>-1}},ht.checkOn||(pt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var we=/^(?:focusinfocus|focusoutblur)$/;pt.extend(pt.event,{trigger:function(e,n,i,r){var o,a,s,u,l,c,f,h=[i||et],d=lt.call(e,"type")?e.type:e,p=lt.call(e,"namespace")?e.namespace.split("."):[];if(a=s=i=i||et,3!==i.nodeType&&8!==i.nodeType&&!we.test(d+pt.event.triggered)&&(d.indexOf(".")>-1&&(p=d.split("."),d=p.shift(),p.sort()),l=d.indexOf(":")<0&&"on"+d,e=e[pt.expando]?e:new pt.Event(d,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:pt.makeArray(n,[e]),f=pt.event.special[d]||{},r||!f.trigger||f.trigger.apply(i,n)!==!1)){if(!r&&!f.noBubble&&!pt.isWindow(i)){for(u=f.delegateType||d,we.test(u+d)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(i.ownerDocument||et)&&h.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=h[o++])&&!e.isPropagationStopped();)e.type=o>1?u:f.bindType||d,c=(Lt.get(a,"events")||{})[e.type]&&Lt.get(a,"handle"),c&&c.apply(a,n),c=l&&a[l],c&&c.apply&&It(a)&&(e.result=c.apply(a,n),e.result===!1&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||f._default&&f._default.apply(h.pop(),n)!==!1||!It(i)||l&&pt.isFunction(i[d])&&!pt.isWindow(i)&&(s=i[l],s&&(i[l]=null),pt.event.triggered=d,i[d](),pt.event.triggered=void 0,s&&(i[l]=s)),e.result}},simulate:function(t,e,n){var i=pt.extend(new pt.Event,n,{type:t,isSimulated:!0});pt.event.trigger(i,null,e)}}),pt.fn.extend({trigger:function(t,e){return this.each(function(){pt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return pt.event.trigger(t,e,n,!0)}}),pt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){pt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),pt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),ht.focusin="onfocusin"in t,ht.focusin||pt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){pt.event.simulate(e,t.target,pt.event.fix(t))};pt.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=Lt.access(i,e);r||i.addEventListener(t,n,!0),Lt.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Lt.access(i,e)-1;r?Lt.access(i,e,r):(i.removeEventListener(t,n,!0),Lt.remove(i,e))}}});var ke=t.location,Ee=pt.now(),Se=/\?/;pt.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(i){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||pt.error("Invalid XML: "+e),n};var Ce=/\[\]$/,Te=/\r?\n/g,Me=/^(?:submit|button|image|reset|file)$/i,Ae=/^(?:input|select|textarea|keygen)/i;pt.param=function(t,e){var n,i=[],r=function(t,e){var n=pt.isFunction(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(pt.isArray(t)||t.jquery&&!pt.isPlainObject(t))pt.each(t,function(){r(this.name,this.value)});else for(n in t)V(n,t[n],e,r);return i.join("&")},pt.fn.extend({serialize:function(){return pt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=pt.prop(this,"elements");return t?pt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!pt(this).is(":disabled")&&Ae.test(this.nodeName)&&!Me.test(t)&&(this.checked||!Yt.test(t))}).map(function(t,e){var n=pt(this).val();return null==n?null:pt.isArray(n)?pt.map(n,function(t){return{name:e.name,value:t.replace(Te,"\r\n")}}):{name:e.name,value:n.replace(Te,"\r\n")}}).get()}});var $e=/%20/g,Oe=/#.*$/,De=/([?&])_=[^&]*/,Ne=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ie=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Le=/^(?:GET|HEAD)$/,Pe=/^\/\//,Re={},Fe={},je="*/".concat("*"),Ue=et.createElement("a");Ue.href=ke.href,pt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ke.href,type:"GET",isLocal:Ie.test(ke.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":je,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":pt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?K(K(t,pt.ajaxSettings),e):K(pt.ajaxSettings,t)},ajaxPrefilter:X(Re),ajaxTransport:X(Fe),ajax:function(e,n){function i(e,n,i,s){var l,h,d,_,x,w=n;c||(c=!0,u&&t.clearTimeout(u),r=void 0,a=s||"",k.readyState=e>0?4:0,l=e>=200&&e<300||304===e,i&&(_=J(p,k,i)),_=Z(p,_,k,l),l?(p.ifModified&&(x=k.getResponseHeader("Last-Modified"),x&&(pt.lastModified[o]=x),x=k.getResponseHeader("etag"),x&&(pt.etag[o]=x)),204===e||"HEAD"===p.type?w="nocontent":304===e?w="notmodified":(w=_.state,h=_.data,d=_.error,l=!d)):(d=w,!e&&w||(w="error",e<0&&(e=0))),k.status=e,k.statusText=(n||w)+"",l?v.resolveWith(g,[h,w,k]):v.rejectWith(g,[k,w,d]),k.statusCode(b),b=void 0,f&&m.trigger(l?"ajaxSuccess":"ajaxError",[k,p,l?h:d]),y.fireWith(g,[k,w]),f&&(m.trigger("ajaxComplete",[k,p]),--pt.active||pt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,a,s,u,l,c,f,h,d,p=pt.ajaxSetup({},n),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?pt(g):pt.event,v=pt.Deferred(),y=pt.Callbacks("once memory"),b=p.statusCode||{},_={},x={},w="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=Ne.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(t,e){return null==c&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)k.always(t[k.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||w;return r&&r.abort(e),i(0,e),this}};if(v.promise(k),p.url=((e||p.url||ke.href)+"").replace(Pe,ke.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match($t)||[""],null==p.crossDomain){l=et.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Ue.protocol+"//"+Ue.host!=l.protocol+"//"+l.host}catch(E){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=pt.param(p.data,p.traditional)),G(Re,p,n,k),c)return k;f=pt.event&&p.global,f&&0===pt.active++&&pt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Le.test(p.type),o=p.url.replace(Oe,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace($e,"+")):(d=p.url.slice(o.length),p.data&&(o+=(Se.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(o=o.replace(De,"$1"),d=(Se.test(o)?"&":"?")+"_="+Ee++ +d),p.url=o+d),p.ifModified&&(pt.lastModified[o]&&k.setRequestHeader("If-Modified-Since",pt.lastModified[o]),pt.etag[o]&&k.setRequestHeader("If-None-Match",pt.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&k.setRequestHeader("Content-Type",p.contentType),k.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+je+"; q=0.01":""):p.accepts["*"]);for(h in p.headers)k.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(p.beforeSend.call(g,k,p)===!1||c))return k.abort();if(w="abort",y.add(p.complete),k.done(p.success),k.fail(p.error),r=G(Fe,p,n,k)){if(k.readyState=1,f&&m.trigger("ajaxSend",[k,p]),c)return k;p.async&&p.timeout>0&&(u=t.setTimeout(function(){k.abort("timeout")},p.timeout));try{c=!1,r.send(_,i)}catch(E){if(c)throw E;i(-1,E)}}else i(-1,"No Transport");return k},getJSON:function(t,e,n){return pt.get(t,e,n,"json")},getScript:function(t,e){return pt.get(t,void 0,e,"script")}}),pt.each(["get","post"],function(t,e){pt[e]=function(t,n,i,r){return pt.isFunction(n)&&(r=r||i,i=n,n=void 0),pt.ajax(pt.extend({url:t,type:e,dataType:r,data:n,success:i},pt.isPlainObject(t)&&t))}}),pt._evalUrl=function(t){return pt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},pt.fn.extend({wrapAll:function(t){var e;return this[0]&&(pt.isFunction(t)&&(t=t.call(this[0])),e=pt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return pt.isFunction(t)?this.each(function(e){pt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=pt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=pt.isFunction(t);return this.each(function(n){pt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){
return this.parent(t).not("body").each(function(){pt(this).replaceWith(this.childNodes)}),this}}),pt.expr.pseudos.hidden=function(t){return!pt.expr.pseudos.visible(t)},pt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},pt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var ze={0:200,1223:204},He=pt.ajaxSettings.xhr();ht.cors=!!He&&"withCredentials"in He,ht.ajax=He=!!He,pt.ajaxTransport(function(e){var n,i;if(ht.cors||He&&!e.crossDomain)return{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(a in r)s.setRequestHeader(a,r[a]);n=function(t){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(ze[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{s.send(e.hasContent&&e.data||null)}catch(u){if(n)throw u}},abort:function(){n&&n()}}}),pt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),pt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return pt.globalEval(t),t}}}),pt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),pt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=pt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),et.head.appendChild(e[0])},abort:function(){n&&n()}}}});var qe=[],We=/(=)\?(?=&|$)|\?\?/;pt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=qe.pop()||pt.expando+"_"+Ee++;return this[t]=!0,t}}),pt.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,a,s=e.jsonp!==!1&&(We.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&We.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=pt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(We,"$1"+r):e.jsonp!==!1&&(e.url+=(Se.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||pt.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){a=arguments},i.always(function(){void 0===o?pt(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,qe.push(r)),a&&pt.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),ht.createHTMLDocument=function(){var t=et.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),pt.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var i,r,o;return e||(ht.createHTMLDocument?(e=et.implementation.createHTMLDocument(""),i=e.createElement("base"),i.href=et.location.href,e.head.appendChild(i)):e=et),r=kt.exec(t),o=!n&&[],r?[e.createElement(r[1])]:(r=b([t],e,o),o&&o.length&&pt(o).remove(),pt.merge([],r.childNodes))},pt.fn.load=function(t,e,n){var i,r,o,a=this,s=t.indexOf(" ");return s>-1&&(i=Y(t.slice(s)),t=t.slice(0,s)),pt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&pt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?pt("<div>").append(pt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},pt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){pt.fn[e]=function(t){return this.on(e,t)}}),pt.expr.pseudos.animated=function(t){return pt.grep(pt.timers,function(e){return t===e.elem}).length},pt.offset={setOffset:function(t,e,n){var i,r,o,a,s,u,l,c=pt.css(t,"position"),f=pt(t),h={};"static"===c&&(t.style.position="relative"),s=f.offset(),o=pt.css(t,"top"),u=pt.css(t,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(i=f.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(u)||0),pt.isFunction(e)&&(e=e.call(t,n,pt.extend({},s))),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+r),"using"in e?e.using.call(t,h):f.css(h)}},pt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){pt.offset.setOffset(this,t,e)});var e,n,i,r,o=this[0];if(o)return o.getClientRects().length?(i=o.getBoundingClientRect(),i.width||i.height?(r=o.ownerDocument,n=Q(r),e=r.documentElement,{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i):{top:0,left:0}},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===pt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),pt.nodeName(t[0],"html")||(i=t.offset()),i={top:i.top+pt.css(t[0],"borderTopWidth",!0),left:i.left+pt.css(t[0],"borderLeftWidth",!0)}),{top:e.top-i.top-pt.css(n,"marginTop",!0),left:e.left-i.left-pt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===pt.css(t,"position");)t=t.offsetParent;return t||Kt})}}),pt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;pt.fn[t]=function(i){return Nt(this,function(t,i,r){var o=Q(t);return void 0===r?o?o[e]:t[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r)},t,i,arguments.length)}}),pt.each(["top","left"],function(t,e){pt.cssHooks[e]=D(ht.pixelPosition,function(t,n){if(n)return n=O(t,e),ae.test(n)?pt(t).position()[e]+"px":n})}),pt.each({Height:"height",Width:"width"},function(t,e){pt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){pt.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||o===!0?"margin":"border");return Nt(this,function(e,n,r){var o;return pt.isWindow(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?pt.css(e,n,s):pt.style(e,n,r,s)},e,a?r:void 0,a)}})}),pt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),pt.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pt});var Ye=t.jQuery,Be=t.$;return pt.noConflict=function(e){return t.$===pt&&(t.$=Be),e&&t.jQuery===pt&&(t.jQuery=Ye),pt},e||(t.jQuery=t.$=pt),pt}),/**
 * @license AngularJS v1.4.14
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function i(t,e){return e=e||Error,function(){var n,i,r=2,o=arguments,a=o[0],s="["+(t?t+":":"")+a+"] ",u=o[1];for(s+=u.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1),n=e+r;return n<o.length?bt(o[n]):t}),s+="\nhttp://errors.angularjs.org/1.4.14/"+(t?t+"/":"")+a,i=r,n="?";i<o.length;i++,n="&")s+=n+"p"+(i-r)+"="+encodeURIComponent(bt(o[i]));return new e(s)}}function r(t){if(null==t||M(t))return!1;if(Wi(t)||k(t)||Di&&t instanceof Di)return!0;var e="length"in Object(t)&&t.length;return E(e)&&(e>=0&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function o(t,e,n){var i,a;if(t)if(C(t))for(i in t)"prototype"==i||"length"==i||"name"==i||t.hasOwnProperty&&!t.hasOwnProperty(i)||e.call(n,t[i],i,t);else if(Wi(t)||r(t)){var s="object"!=typeof t;for(i=0,a=t.length;i<a;i++)(s||i in t)&&e.call(n,t[i],i,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else if(w(t))for(i in t)e.call(n,t[i],i,t);else if("function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t);else for(i in t)Ti.call(t,i)&&e.call(n,t[i],i,t);return t}function a(t,e,n){for(var i=Object.keys(t).sort(),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r]);return i}function s(t){return function(e,n){t(n,e)}}function u(){return++Hi}function l(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function c(t,e,n){for(var i=t.$$hashKey,r=0,o=e.length;r<o;++r){var a=e[r];if(x(a)||C(a))for(var s=Object.keys(a),u=0,f=s.length;u<f;u++){var h=s[u],d=a[h];n&&x(d)?S(d)?t[h]=new Date(d.valueOf()):T(d)?t[h]=new RegExp(d):d.nodeName?t[h]=d.cloneNode(!0):P(d)?t[h]=d.clone():(x(t[h])||(t[h]=Wi(d)?[]:{}),c(t[h],[d],!0)):t[h]=d}}return l(t,i),t}function f(t){return c(t,Li.call(arguments,1),!1)}function h(t){return c(t,Li.call(arguments,1),!0)}function d(t){return parseInt(t,10)}function p(t,e){return f(Object.create(t),e)}function g(){}function m(t){return t}function v(t){return function(){return t}}function y(t){return C(t.toString)&&t.toString!==Fi}function b(t){return"undefined"==typeof t}function _(t){return"undefined"!=typeof t}function x(t){return null!==t&&"object"==typeof t}function w(t){return null!==t&&"object"==typeof t&&!ji(t)}function k(t){return"string"==typeof t}function E(t){return"number"==typeof t}function S(t){return"[object Date]"===Fi.call(t)}function C(t){return"function"==typeof t}function T(t){return"[object RegExp]"===Fi.call(t)}function M(t){return t&&t.window===t}function A(t){return t&&t.$evalAsync&&t.$watch}function $(t){return"[object File]"===Fi.call(t)}function O(t){return"[object FormData]"===Fi.call(t)}function D(t){return"[object Blob]"===Fi.call(t)}function N(t){return"boolean"==typeof t}function I(t){return t&&C(t.then)}function L(t){return t&&E(t.length)&&Yi.test(Fi.call(t))}function P(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function R(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}function F(t){return Ci(t.nodeName||t[0]&&t[0].nodeName)}function j(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function U(t,e){function n(t,e){var n,r=e.$$hashKey;if(Wi(t))for(var o=0,a=t.length;o<a;o++)e.push(i(t[o]));else if(w(t))for(n in t)e[n]=i(t[n]);else if(t&&"function"==typeof t.hasOwnProperty)for(n in t)t.hasOwnProperty(n)&&(e[n]=i(t[n]));else for(n in t)Ti.call(t,n)&&(e[n]=i(t[n]));return l(e,r),e}function i(t){if(!x(t))return t;var e=r.indexOf(t);if(e!==-1)return a[e];if(M(t)||A(t))throw Ui("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i,o=!1;return Wi(t)?(i=[],o=!0):L(t)?i=new t.constructor(t):S(t)?i=new Date(t.getTime()):T(t)?(i=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),i.lastIndex=t.lastIndex):D(t)?i=new t.constructor([t],{type:t.type}):C(t.cloneNode)?i=t.cloneNode(!0):(i=Object.create(ji(t)),o=!0),r.push(t),a.push(i),o?n(t,i):i}var r=[],a=[];if(e){if(L(e))throw Ui("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw Ui("cpi","Can't copy! Source and destination are identical.");return Wi(e)?e.length=0:o(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),r.push(t),a.push(e),n(t,e)}return i(t)}function z(t,e){if(Wi(t)){e=e||[];for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}else if(x(t)){e=e||{};for(var r in t)"$"===r.charAt(0)&&"$"===r.charAt(1)||(e[r]=t[r])}return e||t}function H(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,i,r,o=typeof t,a=typeof e;if(o==a&&"object"==o){if(!Wi(t)){if(S(t))return!!S(e)&&H(t.getTime(),e.getTime());if(T(t))return!!T(e)&&t.toString()==e.toString();if(A(t)||A(e)||M(t)||M(e)||Wi(e)||S(e)||T(e))return!1;r=mt();for(i in t)if("$"!==i.charAt(0)&&!C(t[i])){if(!H(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!(i in r)&&"$"!==i.charAt(0)&&_(e[i])&&!C(e[i]))return!1;return!0}if(!Wi(e))return!1;if((n=t.length)==e.length){for(i=0;i<n;i++)if(!H(t[i],e[i]))return!1;return!0}}return!1}function q(t,e,n){return t.concat(Li.call(e,n))}function W(t,e){return Li.call(t,e||0)}function Y(t,e){var n=arguments.length>2?W(arguments,2):[];return!C(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,q(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function B(t,i){var r=i;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=n:M(i)?r="$WINDOW":i&&e===i?r="$DOCUMENT":A(i)&&(r="$SCOPE"),r}function V(t,e){return b(t)?n:(E(e)||(e=e?2:null),JSON.stringify(t,B,e))}function X(t){return k(t)?JSON.parse(t):t}function G(t,e){t=t.replace(Ki,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function K(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function J(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset(),r=G(e,i);return K(t,n*(r-i))}function Z(t){t=Di(t).clone();try{t.empty()}catch(e){}var n=Di("<div>").append(t).html();try{return t[0].nodeType===nr?Ci(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+Ci(e)})}catch(e){return Ci(n)}}function Q(t){try{return decodeURIComponent(t)}catch(e){}}function tt(t){var e={};return o((t||"").split("&"),function(t){var n,i,r;t&&(i=t=t.replace(/\+/g,"%20"),n=t.indexOf("="),n!==-1&&(i=t.substring(0,n),r=t.substring(n+1)),i=Q(i),_(i)&&(r=!_(r)||Q(r),Ti.call(e,i)?Wi(e[i])?e[i].push(r):e[i]=[e[i],r]:e[i]=r))}),e}function et(t){var e=[];return o(t,function(t,n){Wi(t)?o(t,function(t){e.push(it(n,!0)+(t===!0?"":"="+it(t,!0)))}):e.push(it(n,!0)+(t===!0?"":"="+it(t,!0)))}),e.length?e.join("&"):""}function nt(t){return it(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function it(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function rt(t,e){var n,i,r=Ji.length;for(i=0;i<r;++i)if(n=Ji[i]+e,k(n=t.getAttribute(n)))return n;return null}function ot(t,e){var n,i,r={};o(Ji,function(e){var r=e+"app";!n&&t.hasAttribute&&t.hasAttribute(r)&&(n=t,i=t.getAttribute(r))}),o(Ji,function(e){var r,o=e+"app";!n&&(r=t.querySelector("["+o.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(o))}),n&&(r.strictDi=null!==rt(n,"strict-di"),e(n,i?[i]:[],r))}function at(n,i,r){x(r)||(r={});var a={strictDi:!1};r=f(a,r);var s=function(){if(n=Di(n),n.injector()){var t=n[0]===e?"document":Z(n);throw Ui("btstrpd","App already bootstrapped with this element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}i=i||[],i.unshift(["$provide",function(t){t.value("$rootElement",n)}]),r.debugInfoEnabled&&i.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),i.unshift("ng");var o=ee(i,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),o},u=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return t&&u.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(u,"")),t&&!l.test(t.name)?s():(t.name=t.name.replace(l,""),zi.resumeBootstrap=function(t){return o(t,function(t){i.push(t)}),s()},void(C(zi.resumeDeferredBootstrap)&&zi.resumeDeferredBootstrap()))}function st(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function ut(t){var e=zi.element(t).injector();if(!e)throw Ui("test","no injector found for element argument to getTestability");return e.get("$$testability")}function lt(t,e){return e=e||"_",t.replace(Zi,function(t,n){return(n?e:"")+t.toLowerCase()})}function ct(){var e;if(!Qi){var i=Gi();Ni=b(i)?t.jQuery:i?t[i]:n,Ni&&Ni.fn.on?(Di=Ni,f(Ni.fn,{scope:xr.scope,isolateScope:xr.isolateScope,controller:xr.controller,injector:xr.injector,inheritedData:xr.inheritedData}),e=Ni.cleanData,Ni.cleanData=function(t){var n;if(qi)qi=!1;else for(var i,r=0;null!=(i=t[r]);r++)n=Ni._data(i,"events"),n&&n.$destroy&&Ni(i).triggerHandler("$destroy");e(t)}):Di=At,zi.element=Di,Qi=!0}}function ft(t,e,n){if(!t)throw Ui("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function ht(t,e,n){return n&&Wi(t)&&(t=t[t.length-1]),ft(C(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function dt(t,e){if("hasOwnProperty"===t)throw Ui("badname","hasOwnProperty is not a valid {0} name",e)}function pt(t,e,n){if(!e)return t;for(var i,r=e.split("."),o=t,a=r.length,s=0;s<a;s++)i=r[s],t&&(t=(o=t)[i]);return!n&&C(t)?Y(o,t):t}function gt(t){for(var e,n=t[0],i=t[t.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(e||t[r]!==n)&&(e||(e=Di(Li.call(t,0,r))),e.push(n));return e||t}function mt(){return Object.create(null)}function vt(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=i("$injector"),r=i("ng"),o=e(t,"angular",Object);return o.$$minErr=o.$$minErr||i,e(o,"module",function(){var t={};return function(i,o,a){var s=function(t,e){if("hasOwnProperty"===t)throw r("badname","hasOwnProperty is not a valid {0} name",e)};return s(i,"module"),o&&t.hasOwnProperty(i)&&(t[i]=null),e(t,i,function(){function t(t,e,n,i){return i||(i=r),function(){return i[n||"push"]([t,e,arguments]),c}}function e(t,e){return function(n,o){return o&&C(o)&&(o.$$moduleName=i),r.push([t,e,arguments]),c}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var r=[],s=[],u=[],l=t("$injector","invoke","push",s),c={_invokeQueue:r,_configBlocks:s,_runBlocks:u,requires:o,name:i,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:e("$provide","decorator"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:l,run:function(t){return u.push(t),this}};return a&&l(a),c})}})}function yt(t){var e=[];return JSON.stringify(t,function(t,n){if(n=B(t,n),x(n)){if(e.indexOf(n)>=0)return"...";e.push(n)}return n})}function bt(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):b(t)?"undefined":"string"!=typeof t?yt(t):t}function _t(e){f(e,{bootstrap:at,copy:U,extend:f,merge:h,equals:H,element:Di,forEach:o,injector:ee,noop:g,bind:Y,toJson:V,fromJson:X,identity:m,isUndefined:b,isDefined:_,isString:k,isFunction:C,isObject:x,isNumber:E,isElement:P,isArray:Wi,version:ar,isDate:S,lowercase:Ci,uppercase:Mi,callbacks:{counter:0},getTestability:ut,$$minErr:i,$$csp:Xi,reloadWithDebugInfo:st}),(Ii=vt(t))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:_n}),t.provider("$compile",fe).directive({a:Co,input:Yo,textarea:Yo,form:Oo,script:Ra,select:Ua,style:Ha,option:za,ngBind:Xo,ngBindHtml:Ko,ngBindTemplate:Go,ngClass:Zo,ngClassEven:ta,ngClassOdd:Qo,ngCloak:ea,ngController:na,ngForm:Do,ngHide:Oa,ngIf:oa,ngInclude:aa,ngInit:ua,ngNonBindable:wa,ngPluralize:Ca,ngRepeat:Ta,ngShow:$a,ngStyle:Da,ngSwitch:Na,ngSwitchWhen:Ia,ngSwitchDefault:La,ngOptions:Sa,ngTransclude:Pa,ngModel:ba,ngList:la,ngChange:Jo,pattern:Wa,ngPattern:Wa,required:qa,ngRequired:qa,minlength:Ba,ngMinlength:Ba,maxlength:Ya,ngMaxlength:Ya,ngValue:Vo,ngModelOptions:xa}).directive({ngInclude:sa}).directive(To).directive(ia),t.provider({$anchorScroll:ne,$animate:Pr,$animateCss:jr,$$animateJs:Ir,$$animateQueue:Lr,$$AnimateRunner:Fr,$$animateAsyncRun:Rr,$browser:ue,$cacheFactory:le,$controller:me,$document:ve,$exceptionHandler:ye,$filter:In,$$forceReflow:Wr,$interpolate:De,$interval:Ne,$http:Me,$httpParamSerializer:_e,$httpParamSerializerJQLike:xe,$httpBackend:$e,$xhrFactory:Ae,$location:Ve,$log:Xe,$parse:pn,$rootScope:bn,$q:gn,$$q:mn,$sce:En,$sceDelegate:kn,$sniffer:Sn,$templateCache:ce,$templateRequest:Cn,$$testability:Tn,$timeout:Mn,$window:On,$$rAF:yn,$$jqLite:Kt,$$HashMap:Sr,$$cookieReader:Nn})}])}function xt(){return++ur}function wt(t){return t.replace(fr,function(t,e,n,i){return i?n.toUpperCase():n}).replace(hr,"Moz$1")}function kt(t){return!mr.test(t)}function Et(t){var e=t.nodeType;return e===tr||!e||e===rr}function St(t){for(var e in sr[t.ng339])return!0;return!1}function Ct(t,e){var n,i,r,a,s=e.createDocumentFragment(),u=[];if(kt(t))u.push(e.createTextNode(t));else{for(n=n||s.appendChild(e.createElement("div")),i=(vr.exec(t)||["",""])[1].toLowerCase(),r=br[i]||br._default,n.innerHTML=r[1]+t.replace(yr,"<$1></$2>")+r[2],a=r[0];a--;)n=n.lastChild;u=q(u,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(u,function(t){s.appendChild(t)}),s}function Tt(t,n){n=n||e;var i;return(i=gr.exec(t))?[n.createElement(i[1])]:(i=Ct(t,n))?i.childNodes:[]}function Mt(t,e){var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)}function At(t){if(t instanceof At)return t;var e;if(k(t)&&(t=Bi(t),e=!0),!(this instanceof At)){if(e&&"<"!=t.charAt(0))throw pr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new At(t)}e?jt(this,Tt(t)):jt(this,t)}function $t(t){return t.cloneNode(!0)}function Ot(t,e){if(e||Nt(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),i=0,r=n.length;i<r;i++)Nt(n[i])}function Dt(t,e,n,i){if(_(i))throw pr("offargs","jqLite#off() does not support the `selector` argument");var r=It(t),a=r&&r.events,s=r&&r.handle;if(s)if(e){var u=function(e){var i=a[e];_(n)&&j(i||[],n),_(n)&&i&&i.length>0||(cr(t,e,s),delete a[e])};o(e.split(" "),function(t){u(t),dr[t]&&u(dr[t])})}else for(e in a)"$destroy"!==e&&cr(t,e,s),delete a[e]}function Nt(t,e){var i=t.ng339,r=i&&sr[i];if(r){if(e)return void delete r.data[e];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),Dt(t)),delete sr[i],t.ng339=n}}function It(t,e){var i=t.ng339,r=i&&sr[i];return e&&!r&&(t.ng339=i=xt(),r=sr[i]={events:{},data:{},handle:n}),r}function Lt(t,e,n){if(Et(t)){var i=_(n),r=!i&&e&&!x(e),o=!e,a=It(t,!r),s=a&&a.data;if(i)s[e]=n;else{if(o)return s;if(r)return s&&s[e];f(s,e)}}}function Pt(t,e){return!!t.getAttribute&&(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function Rt(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",Bi((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Bi(e)+" "," ")))})}function Ft(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=Bi(t),n.indexOf(" "+t+" ")===-1&&(n+=t+" ")}),t.setAttribute("class",Bi(n))}}function jt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;i<n;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function Ut(t,e){return zt(t,"$"+(e||"ngController")+"Controller")}function zt(t,e,n){t.nodeType==rr&&(t=t.documentElement);for(var i=Wi(e)?e:[e];t;){for(var r=0,o=i.length;r<o;r++)if(_(n=Di.data(t,i[r])))return n;t=t.parentNode||t.nodeType===or&&t.host}}function Ht(t){for(Ot(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function qt(t,e){e||Ot(t);var n=t.parentNode;n&&n.removeChild(t)}function Wt(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):Di(n).on("load",e)}function Yt(t,e){var n=wr[e.toLowerCase()];return n&&kr[F(t)]&&n}function Bt(t){return Er[t]}function Vt(t,e){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=e[i||n.type],o=r?r.length:0;if(o){if(b(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=r.specialHandlerWrapper||Xt;o>1&&(r=z(r));for(var u=0;u<o;u++)n.isImmediatePropagationStopped()||s(t,n,r[u])}};return n.elem=t,n}function Xt(t,e,n){n.call(t,e)}function Gt(t,e,n){var i=e.relatedTarget;i&&(i===t||_r.call(t,i))||n.call(t,e)}function Kt(){this.$get=function(){return f(At,{hasClass:function(t,e){return t.attr&&(t=t[0]),Pt(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Ft(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Rt(t,e)}})}}function Jt(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var i=typeof t;return n="function"==i||"object"==i&&null!==t?t.$$hashKey=i+":"+(e||u)():i+":"+t}function Zt(t,e){if(e){var n=0;this.nextUid=function(){return++n}}o(t,this.put,this)}function Qt(t){var e=t.toString().replace(Ar,""),n=e.match(Cr);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function te(t,e,n){var i,r,a,s;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw k(n)&&n||(n=t.name||Qt(t)),$r("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);r=t.toString().replace(Ar,""),a=r.match(Cr),o(a[1].split(Tr),function(t){t.replace(Mr,function(t,e,n){i.push(n)})})}t.$inject=i}}else Wi(t)?(s=t.length-1,ht(t[s],"fn"),i=t.slice(0,s)):ht(t,"fn",!0);return i}function ee(t,e){function i(t){return function(e,n){return x(e)?void o(e,s(t)):t(e,n)}}function r(t,e){if(dt(t,"service"),(C(e)||Wi(e))&&(e=E.instantiate(e)),!e.$get)throw $r("pget","Provider '{0}' must define $get factory method.",t);return w[t+m]=e}function a(t,e){return function(){var n=T.invoke(e,this);if(b(n))throw $r("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function u(t,e,n){return r(t,{$get:n!==!1?a(t,e):e})}function l(t,e){return u(t,["$injector",function(t){return t.instantiate(e)}])}function c(t,e){return u(t,v(e),!1)}function f(t,e){dt(t,"constant"),w[t]=e,S[t]=e}function h(t,e){var n=E.get(t+m),i=n.$get;n.$get=function(){var t=T.invoke(i,n);return T.invoke(e,null,{$delegate:t})}}function d(t){ft(b(t)||Wi(t),"modulesToLoad","not an array");var e,n=[];return o(t,function(t){function i(t){var e,n;for(e=0,n=t.length;e<n;e++){var i=t[e],r=E.get(i[0]);r[i[1]].apply(r,i[2])}}if(!_.get(t)){_.put(t,!0);try{k(t)?(e=Ii(t),n=n.concat(d(e.requires)).concat(e._runBlocks),i(e._invokeQueue),i(e._configBlocks)):C(t)?n.push(E.invoke(t)):Wi(t)?n.push(E.invoke(t)):ht(t,"module")}catch(r){throw Wi(t)&&(t=t[t.length-1]),r.message&&r.stack&&r.stack.indexOf(r.message)==-1&&(r=r.message+"\n"+r.stack),$r("modulerr","Failed to instantiate module {0} due to:\n{1}",t,r.stack||r.message||r)}}}),n}function p(t,n){function i(e,i){if(t.hasOwnProperty(e)){if(t[e]===g)throw $r("cdep","Circular dependency found: {0}",e+" <- "+y.join(" <- "));return t[e]}try{return y.unshift(e),t[e]=g,t[e]=n(e,i)}catch(r){throw t[e]===g&&delete t[e],r}finally{y.shift()}}function r(t,n,r,o){"string"==typeof r&&(o=r,r=null);var a,s,u,l=[],c=ee.$$annotate(t,e,o);for(s=0,a=c.length;s<a;s++){if(u=c[s],"string"!=typeof u)throw $r("itkn","Incorrect injection token! Expected service name as string, got {0}",u);l.push(r&&r.hasOwnProperty(u)?r[u]:i(u,o))}return Wi(t)&&(t=t[a]),t.apply(n,l)}function o(t,e,n){var i=Object.create((Wi(t)?t[t.length-1]:t).prototype||null),o=r(t,i,e,n);return x(o)||C(o)?o:i}return{invoke:r,instantiate:o,get:i,annotate:ee.$$annotate,has:function(e){return w.hasOwnProperty(e+m)||t.hasOwnProperty(e)}}}e=e===!0;var g={},m="Provider",y=[],_=new Zt([],(!0)),w={$provide:{provider:i(r),factory:i(u),service:i(l),value:i(c),constant:i(f),decorator:h}},E=w.$injector=p(w,function(t,e){throw zi.isString(e)&&y.push(e),$r("unpr","Unknown provider: {0}",y.join(" <- "))}),S={},T=S.$injector=p(S,function(t,e){var i=E.get(t+m,e);return T.invoke(i.$get,i,n,t)});return o(d(t),function(t){t&&T.invoke(t)}),T}function ne(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,i){function r(t){var e=null;return Array.prototype.some.call(t,function(t){if("a"===F(t))return e=t,!0}),e}function o(){var t=s.yOffset;if(C(t))t=t();else if(P(t)){var n=t[0],i=e.getComputedStyle(n);t="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else E(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=o();if(n){var i=t.getBoundingClientRect().top;e.scrollBy(0,i-n)}}else e.scrollTo(0,0)}function s(t){t=k(t)?t:n.hash();var e;t?(e=u.getElementById(t))?a(e):(e=r(u.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var u=e.document;return t&&i.$watch(function(){return n.hash()},function(t,e){t===e&&""===t||Wt(function(){i.$evalAsync(s)})}),s}]}function ie(t,e){return t||e?t?e?(Wi(t)&&(t=t.join(" ")),Wi(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function re(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===Dr)return n}}function oe(t){k(t)&&(t=t.split(" "));var e=mt();return o(t,function(t){t.length&&(e[t]=!0)}),e}function ae(t){return x(t)?t:{}}function se(t,e,n,i){function r(t){try{t.apply(null,W(arguments,1))}finally{if(y--,0===y)for(;_.length;)try{_.pop()()}catch(e){n.error(e)}}}function a(t){var e=t.indexOf("#");return e===-1?"":t.substr(e)}function s(){S=null,l(),c()}function u(){try{return d.state}catch(t){}}function l(){x=u(),x=b(x)?null:x,H(x,M)&&(x=M),M=x}function c(){k===f.url()&&w===x||(k=f.url(),w=x,o(C,function(t){t(f.url(),x)}))}var f=this,h=(e[0],t.location),d=t.history,p=t.setTimeout,m=t.clearTimeout,v={};f.isMock=!1;var y=0,_=[];f.$$completeOutstandingRequest=r,f.$$incOutstandingRequestCount=function(){y++},f.notifyWhenNoOutstandingRequests=function(t){0===y?t():_.push(t)};var x,w,k=h.href,E=e.find("base"),S=null;l(),w=x,f.url=function(e,n,r){if(b(r)&&(r=null),h!==t.location&&(h=t.location),d!==t.history&&(d=t.history),e){var o=w===r;if(k===e&&(!i.history||o))return f;var s=k&&Fe(k)===Fe(e);return k=e,w=r,!i.history||s&&o?(s&&!S||(S=e),n?h.replace(e):s?h.hash=a(e):h.href=e,h.href!==e&&(S=e)):(d[n?"replaceState":"pushState"](r,"",e),l(),w=x),f}return S||h.href.replace(/%27/g,"'")},f.state=function(){return x};var C=[],T=!1,M=null;f.onUrlChange=function(e){return T||(i.history&&Di(t).on("popstate",s),Di(t).on("hashchange",s),T=!0),C.push(e),e},f.$$applicationDestroyed=function(){Di(t).off("hashchange popstate",s)},f.$$checkUrlChange=c,f.baseHref=function(){var t=E.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""},f.defer=function(t,e){var n;return y++,n=p(function(){delete v[n],r(t)},e||0),v[n]=!0,n},f.defer.cancel=function(t){return!!v[t]&&(delete v[t],m(t),r(g),!0)}}function ue(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new se(t,i,e,n)}]}function le(){this.$get=function(){function t(t,n){function r(t){t!=h&&(d?d==t&&(d=t.n):d=t,o(t.n,t.p),o(t,h),h=t,h.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=f({},n,{id:t}),u=mt(),l=n&&n.capacity||Number.MAX_VALUE,c=mt(),h=null,d=null;return e[t]={put:function(t,e){if(!b(e)){if(l<Number.MAX_VALUE){var n=c[t]||(c[t]={key:t});r(n)}return t in u||a++,u[t]=e,a>l&&this.remove(d.key),e}},get:function(t){if(l<Number.MAX_VALUE){var e=c[t];if(!e)return;r(e)}return u[t]},remove:function(t){if(l<Number.MAX_VALUE){var e=c[t];if(!e)return;e==h&&(h=e.p),e==d&&(d=e.n),o(e.n,e.p),delete c[t]}t in u&&(delete u[t],a--)},removeAll:function(){u=mt(),a=0,c=mt(),h=d=null},destroy:function(){u=null,s=null,c=null,delete e[t]},info:function(){return f({},s,{size:a})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function ce(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function fe(t,i){function r(t,e,n){var i=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,r=mt();return o(t,function(t,o){if(t in S)return void(r[o]=S[t]);var a=t.match(i);if(!a)throw Ur("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,o,t,n?"controller bindings definition":"isolate scope definition");r[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o},a[4]&&(S[t]=r[o])}),r}function a(t,e){var n={isolateScope:null,bindToController:null};if(x(t.scope)&&(t.bindToController===!0?(n.bindToController=r(t.scope,e,!0),n.isolateScope={}):n.isolateScope=r(t.scope,e,!1)),x(t.bindToController)&&(n.bindToController=r(t.bindToController,e,!0)),x(n.bindToController)){var i=t.controller,o=t.controllerAs;if(!i)throw Ur("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);if(!ge(i,o))throw Ur("noident","Cannot bind to controller without identifier for directive '{0}'.",e)}return n}function u(t){var e=t.charAt(0);if(!e||e!==Ci(e))throw Ur("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw Ur("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}var l={},c="Directive",h=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,d=/(([\w\-]+)(?:\:([^;]+))?;?)/,y=R("ngSrc,ngSrcset,src,srcset"),w=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,E=/^(on[a-z]+|formaction)$/,S=mt();this.directive=function M(e,n){return dt(e,"directive"),k(e)?(u(e),ft(n,"directiveFactory"),l.hasOwnProperty(e)||(l[e]=[],t.factory(e+c,["$injector","$exceptionHandler",function(t,n){var i=[];return o(l[e],function(r,o){try{var a=t.invoke(r);C(a)?a={compile:v(a)}:!a.compile&&a.link&&(a.compile=v(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||e,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA",a.$$moduleName=r.$$moduleName,i.push(a)}catch(s){n(s)}}),i}])),l[e].push(n)):o(e,s(M)),this},this.aHrefSanitizationWhitelist=function(t){return _(t)?(i.aHrefSanitizationWhitelist(t),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return _(t)?(i.imgSrcSanitizationWhitelist(t),this):i.imgSrcSanitizationWhitelist()};var T=!0;this.debugInfoEnabled=function(t){return _(t)?(T=t,this):T},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,i,r,s,u,v,S,M,$,O){function D(t,e){try{t.addClass(e)}catch(n){}}function I(t,n,i,r,o){t instanceof Di||(t=Di(t));for(var a=/\S+/,s=0,u=t.length;s<u;s++){var l=t[s];l.nodeType===nr&&l.nodeValue.match(a)&&Mt(l,t[s]=e.createElement("span"))}var c=P(t,n,t,i,r,o);I.$$addScopeClass(t);var f=null;return function(e,n,i){ft(e,"scope"),o&&o.needsNewScope&&(e=e.$parent.$new()),i=i||{};var r=i.parentBoundTranscludeFn,a=i.transcludeControllers,s=i.futureParentElement;r&&r.$$boundTransclude&&(r=r.$$boundTransclude),f||(f=L(s));var u;if(u="html"!==f?Di(et(f,Di("<div>").append(t).html())):n?xr.clone.call(t):t,a)for(var l in a)u.data("$"+l+"Controller",a[l].instance);return I.$$addScopeInfo(u,e),n&&n(u,e),c&&c(e,u,u,r),u}}function L(t){var e=t&&t[0];return e&&"foreignobject"!==F(e)&&e.toString().match(/SVG/)?"svg":"html"}function P(t,e,i,r,o,a){function s(t,i,r,o){var a,s,u,l,c,f,h,d,m;if(p){var v=i.length;for(m=new Array(v),c=0;c<g.length;c+=3)h=g[c],m[h]=i[h]}else m=i;for(c=0,f=g.length;c<f;)u=m[g[c++]],a=g[c++],s=g[c++],a?(a.scope?(l=t.$new(),I.$$addScopeInfo(Di(u),l)):l=t,d=a.transcludeOnThisElement?R(t,a.transclude,o):!a.templateOnThisElement&&o?o:!o&&e?R(t,e):null,a(s,l,u,r,d)):s&&s(t,u.childNodes,n,o)}for(var u,l,c,f,h,d,p,g=[],m=0;m<t.length;m++)u=new ut,l=U(t[m],[],u,0===m?r:n,o),c=l.length?Y(l,t[m],u,e,i,null,[],[],a):null,c&&c.scope&&I.$$addScopeClass(u.$$element),h=c&&c.terminal||!(f=t[m].childNodes)||!f.length?null:P(f,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:e),(c||h)&&(g.push(m,c,h),d=!0,p=p||c),a=null;return d?s:null}function R(t,e,n){var i=function(i,r,o,a,s){return i||(i=t.$new(!1,s),i.$$transcluded=!0),e(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})};return i}function U(t,e,n,i,r){var o,a,s,u=t.nodeType,l=n.$attr;switch(u){case tr:a=F(t),V(e,he(a),"E",i,r);for(var c,f,p,g,m,v,y=t.attributes,b=0,_=y&&y.length;b<_;b++){var w=!1,E=!1;c=y[b],f=c.name,m=Bi(c.value),g=he(f),(v=pt.test(g))&&(f=f.replace(zr,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var S=g.match(gt);S&&X(S[1])&&(w=f,E=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),p=he(f.toLowerCase()),l[p]=f,!v&&n.hasOwnProperty(p)||(n[p]=m,Yt(t,p)&&(n[p]=!0)),it(t,e,m,p,v),V(e,p,"A",i,r,w,E)}if("input"===a&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),s=t.className,x(s)&&(s=s.animVal),k(s)&&""!==s)for(;o=d.exec(s);)p=he(o[2]),V(e,p,"C",i,r)&&(n[p]=Bi(o[3])),s=s.substr(o.index+o[0].length);break;case nr:if(11===Oi)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===nr;)t.nodeValue=t.nodeValue+t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);tt(e,t.nodeValue);break;case ir:try{o=h.exec(t.nodeValue),o&&(p=he(o[1]),V(e,p,"M",i,r)&&(n[p]=Bi(o[2])))}catch(C){}}return e.sort(J),e}function z(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Ur("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==tr&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(r>0)}else i.push(t);return Di(i)}function q(t,e,n){return function(i,r,o,a,s){return r=z(r[0],e,n),t(i,r,o,a,s)}}function Y(t,i,o,a,s,u,l,c,f){function h(t,e,n,i){t&&(n&&(t=q(t,n,i)),t.require=m.require,t.directiveName=y,($===m||m.$$isolateScope)&&(t=ot(t,{isolateScope:!0})),l.push(t)),e&&(n&&(e=q(e,n,i)),e.require=m.require,e.directiveName=y,($===m||m.$$isolateScope)&&(e=ot(e,{isolateScope:!0})),c.push(e))}function d(t,e,n,i){var r;if(k(e)){var o=e.match(w),a=e.substring(o[0].length),s=o[1]||o[3],u="?"===o[2];if("^^"===s?n=n.parent():(r=i&&i[a],r=r&&r.instance),!r){var l="$"+a+"Controller";r=s?n.inheritedData(l):n.data(l)}if(!r&&!u)throw Ur("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,t)}else if(Wi(e)){r=[];for(var c=0,f=e.length;c<f;c++)r[c]=d(t,e[c],n,i)}return r||null}function p(t,e,n,i,r,o){var a=mt();for(var s in i){var u=i[s],l={$scope:u===$||u.$$isolateScope?r:o,$element:t,$attrs:e,$transclude:n},c=u.controller;"@"==c&&(c=e[u.name]);var f=v(c,l,!0,u.controllerAs);a[u.name]=f,t.data("$"+u.name+"Controller",f.instance)}return a}function g(t,e,r,a,s){function u(t,e,i){var r;return A(t)||(i=e,e=t,t=n),P&&(r=m),i||(i=P?y.parent():y),s(t,e,r,i,D)}var f,h,g,m,v,y,b,_,x;i===r?(b=o,y=o.$$element):(y=Di(r),b=new ut(y,o)),g=e,$?h=e.$new(!0):T&&(g=e.$parent),s&&(v=u,v.$$boundTransclude=s),M&&(m=p(y,b,v,M,h,e)),$&&(I.$$addScopeInfo(y,h,!0,!(O&&(O===$||O===$.$$originalDirective))),I.$$addScopeClass(y,!0),h.$$isolateBindings=$.$$isolateBindings,_=st(e,b,h,h.$$isolateBindings,$),_&&h.$on("$destroy",_));for(var w in m){var k=M[w],E=m[w],S=k.$$bindings.bindToController;E.identifier&&S&&(x=st(g,b,E.instance,S,k));var C=E();C!==E.instance&&(E.instance=C,y.data("$"+k.name+"Controller",C),x&&x(),x=st(g,b,E.instance,S,k))}for(H=0,Y=l.length;H<Y;H++)f=l[H],at(f,f.isolateScope?h:e,y,b,f.require&&d(f.directiveName,f.require,y,m),v);var D=e;for($&&($.template||null===$.templateUrl)&&(D=h),t&&t(D,r.childNodes,n,s),H=c.length-1;H>=0;H--)f=c[H],at(f,f.isolateScope?h:e,y,b,f.require&&d(f.directiveName,f.require,y,m),v)}f=f||{};for(var m,y,b,_,E,S=-Number.MAX_VALUE,T=f.newScopeDirective,M=f.controllerDirectives,$=f.newIsolateScopeDirective,O=f.templateDirective,D=f.nonTlbTranscludeDirective,N=!1,L=!1,P=f.hasElementTranscludeDirective,R=o.$$element=Di(i),F=u,j=a,H=0,Y=t.length;H<Y;H++){
m=t[H];var V=m.$$start,X=m.$$end;if(V&&(R=z(i,V,X)),b=n,S>m.priority)break;if((E=m.scope)&&(m.templateUrl||(x(E)?(Q("new/isolated scope",$||T,m,R),$=m):Q("new/isolated scope",$,m,R)),T=T||m),y=m.name,!m.templateUrl&&m.controller&&(E=m.controller,M=M||mt(),Q("'"+y+"' controller",M[y],m,R),M[y]=m),(E=m.transclude)&&(N=!0,m.$$tlb||(Q("transclusion",D,m,R),D=m),"element"==E?(P=!0,S=m.priority,b=R,R=o.$$element=Di(e.createComment(" "+y+": "+o[y]+" ")),i=R[0],rt(s,W(b),i),j=I(b,a,S,F&&F.name,{nonTlbTranscludeDirective:D})):(b=Di($t(i)).contents(),R.empty(),j=I(b,a,n,n,{needsNewScope:m.$$isolateScope||m.$$newScope}))),m.template)if(L=!0,Q("template",O,m,R),O=m,E=C(m.template)?m.template(R,o):m.template,E=dt(E),m.replace){if(F=m,b=kt(E)?[]:pe(et(m.templateNamespace,Bi(E))),i=b[0],1!=b.length||i.nodeType!==tr)throw Ur("tplrt","Template for directive '{0}' must have exactly one root element. {1}",y,"");rt(s,R,i);var J={$attr:{}},tt=U(i,[],J),nt=t.splice(H+1,t.length-(H+1));($||T)&&B(tt,$,T),t=t.concat(tt).concat(nt),G(o,J),Y=t.length}else R.html(E);if(m.templateUrl)L=!0,Q("template",O,m,R),O=m,m.replace&&(F=m),g=K(t.splice(H,t.length-H),R,o,s,N&&j,l,c,{controllerDirectives:M,newScopeDirective:T!==m&&T,newIsolateScopeDirective:$,templateDirective:O,nonTlbTranscludeDirective:D}),Y=t.length;else if(m.compile)try{_=m.compile(R,o,j),C(_)?h(null,_,V,X):_&&h(_.pre,_.post,V,X)}catch(it){r(it,Z(R))}m.terminal&&(g.terminal=!0,S=Math.max(S,m.priority))}return g.scope=T&&T.scope===!0,g.transcludeOnThisElement=N,g.templateOnThisElement=L,g.transclude=j,f.hasElementTranscludeDirective=P,g}function B(t,e,n){for(var i=0,r=t.length;i<r;i++)t[i]=p(t[i],{$$isolateScope:e,$$newScope:n})}function V(e,n,i,o,s,u,f){if(n===s)return null;var h=null;if(l.hasOwnProperty(n))for(var d,g=t.get(n+c),m=0,v=g.length;m<v;m++)try{if(d=g[m],(b(o)||o>d.priority)&&d.restrict.indexOf(i)!=-1){if(u&&(d=p(d,{$$start:u,$$end:f})),!d.$$bindings){var y=d.$$bindings=a(d,d.name);x(y.isolateScope)&&(d.$$isolateBindings=y.isolateScope)}e.push(d),h=d}}catch(_){r(_)}return h}function X(e){if(l.hasOwnProperty(e))for(var n,i=t.get(e+c),r=0,o=i.length;r<o;r++)if(n=i[r],n.multiElement)return!0;return!1}function G(t,e){var n=e.$attr,i=t.$attr,r=t.$$element;o(t,function(i,r){"$"!=r.charAt(0)&&(e[r]&&e[r]!==i&&(i+=("style"===r?";":" ")+e[r]),t.$set(r,i,!0,n[r]))}),o(e,function(e,o){"class"==o?(D(r,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==o?(r.attr("style",r.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==o.charAt(0)||t.hasOwnProperty(o)||(t[o]=e,i[o]=n[o])})}function K(t,e,n,i,r,a,u,l){var c,f,h=[],d=e[0],g=t.shift(),m=p(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=C(g.templateUrl)?g.templateUrl(e,n):g.templateUrl,y=g.templateNamespace;return e.empty(),s(v).then(function(s){var p,b,_,w;if(s=dt(s),g.replace){if(_=kt(s)?[]:pe(et(y,Bi(s))),p=_[0],1!=_.length||p.nodeType!==tr)throw Ur("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,v);b={$attr:{}},rt(i,e,p);var k=U(p,[],b);x(g.scope)&&B(k,!0),t=k.concat(t),G(n,b)}else p=d,e.html(s);for(t.unshift(m),c=Y(t,p,n,r,e,g,a,u,l),o(i,function(t,n){t==p&&(i[n]=e[0])}),f=P(e[0].childNodes,r);h.length;){var E=h.shift(),S=h.shift(),C=h.shift(),T=h.shift(),M=e[0];if(!E.$$destroyed){if(S!==d){var A=S.className;l.hasElementTranscludeDirective&&g.replace||(M=$t(p)),rt(C,Di(S),M),D(Di(M),A)}w=c.transcludeOnThisElement?R(E,c.transclude,T):T,c(f,E,M,i,w)}}h=null}),function(t,e,n,i,r){var o=r;e.$$destroyed||(h?h.push(e,n,i,o):(c.transcludeOnThisElement&&(o=R(e,c.transclude,r)),c(f,e,n,i,o)))}}function J(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function Q(t,e,n,i){function r(t){return t?" (module: "+t+")":""}if(e)throw Ur("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,r(e.$$moduleName),n.name,r(n.$$moduleName),t,Z(i))}function tt(t,e){var n=i(e,!0);n&&t.push({priority:0,compile:function(t){var e=t.parent(),i=!!e.length;return i&&I.$$addBindingClass(e),function(t,e){var r=e.parent();i||I.$$addBindingClass(r),I.$$addBindingInfo(r,n.expressions),t.$watch(n,function(t){e[0].nodeValue=t})}}})}function et(t,n){switch(t=Ci(t||"html")){case"svg":case"math":var i=e.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function nt(t,e){if("srcdoc"==e)return M.HTML;var n=F(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?M.RESOURCE_URL:void 0}function it(t,e,n,r,o){var a=nt(t,r);o=y[r]||o;var s=i(n,!0,a,o);if(s){if("multiple"===r&&"select"===F(t))throw Ur("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Z(t));e.push({priority:100,compile:function(){return{pre:function(t,e,u){var l=u.$$observers||(u.$$observers=mt());if(E.test(r))throw Ur("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=u[r];c!==n&&(s=c&&i(c,!0,a,o),n=c),s&&(u[r]=s(t),(l[r]||(l[r]=[])).$$inter=!0,(u.$$observers&&u.$$observers[r].$$scope||t).$watch(s,function(t,e){"class"===r&&t!=e?u.$updateClass(t,e):u.$set(r,t)}))}}}})}}function rt(t,n,i){var r,o,a=n[0],s=n.length,u=a.parentNode;if(t)for(r=0,o=t.length;r<o;r++)if(t[r]==a){t[r++]=i;for(var l=r,c=l+s-1,f=t.length;l<f;l++,c++)c<f?t[l]=t[c]:delete t[l];t.length-=s-1,t.context===a&&(t.context=i);break}u&&u.replaceChild(i,a);var h=e.createDocumentFragment();h.appendChild(a),Di.hasData(a)&&(Di.data(i,Di.data(a)),Ni?(qi=!0,Ni.cleanData([a])):delete Di.cache[a[Di.expando]]);for(var d=1,p=n.length;d<p;d++){var g=n[d];Di(g).remove(),h.appendChild(g),delete n[d]}n[0]=i,n.length=1}function ot(t,e){return f(function(){return t.apply(null,arguments)},t,e)}function at(t,e,n,i,o,a){try{t(e,n,i,o,a)}catch(s){r(s,Z(n))}}function st(t,e,n,r,a){var s=[];return o(r,function(r,o){var l,c,f,h,d=r.attrName,p=r.optional,m=r.mode;switch(m){case"@":p||Ti.call(e,d)||(n[o]=e[d]=void 0),e.$observe(d,function(t){k(t)&&(n[o]=t)}),e.$$observers[d].$$scope=t,l=e[d],k(l)?n[o]=i(l)(t):N(l)&&(n[o]=l);break;case"=":if(!Ti.call(e,d)){if(p)break;e[d]=void 0}if(p&&!e[d])break;c=u(e[d]),h=c.literal?H:function(t,e){return t===e||t!==t&&e!==e},f=c.assign||function(){throw l=n[o]=c(t),Ur("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[d],d,a.name)},l=n[o]=c(t);var v=function(e){return h(e,n[o])||(h(e,l)?f(t,e=n[o]):n[o]=e),l=e};v.$stateful=!0;var y;y=r.collection?t.$watchCollection(e[d],v):t.$watch(u(e[d],v),null,c.literal),s.push(y);break;case"&":if(c=e.hasOwnProperty(d)?u(e[d]):g,c===g&&p)break;n[o]=function(e){return c(t,e)}}}),s.length&&function(){for(var t=0,e=s.length;t<e;++t)s[t]()}}var ut=function(t,e){if(e){var n,i,r,o=Object.keys(e);for(n=0,i=o.length;n<i;n++)r=o[n],this[r]=e[r]}else this.$attr={};this.$$element=t};ut.prototype={$normalize:he,$addClass:function(t){t&&t.length>0&&$.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&$.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=de(t,e);n&&n.length&&$.addClass(this.$$element,n);var i=de(e,t);i&&i.length&&$.removeClass(this.$$element,i)},$set:function(t,e,n,i){var a,s=this.$$element[0],u=Yt(s,t),l=Bt(t),c=t;if(u?(this.$$element.prop(t,e),i=u):l&&(this[l]=e,c=l),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t],i||(this.$attr[t]=i=lt(t,"-"))),a=F(this.$$element),"a"===a&&"href"===t||"img"===a&&"src"===t)this[t]=e=O(e,"src"===t);else if("img"===a&&"srcset"===t&&_(e)){for(var f="",h=Bi(e),d=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,p=/\s/.test(h)?d:/(,)/,g=h.split(p),m=Math.floor(g.length/2),v=0;v<m;v++){var y=2*v;f+=O(Bi(g[y]),!0),f+=" "+Bi(g[y+1])}var x=Bi(g[2*v]).split(/\s/);f+=O(Bi(x[0]),!0),2===x.length&&(f+=" "+Bi(x[1])),this[t]=e=f}n!==!1&&(null===e||b(e)?this.$$element.removeAttr(i):this.$$element.attr(i,e));var w=this.$$observers;w&&o(w[c],function(t){try{t(e)}catch(n){r(n)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=mt()),r=i[t]||(i[t]=[]);return r.push(e),S.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(t)||b(n[t])||e(n[t])}),function(){j(r,e)}}};var ct=i.startSymbol(),ht=i.endSymbol(),dt="{{"==ct&&"}}"==ht?m:function(t){return t.replace(/\{\{/g,ct).replace(/}}/g,ht)},pt=/^ngAttr[A-Z]/,gt=/^(.+)Start$/;return I.$$addBindingInfo=T?function(t,e){var n=t.data("$binding")||[];Wi(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:g,I.$$addBindingClass=T?function(t){D(t,"ng-binding")}:g,I.$$addScopeInfo=T?function(t,e,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(r,e)}:g,I.$$addScopeClass=T?function(t,e){D(t,e?"ng-isolate-scope":"ng-scope")}:g,I}]}function he(t){return wt(t.replace(zr,""))}function de(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/);t:for(var o=0;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a==r[s])continue t;n+=(n.length>0?" ":"")+a}return n}function pe(t){t=Di(t);var e=t.length;if(e<=1)return t;for(;e--;){var n=t[e];n.nodeType===ir&&Pi.call(t,e,1)}return t}function ge(t,e){if(e&&k(e))return e;if(k(t)){var n=qr.exec(t);if(n)return n[3]}}function me(){var t={},e=!1;this.register=function(e,n){dt(e,"controller"),x(e)?f(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(r,o){function a(t,e,n,r){if(!t||!x(t.$scope))throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,e);t.$scope[e]=n}return function(i,s,u,l){var c,h,d,p;if(u=u===!0,l&&k(l)&&(p=l),k(i)){if(h=i.match(qr),!h)throw Hr("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",i);d=h[1],p=p||h[3],i=t.hasOwnProperty(d)?t[d]:pt(s.$scope,d,!0)||(e?pt(o,d,!0):n),ht(i,d,!0)}if(u){var g=(Wi(i)?i[i.length-1]:i).prototype;c=Object.create(g||null),p&&a(s,p,c,d||i.name);var m;return m=f(function(){var t=r.invoke(i,c,s,d);return t!==c&&(x(t)||C(t))&&(c=t,p&&a(s,p,c,d||i.name)),c},{instance:c,identifier:p})}return c=r.instantiate(i,s,d),p&&a(s,p,c,d||i.name),c}}]}function ve(){this.$get=["$window",function(t){return Di(t.document)}]}function ye(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function be(t){return x(t)?S(t)?t.toISOString():V(t):t}function _e(){this.$get=function(){return function(t){if(!t)return"";var e=[];return a(t,function(t,n){null===t||b(t)||(Wi(t)?o(t,function(t,i){e.push(it(n)+"="+it(be(t)))}):e.push(it(n)+"="+it(be(t))))}),e.join("&")}}}function xe(){this.$get=function(){return function(t){function e(t,i,r){null===t||b(t)||(Wi(t)?o(t,function(t,n){e(t,i+"["+(x(t)?n:"")+"]")}):x(t)&&!S(t)?a(t,function(t,n){e(t,i+(r?"":"[")+n+(r?"":"]"))}):n.push(it(i)+"="+it(be(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function we(t,e){if(k(t)){var n=t.replace(Gr,"").trim();if(n){var i=e("Content-Type");(i&&0===i.indexOf(Yr)||ke(n))&&(t=X(n))}}return t}function ke(t){var e=t.match(Vr);return e&&Xr[e[0]].test(t)}function Ee(t){function e(t,e){t&&(i[t]=i[t]?i[t]+", "+e:e)}var n,i=mt();return k(t)?o(t.split("\n"),function(t){n=t.indexOf(":"),e(Ci(Bi(t.substr(0,n))),Bi(t.substr(n+1)))}):x(t)&&o(t,function(t,n){e(Ci(n),Bi(t))}),i}function Se(t){var e;return function(n){if(e||(e=Ee(t)),n){var i=e[Ci(n)];return void 0===i&&(i=null),i}return e}}function Ce(t,e,n,i){return C(i)?i(t,e,n):(o(i,function(i){t=i(t,e,n)}),t)}function Te(t){return 200<=t&&t<300}function Me(){var t=this.defaults={transformResponse:[we],transformRequest:[function(t){return!x(t)||$(t)||D(t)||O(t)?t:V(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:z(Br),put:z(Br),patch:z(Br)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},e=!1;this.useApplyAsync=function(t){return _(t)?(e=!!t,this):e};var r=!0;this.useLegacyPromiseExtensions=function(t){return _(t)?(r=!!t,this):r};var a=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,u,l,c,h,d){function p(e){function a(t){var e=f({},t);return e.data=Ce(t.data,t.headers,t.status,l.transformResponse),Te(t.status)?e:h.reject(e)}function s(t,e){var n,i={};return o(t,function(t,r){C(t)?(n=t(e),null!=n&&(i[r]=n)):i[r]=t}),i}function u(e){var n,i,r,o=t.headers,a=f({},e.headers);o=f({},o.common,o[Ci(e.method)]);t:for(n in o){i=Ci(n);for(r in a)if(Ci(r)===i)continue t;a[n]=o[n]}return s(a,z(e))}if(!zi.isObject(e))throw i("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);if(!k(e.url))throw i("$http")("badreq","Http request configuration url must be a string.  Received: {0}",e.url);var l=f({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer},e);l.headers=u(e),l.method=Mi(l.method),l.paramSerializer=k(l.paramSerializer)?d.get(l.paramSerializer):l.paramSerializer;var c=function(e){var i=e.headers,r=Ce(e.data,Se(i),n,e.transformRequest);return b(r)&&o(i,function(t,e){"content-type"===Ci(e)&&delete i[e]}),b(e.withCredentials)&&!b(t.withCredentials)&&(e.withCredentials=t.withCredentials),v(e,r).then(a,a)},p=[c,n],g=h.when(l);for(o(E,function(t){(t.request||t.requestError)&&p.unshift(t.request,t.requestError),(t.response||t.responseError)&&p.push(t.response,t.responseError)});p.length;){var m=p.shift(),y=p.shift();g=g.then(m,y)}return r?(g.success=function(t){return ht(t,"fn"),g.then(function(e){t(e.data,e.status,e.headers,l)}),g},g.error=function(t){return ht(t,"fn"),g.then(null,function(e){t(e.data,e.status,e.headers,l)}),g}):(g.success=Jr("success"),g.error=Jr("error")),g}function g(t){o(arguments,function(t){p[t]=function(e,n){return p(f({},n||{},{method:t,url:e}))}})}function m(t){o(arguments,function(t){p[t]=function(e,n,i){return p(f({},i||{},{method:t,url:e,data:n}))}})}function v(i,r){function o(t,n,i,r){function o(){a(n,t,i,r)}d&&(Te(t)?d.put(E,[t,n,Ee(i),r]):d.remove(E)),e?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function a(t,e,n,r){e=e>=-1?e:0,(Te(e)?m.resolve:m.reject)({data:t,status:e,headers:Se(n),config:i,statusText:r})}function l(t){a(t.data,t.status,z(t.headers()),t.statusText)}function f(){var t=p.pendingRequests.indexOf(i);t!==-1&&p.pendingRequests.splice(t,1)}var d,g,m=h.defer(),v=m.promise,k=i.headers,E=y(i.url,i.paramSerializer(i.params));if(p.pendingRequests.push(i),v.then(f,f),!i.cache&&!t.cache||i.cache===!1||"GET"!==i.method&&"JSONP"!==i.method||(d=x(i.cache)?i.cache:x(t.cache)?t.cache:w),d&&(g=d.get(E),_(g)?I(g)?g.then(l,l):Wi(g)?a(g[1],g[0],z(g[2]),g[3]):a(g,200,{},"OK"):d.put(E,v)),b(g)){var S=$n(i.url)?u()[i.xsrfCookieName||t.xsrfCookieName]:n;S&&(k[i.xsrfHeaderName||t.xsrfHeaderName]=S),s(i.method,E,r,o,k,i.timeout,i.withCredentials,i.responseType)}return v}function y(t,e){return e.length>0&&(t+=(t.indexOf("?")==-1?"?":"&")+e),t}var w=l("$http");t.paramSerializer=k(t.paramSerializer)?d.get(t.paramSerializer):t.paramSerializer;var E=[];return o(a,function(t){E.unshift(k(t)?d.get(t):d.invoke(t))}),p.pendingRequests=[],g("get","delete","head","jsonp"),m("post","put","patch"),p.defaults=t,p}]}function Ae(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function $e(){this.$get=["$browser","$window","$document","$xhrFactory",function(t,e,n,i){return Oe(t,i,t.defer,e.angular.callbacks,n[0])}]}function Oe(t,e,n,i,r){function a(t,e,n){var o=r.createElement("script"),a=null;return o.type="text/javascript",o.src=t,o.async=!0,a=function(t){cr(o,"load",a),cr(o,"error",a),r.body.removeChild(o),o=null;var s=-1,u="unknown";t&&("load"!==t.type||i[e].called||(t={type:"error"}),u=t.type,s="error"===t.type?404:200),n&&n(s,u)},lr(o,"load",a),lr(o,"error",a),r.body.appendChild(o),a}return function(r,s,u,l,c,f,h,d){function p(){y&&y(),x&&x.abort()}function m(e,i,r,o,a){_(E)&&n.cancel(E),y=x=null,e(i,r,o,a),t.$$completeOutstandingRequest(g)}if(t.$$incOutstandingRequestCount(),s=s||t.url(),"jsonp"==Ci(r)){var v="_"+(i.counter++).toString(36);i[v]=function(t){i[v].data=t,i[v].called=!0};var y=a(s.replace("JSON_CALLBACK","angular.callbacks."+v),v,function(t,e){m(l,t,i[v].data,"",e),i[v]=g})}else{var x=e(r,s);x.open(r,s,!0),o(c,function(t,e){_(t)&&x.setRequestHeader(e,t)}),x.onload=function(){var t=x.statusText||"",e="response"in x?x.response:x.responseText,n=1223===x.status?204:x.status;0===n&&(n=e?200:"file"==An(s).protocol?404:0),m(l,n,e,x.getAllResponseHeaders(),t)};var w=function(){m(l,-1,null,null,"")};if(x.onerror=w,x.onabort=w,h&&(x.withCredentials=!0),d)try{x.responseType=d}catch(k){if("json"!==d)throw k}x.send(b(u)?null:u)}if(f>0)var E=n(p,f);else I(f)&&f.then(p)}}function De(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(t){return"\\\\\\"+t}function a(n){return n.replace(h,t).replace(d,e)}function s(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=V(t)}return t}function u(o,u,h,d){function p(t){try{return t=M(t),d&&!_(t)?t:s(t)}catch(e){i(Zr.interr(o,e))}}d=!!d;for(var g,m,v,y=0,x=[],w=[],k=o.length,E=[],S=[];y<k;){if((g=o.indexOf(t,y))==-1||(m=o.indexOf(e,g+l))==-1){y!==k&&E.push(a(o.substring(y)));break}y!==g&&E.push(a(o.substring(y,g))),v=o.substring(g+l,m),x.push(v),w.push(n(v,p)),y=m+c,S.push(E.length),E.push("")}if(h&&E.length>1&&Zr.throwNoconcat(o),!u||x.length){var T=function(t){for(var e=0,n=x.length;e<n;e++){if(d&&b(t[e]))return;E[S[e]]=t[e]}return E.join("")},M=function(t){return h?r.getTrusted(h,t):r.valueOf(t)};return f(function(t){var e=0,n=x.length,r=new Array(n);try{for(;e<n;e++)r[e]=w[e](t);return T(r)}catch(a){i(Zr.interr(o,a))}},{exp:o,expressions:x,$$watchDelegate:function(t,e){var n;return t.$watchGroup(w,function(i,r){var o=T(i);C(e)&&e.call(this,o,i!==r?n:o,t),n=o})}})}}var l=t.length,c=e.length,h=new RegExp(t.replace(/./g,o),"g"),d=new RegExp(e.replace(/./g,o),"g");return u.startSymbol=function(){return t},u.endSymbol=function(){return e},u}]}function Ne(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,i){function r(r,a,s,u){var l=arguments.length>4,c=l?W(arguments,4):[],f=e.setInterval,h=e.clearInterval,d=0,p=_(u)&&!u,g=(p?i:n).defer(),m=g.promise;return s=_(s)?s:0,m.then(null,null,l?function(){r.apply(null,c)}:r),m.$$intervalId=f(function(){g.notify(d++),s>0&&d>=s&&(g.resolve(d),h(m.$$intervalId),delete o[m.$$intervalId]),p||t.$apply()},a),o[m.$$intervalId]=g,m}var o={};return r.cancel=function(t){return!!(t&&t.$$intervalId in o)&&(o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0)},r}]}function Ie(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=nt(e[n]);return e.join("/")}function Le(t,e){var n=An(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=d(n.port)||to[n.protocol]||null}function Pe(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var i=An(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=tt(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Re(t,e){if(0===e.indexOf(t))return e.substr(t.length)}function Fe(t){var e=t.indexOf("#");return e==-1?t:t.substr(0,e)}function je(t){return t.replace(/(#.+)|#$/,"$1")}function Ue(t){return t.substr(0,Fe(t).lastIndexOf("/")+1)}function ze(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function He(t,e,n){this.$$html5=!0,n=n||"",Le(t,this),this.$$parse=function(t){var n=Re(e,t);if(!k(n))throw eo("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);Pe(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=et(this.$$search),n=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=Ie(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a,s;return _(o=Re(t,i))?(a=o,s=_(o=Re(n,o))?e+(Re("/",o)||o):t+a):_(o=Re(e,i))?s=e+o:e==i+"/"&&(s=e),s&&this.$$parse(s),!!s}}function qe(t,e,n){Le(t,this),this.$$parse=function(i){function r(t,e,n){var i,r=/^\/[A-Z]:(\/.*)/;return 0===e.indexOf(n)&&(e=e.replace(n,"")),r.exec(e)?t:(i=r.exec(t),i?i[1]:t)}var o,a=Re(t,i)||Re(e,i);b(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",b(a)&&(t=i,this.replace())):(o=Re(n,a),b(o)&&(o=a)),Pe(o,this),this.$$path=r(this.$$path,o,t),this.$$compose()},this.$$compose=function(){var e=et(this.$$search),i=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=Ie(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(e,n){return Fe(t)==Fe(e)&&(this.$$parse(e),!0)}}function We(t,e,n){this.$$html5=!0,qe.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a;return t==Fe(i)?o=i:(a=Re(e,i))?o=t+n+a:e===i+"/"&&(o=e),o&&this.$$parse(o),!!o},this.$$compose=function(){var e=et(this.$$search),i=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=Ie(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+n+this.$$url}}function Ye(t){return function(){return this[t]}}function Be(t,e){return function(n){return b(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function Ve(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return _(e)?(t=e,this):t},this.html5Mode=function(t){return N(t)?(e.enabled=t,this):x(t)?(N(t.enabled)&&(e.enabled=t.enabled),N(t.requireBase)&&(e.requireBase=t.requireBase),N(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,a){function s(t,e,n){var r=l.url(),o=l.$$state;try{i.url(t,e,n),l.$$state=i.state()}catch(a){throw l.url(r),l.$$state=o,a}}function u(t,e){n.$broadcast("$locationChangeSuccess",l.absUrl(),t,l.$$state,e)}var l,c,f,h=i.baseHref(),d=i.url();if(e.enabled){if(!h&&e.requireBase)throw eo("nobase","$location in HTML5 mode requires a <base> tag to be present!");f=ze(d)+(h||"/"),c=r.history?He:We}else f=Fe(d),c=qe;var p=Ue(f);l=new c(f,p,"#"+t),l.$$parseLinkUrl(d,d),l.$$state=i.state();var g=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var r=Di(t.target);"a"!==F(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var s=r.prop("href"),u=r.attr("href")||r.attr("xlink:href");x(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=An(s.animVal).href),g.test(s)||!s||r.attr("target")||t.isDefaultPrevented()||l.$$parseLinkUrl(s,u)&&(t.preventDefault(),l.absUrl()!=i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),je(l.absUrl())!=je(d)&&i.url(l.absUrl(),!0);var m=!0;return i.onUrlChange(function(t,e){return b(Re(p,t))?void(a.location.href=t):(n.$evalAsync(function(){var i,r=l.absUrl(),o=l.$$state;t=je(t),l.$$parse(t),l.$$state=e,i=n.$broadcast("$locationChangeStart",t,r,e,o).defaultPrevented,l.absUrl()===t&&(i?(l.$$parse(r),l.$$state=o,s(r,!1,o)):(m=!1,u(r,o)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var t=je(i.url()),e=je(l.absUrl()),o=i.state(),a=l.$$replace,c=t!==e||l.$$html5&&r.history&&o!==l.$$state;(m||c)&&(m=!1,n.$evalAsync(function(){var e=l.absUrl(),i=n.$broadcast("$locationChangeStart",e,t,l.$$state,o).defaultPrevented;l.absUrl()===e&&(i?(l.$$parse(t),l.$$state=o):(c&&s(e,a,o===l.$$state?null:l.$$state),u(t,o)))})),l.$$replace=!1}),l}]}function Xe(){var t=!0,e=this;this.debugEnabled=function(e){return _(e)?(t=e,this):t},this.$get=["$window",function(n){function i(t){return t instanceof Error&&(t.stack?t=t.message&&t.stack.indexOf(t.message)===-1?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function r(t){var e=n.console||{},r=e[t]||e.log||g,a=!1;try{a=!!r.apply}catch(s){}return a?function(){var t=[];return o(arguments,function(e){t.push(i(e))}),r.apply(e,t)}:function(t,e){r(t,null==e?"":e)}}return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function Ge(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw io("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function Ke(t,e){if(t+="",!k(t))throw io("iseccst","Cannot convert object to primitive value! Expression: {0}",e);return t}function Je(t,e){if(t){if(t.constructor===t)throw io("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw io("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw io("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw io("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function Ze(t,e){if(t){if(t.constructor===t)throw io("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===ro||t===oo||t===ao)throw io("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function Qe(t,e){if(t&&(t===(0).constructor||t===(!1).constructor||t==="".constructor||t==={}.constructor||t===[].constructor||t===Function.constructor))throw io("isecaf","Assigning to a constructor is disallowed! Expression: {0}",e)}function tn(t,e){return"undefined"!=typeof t?t:e}function en(t,e){return"undefined"==typeof t?e:"undefined"==typeof e?t:t+e}function nn(t,e){var n=t(e);return!n.$stateful}function rn(t,e){var n,i;switch(t.type){case co.Program:n=!0,o(t.body,function(t){rn(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case co.Literal:t.constant=!0,t.toWatch=[];break;case co.UnaryExpression:rn(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case co.BinaryExpression:rn(t.left,e),rn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case co.LogicalExpression:rn(t.left,e),rn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case co.ConditionalExpression:rn(t.test,e),rn(t.alternate,e),rn(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case co.Identifier:t.constant=!1,t.toWatch=[t];break;case co.MemberExpression:rn(t.object,e),t.computed&&rn(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case co.CallExpression:n=!!t.filter&&nn(e,t.callee.name),i=[],o(t.arguments,function(t){rn(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=t.filter&&nn(e,t.callee.name)?i:[t];break;case co.AssignmentExpression:rn(t.left,e),rn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case co.ArrayExpression:n=!0,i=[],o(t.elements,function(t){rn(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=i;break;case co.ObjectExpression:n=!0,i=[],o(t.properties,function(t){rn(t.value,e),n=n&&t.value.constant,t.value.constant||i.push.apply(i,t.value.toWatch)}),t.constant=n,t.toWatch=i;break;case co.ThisExpression:t.constant=!1,t.toWatch=[]}}function on(t){if(1==t.length){var e=t[0].expression,i=e.toWatch;return 1!==i.length?i:i[0]!==e?i:n}}function an(t){return t.type===co.Identifier||t.type===co.MemberExpression}function sn(t){if(1===t.body.length&&an(t.body[0].expression))return{type:co.AssignmentExpression,left:t.body[0].expression,right:{type:co.NGValueParameter},operator:"="}}function un(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===co.Literal||t.body[0].expression.type===co.ArrayExpression||t.body[0].expression.type===co.ObjectExpression)}function ln(t){return t.constant}function cn(t,e){this.astBuilder=t,this.$filter=e}function fn(t,e){this.astBuilder=t,this.$filter=e}function hn(t){return"constructor"==t}function dn(t){return C(t.valueOf)?t.valueOf():ho.call(t)}function pn(){var t=mt(),e=mt();this.$get=["$filter",function(i){function r(n,r,o){var s,d,y;switch(o=o||v,typeof n){case"string":n=n.trim(),y=n;var b=o?e:t;if(s=b[y],!s){":"===n.charAt(0)&&":"===n.charAt(1)&&(d=!0,n=n.substring(2));var _=o?m:p,x=new lo(_),w=new fo(x,i,_);s=w.parse(n),s.constant?s.$$watchDelegate=f:d?s.$$watchDelegate=s.literal?c:l:s.inputs&&(s.$$watchDelegate=u),o&&(s=a(s)),b[y]=s}return h(s,r);case"function":return h(n,r);default:return h(g,r)}}function a(t){function e(e,n,i,r){var o=v;v=!0;try{return t(e,n,i,r)}finally{v=o}}if(!t)return t;e.$$watchDelegate=t.$$watchDelegate,e.assign=a(t.assign),e.constant=t.constant,e.literal=t.literal;for(var n=0;t.inputs&&n<t.inputs.length;++n)t.inputs[n]=a(t.inputs[n]);return e.inputs=t.inputs,e}function s(t,e){return null==t||null==e?t===e:("object"!=typeof t||(t=dn(t),"object"!=typeof t))&&(t===e||t!==t&&e!==e)}function u(t,e,i,r,o){var a,u=r.inputs;if(1===u.length){var l=s;return u=u[0],t.$watch(function(t){var e=u(t);return s(e,l)||(a=r(t,n,n,[e]),l=e&&dn(e)),a},e,i,o)}for(var c=[],f=[],h=0,d=u.length;h<d;h++)c[h]=s,f[h]=null;return t.$watch(function(t){for(var e=!1,i=0,o=u.length;i<o;i++){var l=u[i](t);(e||(e=!s(l,c[i])))&&(f[i]=l,c[i]=l&&dn(l))}return e&&(a=r(t,n,n,f)),a},e,i,o)}function l(t,e,n,i){var r,o;return r=t.$watch(function(t){return i(t)},function(t,n,i){o=t,C(e)&&e.apply(this,arguments),_(t)&&i.$$postDigest(function(){_(o)&&r()})},n)}function c(t,e,n,i){function r(t){var e=!0;return o(t,function(t){_(t)||(e=!1)}),e}var a,s;return a=t.$watch(function(t){return i(t)},function(t,n,i){s=t,C(e)&&e.call(this,t,n,i),r(t)&&i.$$postDigest(function(){r(s)&&a()})},n)}function f(t,e,n,i){var r;return r=t.$watch(function(t){return i(t)},function(t,n,i){C(e)&&e.apply(this,arguments),r()},n)}function h(t,e){if(!e)return t;var n=t.$$watchDelegate,i=!1,r=n!==c&&n!==l,o=r?function(n,r,o,a){var s=i&&a?a[0]:t(n,r,o,a);return e(s,n,r)}:function(n,i,r,o){var a=t(n,i,r,o),s=e(a,n,i);return _(a)?s:a};return t.$$watchDelegate&&t.$$watchDelegate!==u?o.$$watchDelegate=t.$$watchDelegate:e.$stateful||(o.$$watchDelegate=u,i=!t.inputs,o.inputs=t.inputs?t.inputs:[t]),o}var d=Xi().noUnsafeEval,p={csp:d,expensiveChecks:!1},m={csp:d,expensiveChecks:!0},v=!1;return r.$$runningExpensiveChecks=function(){return v},r}]}function gn(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return vn(function(e){t.$evalAsync(e)},e)}]}function mn(){this.$get=["$browser","$exceptionHandler",function(t,e){return vn(function(e){t.defer(e)},e)}]}function vn(t,e){function r(t,e,n){function i(e){return function(n){r||(r=!0,e.call(t,n))}}var r=!1;return[i(e),i(n)]}function a(){this.$$state={status:0}}function s(t,e){return function(n){e.call(t,n)}}function u(t){var i,r,o;o=t.pending,t.processScheduled=!1,t.pending=n;for(var a=0,s=o.length;a<s;++a){r=o[a][0],i=o[a][t.status];try{C(i)?r.resolve(i(t.value)):1===t.status?r.resolve(t.value):r.reject(t.value)}catch(u){r.reject(u),e(u)}}}function l(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){u(e)}))}function c(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function h(t){var e=new c,n=0,i=Wi(t)?[]:{};return o(t,function(t,r){n++,y(t).then(function(t){i.hasOwnProperty(r)||(i[r]=t,--n||e.resolve(i))},function(t){i.hasOwnProperty(r)||e.reject(t)})}),0===n&&e.resolve(i),e.promise}var d=i("$q",TypeError),p=function(){return new c};f(a.prototype,{then:function(t,e,n){if(b(t)&&b(e)&&b(n))return this;var i=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),this.$$state.status>0&&l(this.$$state),i.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return v(e,!0,t)},function(e){return v(e,!1,t)},e)}}),f(c.prototype,{resolve:function(t){
this.promise.$$state.status||(t===this.promise?this.$$reject(d("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var n,i;i=r(this,this.$$resolve,this.$$reject);try{(x(t)||C(t))&&(n=t&&t.then),C(n)?(this.promise.$$state.status=-1,n.call(t,i[0],i[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,l(this.promise.$$state))}catch(o){i[1](o),e(o)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,l(this.promise.$$state)},notify:function(n){var i=this.promise.$$state.pending;this.promise.$$state.status<=0&&i&&i.length&&t(function(){for(var t,r,o=0,a=i.length;o<a;o++){r=i[o][0],t=i[o][3];try{r.notify(C(t)?t(n):n)}catch(s){e(s)}}})}});var g=function(t){var e=new c;return e.reject(t),e.promise},m=function(t,e){var n=new c;return e?n.resolve(t):n.reject(t),n.promise},v=function(t,e,n){var i=null;try{C(n)&&(i=n())}catch(r){return m(r,!1)}return I(i)?i.then(function(){return m(t,e)},function(t){return m(t,!1)}):m(t,e)},y=function(t,e,n,i){var r=new c;return r.resolve(t),r.promise.then(e,n,i)},_=y,w=function k(t){function e(t){i.resolve(t)}function n(t){i.reject(t)}if(!C(t))throw d("norslvr","Expected resolverFn, got '{0}'",t);if(!(this instanceof k))return new k(t);var i=new c;return t(e,n),i.promise};return w.defer=p,w.reject=g,w.when=y,w.resolve=_,w.all=h,w}function yn(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(t){var e=n(t);return function(){i(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=r,o}]}function bn(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=u(),this.$$ChildScope=null}return e.prototype=t,e}var e=10,n=i("$rootScope"),a=null,s=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,l,c,f){function h(t){t.currentScope.$$destroyed=!0}function d(t){9===Oi&&(t.$$childHead&&d(t.$$childHead),t.$$nextSibling&&d(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function p(){this.$id=u(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function m(t){if(S.$$phase)throw n("inprog","{0} already in progress",S.$$phase);S.$$phase=t}function v(){S.$$phase=null}function y(t,e){do t.$$watchersCount+=e;while(t=t.$parent)}function _(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function w(){}function k(){for(;A.length;)try{A.shift()()}catch(t){l(t)}s=null}function E(){null===s&&(s=f.defer(function(){S.$apply(k)}))}p.prototype={constructor:p,$new:function(e,n){var i;return n=n||this,e?(i=new p,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(e||n!=this)&&i.$on("$destroy",h),i},$watch:function(t,e,n,i){var r=c(t);if(r.$$watchDelegate)return r.$$watchDelegate(this,e,n,r,t);var o=this,s=o.$$watchers,u={fn:e,last:w,get:r,exp:i||t,eq:!!n};return a=null,C(e)||(u.fn=g),s||(s=o.$$watchers=[]),s.unshift(u),y(this,1),function(){j(s,u)>=0&&y(o,-1),a=null}},$watchGroup:function(t,e){function n(){u=!1,l?(l=!1,e(r,r,s)):e(r,i,s)}var i=new Array(t.length),r=new Array(t.length),a=[],s=this,u=!1,l=!0;if(!t.length){var c=!0;return s.$evalAsync(function(){c&&e(r,r,s)}),function(){c=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){r[0]=t,i[0]=n,e(r,t===n?r:i,o)}):(o(t,function(t,e){var o=s.$watch(t,function(t,o){r[e]=t,i[e]=o,u||(u=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function n(t){o=t;var e,n,i,s,u;if(!b(o)){if(x(o))if(r(o)){a!==d&&(a=d,m=a.length=0,f++),e=o.length,m!==e&&(f++,a.length=m=e);for(var l=0;l<e;l++)u=a[l],s=o[l],i=u!==u&&s!==s,i||u===s||(f++,a[l]=s)}else{a!==p&&(a=p={},m=0,f++),e=0;for(n in o)Ti.call(o,n)&&(e++,s=o[n],u=a[n],n in a?(i=u!==u&&s!==s,i||u===s||(f++,a[n]=s)):(m++,a[n]=s,f++));if(m>e){f++;for(n in a)Ti.call(o,n)||(m--,delete a[n])}}else a!==o&&(a=o,f++);return f}}function i(){if(g?(g=!1,e(o,o,u)):e(o,s,u),l)if(x(o))if(r(o)){s=new Array(o.length);for(var t=0;t<o.length;t++)s[t]=o[t]}else{s={};for(var n in o)Ti.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,u=this,l=e.length>1,f=0,h=c(t,n),d=[],p={},g=!0,m=0;return this.$watch(h,i)},$digest:function(){var t,i,r,o,u,c,h,d,p,g,y,b,_=e,x=this,E=[];m("$digest"),f.$$checkUrlChange(),this===S&&null!==s&&(f.defer.cancel(s),k()),a=null;do{for(d=!1,g=x;T.length;){try{b=T.shift(),b.scope.$eval(b.expression,b.locals)}catch(A){l(A)}a=null}t:do{if(c=g.$$watchers)for(h=c.length;h--;)try{if(t=c[h])if(u=t.get,(i=u(g))===(r=t.last)||(t.eq?H(i,r):"number"==typeof i&&"number"==typeof r&&isNaN(i)&&isNaN(r))){if(t===a){d=!1;break t}}else d=!0,a=t,t.last=t.eq?U(i,null):i,o=t.fn,o(i,r===w?i:r,g),_<5&&(y=4-_,E[y]||(E[y]=[]),E[y].push({msg:C(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:i,oldVal:r}))}catch(A){l(A)}if(!(p=g.$$watchersCount&&g.$$childHead||g!==x&&g.$$nextSibling))for(;g!==x&&!(p=g.$$nextSibling);)g=g.$parent}while(g=p);if((d||T.length)&&!_--)throw v(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,E)}while(d||T.length);for(v();M.length;)try{M.shift()()}catch(A){l(A)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===S&&f.$$applicationDestroyed(),y(this,-this.$$watchersCount);for(var e in this.$$listenerCount)_(this,this.$$listenerCount[e],e);t&&t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=g,this.$on=this.$watch=this.$watchGroup=function(){return g},this.$$listeners={},this.$$nextSibling=null,d(this)}},$eval:function(t,e){return c(t)(this,e)},$evalAsync:function(t,e){S.$$phase||T.length||f.defer(function(){T.length&&S.$digest()}),T.push({scope:this,expression:c(t),locals:e})},$$postDigest:function(t){M.push(t)},$apply:function(t){try{m("$apply");try{return this.$eval(t)}finally{v()}}catch(e){l(e)}finally{try{S.$digest()}catch(e){throw l(e),e}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&A.push(e),t=c(t),E()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var i=this;do i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(e);i!==-1&&(n[i]=null,_(r,1,t))}},$emit:function(t,e){var n,i,r,o=[],a=this,s=!1,u={name:t,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=q([u],arguments,1);do{for(n=a.$$listeners[t]||o,u.currentScope=a,i=0,r=n.length;i<r;i++)if(n[i])try{n[i].apply(null,c)}catch(f){l(f)}else n.splice(i,1),i--,r--;if(s)return u.currentScope=null,u;a=a.$parent}while(a);return u.currentScope=null,u},$broadcast:function(t,e){var n=this,i=n,r=n,o={name:t,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[t])return o;for(var a,s,u,c=q([o],arguments,1);i=r;){for(o.currentScope=i,a=i.$$listeners[t]||[],s=0,u=a.length;s<u;s++)if(a[s])try{a[s].apply(null,c)}catch(f){l(f)}else a.splice(s,1),s--,u--;if(!(r=i.$$listenerCount[t]&&i.$$childHead||i!==n&&i.$$nextSibling))for(;i!==n&&!(r=i.$$nextSibling);)i=i.$parent}return o.currentScope=null,o}};var S=new p,T=S.$$asyncQueue=[],M=S.$$postDigestQueue=[],A=S.$$applyAsyncQueue=[];return S}]}function _n(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return _(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return _(t)?(e=t,this):e},this.$get=function(){return function(n,i){var r,o=i?e:t;return r=An(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function xn(t){if("self"===t)return t;if(k(t)){if(t.indexOf("***")>-1)throw po("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=Vi(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(T(t))return new RegExp("^"+t.source+"$");throw po("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function wn(t){var e=[];return _(t)&&o(t,function(t){e.push(xn(t))}),e}function kn(){this.SCE_CONTEXTS=go;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=wn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=wn(t)),e},this.$get=["$injector",function(n){function i(t,e){return"self"===t?$n(e):!!t.exec(e.href)}function r(n){var r,o,a=An(n.toString()),s=!1;for(r=0,o=t.length;r<o;r++)if(i(t[r],a)){s=!0;break}if(s)for(r=0,o=e.length;r<o;r++)if(i(e[r],a)){s=!1;break}return s}function o(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function a(t,e){var n=f.hasOwnProperty(t)?f[t]:null;if(!n)throw po("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||b(e)||""===e)return e;if("string"!=typeof e)throw po("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)}function s(t){return t instanceof c?t.$$unwrapTrustedValue():t}function u(t,e){if(null===e||b(e)||""===e)return e;var n=f.hasOwnProperty(t)?f[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===go.RESOURCE_URL){if(r(e))return e;throw po("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===go.HTML)return l(e);throw po("unsafe","Attempting to use an unsafe value in a safe context.")}var l=function(t){throw po("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(l=n.get("$sanitize"));var c=o(),f={};return f[go.HTML]=o(c),f[go.CSS]=o(c),f[go.URL]=o(c),f[go.JS]=o(c),f[go.RESOURCE_URL]=o(f[go.URL]),{trustAs:a,getTrusted:u,valueOf:s}}]}function En(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&Oi<8)throw po("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=z(go);i.isEnabled=function(){return t},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,t||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=m),i.parseAs=function(t,n){var r=e(n);return r.literal&&r.constant?r:e(n,function(e){return i.getTrusted(t,e)})};var r=i.parseAs,a=i.getTrusted,s=i.trustAs;return o(go,function(t,e){var n=Ci(e);i[wt("parse_as_"+n)]=function(e){return r(t,e)},i[wt("get_trusted_"+n)]=function(e){return a(t,e)},i[wt("trust_as_"+n)]=function(e){return s(t,e)}}),i}]}function Sn(){this.$get=["$window","$document",function(t,e){var n,i,r={},o=d((/android (\d+)/.exec(Ci((t.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,l=s.body&&s.body.style,c=!1,f=!1;if(l){for(var h in l)if(i=u.exec(h)){n=i[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),c=!!("transition"in l||n+"Transition"in l),f=!!("animation"in l||n+"Animation"in l),!o||c&&f||(c=k(l.webkitTransition),f=k(l.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||o<4||a),hasEvent:function(t){if("input"===t&&Oi<=11)return!1;if(b(r[t])){var e=s.createElement("div");r[t]="on"+t in e}return r[t]},csp:Xi(),vendorPrefix:n,transitions:c,animations:f,android:o}}]}function Cn(){this.$get=["$templateCache","$http","$q","$sce",function(t,e,n,i){function r(o,a){function s(t){if(!a)throw Ur("tpload","Failed to load template: {0} (HTTP status: {1} {2})",o,t.status,t.statusText);return n.reject(t)}r.totalPendingRequests++,k(o)&&!b(t.get(o))||(o=i.getTrustedResourceUrl(o));var u=e.defaults&&e.defaults.transformResponse;Wi(u)?u=u.filter(function(t){return t!==we}):u===we&&(u=null);var l={cache:t,transformResponse:u};return e.get(o,l)["finally"](function(){r.totalPendingRequests--}).then(function(e){return t.put(o,e.data),e.data},s)}return r.totalPendingRequests=0,r}]}function Tn(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var i={};return i.findBindings=function(t,e,n){var i=t.getElementsByClassName("ng-binding"),r=[];return o(i,function(t){var i=zi.element(t).data("$binding");i&&o(i,function(i){if(n){var o=new RegExp("(^|\\s)"+Vi(e)+"(\\s|\\||$)");o.test(i)&&r.push(t)}else i.indexOf(e)!=-1&&r.push(t)})}),r},i.findModels=function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=n?"=":"*=",a="["+i[r]+"model"+o+'"'+e+'"]',s=t.querySelectorAll(a);if(s.length)return s}},i.getLocation=function(){return n.url()},i.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},i.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},i}]}function Mn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,i,r){function o(o,s,u){C(o)||(u=s,s=o,o=g);var l,c=W(arguments,3),f=_(u)&&!u,h=(f?i:n).defer(),d=h.promise;return l=e.defer(function(){try{h.resolve(o.apply(null,c))}catch(e){h.reject(e),r(e)}finally{delete a[d.$$timeoutId]}f||t.$apply()},s),d.$$timeoutId=l,a[l]=h,d}var a={};return o.cancel=function(t){return!!(t&&t.$$timeoutId in a)&&(a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))},o}]}function An(t){var e=t;return Oi&&(mo.setAttribute("href",e),e=mo.href),mo.setAttribute("href",e),{href:mo.href,protocol:mo.protocol?mo.protocol.replace(/:$/,""):"",host:mo.host,search:mo.search?mo.search.replace(/^\?/,""):"",hash:mo.hash?mo.hash.replace(/^#/,""):"",hostname:mo.hostname,port:mo.port,pathname:"/"===mo.pathname.charAt(0)?mo.pathname:"/"+mo.pathname}}function $n(t){var e=k(t)?An(t):t;return e.protocol===vo.protocol&&e.host===vo.host}function On(){this.$get=v(t)}function Dn(t){function e(t){try{return decodeURIComponent(t)}catch(e){return t}}var n=t[0]||{},i={},r="";return function(){var t,o,a,s,u,l=n.cookie||"";if(l!==r)for(r=l,t=r.split("; "),i={},a=0;a<t.length;a++)o=t[a],s=o.indexOf("="),s>0&&(u=e(o.substring(0,s)),b(i[u])&&(i[u]=e(o.substring(s+1))));return i}}function Nn(){this.$get=Dn}function In(t){function e(i,r){if(x(i)){var a={};return o(i,function(t,n){a[n]=e(n,t)}),a}return t.factory(i+n,r)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",jn),e("date",ti),e("filter",Ln),e("json",ei),e("limitTo",ni),e("lowercase",Eo),e("number",Un),e("orderBy",ii),e("uppercase",So)}function Ln(){return function(t,e,n){if(!r(t)){if(null==t)return t;throw i("filter")("notarray","Expected array but received: {0}",t)}var o,a,s=Fn(e);switch(s){case"function":o=e;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":o=Pn(e,n,a);break;default:return t}return Array.prototype.filter.call(t,o)}}function Pn(t,e,n){var i,r=x(t)&&"$"in t;return e===!0?e=H:C(e)||(e=function(t,e){return!b(t)&&(null===t||null===e?t===e:!(x(e)||x(t)&&!y(t))&&(t=Ci(""+t),e=Ci(""+e),t.indexOf(e)!==-1))}),i=function(i){return r&&!x(i)?Rn(i,t.$,e,!1):Rn(i,t,e,n)}}function Rn(t,e,n,i,r){var o=Fn(t),a=Fn(e);if("string"===a&&"!"===e.charAt(0))return!Rn(t,e.substring(1),n,i);if(Wi(t))return t.some(function(t){return Rn(t,e,n,i)});switch(o){case"object":var s;if(i){for(s in t)if("$"!==s.charAt(0)&&Rn(t[s],e,n,!0))return!0;return!r&&Rn(t,e,n,!1)}if("object"===a){for(s in e){var u=e[s];if(!C(u)&&!b(u)){var l="$"===s,c=l?t:t[s];if(!Rn(c,u,n,l,l))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Fn(t){return null===t?"null":typeof t}function jn(t){var e=t.NUMBER_FORMATS;return function(t,n,i){return b(n)&&(n=e.CURRENCY_SYM),b(i)&&(i=e.PATTERNS[1].maxFrac),null==t?t:qn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function Un(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:qn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function zn(t){var e,n,i,r,o,a=0;for((n=t.indexOf(bo))>-1&&(t=t.replace(bo,"")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charAt(i)==_o;i++);if(i==(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)==_o;)o--;for(n-=i,e=[],r=0;i<=o;i++,r++)e[r]=+t.charAt(i)}return n>yo&&(e=e.splice(0,yo-1),a=n-1,n=1),{d:e,e:a,i:n}}function Hn(t,e,n,i){var r=t.d,o=r.length-t.i;e=b(e)?Math.min(Math.max(n,o),i):+e;var a=e+t.i,s=r[a];if(a>0)r.splice(a);else{t.i=1,r.length=a=e+1;for(var u=0;u<a;u++)r[u]=0}for(s>=5&&r[a-1]++;o<e;o++)r.push(0);var l=r.reduceRight(function(t,e,n,i){return e+=t,i[n]=e%10,Math.floor(e/10)},0);l&&(r.unshift(l),t.i++)}function qn(t,e,n,i,r){if(!k(t)&&!E(t)||isNaN(t))return"";var o,a=!isFinite(t),s=!1,u=Math.abs(t)+"",l="";if(a)l="∞";else{o=zn(u),Hn(o,r,e.minFrac,e.maxFrac);var c=o.d,f=o.i,h=o.e,d=[];for(s=c.reduce(function(t,e){return t&&!e},!0);f<0;)c.unshift(0),f++;f>0?d=c.splice(f,c.length):(d=c,c=[0]);var p=[];for(c.length>=e.lgSize&&p.unshift(c.splice(-e.lgSize,c.length).join(""));c.length>e.gSize;)p.unshift(c.splice(-e.gSize,c.length).join(""));c.length&&p.unshift(c.join("")),l=p.join(n),d.length&&(l+=i+d.join("")),h&&(l+="e+"+h)}return t<0&&!s?e.negPre+l+e.negSuf:e.posPre+l+e.posSuf}function Wn(t,e,n){var i="";for(t<0&&(i="-",t=-t),t=""+t;t.length<e;)t=_o+t;return n&&(t=t.substr(t.length-e)),i+t}function Yn(t,e,n,i){return n=n||0,function(r){var o=r["get"+t]();return(n>0||o>-n)&&(o+=n),0===o&&n==-12&&(o=12),Wn(o,e,i)}}function Bn(t,e){return function(n,i){var r=n["get"+t](),o=Mi(e?"SHORT"+t:t);return i[o][r]}}function Vn(t,e,n){var i=-1*n,r=i>=0?"+":"";return r+=Wn(Math[i>0?"floor":"ceil"](i/60),2)+Wn(Math.abs(i%60),2)}function Xn(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function Gn(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Kn(t){return function(e){var n=Xn(e.getFullYear()),i=Gn(e),r=+i-+n,o=1+Math.round(r/6048e5);return Wn(o,t)}}function Jn(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function Zn(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function Qn(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function ti(t){function e(t){var e;if(e=t.match(n)){var i=new Date(0),r=0,o=0,a=e[8]?i.setUTCFullYear:i.setFullYear,s=e[8]?i.setUTCHours:i.setHours;e[9]&&(r=d(e[9]+e[10]),o=d(e[9]+e[11])),a.call(i,d(e[1]),d(e[2])-1,d(e[3]));var u=d(e[4]||0)-r,l=d(e[5]||0)-o,c=d(e[6]||0),f=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(i,u,l,c,f),i}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var a,s,u="",l=[];if(i=i||"mediumDate",i=t.DATETIME_FORMATS[i]||i,k(n)&&(n=ko.test(n)?d(n):e(n)),E(n)&&(n=new Date(n)),!S(n)||!isFinite(n.getTime()))return n;for(;i;)s=wo.exec(i),s?(l=q(l,s,1),i=l.pop()):(l.push(i),i=null);var c=n.getTimezoneOffset();return r&&(c=G(r,c),n=J(n,r,!0)),o(l,function(e){a=xo[e],u+=a?a(n,t.DATETIME_FORMATS,c):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function ei(){return function(t,e){return b(e)&&(e=2),V(t,e)}}function ni(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):d(e),isNaN(e)?t:(E(t)&&(t=t.toString()),Wi(t)||k(t)?(n=!n||isNaN(n)?0:d(n),n=n<0?Math.max(0,t.length+n):n,e>=0?t.slice(n,n+e):0===n?t.slice(e,t.length):t.slice(Math.max(0,n+e),n)):t)}}function ii(t){function e(e,n){return n=n?-1:1,e.map(function(e){var i=1,r=m;if(C(e))r=e;else if(k(e)&&("+"!=e.charAt(0)&&"-"!=e.charAt(0)||(i="-"==e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(r=t(e),r.constant))){var o=r();r=function(t){return t[o]}}return{get:r,descending:i*n}})}function n(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function i(t,e){return"function"==typeof t.valueOf&&(t=t.valueOf(),n(t))?t:y(t)&&(t=t.toString(),n(t))?t:e}function o(t,e){var n=typeof t;return null===t?(n="string",t="null"):"string"===n?t=t.toLowerCase():"object"===n&&(t=i(t,e)),{value:t,type:n}}function a(t,e){var n=0;return t.type===e.type?t.value!==e.value&&(n=t.value<e.value?-1:1):n=t.type<e.type?-1:1,n}return function(t,n,i){function s(t,e){return{value:t,predicateValues:l.map(function(n){return o(n.get(t),e)})}}function u(t,e){for(var n=0,i=0,r=l.length;i<r&&!(n=a(t.predicateValues[i],e.predicateValues[i])*l[i].descending);++i);return n}if(!r(t))return t;Wi(n)||(n=[n]),0===n.length&&(n=["+"]);var l=e(n,i);l.push({get:function(){return{}},descending:i?-1:1});var c=Array.prototype.map.call(t,s);return c.sort(u),t=c.map(function(t){return t.value})}}function ri(t){return C(t)&&(t={link:t}),t.restrict=t.restrict||"AC",v(t)}function oi(t,e){t.$name=e}function ai(t,e,i,r,a){var s=this,u=[];s.$error={},s.$$success={},s.$pending=n,s.$name=a(e.name||e.ngForm||"")(i),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,s.$$parentForm=Mo,s.$rollbackViewValue=function(){o(u,function(t){t.$rollbackViewValue()})},s.$commitViewValue=function(){o(u,function(t){t.$commitViewValue()})},s.$addControl=function(t){dt(t.$name,"input"),u.push(t),t.$name&&(s[t.$name]=t),t.$$parentForm=s},s.$$renameControl=function(t,e){var n=t.$name;s[n]===t&&delete s[n],s[e]=t,t.$name=e},s.$removeControl=function(t){t.$name&&s[t.$name]===t&&delete s[t.$name],o(s.$pending,function(e,n){s.$setValidity(n,null,t)}),o(s.$error,function(e,n){s.$setValidity(n,null,t)}),o(s.$$success,function(e,n){s.$setValidity(n,null,t)}),j(u,t),t.$$parentForm=Mo},xi({ctrl:this,$element:t,set:function(t,e,n){var i=t[e];if(i){var r=i.indexOf(n);r===-1&&i.push(n)}else t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(j(i,n),0===i.length&&delete t[e])},$animate:r}),s.$setDirty=function(){r.removeClass(t,ha),r.addClass(t,da),s.$dirty=!0,s.$pristine=!1,s.$$parentForm.$setDirty()},s.$setPristine=function(){r.setClass(t,ha,da+" "+Ao),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(u,function(t){t.$setPristine()})},s.$setUntouched=function(){o(u,function(t){t.$setUntouched()})},s.$setSubmitted=function(){r.addClass(t,Ao),s.$submitted=!0,s.$$parentForm.$setSubmitted()}}function si(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function ui(t,e,n,i,r,o){li(t,e,n,i,r,o),si(i)}function li(t,e,n,i,r,o){var a=Ci(e[0].type);if(!r.android){var s=!1;e.on("compositionstart",function(t){s=!0}),e.on("compositionend",function(){s=!1,l()})}var u,l=function(t){if(u&&(o.defer.cancel(u),u=null),!s){var r=e.val(),l=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(r=Bi(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,l)}};if(r.hasEvent("input"))e.on("input",l);else{var c=function(t,e,n){u||(u=o.defer(function(){u=null,e&&e.value===n||l(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||c(t,this,this.value)}),r.hasEvent("paste")&&e.on("paste cut",c)}e.on("change",l),qo[a]&&i.$$hasNativeValidators&&a===n.type&&e.on(Ho,function(t){if(!u){var e=this[Si],n=e.badInput,i=e.typeMismatch;u=o.defer(function(){u=null,e.badInput===n&&e.typeMismatch===i||l(t)})}}),i.$render=function(){var t=i.$isEmpty(i.$viewValue)?"":i.$viewValue;e.val()!==t&&e.val(t)}}function ci(t,e){if(S(t))return t;if(k(t)){jo.lastIndex=0;var n=jo.exec(t);if(n){var i=+n[1],r=+n[2],o=0,a=0,s=0,u=0,l=Xn(i),c=7*(r-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),u=e.getMilliseconds()),new Date(i,0,l.getDate()+c,o,a,s,u)}}return NaN}function fi(t,e){return function(n,i){var r,a;if(S(n))return n;if(k(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),No.test(n))return new Date(n);if(t.lastIndex=0,r=t.exec(n))return r.shift(),a=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(r,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function hi(t,e,i,r){return function(o,a,s,u,l,c,f){function h(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function d(t){return _(t)&&!S(t)?i(t)||n:t}di(o,a,s,u),li(o,a,s,u,l,c);var p,g=u&&u.$options&&u.$options.timezone;if(u.$$parserName=t,u.$parsers.push(function(t){if(u.$isEmpty(t))return null;if(e.test(t)){var r=i(t,p);return g&&(r=J(r,g)),r}return n}),u.$formatters.push(function(t){if(t&&!S(t))throw va("datefmt","Expected `{0}` to be a date",t);return h(t)?(p=t,p&&g&&(p=J(p,g,!0)),f("date")(t,r,g)):(p=null,"")}),_(s.min)||s.ngMin){var m;u.$validators.min=function(t){return!h(t)||b(m)||i(t)>=m},s.$observe("min",function(t){m=d(t),u.$validate()})}if(_(s.max)||s.ngMax){var v;u.$validators.max=function(t){return!h(t)||b(v)||i(t)<=v},s.$observe("max",function(t){v=d(t),u.$validate()})}}}function di(t,e,i,r){var o=e[0],a=r.$$hasNativeValidators=x(o.validity);a&&r.$parsers.push(function(t){var i=e.prop(Si)||{};return i.badInput&&!i.typeMismatch?n:t})}function pi(t,e,i,r,o,a){if(di(t,e,i,r),li(t,e,i,r,o,a),r.$$parserName="number",r.$parsers.push(function(t){return r.$isEmpty(t)?null:Po.test(t)?parseFloat(t):n}),r.$formatters.push(function(t){if(!r.$isEmpty(t)){if(!E(t))throw va("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),_(i.min)||i.ngMin){var s;r.$validators.min=function(t){return r.$isEmpty(t)||b(s)||t>=s},i.$observe("min",function(t){_(t)&&!E(t)&&(t=parseFloat(t,10)),s=E(t)&&!isNaN(t)?t:n,r.$validate()})}if(_(i.max)||i.ngMax){var u;r.$validators.max=function(t){return r.$isEmpty(t)||b(u)||t<=u},i.$observe("max",function(t){_(t)&&!E(t)&&(t=parseFloat(t,10)),u=E(t)&&!isNaN(t)?t:n,r.$validate()})}}function gi(t,e,n,i,r,o){li(t,e,n,i,r,o),si(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||Io.test(n)}}function mi(t,e,n,i,r,o){li(t,e,n,i,r,o),si(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||Lo.test(n)}}function vi(t,e,n,i){b(n.name)&&e.attr("name",u());var r=function(t){e[0].checked&&i.$setViewValue(n.value,t&&t.type)};e.on("click",r),i.$render=function(){var t=n.value;e[0].checked=t==i.$viewValue},n.$observe("value",i.$render)}function yi(t,e,n,i,r){var o;if(_(i)){if(o=t(i),!o.constant)throw va("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(e)}return r}function bi(t,e,n,i,r,o,a,s){var u=yi(s,t,"ngTrueValue",n.ngTrueValue,!0),l=yi(s,t,"ngFalseValue",n.ngFalseValue,!1),c=function(t){i.$setViewValue(e[0].checked,t&&t.type)};e.on("click",c),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return t===!1},i.$formatters.push(function(t){return H(t,u)}),i.$parsers.push(function(t){return t?u:l})}function _i(t,e){return t="ngClass"+t,["$animate",function(n){function i(t,e){var n=[];t:for(var i=0;i<t.length;i++){for(var r=t[i],o=0;o<e.length;o++)if(r==e[o])continue t;n.push(r)}return n}function r(t){var e=[];return Wi(t)?(o(t,function(t){e=e.concat(r(t))}),e):k(t)?t.split(" "):x(t)?(o(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e):t}return{restrict:"AC",link:function(a,s,u){function l(t){var e=f(t,1);u.$addClass(e)}function c(t){var e=f(t,-1);u.$removeClass(e)}function f(t,e){var n=s.data("$classCounts")||mt(),i=[];return o(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&i.push(t))}),s.data("$classCounts",n),i.join(" ")}function h(t,e){var r=i(e,t),o=i(t,e);r=f(r,1),o=f(o,-1),r&&r.length&&n.addClass(s,r),o&&o.length&&n.removeClass(s,o)}function d(t){if(e===!0||a.$index%2===e){var n=r(t||[]);if(p){if(!H(t,p)){var i=r(p);h(i,n)}}else l(n)}p=Wi(t)?t.map(function(t){return z(t)}):z(t)}var p;a.$watch(u[t],d,!0),u.$observe("class",function(e){d(a.$eval(u[t]))}),"ngClass"!==t&&a.$watch("$index",function(n,i){var o=1&n;if(o!==(1&i)){var s=r(a.$eval(u[t]));o===e?l(s):c(s)}})}}}]}function xi(t){function e(t,e,u){b(e)?i("$pending",t,u):r("$pending",t,u),N(e)?e?(f(s.$error,t,u),c(s.$$success,t,u)):(c(s.$error,t,u),f(s.$$success,t,u)):(f(s.$error,t,u),f(s.$$success,t,u)),s.$pending?(o(ma,!0),s.$valid=s.$invalid=n,a("",null)):(o(ma,!1),s.$valid=wi(s.$error),s.$invalid=!s.$valid,a("",s.$valid));var l;l=s.$pending&&s.$pending[t]?n:!s.$error[t]&&(!!s.$$success[t]||null),a(t,l),s.$$parentForm.$setValidity(t,l,s)}function i(t,e,n){s[t]||(s[t]={}),c(s[t],e,n)}function r(t,e,i){s[t]&&f(s[t],e,i),wi(s[t])&&(s[t]=n)}function o(t,e){e&&!l[t]?(h.addClass(u,t),l[t]=!0):!e&&l[t]&&(h.removeClass(u,t),l[t]=!1)}function a(t,e){t=t?"-"+lt(t,"-"):"",o(ca+t,e===!0),o(fa+t,e===!1)}var s=t.ctrl,u=t.$element,l={},c=t.set,f=t.unset,h=t.$animate;l[fa]=!(l[ca]=u.hasClass(ca)),s.$setValidity=e}function wi(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function ki(t){t[0].hasAttribute("selected")&&(t[0].selected=!0)}var Ei=/^\/(.+)\/([a-z]*)$/,Si="validity",Ci=function(t){return k(t)?t.toLowerCase():t},Ti=Object.prototype.hasOwnProperty,Mi=function(t){return k(t)?t.toUpperCase():t},Ai=function(t){return k(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},$i=function(t){return k(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(t.charCodeAt(0)&-33)}):t};"i"!=="I".toLowerCase()&&(Ci=Ai,Mi=$i);var Oi,Di,Ni,Ii,Li=[].slice,Pi=[].splice,Ri=[].push,Fi=Object.prototype.toString,ji=Object.getPrototypeOf,Ui=i("ng"),zi=t.angular||(t.angular={}),Hi=0;Oi=e.documentMode,g.$inject=[],m.$inject=[];var qi,Wi=Array.isArray,Yi=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Bi=function(t){return k(t)?t.trim():t},Vi=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Xi=function(){function t(){try{return new Function(""),!1}catch(t){return!0}}if(!_(Xi.rules)){var n=e.querySelector("[ng-csp]")||e.querySelector("[data-ng-csp]");if(n){var i=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Xi.rules={noUnsafeEval:!i||i.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!i||i.indexOf("no-inline-style")!==-1}}else Xi.rules={noUnsafeEval:t(),noInlineStyle:!1}}return Xi.rules},Gi=function(){if(_(Gi.name_))return Gi.name_;var t,n,i,r,o=Ji.length;for(n=0;n<o;++n)if(i=Ji[n],t=e.querySelector("["+i.replace(":","\\:")+"jq]")){r=t.getAttribute(i+"jq");break}return Gi.name_=r},Ki=/:/g,Ji=["ng-","data-ng-","ng:","x-ng-"],Zi=/[A-Z]/g,Qi=!1,tr=1,er=2,nr=3,ir=8,rr=9,or=11,ar={full:"1.4.14",major:1,minor:4,dot:14,codeName:"material-distinction"};At.expando="ng339";var sr=At.cache={},ur=1,lr=function(t,e,n){t.addEventListener(e,n,!1)},cr=function(t,e,n){t.removeEventListener(e,n,!1)};At._data=function(t){return this.cache[t[this.expando]]||{}};var fr=/([\:\-\_]+(.))/g,hr=/^moz([A-Z])/,dr={mouseleave:"mouseout",mouseenter:"mouseover"},pr=i("jqLite"),gr=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,mr=/<|&#?\w+;/,vr=/<([\w:-]+)/,yr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,br={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],
col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};br.optgroup=br.option,br.tbody=br.tfoot=br.colgroup=br.caption=br.thead,br.th=br.td;var _r=Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},xr=At.prototype={ready:function(n){function i(){r||(r=!0,n())}var r=!1;"complete"===e.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),At(t).on("load",i))},toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Di(t>=0?this[t]:this[this.length+t])},length:0,push:Ri,sort:[].sort,splice:[].splice},wr={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){wr[Ci(t)]=t});var kr={};o("input,select,option,textarea,button,form,details".split(","),function(t){kr[t]=!0});var Er={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:Lt,removeData:Nt,hasData:St},function(t,e){At[e]=t}),o({data:Lt,inheritedData:zt,scope:function(t){return Di.data(t,"$scope")||zt(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Di.data(t,"$isolateScope")||Di.data(t,"$isolateScopeNoTemplate")},controller:Ut,injector:function(t){return zt(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Pt,css:function(t,e,n){return e=wt(e),_(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,i){var r=t.nodeType;if(r!==nr&&r!==er&&r!==ir){var o=Ci(e);if(wr[o]){if(!_(i))return t[e]||(t.attributes.getNamedItem(e)||g).specified?o:n;i?(t[e]=!0,t.setAttribute(e,o)):(t[e]=!1,t.removeAttribute(o))}else if(_(i))t.setAttribute(e,i);else if(t.getAttribute){var a=t.getAttribute(e,2);return null===a?n:a}}},prop:function(t,e,n){return _(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(b(e)){var n=t.nodeType;return n===tr||n===nr?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(b(e)){if(t.multiple&&"select"===F(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return b(e)?t.innerHTML:(Ot(t,!0),void(t.innerHTML=e))},empty:Ht},function(t,e){At.prototype[e]=function(e,n){var i,r,o=this.length;if(t!==Ht&&b(2==t.length&&t!==Pt&&t!==Ut?e:n)){if(x(e)){for(i=0;i<o;i++)if(t===Lt)t(this[i],e);else for(r in e)t(this[i],r,e[r]);return this}for(var a=t.$dv,s=b(a)?Math.min(o,1):o,u=0;u<s;u++){var l=t(this[u],e,n);a=a?a+l:l}return a}for(i=0;i<o;i++)t(this[i],e,n);return this}}),o({removeData:Nt,on:function(t,e,i,r){if(_(r))throw pr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Et(t)){var o=It(t,!0),a=o.events,s=o.handle;s||(s=o.handle=Vt(t,a));for(var u=e.indexOf(" ")>=0?e.split(" "):[e],l=u.length,c=function(e,n,r){var o=a[e];o||(o=a[e]=[],o.specialHandlerWrapper=n,"$destroy"===e||r||lr(t,e,s)),o.push(i)};l--;)e=u[l],dr[e]?(c(dr[e],Gt),c(e,n,!0)):c(e)}},off:Dt,one:function(t,e,n){t=Di(t),t.on(e,function i(){t.off(e,n),t.off(e,i)}),t.on(e,n)},replaceWith:function(t,e){var n,i=t.parentNode;Ot(t),o(new At(e),function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===tr&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===tr||n===or){e=new At(e);for(var i=0,r=e.length;i<r;i++){var o=e[i];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===tr){var n=t.firstChild;o(new At(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){Mt(t,Di(e).eq(0).clone()[0])},remove:qt,detach:function(t){qt(t,!0)},after:function(t,e){var n=t,i=t.parentNode;e=new At(e);for(var r=0,o=e.length;r<o;r++){var a=e[r];i.insertBefore(a,n.nextSibling),n=a}},addClass:Ft,removeClass:Rt,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var i=n;b(i)&&(i=!Pt(t,e)),(i?Ft:Rt)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==or?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:$t,triggerHandler:function(t,e,n){var i,r,a,s=e.type||e,u=It(t),l=u&&u.events,c=l&&l[s];c&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:g,type:s,target:t},e.type&&(i=f(i,e)),r=z(c),a=n?[i].concat(n):[i],o(r,function(e){i.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){At.prototype[e]=function(e,n,i){for(var r,o=0,a=this.length;o<a;o++)b(r)?(r=t(this[o],e,n,i),_(r)&&(r=Di(r))):jt(r,t(this[o],e,n,i));return _(r)?r:this},At.prototype.bind=At.prototype.on,At.prototype.unbind=At.prototype.off}),Zt.prototype={put:function(t,e){this[Jt(t,this.nextUid)]=e},get:function(t){return this[Jt(t,this.nextUid)]},remove:function(t){var e=this[t=Jt(t,this.nextUid)];return delete this[t],e}};var Sr=[function(){this.$get=[function(){return Zt}]}],Cr=/^[^\(]*\(\s*([^\)]*)\)/m,Tr=/,/,Mr=/^\s*(_?)(\S+?)\1\s*$/,Ar=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,$r=i("$injector");ee.$$annotate=te;var Or=i("$animate"),Dr=1,Nr="ng-animate",Ir=function(){this.$get=function(){}},Lr=function(){var t=new Zt,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function r(t,e,n){var i=!1;return e&&(e=k(e)?e.split(" "):Wi(e)?e:[],o(e,function(e){e&&(i=!0,t[e]=n)})),i}function a(){o(e,function(e){var n=t.get(e);if(n){var i=oe(e.attr("class")),r="",a="";o(n,function(t,e){var n=!!i[e];t!==n&&(t?r+=(r.length?" ":"")+e:a+=(a.length?" ":"")+e)}),o(e,function(t){r&&Ft(t,r),a&&Rt(t,a)}),t.remove(e)}}),e.length=0}function s(n,o,s){var u=t.get(n)||{},l=r(u,o,!0),c=r(u,s,!1);(l||c)&&(t.put(n,u),e.push(n),1===e.length&&i.$$postDigest(a))}return{enabled:g,on:g,off:g,pin:g,push:function(t,e,i,r){r&&r(),i=i||{},i.from&&t.css(i.from),i.to&&t.css(i.to),(i.addClass||i.removeClass)&&s(t,i.addClass,i.removeClass);var o=new n;return o.complete(),o}}}]},Pr=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw Or("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";e.$$registeredAnimations[n.substr(1)]=r,t.factory(r,i)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null,this.$$classNameFilter)){var e=new RegExp("(\\s+|\\/)"+Nr+"(\\s+|\\/)");if(e.test(this.$$classNameFilter.toString()))throw Or("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Nr)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var i=re(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,i,r,o){return i=i&&Di(i),r=r&&Di(r),i=i||r.parent(),e(n,i,r),t.push(n,"enter",ae(o))},move:function(n,i,r,o){return i=i&&Di(i),r=r&&Di(r),i=i||r.parent(),e(n,i,r),t.push(n,"move",ae(o))},leave:function(e,n){return t.push(e,"leave",ae(n),function(){e.remove()})},addClass:function(e,n,i){return i=ae(i),i.addClass=ie(i.addclass,n),t.push(e,"addClass",i)},removeClass:function(e,n,i){return i=ae(i),i.removeClass=ie(i.removeClass,n),t.push(e,"removeClass",i)},setClass:function(e,n,i,r){return r=ae(r),r.addClass=ie(r.addClass,n),r.removeClass=ie(r.removeClass,i),t.push(e,"setClass",r)},animate:function(e,n,i,r,o){return o=ae(o),o.from=o.from?f(o.from,n):n,o.to=o.to?f(o.to,i):i,r=r||"ng-inline-animate",o.tempClasses=ie(o.tempClasses,r),t.push(e,"animate",o)}}}]}],Rr=function(){this.$get=["$$rAF",function(t){function e(e){n.push(e),n.length>1||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]},Fr=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(t,e,n,i,r){function a(t){this.setHost(t);var e=n(),o=function(t){r(t,0,!1)};this._doneCallbacks=[],this._tick=function(t){var n=i[0];n&&n.hidden?o(t):e(t)},this._state=0}var s=0,u=1,l=2;return a.chain=function(t,e){function n(){return i===t.length?void e(!0):void t[i](function(t){return t===!1?void e(!1):(i++,void n())})}var i=0;n()},a.all=function(t,e){function n(n){r=r&&n,++i===t.length&&e(r)}var i=0,r=!0;o(t,function(t){t.done(n)})},a.prototype={setHost:function(t){this.host=t||{}},done:function(t){this._state===l?t():this._doneCallbacks.push(t)},progress:g,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){e===!1?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},"catch":function(t){return this.getPromise()["catch"](t)},"finally":function(t){return this.getPromise()["finally"](t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;e._state===s&&(e._state=u,e._tick(function(){e._resolve(t)}))},_resolve:function(t){this._state!==l&&(o(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=l)}},a}]},jr=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,i){function r(){return t(function(){o(),s||u.complete(),s=!0}),u}function o(){a.addClass&&(e.addClass(a.addClass),a.addClass=null),a.removeClass&&(e.removeClass(a.removeClass),a.removeClass=null),a.to&&(e.css(a.to),a.to=null)}var a=i||{};a.$$prepared||(a=U(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(e.css(a.from),a.from=null);var s,u=new n;return{start:r,end:r}}}]},Ur=i("$compile");fe.$inject=["$provide","$$sanitizeUriProvider"];var zr=/^((?:x|data)[\:\-_])/i,Hr=i("$controller"),qr=/^(\S+)(\s+as\s+([\w$]+))?$/,Wr=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof Di&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},Yr="application/json",Br={"Content-Type":Yr+";charset=utf-8"},Vr=/^\[|^\{(?!\{)/,Xr={"[":/]$/,"{":/}$/},Gr=/^\)\]\}',?\n/,Kr=i("$http"),Jr=function(t){return function(){throw Kr("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",t)}},Zr=zi.$interpolateMinErr=i("$interpolate");Zr.throwNoconcat=function(t){throw Zr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},Zr.interr=function(t,e){return Zr("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var Qr=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,to={http:80,https:443,ftp:21},eo=i("$location"),no={$$html5:!1,$$replace:!1,absUrl:Ye("$$absUrl"),url:function(t){if(b(t))return this.$$url;var e=Qr.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:Ye("$$protocol"),host:Ye("$$host"),port:Ye("$$port"),path:Be("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(k(t)||E(t))t=t.toString(),this.$$search=tt(t);else{if(!x(t))throw eo("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=U(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:b(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Be("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([We,qe,He],function(t){t.prototype=Object.create(no),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==He||!this.$$html5)throw eo("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=b(e)?null:e,this}});var io=i("$parse"),ro=Function.prototype.call,oo=Function.prototype.apply,ao=Function.prototype.bind,so=mt();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){so[t]=!0});var uo={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},lo=function(t){this.options=t};lo.prototype={constructor:lo,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),i=n+this.peek(2),r=so[e],o=so[n],a=so[i];if(r||o||a){var s=a?i:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return e.indexOf(t)!==-1},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\x0B"===t||" "===t},isIdent:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var i=_(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw io("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,i,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Ci(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=uo[o];n+=s||o}r=!1}else if("\\"===o)r=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var co=function(t,e){this.lexer=t,this.options=e};co.Program="Program",co.ExpressionStatement="ExpressionStatement",co.AssignmentExpression="AssignmentExpression",co.ConditionalExpression="ConditionalExpression",co.LogicalExpression="LogicalExpression",co.BinaryExpression="BinaryExpression",co.UnaryExpression="UnaryExpression",co.CallExpression="CallExpression",co.MemberExpression="MemberExpression",co.Identifier="Identifier",co.Literal="Literal",co.ArrayExpression="ArrayExpression",co.Property="Property",co.ObjectExpression="ObjectExpression",co.ThisExpression="ThisExpression",co.NGValueParameter="NGValueParameter",co.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:co.Program,body:t}},expressionStatement:function(){return{type:co.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t,e=this.expression();t=this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();return this.expect("=")&&(t={type:co.AssignmentExpression,left:t,right:this.assignment(),operator:"="}),t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:co.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:co.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:co.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:co.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:co.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:co.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:co.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:co.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.constants.hasOwnProperty(this.peek().text)?t=U(this.constants[this.consume().text]):this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:co.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:co.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:co.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:co.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do t.push(this.expression());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:co.Identifier,name:t.text}},constant:function(){return{type:co.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:co.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:co.Property,kind:"init"},this.peek().constant?t.key=this.constant():this.peek().identifier?t.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),t.value=this.expression(),e.push(t)}while(this.expect(","));return this.consume("}"),{type:co.ObjectExpression,properties:e}},throwError:function(t,e){throw io("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw io("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw io("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===i||a===r||!e&&!n&&!i&&!r)return o}return!1},expect:function(t,e,n,i){var r=this.peek(t,e,n,i);return!!r&&(this.tokens.shift(),r)},constants:{"true":{type:co.Literal,value:!0},"false":{type:co.Literal,value:!1},"null":{type:co.Literal,value:null},undefined:{type:co.Literal,value:n},"this":{type:co.ThisExpression}}},cn.prototype={compile:function(t,e){var i=this,r=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},rn(r,i.$filter);var a,s="";if(this.stage="assign",a=sn(r)){this.state.computing="assign";var u=this.nextId();this.recurse(a,u),this.return_(u),s="fn.assign="+this.generateFunction("assign","s,v,l")}var l=on(r.body);i.stage="inputs",o(l,function(t,e){var n="fn"+e;i.state[n]={vars:[],body:[],own:{}},i.state.computing=n;var r=i.nextId();i.recurse(t,r),i.return_(r),i.state.inputs.push(n),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(r);var c='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",f=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",c)(this.$filter,Ge,Je,Ze,Ke,Qe,tn,en,t);return this.state=this.stage=n,f.literal=un(r),f.constant=ln(r),f},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return o(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return o(this.state.filters,function(n,i){t.push(n+"=$filter("+e.escape(i)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,i,r,a,s){var u,l,c,f,h=this;if(r=r||g,!s&&_(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,i,r,a,!0));switch(t.type){case co.Program:o(t.body,function(e,i){h.recurse(e.expression,n,n,function(t){l=t}),i!==t.body.length-1?h.current().body.push(l,";"):h.return_(l)});break;case co.Literal:f=this.escape(t.value),this.assign(e,f),r(f);break;case co.UnaryExpression:this.recurse(t.argument,n,n,function(t){l=t}),f=t.operator+"("+this.ifDefined(l,0)+")",this.assign(e,f),r(f);break;case co.BinaryExpression:this.recurse(t.left,n,n,function(t){u=t}),this.recurse(t.right,n,n,function(t){l=t}),f="+"===t.operator?this.plus(u,l):"-"===t.operator?this.ifDefined(u,0)+t.operator+this.ifDefined(l,0):"("+u+")"+t.operator+"("+l+")",this.assign(e,f),r(f);break;case co.LogicalExpression:e=e||this.nextId(),h.recurse(t.left,e),h.if_("&&"===t.operator?e:h.not(e),h.lazyRecurse(t.right,e)),r(e);break;case co.ConditionalExpression:e=e||this.nextId(),h.recurse(t.test,e),h.if_(e,h.lazyRecurse(t.alternate,e),h.lazyRecurse(t.consequent,e)),r(e);break;case co.Identifier:e=e||this.nextId(),i&&(i.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),i.computed=!1,i.name=t.name),Ge(t.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",t.name)),function(){h.if_("inputs"===h.stage||"s",function(){a&&1!==a&&h.if_(h.not(h.nonComputedMember("s",t.name)),h.lazyAssign(h.nonComputedMember("s",t.name),"{}")),h.assign(e,h.nonComputedMember("s",t.name))})},e&&h.lazyAssign(e,h.nonComputedMember("l",t.name))),(h.state.expensiveChecks||hn(t.name))&&h.addEnsureSafeObject(e),r(e);break;case co.MemberExpression:u=i&&(i.context=this.nextId())||this.nextId(),e=e||this.nextId(),h.recurse(t.object,u,n,function(){h.if_(h.notNull(u),function(){a&&1!==a&&h.addEnsureSafeAssignContext(u),t.computed?(l=h.nextId(),h.recurse(t.property,l),h.getStringValue(l),h.addEnsureSafeMemberName(l),a&&1!==a&&h.if_(h.not(h.computedMember(u,l)),h.lazyAssign(h.computedMember(u,l),"{}")),f=h.ensureSafeObject(h.computedMember(u,l)),h.assign(e,f),i&&(i.computed=!0,i.name=l)):(Ge(t.property.name),a&&1!==a&&h.if_(h.not(h.nonComputedMember(u,t.property.name)),h.lazyAssign(h.nonComputedMember(u,t.property.name),"{}")),f=h.nonComputedMember(u,t.property.name),(h.state.expensiveChecks||hn(t.property.name))&&(f=h.ensureSafeObject(f)),h.assign(e,f),i&&(i.computed=!1,i.name=t.property.name))},function(){h.assign(e,"undefined")}),r(e)},!!a);break;case co.CallExpression:e=e||this.nextId(),t.filter?(l=h.filter(t.callee.name),c=[],o(t.arguments,function(t){var e=h.nextId();h.recurse(t,e),c.push(e)}),f=l+"("+c.join(",")+")",h.assign(e,f),r(e)):(l=h.nextId(),u={},c=[],h.recurse(t.callee,l,u,function(){h.if_(h.notNull(l),function(){h.addEnsureSafeFunction(l),o(t.arguments,function(t){h.recurse(t,h.nextId(),n,function(t){c.push(h.ensureSafeObject(t))})}),u.name?(h.state.expensiveChecks||h.addEnsureSafeObject(u.context),f=h.member(u.context,u.name,u.computed)+"("+c.join(",")+")"):f=l+"("+c.join(",")+")",f=h.ensureSafeObject(f),h.assign(e,f)},function(){h.assign(e,"undefined")}),r(e)}));break;case co.AssignmentExpression:if(l=this.nextId(),u={},!an(t.left))throw io("lval","Trying to assign a value to a non l-value");this.recurse(t.left,n,u,function(){h.if_(h.notNull(u.context),function(){h.recurse(t.right,l),h.addEnsureSafeObject(h.member(u.context,u.name,u.computed)),h.addEnsureSafeAssignContext(u.context),f=h.member(u.context,u.name,u.computed)+t.operator+l,h.assign(e,f),r(e||f)})},1);break;case co.ArrayExpression:c=[],o(t.elements,function(t){h.recurse(t,h.nextId(),n,function(t){c.push(t)})}),f="["+c.join(",")+"]",this.assign(e,f),r(f);break;case co.ObjectExpression:c=[],o(t.properties,function(t){h.recurse(t.value,h.nextId(),n,function(e){c.push(h.escape(t.key.type===co.Identifier?t.key.name:""+t.key.value)+":"+e)})}),f="{"+c.join(",")+"}",this.assign(e,f),r(f);break;case co.ThisExpression:this.assign(e,"s"),r("s");break;case co.NGValueParameter:this.assign(e,"v"),r("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),i[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(t===!0)e();else{var i=this.current().body;i.push("if(",t,"){"),e(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return t+"."+e},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},addEnsureSafeAssignContext:function(t){this.current().body.push(this.ensureSafeAssignContext(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},getStringValue:function(t){this.assign(t,"getStringValue("+t+",text)")},ensureSafeAssignContext:function(t){return"ensureSafeAssignContext("+t+",text)"},lazyRecurse:function(t,e,n,i,r,o){var a=this;return function(){a.recurse(t,e,n,i,r,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(k(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(E(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(null===t)return"null";if("undefined"==typeof t)return"undefined";throw io("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},fn.prototype={compile:function(t,e){var n=this,i=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,rn(i,n.$filter);var r,a;(r=sn(i))&&(a=this.recurse(r));var s,u=on(i.body);u&&(s=[],o(u,function(t,e){var i=n.recurse(t);t.input=i,s.push(i),t.watchId=e}));var l=[];o(i.body,function(t){l.push(n.recurse(t.expression))});var c=0===i.body.length?function(){}:1===i.body.length?l[0]:function(t,e){var n;return o(l,function(i){n=i(t,e)}),n};return a&&(c.assign=function(t,e,n){return a(t,n,e)}),s&&(c.inputs=s),c.literal=un(i),c.constant=ln(i),c},recurse:function(t,e,i){var r,a,s,u=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case co.Literal:return this.value(t.value,e);case co.UnaryExpression:return a=this.recurse(t.argument),this["unary"+t.operator](a,e);case co.BinaryExpression:return r=this.recurse(t.left),a=this.recurse(t.right),this["binary"+t.operator](r,a,e);case co.LogicalExpression:return r=this.recurse(t.left),a=this.recurse(t.right),this["binary"+t.operator](r,a,e);case co.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case co.Identifier:return Ge(t.name,u.expression),u.identifier(t.name,u.expensiveChecks||hn(t.name),e,i,u.expression);case co.MemberExpression:return r=this.recurse(t.object,!1,!!i),t.computed||(Ge(t.property.name,u.expression),a=t.property.name),t.computed&&(a=this.recurse(t.property)),t.computed?this.computedMember(r,a,e,i,u.expression):this.nonComputedMember(r,a,u.expensiveChecks,e,i,u.expression);case co.CallExpression:return s=[],o(t.arguments,function(t){s.push(u.recurse(t))}),t.filter&&(a=this.$filter(t.callee.name)),t.filter||(a=this.recurse(t.callee,!0)),t.filter?function(t,i,r,o){for(var u=[],l=0;l<s.length;++l)u.push(s[l](t,i,r,o));var c=a.apply(n,u,o);return e?{context:n,name:n,value:c}:c}:function(t,n,i,r){var o,l=a(t,n,i,r);if(null!=l.value){Je(l.context,u.expression),Ze(l.value,u.expression);for(var c=[],f=0;f<s.length;++f)c.push(Je(s[f](t,n,i,r),u.expression));o=Je(l.value.apply(l.context,c),u.expression)}return e?{value:o}:o};case co.AssignmentExpression:return r=this.recurse(t.left,!0,1),a=this.recurse(t.right),function(t,n,i,o){var s=r(t,n,i,o),l=a(t,n,i,o);return Je(s.value,u.expression),Qe(s.context),s.context[s.name]=l,e?{value:l}:l};case co.ArrayExpression:return s=[],o(t.elements,function(t){s.push(u.recurse(t))}),function(t,n,i,r){for(var o=[],a=0;a<s.length;++a)o.push(s[a](t,n,i,r));return e?{value:o}:o};case co.ObjectExpression:return s=[],o(t.properties,function(t){s.push({key:t.key.type===co.Identifier?t.key.name:""+t.key.value,value:u.recurse(t.value)})}),function(t,n,i,r){for(var o={},a=0;a<s.length;++a)o[s[a].key]=s[a].value(t,n,i,r);return e?{value:o}:o};case co.ThisExpression:return function(t){return e?{value:t}:t};case co.NGValueParameter:return function(t,n,i,r){return e?{value:i}:i}}},"unary+":function(t,e){return function(n,i,r,o){var a=t(n,i,r,o);
return a=_(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(n,i,r,o){var a=t(n,i,r,o);return a=_(a)?-a:0,e?{value:a}:a}},"unary!":function(t,e){return function(n,i,r,o){var a=!t(n,i,r,o);return e?{value:a}:a}},"binary+":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a),u=e(i,r,o,a),l=en(s,u);return n?{value:l}:l}},"binary-":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a),u=e(i,r,o,a),l=(_(s)?s:0)-(_(u)?u:0);return n?{value:l}:l}},"binary*":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)*e(i,r,o,a);return n?{value:s}:s}},"binary/":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)/e(i,r,o,a);return n?{value:s}:s}},"binary%":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)%e(i,r,o,a);return n?{value:s}:s}},"binary===":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)===e(i,r,o,a);return n?{value:s}:s}},"binary!==":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)!==e(i,r,o,a);return n?{value:s}:s}},"binary==":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)==e(i,r,o,a);return n?{value:s}:s}},"binary!=":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)!=e(i,r,o,a);return n?{value:s}:s}},"binary<":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)<e(i,r,o,a);return n?{value:s}:s}},"binary>":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)>e(i,r,o,a);return n?{value:s}:s}},"binary<=":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)<=e(i,r,o,a);return n?{value:s}:s}},"binary>=":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)>=e(i,r,o,a);return n?{value:s}:s}},"binary&&":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)&&e(i,r,o,a);return n?{value:s}:s}},"binary||":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)||e(i,r,o,a);return n?{value:s}:s}},"ternary?:":function(t,e,n,i){return function(r,o,a,s){var u=t(r,o,a,s)?e(r,o,a,s):n(r,o,a,s);return i?{value:u}:u}},value:function(t,e){return function(){return e?{context:n,name:n,value:t}:t}},identifier:function(t,e,i,r,o){return function(a,s,u,l){var c=s&&t in s?s:a;r&&1!==r&&c&&!c[t]&&(c[t]={});var f=c?c[t]:n;return e&&Je(f,o),i?{context:c,name:t,value:f}:f}},computedMember:function(t,e,n,i,r){return function(o,a,s,u){var l,c,f=t(o,a,s,u);return null!=f&&(l=e(o,a,s,u),l=Ke(l),Ge(l,r),i&&1!==i&&(Qe(f),f&&!f[l]&&(f[l]={})),c=f[l],Je(c,r)),n?{context:f,name:l,value:c}:c}},nonComputedMember:function(t,e,i,r,o,a){return function(s,u,l,c){var f=t(s,u,l,c);o&&1!==o&&(Qe(f),f&&!f[e]&&(f[e]={}));var h=null!=f?f[e]:n;return(i||hn(e))&&Je(h,a),r?{context:f,name:e,value:h}:h}},inputs:function(t,e){return function(n,i,r,o){return o?o[e]:t(n,i,r)}}};var fo=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new co(this.lexer),this.astCompiler=n.csp?new fn(this.ast,e):new cn(this.ast,e)};fo.prototype={constructor:fo,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}};var ho=Object.prototype.valueOf,po=i("$sce"),go={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Ur=i("$compile"),mo=e.createElement("a"),vo=An(t.location.href);Dn.$inject=["$document"],In.$inject=["$provide"];var yo=22,bo=".",_o="0";jn.$inject=["$locale"],Un.$inject=["$locale"];var xo={yyyy:Yn("FullYear",4),yy:Yn("FullYear",2,0,!0),y:Yn("FullYear",1),MMMM:Bn("Month"),MMM:Bn("Month",!0),MM:Yn("Month",2,1),M:Yn("Month",1,1),dd:Yn("Date",2),d:Yn("Date",1),HH:Yn("Hours",2),H:Yn("Hours",1),hh:Yn("Hours",2,-12),h:Yn("Hours",1,-12),mm:Yn("Minutes",2),m:Yn("Minutes",1),ss:Yn("Seconds",2),s:Yn("Seconds",1),sss:Yn("Milliseconds",3),EEEE:Bn("Day"),EEE:Bn("Day",!0),a:Jn,Z:Vn,ww:Kn(2),w:Kn(1),G:Zn,GG:Zn,GGG:Zn,GGGG:Qn},wo=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,ko=/^\-?\d+$/;ti.$inject=["$locale"];var Eo=v(Ci),So=v(Mi);ii.$inject=["$parse"];var Co=v({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Fi.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),To={};o(wr,function(t,e){function n(t,n,r){t.$watch(r[i],function(t){r.$set(e,!!t)})}if("multiple"!=t){var i=he("ng-"+e),r=n;"checked"===t&&(r=function(t,e,r){r.ngModel!==r[i]&&n(t,e,r)}),To[i]=function(){return{restrict:"A",priority:100,link:r}}}}),o(Er,function(t,e){To[e]=function(){return{priority:100,link:function(t,n,i){if("ngPattern"===e&&"/"==i.ngPattern.charAt(0)){var r=i.ngPattern.match(Ei);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}t.$watch(i[e],function(t){i.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=he("ng-"+t);To[e]=function(){return{priority:99,link:function(n,i,r){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===Fi.call(i.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(e,function(e){return e?(r.$set(a,e),void(Oi&&o&&i.prop(o,r[a]))):void("href"===t&&r.$set(a,null))})}}}});var Mo={$addControl:g,$$renameControl:oi,$removeControl:g,$setValidity:g,$setDirty:g,$setPristine:g,$setSubmitted:g},Ao="ng-submitted";ai.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var $o=function(t){return["$timeout","$parse",function(e,i){function r(t){return""===t?i('this[""]').assign:i(t).assign||g}var o={name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:ai,compile:function(i,o){i.addClass(ha).addClass(ca);var a=o.name?"name":!(!t||!o.ngForm)&&"ngForm";return{pre:function(t,i,o,s){var u=s[0];if(!("action"in o)){var l=function(e){t.$apply(function(){u.$commitViewValue(),u.$setSubmitted()}),e.preventDefault()};lr(i[0],"submit",l),i.on("$destroy",function(){e(function(){cr(i[0],"submit",l)},0,!1)})}var c=s[1]||u.$$parentForm;c.$addControl(u);var h=a?r(u.$name):g;a&&(h(t,u),o.$observe(a,function(e){u.$name!==e&&(h(t,n),u.$$parentForm.$$renameControl(u,e),(h=r(u.$name))(t,u))})),i.on("$destroy",function(){u.$$parentForm.$removeControl(u),h(t,n),f(u,Mo)})}}}};return o}]},Oo=$o(),Do=$o(!0),No=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Io=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Lo=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Po=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Ro=/^(\d{4})-(\d{2})-(\d{2})$/,Fo=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,jo=/^(\d{4})-W(\d\d)$/,Uo=/^(\d{4})-(\d\d)$/,zo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ho="keydown wheel mousedown",qo=mt();o("date,datetime-local,month,time,week".split(","),function(t){qo[t]=!0});var Wo={text:ui,date:hi("date",Ro,fi(Ro,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":hi("datetimelocal",Fo,fi(Fo,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:hi("time",zo,fi(zo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:hi("week",jo,ci,"yyyy-Www"),month:hi("month",Uo,fi(Uo,["yyyy","MM"]),"yyyy-MM"),number:pi,url:gi,email:mi,radio:vi,checkbox:bi,hidden:g,button:g,submit:g,reset:g,file:g},Yo=["$browser","$sniffer","$filter","$parse",function(t,e,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,a,s){s[0]&&(Wo[Ci(a.type)]||Wo.text)(r,o,a,s[0],e,t,n,i)}}}}],Bo=/^(true|false|\d+)$/,Vo=function(){return{restrict:"A",priority:100,compile:function(t,e){return Bo.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},Xo=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,i){t.$$addBindingInfo(n,i.ngBind),n=n[0],e.$watch(i.ngBind,function(t){n.textContent=b(t)?"":t})}}}}],Go=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,i,r){var o=t(i.attr(r.$attr.ngBindTemplate));e.$$addBindingInfo(i,o.expressions),i=i[0],r.$observe("ngBindTemplate",function(t){i.textContent=b(t)?"":t})}}}}],Ko=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(i,r){var o=e(r.ngBindHtml),a=e(r.ngBindHtml,function(e){return t.valueOf(e)});return n.$$addBindingClass(i),function(e,i,r){n.$$addBindingInfo(i,r.ngBindHtml),e.$watch(a,function(){var n=o(e);i.html(t.getTrustedHtml(n)||"")})}}}}],Jo=v({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),Zo=_i("",!0),Qo=_i("Odd",0),ta=_i("Even",1),ea=ri({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),na=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ia={},ra={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=he("ng-"+t);ia[e]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var a=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var r=function(){a(e,{$event:n})};ra[t]&&i.$$phase?e.$evalAsync(r):e.$apply(r)})}}}}]});var oa=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,u,l;n.$watch(r.ngIf,function(n){n?u||a(function(n,o){u=o,n[n.length++]=e.createComment(" end ngIf: "+r.ngIf+" "),s={clone:n},t.enter(n,i.parent(),i)}):(l&&(l.remove(),l=null),u&&(u.$destroy(),u=null),s&&(l=gt(s.clone),t.leave(l).then(function(){l=null}),s=null))})}}}],aa=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:zi.noop,compile:function(i,r){var o=r.ngInclude||r.src,a=r.onload||"",s=r.autoscroll;return function(i,r,u,l,c){var f,h,d,p=0,g=function(){h&&(h.remove(),h=null),f&&(f.$destroy(),f=null),d&&(n.leave(d).then(function(){h=null}),h=d,d=null)};i.$watch(o,function(o){var u=function(){!_(s)||s&&!i.$eval(s)||e()},h=++p;o?(t(o,!0).then(function(t){if(!i.$$destroyed&&h===p){var e=i.$new();l.template=t;var s=c(e,function(t){g(),n.enter(t,null,r).then(u)});f=e,d=s,f.$emit("$includeContentLoaded",o),i.$eval(a)}},function(){i.$$destroyed||h===p&&(g(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(g(),l.template=null)})}}}}],sa=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){return/SVG/.test(i[0].toString())?(i.empty(),void t(Ct(o.template,e).childNodes)(n,function(t){i.append(t)},{futureParentElement:i})):(i.html(o.template),void t(i.contents())(n))}}}],ua=ri({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),la=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,i,r){var a=e.attr(i.$attr.ngList)||", ",s="false"!==i.ngTrim,u=s?Bi(a):a,l=function(t){if(!b(t)){var e=[];return t&&o(t.split(u),function(t){t&&e.push(s?Bi(t):t)}),e}};r.$parsers.push(l),r.$formatters.push(function(t){return Wi(t)?t.join(a):n}),r.$isEmpty=function(t){return!t||!t.length}}}},ca="ng-valid",fa="ng-invalid",ha="ng-pristine",da="ng-dirty",pa="ng-untouched",ga="ng-touched",ma="ng-pending",va=i("ngModel"),ya=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,i,r,a,s,u,l,c,f){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=f(i.name||"",!1)(t),this.$$parentForm=Mo;var h,d=a(i.ngModel),p=d.assign,m=d,v=p,y=null,x=this;this.$$setOptions=function(t){if(x.$options=t,t&&t.getterSetter){var e=a(i.ngModel+"()"),n=a(i.ngModel+"($$$p)");m=function(t){var n=d(t);return C(n)&&(n=e(t)),n},v=function(t,e){C(d(t))?n(t,{$$$p:x.$modelValue}):p(t,x.$modelValue)}}else if(!d.assign)throw va("nonassign","Expression '{0}' is non-assignable. Element: {1}",i.ngModel,Z(r))},this.$render=g,this.$isEmpty=function(t){return b(t)||""===t||null===t||t!==t};var w=0;xi({ctrl:this,$element:r,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},$animate:s}),this.$setPristine=function(){x.$dirty=!1,x.$pristine=!0,s.removeClass(r,da),s.addClass(r,ha)},this.$setDirty=function(){x.$dirty=!0,x.$pristine=!1,s.removeClass(r,ha),s.addClass(r,da),x.$$parentForm.$setDirty()},this.$setUntouched=function(){x.$touched=!1,x.$untouched=!0,s.setClass(r,pa,ga)},this.$setTouched=function(){x.$touched=!0,x.$untouched=!1,s.setClass(r,ga,pa)},this.$rollbackViewValue=function(){u.cancel(y),x.$viewValue=x.$$lastCommittedViewValue,x.$render()},this.$validate=function(){if(!E(x.$modelValue)||!isNaN(x.$modelValue)){var t=x.$$lastCommittedViewValue,e=x.$$rawModelValue,i=x.$valid,r=x.$modelValue,o=x.$options&&x.$options.allowInvalid;x.$$runValidators(e,t,function(t){o||i===t||(x.$modelValue=t?e:n,x.$modelValue!==r&&x.$$writeModelToScope())})}},this.$$runValidators=function(t,e,i){function r(){var t=x.$$parserName||"parse";return b(h)?(u(t,null),!0):(h||(o(x.$validators,function(t,e){u(e,null)}),o(x.$asyncValidators,function(t,e){u(e,null)})),u(t,h),h)}function a(){var n=!0;return o(x.$validators,function(i,r){var o=i(t,e);n=n&&o,u(r,o)}),!!n||(o(x.$asyncValidators,function(t,e){u(e,null)}),!1)}function s(){var i=[],r=!0;o(x.$asyncValidators,function(o,a){var s=o(t,e);if(!I(s))throw va("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);u(a,n),i.push(s.then(function(){u(a,!0)},function(t){r=!1,u(a,!1)}))}),i.length?c.all(i).then(function(){l(r)},g):l(!0)}function u(t,e){f===w&&x.$setValidity(t,e)}function l(t){f===w&&i(t)}w++;var f=w;return r()&&a()?void s():void l(!1)},this.$commitViewValue=function(){var t=x.$viewValue;u.cancel(y),(x.$$lastCommittedViewValue!==t||""===t&&x.$$hasNativeValidators)&&(x.$$lastCommittedViewValue=t,x.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){x.$modelValue!==a&&x.$$writeModelToScope()}var i=x.$$lastCommittedViewValue,r=i;if(h=!b(r)||n)for(var o=0;o<x.$parsers.length;o++)if(r=x.$parsers[o](r),b(r)){h=!1;break}E(x.$modelValue)&&isNaN(x.$modelValue)&&(x.$modelValue=m(t));var a=x.$modelValue,s=x.$options&&x.$options.allowInvalid;x.$$rawModelValue=r,s&&(x.$modelValue=r,e()),x.$$runValidators(r,x.$$lastCommittedViewValue,function(t){s||(x.$modelValue=t?r:n,e())})},this.$$writeModelToScope=function(){v(t,x.$modelValue),o(x.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){x.$viewValue=t,x.$options&&!x.$options.updateOnDefault||x.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,i=0,r=x.$options;r&&_(r.debounce)&&(n=r.debounce,E(n)?i=n:E(n[e])?i=n[e]:E(n["default"])&&(i=n["default"])),u.cancel(y),i?y=u(function(){x.$commitViewValue()},i):l.$$phase?x.$commitViewValue():t.$apply(function(){x.$commitViewValue()})},t.$watch(function(){var e=m(t);if(e!==x.$modelValue&&(x.$modelValue===x.$modelValue||e===e)){x.$modelValue=x.$$rawModelValue=e,h=n;for(var i=x.$formatters,r=i.length,o=e;r--;)o=i[r](o);x.$viewValue!==o&&(x.$viewValue=x.$$lastCommittedViewValue=o,x.$render(),x.$$runValidators(e,o,g))}return e})}],ba=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ya,priority:1,compile:function(e){return e.addClass(ha).addClass(pa).addClass(ca),{pre:function(t,e,n,i){var r=i[0],o=i[1]||r.$$parentForm;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",function(t){r.$name!==t&&r.$$parentForm.$$renameControl(r,t)}),t.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(e,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(n){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],_a=/(\s+|^)default(\s+|$)/,xa=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var n=this;this.$options=U(t.$eval(e.ngModelOptions)),_(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Bi(this.$options.updateOn.replace(_a,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},wa=ri({terminal:!0,priority:1e3}),ka=i("ngOptions"),Ea=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Sa=["$compile","$parse",function(t,n){function i(t,e,i){function o(t,e,n,i,r){this.selectValue=t,this.viewValue=e,this.label=n,this.group=i,this.disabled=r}function a(t){var e;if(!l&&r(t))e=t;else{e=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n)}return e}var s=t.match(Ea);if(!s)throw ka("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,Z(e));var u=s[5]||s[7],l=s[6],c=/ as /.test(s[0])&&s[1],f=s[9],h=n(s[2]?s[1]:u),d=c&&n(c),p=d||h,g=f&&n(f),m=f?function(t,e){return g(i,e)}:function(t){return Jt(t)},v=function(t,e){return m(t,k(t,e))},y=n(s[2]||s[1]),b=n(s[3]||""),_=n(s[4]||""),x=n(s[8]),w={},k=l?function(t,e){return w[l]=e,w[u]=t,w}:function(t){return w[u]=t,w};return{trackBy:f,getTrackByValue:v,getWatchables:n(x,function(t){var e=[];t=t||[];for(var n=a(t),r=n.length,o=0;o<r;o++){var u=t===n?o:n[o],l=(t[u],k(t[u],u)),c=m(t[u],l);if(e.push(c),s[2]||s[1]){var f=y(i,l);e.push(f)}if(s[4]){var h=_(i,l);e.push(h)}}return e}),getOptions:function(){for(var t=[],e={},n=x(i)||[],r=a(n),s=r.length,u=0;u<s;u++){var l=n===r?u:r[u],c=n[l],h=k(c,l),d=p(i,h),g=m(d,h),w=y(i,h),E=b(i,h),S=_(i,h),C=new o(g,d,w,E,S);t.push(C),e[g]=C}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[v(t)]},getViewValueFromOption:function(t){return f?zi.copy(t.viewValue):t.viewValue}}}}}function a(e,n,r,a){function l(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),t.value!==e.value&&(e.value=t.selectValue)}function c(t,e,n,i){var r;return e&&Ci(e.nodeName)===n?r=e:(r=i.cloneNode(!1),e?t.insertBefore(r,e):t.appendChild(r)),r}function f(t){for(var e;t;)e=t.nextSibling,qt(t),t=e}function h(t){var e=g&&g[0],n=w&&w[0];if(e||n)for(;t&&(t===e||t===n||t.nodeType===ir||"option"===F(t)&&""===t.value);)t=t.nextSibling;return t}function d(){var t=k&&m.readValue();k=E.getOptions();var e={},i=n[0].firstChild;if(x&&n.prepend(g),i=h(i),k.items.forEach(function(t){var r,o,a;t.group?(r=e[t.group],r||(o=c(n[0],i,"optgroup",u),i=o.nextSibling,o.label=t.group,r=e[t.group]={groupElement:o,currentOptionElement:o.firstChild}),a=c(r.groupElement,r.currentOptionElement,"option",s),l(t,a),r.currentOptionElement=a.nextSibling):(a=c(n[0],i,"option",s),l(t,a),i=a.nextSibling)}),Object.keys(e).forEach(function(t){f(e[t].currentOptionElement)}),f(i),p.$render(),!p.$isEmpty(t)){var r=m.readValue(),o=E.trackBy||v;(o?H(t,r):t===r)||(p.$setViewValue(r),p.$render())}}var p=a[1];if(p){for(var g,m=a[0],v=r.multiple,y=0,b=n.children(),_=b.length;y<_;y++)if(""===b[y].value){g=b.eq(y);break}var x=!!g,w=Di(s.cloneNode(!1));w.val("?");var k,E=i(r.ngOptions,n,e),S=function(){x||n.prepend(g),n.val(""),g.prop("selected",!0),g.attr("selected",!0)},C=function(){x||g.remove()},T=function(){n.prepend(w),n.val("?"),w.prop("selected",!0),w.attr("selected",!0)},M=function(){w.remove()};v?(p.$isEmpty=function(t){return!t||0===t.length},m.writeValue=function(t){k.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){var e=k.getOptionFromViewValue(t);e&&!e.disabled&&(e.element.selected=!0)})},m.readValue=function(){var t=n.val()||[],e=[];return o(t,function(t){var n=k.selectValueMap[t];n&&!n.disabled&&e.push(k.getViewValueFromOption(n))}),e},E.trackBy&&e.$watchCollection(function(){if(Wi(p.$viewValue))return p.$viewValue.map(function(t){return E.getTrackByValue(t)})},function(){p.$render()})):(m.writeValue=function(t){var e=k.getOptionFromViewValue(t);e&&!e.disabled?(n[0].value!==e.selectValue&&(M(),C(),n[0].value=e.selectValue,e.element.selected=!0),e.element.setAttribute("selected","selected")):null===t||x?(M(),S()):(C(),T())},m.readValue=function(){var t=k.selectValueMap[n.val()];return t&&!t.disabled?(C(),M(),k.getViewValueFromOption(t)):null},E.trackBy&&e.$watch(function(){return E.getTrackByValue(p.$viewValue)},function(){p.$render()})),x?(g.remove(),t(g)(e),g.removeClass("ng-scope")):g=Di(s.cloneNode(!1)),d(),e.$watchCollection(E.getWatchables,d)}}var s=e.createElement("option"),u=e.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:{pre:function(t,e,n,i){i[0].registerOption=g},post:a}}}],Ca=["$locale","$interpolate","$log",function(t,e,n){var i=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(a,s,u){function l(t){s.text(t||"")}var c,f=u.count,h=u.$attr.when&&s.attr(u.$attr.when),d=u.offset||0,p=a.$eval(h)||{},m={},v=e.startSymbol(),y=e.endSymbol(),_=v+f+"-"+d+y,x=zi.noop;o(u,function(t,e){var n=r.exec(e);if(n){var i=(n[1]?"-":"")+Ci(n[2]);p[i]=s.attr(u.$attr[e])}}),o(p,function(t,n){m[n]=e(t.replace(i,_))}),a.$watch(f,function(e){var i=parseFloat(e),r=isNaN(i);if(r||i in p||(i=t.pluralCat(i-d)),i!==c&&!(r&&E(c)&&isNaN(c))){x();var o=m[i];b(o)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+h),x=g,l()):x=a.$watch(o,l),c=i}})}}}],Ta=["$parse","$animate",function(t,a){var s="$$NG_REMOVED",u=i("ngRepeat"),l=function(t,e,n,i,r,o,a){t[n]=i,r&&(t[r]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},c=function(t){return t.clone[0]},f=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,h){var d=h.ngRepeat,p=e.createComment(" end ngRepeat: "+d+" "),g=d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!g)throw u("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",d);var m=g[1],v=g[2],y=g[3],b=g[4];if(g=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!g)throw u("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var _=g[3]||g[1],x=g[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw u("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);var w,k,E,S,C={$id:Jt};return b?w=t(b):(E=function(t,e){return Jt(e)},S=function(t){return t}),function(t,e,i,h,g){w&&(k=function(e,n,i){return x&&(C[x]=e),C[_]=n,C.$index=i,w(t,C)});var m=mt();t.$watchCollection(v,function(i){var h,v,b,w,C,T,M,A,$,O,D,N,I=e[0],L=mt();if(y&&(t[y]=i),r(i))$=i,A=k||E;else{A=k||S,$=[];for(var P in i)Ti.call(i,P)&&"$"!==P.charAt(0)&&$.push(P)}for(w=$.length,D=new Array(w),h=0;h<w;h++)if(C=i===$?h:$[h],T=i[C],M=A(C,T,h),m[M])O=m[M],delete m[M],L[M]=O,D[h]=O;else{if(L[M])throw o(D,function(t){t&&t.scope&&(m[t.id]=t)}),u("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",d,M,T);D[h]={id:M,scope:n,clone:n},L[M]=!0}for(var R in m){if(O=m[R],N=gt(O.clone),a.leave(N),N[0].parentNode)for(h=0,v=N.length;h<v;h++)N[h][s]=!0;O.scope.$destroy()}for(h=0;h<w;h++)if(C=i===$?h:$[h],T=i[C],O=D[h],O.scope){b=I;do b=b.nextSibling;while(b&&b[s]);c(O)!=b&&a.move(gt(O.clone),null,I),I=f(O),l(O.scope,h,_,T,x,C,w)}else g(function(t,e){O.scope=e;var n=p.cloneNode(!1);t[t.length++]=n,a.enter(t,null,I),I=n,O.clone=t,L[O.id]=O,l(O.scope,h,_,T,x,C,w)});m=L})}}}}],Ma="ng-hide",Aa="ng-hide-animate",$a=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngShow,function(e){t[e?"removeClass":"addClass"](n,Ma,{tempClasses:Aa})})}}}],Oa=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngHide,function(e){t[e?"addClass":"removeClass"](n,Ma,{tempClasses:Aa})})}}}],Da=ri(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),Na=["$animate",function(t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,a){var s=r.ngSwitch||r.on,u=[],l=[],c=[],f=[],h=function(t,e){return function(){t.splice(e,1)}};n.$watch(s,function(n){var i,r;for(i=0,r=c.length;i<r;++i)t.cancel(c[i]);for(c.length=0,i=0,r=f.length;i<r;++i){var s=gt(l[i].clone);f[i].$destroy();var d=c[i]=t.leave(s);d.then(h(c,i))}l.length=0,f.length=0,(u=a.cases["!"+n]||a.cases["?"])&&o(u,function(n){n.transclude(function(i,r){f.push(r);var o=n.element;i[i.length++]=e.createComment(" end ngSwitchWhen: ");var a={clone:i};l.push(a),t.enter(i,o.parent(),o)})})})}}}],Ia=ri({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:e})}}),La=ri({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),Pa=ri({restrict:"EAC",link:function(t,e,n,r,o){if(!o)throw i("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Z(e));o(function(t){e.empty(),e.append(t)})}}),Ra=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var i=n.id,r=e[0].text;t.put(i,r)}}}}],Fa={$setViewValue:g,$render:g},ja=["$element","$scope","$attrs",function(t,i,r){var o=this,a=new Zt;o.ngModelCtrl=Fa,o.unknownOption=Di(e.createElement("option")),o.renderUnknownOption=function(e){var n="? "+Jt(e)+" ?";o.unknownOption.val(n),t.prepend(o.unknownOption),t.val(n)},i.$on("$destroy",function(){o.renderUnknownOption=g}),o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.readValue=function(){return o.removeUnknownOption(),t.val()},o.writeValue=function(e){o.hasOption(e)?(o.removeUnknownOption(),t.val(e),""===e&&o.emptyOption.prop("selected",!0)):null==e&&o.emptyOption?(o.removeUnknownOption(),t.val("")):o.renderUnknownOption(e)},o.addOption=function(t,e){if(e[0].nodeType!==ir){dt(t,'"option value"'),""===t&&(o.emptyOption=e);var n=a.get(t)||0;a.put(t,n+1),o.ngModelCtrl.$render(),ki(e)}},o.removeOption=function(t){var e=a.get(t);e&&(1===e?(a.remove(t),""===t&&(o.emptyOption=n)):a.put(t,e-1))},o.hasOption=function(t){return!!a.get(t)},o.registerOption=function(t,e,n,i,r){if(i){var a;n.$observe("value",function(t){_(a)&&o.removeOption(a),a=t,o.addOption(t,e)})}else r?t.$watch(r,function(t,i){n.$set("value",t),i!==t&&o.removeOption(i),o.addOption(t,e)}):o.addOption(n.value,e);e.on("$destroy",function(){o.removeOption(n.value),o.ngModelCtrl.$render()})}}],Ua=function(){function t(t,e,n,i){var r=i[1];if(r){var a=i[0];if(a.ngModelCtrl=r,e.on("change",function(){t.$apply(function(){r.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var t=[];return o(e.find("option"),function(e){e.selected&&t.push(e.value)}),t},a.writeValue=function(t){var n=new Zt(t);o(e.find("option"),function(t){t.selected=_(n.get(t.value))})};var s,u=NaN;t.$watch(function(){u!==r.$viewValue||H(s,r.$viewValue)||(s=z(r.$viewValue),r.$render()),u=r.$viewValue}),r.$isEmpty=function(t){return!t||0===t.length}}}}function e(t,e,n,i){var r=i[1];if(r){var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:ja,priority:1,link:{pre:t,post:e}}},za=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){if(_(n.value))var i=t(n.value,!0);else{var r=t(e.text(),!0);r||n.$set("value",e.text())}return function(t,e,n){var o="$selectController",a=e.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(t,e,n,i,r)}}}}],Ha=v({restrict:"E",terminal:!1}),qa=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},Wa=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,r,o){if(o){var a,s=r.ngPattern||r.pattern;r.$observe("pattern",function(t){if(k(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,t,Z(e));a=t||n,o.$validate()}),o.$validators.pattern=function(t,e){return o.$isEmpty(e)||b(a)||a.test(e)}}}}},Ya=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=-1;n.$observe("maxlength",function(t){var e=d(t);r=isNaN(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(t,e){return r<0||i.$isEmpty(e)||e.length<=r}}}}},Ba=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",function(t){r=d(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}};return t.angular.bootstrap?void(t.console&&console.log("WARNING: Tried to load angular more than once.")):(ct(),_t(zi),zi.module("ngLocale",[],["$provide",function(t){function e(t){t+="";var e=t.indexOf(".");return e==-1?0:t.length-e-1}function i(t,i){var r=i;n===r&&(r=Math.min(e(t),3));var o=Math.pow(10,r),a=(t*o|0)%o;return{v:r,f:a}}var r={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var n=0|t,o=i(t,e);return 1==n&&0==o.v?r.ONE:r.OTHER}})}]),void Di(e).ready(function(){ot(e,at)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),/**
 * @license AngularJS v1.4.14
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function i(t){return e.lowercase(t.nodeName||t[0]&&t[0].nodeName)}function r(t,n,i){o.directive(t,["$parse","$swipe",function(r,o){var a=75,s=.3,u=30;return function(l,c,f){function h(t){if(!d)return!1;var e=Math.abs(t.y-d.y),i=(t.x-d.x)*n;return p&&e<a&&i>0&&i>u&&e/i<s}var d,p,g=r(f[t]),m=["touch"];e.isDefined(f.ngSwipeDisableMouse)||m.push("mouse"),o.bind(c,{start:function(t,e){d=t,p=!0},cancel:function(t){p=!1},end:function(t,e){h(t)&&l.$apply(function(){c.triggerHandler(i),g(l,{$event:e})})}},m)}}])}var o=e.module("ngTouch",[]);o.factory("$swipe",[function(){function t(t){var e=t.originalEvent||t,n=e.touches&&e.touches.length?e.touches:[e],i=e.changedTouches&&e.changedTouches[0]||n[0];return{x:i.clientX,y:i.clientY}}function n(t,n){var i=[];return e.forEach(t,function(t){var e=r[t][n];e&&i.push(e)}),i.join(" ")}var i=10,r={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(e,r,o){var a,s,u,l,c=!1;o=o||["mouse","touch"],e.on(n(o,"start"),function(e){u=t(e),c=!0,a=0,s=0,l=u,r.start&&r.start(u,e)});var f=n(o,"cancel");f&&e.on(f,function(t){c=!1,r.cancel&&r.cancel(t)}),e.on(n(o,"move"),function(e){if(c&&u){var n=t(e);if(a+=Math.abs(n.x-l.x),s+=Math.abs(n.y-l.y),l=n,!(a<i&&s<i))return s>a?(c=!1,void(r.cancel&&r.cancel(e))):(e.preventDefault(),void(r.move&&r.move(n,e)))}}),e.on(n(o,"end"),function(e){c&&(c=!1,r.end&&r.end(t(e),e))})}}}]),o.config(["$provide",function(t){t.decorator("ngClickDirective",["$delegate",function(t){return t.shift(),t}])}]),o.directive("ngClick",["$parse","$timeout","$rootElement",function(t,n,r){function o(t,e,n,i){return Math.abs(t-n)<m&&Math.abs(e-i)<m}function a(t,e,n){for(var i=0;i<t.length;i+=2)if(o(t[i],t[i+1],e,n))return t.splice(i,i+2),!0;return!1}function s(t){if(!(Date.now()-c>g)){var e=t.touches&&t.touches.length?t.touches:[t],n=e[0].clientX,r=e[0].clientY;n<1&&r<1||h&&h[0]===n&&h[1]===r||(h&&(h=null),"label"===i(t.target)&&(h=[n,r]),a(f,n,r)||(t.stopPropagation(),t.preventDefault(),t.target&&t.target.blur&&t.target.blur()))}}function u(t){var e=t.touches&&t.touches.length?t.touches:[t],i=e[0].clientX,r=e[0].clientY;f.push(i,r),n(function(){for(var t=0;t<f.length;t+=2)if(f[t]==i&&f[t+1]==r)return void f.splice(t,t+2)},g,!1)}function l(t,e){f||(r[0].addEventListener("click",s,!0),r[0].addEventListener("touchstart",u,!0),f=[]),c=Date.now(),a(f,t,e)}var c,f,h,d=750,p=12,g=2500,m=25,v="ng-click-active";return function(n,i,r){function o(){h=!1,i.removeClass(v)}var a,s,u,c,f=t(r.ngClick),h=!1;i.on("touchstart",function(t){h=!0,a=t.target?t.target:t.srcElement,3==a.nodeType&&(a=a.parentNode),i.addClass(v),s=Date.now();var e=t.originalEvent||t,n=e.touches&&e.touches.length?e.touches:[e],r=n[0];u=r.clientX,c=r.clientY}),i.on("touchcancel",function(t){o()}),i.on("touchend",function(t){var n=Date.now()-s,f=t.originalEvent||t,g=f.changedTouches&&f.changedTouches.length?f.changedTouches:f.touches&&f.touches.length?f.touches:[f],m=g[0],v=m.clientX,y=m.clientY,b=Math.sqrt(Math.pow(v-u,2)+Math.pow(y-c,2));h&&n<d&&b<p&&(l(v,y),a&&a.blur(),e.isDefined(r.disabled)&&r.disabled!==!1||i.triggerHandler("click",[t])),o()}),i.onclick=function(t){},i.on("click",function(t,e){n.$apply(function(){f(n,{$event:e||t})})}),i.on("mousedown",function(t){i.addClass(v)}),i.on("mousemove mouseup",function(t){i.removeClass(v)})}}]),r("ngSwipeLeft",-1,"swipeleft"),r("ngSwipeRight",1,"swiperight")}(window,window.angular),/**
 * @license AngularJS v1.4.14
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";/*
 * HTML Parser By Misko Hevery (misko@hevery.com)
 * based on:  HTML Parser By John Resig (ejohn.org)
 * Original code by Erik Arvidsson, Mozilla Public License
 * http://erik.eae.net/simplehtmlparser/simplehtmlparser.js
 *
 * // Use like so:
 * htmlParser(htmlString, {
 *     start: function(tag, attrs, unary) {},
 *     end: function(tag) {},
 *     chars: function(text) {},
 *     comment: function(text) {}
 * });
 *
 */
function i(){this.$get=["$$sanitizeUri",function(t){return function(e){var n=[];return a(e,l(n,function(e,n){return!/^unsafe/.test(t(e,n))})),n.join("")}}]}function r(t){var n=[],i=l(n,e.noop);return i.chars(t),n.join("")}function o(t,n){var i,r={},o=t.split(",");for(i=0;i<o.length;i++)r[n?e.lowercase(o[i]):o[i]]=!0;return r}function a(t,n){function i(t,i,o,a){if(i=e.lowercase(i),S[i])for(;b.last()&&C[b.last()];)r("",b.last());E[i]&&b.last()==i&&r("",i),a=x[i]||!!a,a||b.push(i);var u={};o.replace(d,function(t,e,n,i,r){var o=n||i||r||"";u[e]=s(o)}),n.start&&n.start(i,u,a)}function r(t,i){var r,o=0;if(i=e.lowercase(i))for(o=b.length-1;o>=0&&b[o]!=i;o--);if(o>=0){for(r=b.length-1;r>=o;r--)n.end&&n.end(b[r]);b.length=o}}"string"!=typeof t&&(t=null===t||"undefined"==typeof t?"":""+t);var o,a,u,l,b=[],_=t;for(b.last=function(){return b[b.length-1]};t;){if(l="",a=!0,b.last()&&M[b.last()]?(t=t.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+b.last()+"[^>]*>","i"),function(t,e){return e=e.replace(m,"$1").replace(y,"$1"),n.chars&&n.chars(s(e)),""}),r("",b.last())):(0===t.indexOf("<!--")?(o=t.indexOf("--",4),o>=0&&t.lastIndexOf("-->",o)===o&&(n.comment&&n.comment(t.substring(4,o)),t=t.substring(o+3),a=!1)):v.test(t)?(u=t.match(v),u&&(t=t.replace(u[0],""),a=!1)):g.test(t)?(u=t.match(h),u&&(t=t.substring(u[0].length),u[0].replace(h,r),a=!1)):p.test(t)&&(u=t.match(f),u?(u[4]&&(t=t.substring(u[0].length),u[0].replace(f,i)),a=!1):(l+="<",t=t.substring(1))),a&&(o=t.indexOf("<"),l+=o<0?t:t.substring(0,o),t=o<0?"":t.substring(o),n.chars&&n.chars(s(l)))),t==_)throw c("badparse","The sanitizer was unable to parse the following block of html: {0}",t);_=t}r()}function s(t){return t?(I.innerHTML=t.replace(/</g,"&lt;"),I.textContent):""}function u(t){return t.replace(/&/g,"&amp;").replace(b,function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+(1024*(e-55296)+(n-56320)+65536)+";"}).replace(_,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(t,n){var i=!1,r=e.bind(t,t.push);return{start:function(t,o,a){t=e.lowercase(t),!i&&M[t]&&(i=t),i||A[t]!==!0||(r("<"),r(t),e.forEach(o,function(i,o){var a=e.lowercase(o),s="img"===t&&"src"===a||"background"===a;N[a]!==!0||$[a]===!0&&!n(i,s)||(r(" "),r(o),r('="'),r(u(i)),r('"'))}),r(a?"/>":">"))},end:function(t){t=e.lowercase(t),i||A[t]!==!0||(r("</"),r(t),r(">")),t==i&&(i=!1)},chars:function(t){i||r(u(t))}}}var c=e.$$minErr("$sanitize"),f=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,h=/^<\/\s*([\w:-]+)[^>]*>/,d=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,p=/^</,g=/^<\//,m=/<!--(.*?)-->/g,v=/<!DOCTYPE([^>]*?)>/i,y=/<!\[CDATA\[(.*?)]]>/g,b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_=/([^\#-~| |!])/g,x=o("area,br,col,hr,img,wbr"),w=o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),k=o("rp,rt"),E=e.extend({},k,w),S=e.extend({},w,o("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),C=e.extend({},k,o("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),T=o("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),M=o("script,style"),A=e.extend({},x,S,C,E,T),$=o("background,cite,href,longdesc,src,usemap,xlink:href"),O=o("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),D=o("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),N=e.extend({},$,D,O),I=document.createElement("pre");e.module("ngSanitize",[]).provider("$sanitize",i),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i;return function(o,a){function s(t){t&&d.push(r(t))}function u(t,n){d.push("<a "),e.isDefined(a)&&d.push('target="',a,'" '),d.push('href="',t.replace(/"/g,"&quot;"),'">'),s(n),d.push("</a>")}if(!o)return o;for(var l,c,f,h=o,d=[];l=h.match(n);)c=l[0],l[2]||l[4]||(c=(l[3]?"http://":"mailto:")+c),f=l.index,s(h.substr(0,f)),u(c,l[0].replace(i,"")),h=h.substring(f+l[0].length);return s(h),t(d.join(""))}}])}(window,window.angular),/*! jQuery UI - v1.12.1 - 2016-09-14
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}function n(t){for(var e,n;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=r(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function r(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",n,function(){t(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,o)}function o(){t.datepicker._isDisabledDatepicker(m.inline?m.dpDiv.parent()[0]:m.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).addClass("ui-datepicker-next-hover"))}function a(e,n){t.extend(e,n);for(var i in n)null==n[i]&&(e[i]=n[i]);return e}/*!
 * jQuery UI Spinner 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function s(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{};var u=(t.ui.version="1.12.1",0),l=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{i=t._data(r,"events"),i&&i.remove&&t(r).triggerHandler("remove")}catch(a){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var r,o,a,s={},u=e.split(".")[0];e=e.split(".")[1];var l=u+"-"+e;return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][l.toLowerCase()]=function(e){return!!t.data(e,l)},t[u]=t[u]||{},r=t[u][e],o=t[u][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},t.extend(o,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),a=new n,a.options=t.widget.extend({},a.options),t.each(i,function(e,i){return t.isFunction(i)?void(s[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()):void(s[e]=i)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:r?a.widgetEventPrefix||e:e},s,{constructor:o,namespace:u,widgetName:e,widgetFullName:l}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete r._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var n,i,r=l.call(arguments,1),o=0,a=r.length;o<a;o++)for(n in r[o])i=r[o][n],r[o].hasOwnProperty(n)&&void 0!==i&&(t.isPlainObject(i)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):e[n]=i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(r){var o="string"==typeof r,a=l.call(arguments,1),s=this;return o?this.length||"instance"!==r?this.each(function(){var n,o=t.data(this,i);return"instance"===r?(s=o,!1):o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,a),n!==o&&void 0!==n?(s=n&&n.jquery?s.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):s=void 0:(a.length&&(r=t.widget.extend.apply(null,[r].concat(a))),this.each(function(){var e=t.data(this,i);e?(e.option(r||{}),e._init&&e._init()):t.data(this,i,new n(r,this))})),s}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=u++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},i=e.split("."),e=i.shift(),i.length){for(r=a[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,r;for(n in e)r=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&r&&r.length&&(i=t(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function n(n,o){var a,s;for(s=0;s<n.length;s++)a=r.classesElementLookup[n[s]]||t(),a=t(e.add?t.unique(a.get().concat(e.element.get())):a.not(e.element).get()),r.classesElementLookup[n[s]]=a,i.push(n[s]),o&&e.classes[n[s]]&&i.push(e.classes[n[s]])}var i=[],r=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&n(e.keys.match(/\S+/g)||[],!0),e.extra&&n(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,function(i,r){t.inArray(e.target,r)!==-1&&(n.classesElementLookup[i]=t(r.not(e.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,a){function s(){if(e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var u=i.match(/^([\w:-]*)\s*(.*)$/),l=u[1]+o.eventNamespace,c=u[2];c?r.on(l,c,s):n.on(l,s)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var r,o,a=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(a)&&a.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?r===!0||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),a=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&t.effects&&t.effects.effect[s]?i[e](r):s!==e&&i[s]?i[s](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}});t.widget;/*!
 * jQuery UI Position 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
!function(){function e(t,e,n){return[parseFloat(t[0])*(f.test(t[0])?e/100:1),parseFloat(t[1])*(f.test(t[1])?n/100:1)]}function n(e,n){return parseInt(t.css(e,n),10)||0}function i(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var r,o=Math.max,a=Math.abs,s=/left|center|right/,u=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,f=/%$/,h=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==r)return r;var e,n,i=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=i.children()[0];return t("body").append(i),e=o.offsetWidth,i.css("overflow","scroll"),n=o.offsetWidth,e===n&&(n=i[0].clientWidth),i.remove(),r=e-n},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth,o="scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType,o=!i&&!r;return{element:n,isWindow:i,isDocument:r,offset:o?t(e).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},t.fn.position=function(r){if(!r||!r.of)return h.apply(this,arguments);r=t.extend({},r);var f,d,p,g,m,v,y=t(r.of),b=t.position.getWithinInfo(r.within),_=t.position.getScrollInfo(b),x=(r.collision||"flip").split(" "),w={};return v=i(y),y[0].preventDefault&&(r.at="left top"),d=v.width,p=v.height,g=v.offset,m=t.extend({},g),t.each(["my","at"],function(){var t,e,n=(r[this]||"").split(" ");1===n.length&&(n=s.test(n[0])?n.concat(["center"]):u.test(n[0])?["center"].concat(n):["center","center"]),n[0]=s.test(n[0])?n[0]:"center",n[1]=u.test(n[1])?n[1]:"center",t=l.exec(n[0]),e=l.exec(n[1]),w[this]=[t?t[0]:0,e?e[0]:0],r[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===r.at[0]?m.left+=d:"center"===r.at[0]&&(m.left+=d/2),"bottom"===r.at[1]?m.top+=p:"center"===r.at[1]&&(m.top+=p/2),f=e(w.at,d,p),m.left+=f[0],m.top+=f[1],this.each(function(){var i,s,u=t(this),l=u.outerWidth(),c=u.outerHeight(),h=n(this,"marginLeft"),v=n(this,"marginTop"),k=l+h+n(this,"marginRight")+_.width,E=c+v+n(this,"marginBottom")+_.height,S=t.extend({},m),C=e(w.my,u.outerWidth(),u.outerHeight());"right"===r.my[0]?S.left-=l:"center"===r.my[0]&&(S.left-=l/2),"bottom"===r.my[1]?S.top-=c:"center"===r.my[1]&&(S.top-=c/2),S.left+=C[0],S.top+=C[1],i={marginLeft:h,marginTop:v},t.each(["left","top"],function(e,n){t.ui.position[x[e]]&&t.ui.position[x[e]][n](S,{targetWidth:d,targetHeight:p,elemWidth:l,elemHeight:c,collisionPosition:i,collisionWidth:k,collisionHeight:E,offset:[f[0]+C[0],f[1]+C[1]],my:r.my,at:r.at,within:b,elem:u})}),r.using&&(s=function(t){var e=g.left-S.left,n=e+d-l,i=g.top-S.top,s=i+p-c,f={target:{element:y,left:g.left,top:g.top,width:d,height:p},element:{element:u,left:S.left,top:S.top,width:l,height:c},horizontal:n<0?"left":e>0?"right":"center",vertical:s<0?"top":i>0?"bottom":"middle"};d<l&&a(e+n)<d&&(f.horizontal="center"),p<c&&a(i+s)<p&&(f.vertical="middle"),o(a(e),a(n))>o(a(i),a(s))?f.important="horizontal":f.important="vertical",r.using.call(this,t,f)}),u.offset(t.extend(S,{using:s}))})},t.ui.position={fit:{left:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollLeft:i.offset.left,a=i.width,s=t.left-e.collisionPosition.marginLeft,u=r-s,l=s+e.collisionWidth-a-r;e.collisionWidth>a?u>0&&l<=0?(n=t.left+u+e.collisionWidth-a-r,t.left+=u-n):l>0&&u<=0?t.left=r:u>l?t.left=r+a-e.collisionWidth:t.left=r:u>0?t.left+=u:l>0?t.left-=l:t.left=o(t.left-s,t.left)},top:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollTop:i.offset.top,a=e.within.height,s=t.top-e.collisionPosition.marginTop,u=r-s,l=s+e.collisionHeight-a-r;e.collisionHeight>a?u>0&&l<=0?(n=t.top+u+e.collisionHeight-a-r,t.top+=u-n):l>0&&u<=0?t.top=r:u>l?t.top=r+a-e.collisionHeight:t.top=r:u>0?t.top+=u:l>0?t.top-=l:t.top=o(t.top-s,t.top)}},flip:{left:function(t,e){var n,i,r=e.within,o=r.offset.left+r.scrollLeft,s=r.width,u=r.isWindow?r.scrollLeft:r.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-u,f=l+e.collisionWidth-s-u,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];c<0?(n=t.left+h+d+p+e.collisionWidth-s-o,(n<0||n<a(c))&&(t.left+=h+d+p)):f>0&&(i=t.left-e.collisionPosition.marginLeft+h+d+p-u,(i>0||a(i)<f)&&(t.left+=h+d+p))},top:function(t,e){var n,i,r=e.within,o=r.offset.top+r.scrollTop,s=r.height,u=r.isWindow?r.scrollTop:r.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-u,f=l+e.collisionHeight-s-u,h="top"===e.my[1],d=h?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];c<0?(i=t.top+d+p+g+e.collisionHeight-s-o,(i<0||i<a(c))&&(t.top+=d+p+g)):f>0&&(n=t.top-e.collisionPosition.marginTop+d+p+g-u,(n>0||a(n)<f)&&(t.top+=d+p+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}();var c=(t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}}),"ui-effects-"),f="ui-effects-style",h="ui-effects-animated",d=t;t.effects={effect:{}},/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
function(t,e){function n(t,e,n){var i=f[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:i.max<t?i.max:t)}function i(e){var n=l(),i=n._rgba=[];return e=e.toLowerCase(),p(u,function(t,r){var o,a=r.re.exec(e),s=a&&r.parse(a),u=r.space||"rgba";if(s)return o=n[u](s),n[c[u].cache]=o[c[u].cache],i=n._rgba=o._rgba,!1}),i.length?("0,0,0,0"===i.join()&&t.extend(i,o.transparent),n):o[e]}function r(t,e,n){return n=(n+1)%1,6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",s=/^([\-+])=\s*(\d+\.?\d*)/,u=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,n,i,r){return new t.Color.fn.parse(e,n,i,r)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},f={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=l.support={},d=t("<p>")[0],p=t.each;d.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=d.style.backgroundColor.indexOf("rgba")>-1,p(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(r,a,s,u){if(r===e)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(a),a=e);var f=this,h=t.type(r),d=this._rgba=[];return a!==e&&(r=[r,a,s,u],h="array"),"string"===h?this.parse(i(r)||o._default):"array"===h?(p(c.rgba.props,function(t,e){d[e.idx]=n(r[e.idx],e)}),this):"object"===h?(r instanceof l?p(c,function(t,e){r[e.cache]&&(f[e.cache]=r[e.cache].slice())}):p(c,function(e,i){var o=i.cache;p(i.props,function(t,e){if(!f[o]&&i.to){if("alpha"===t||null==r[t])return;f[o]=i.to(f._rgba)}f[o][e.idx]=n(r[t],e,!0)}),f[o]&&t.inArray(null,f[o].slice(0,3))<0&&(f[o][3]=1,i.from&&(f._rgba=i.from(f[o])))}),this):void 0},is:function(t){var e=l(t),n=!0,i=this;return p(c,function(t,r){var o,a=e[r.cache];return a&&(o=i[r.cache]||r.to&&r.to(i._rgba)||[],p(r.props,function(t,e){if(null!=a[e.idx])return n=a[e.idx]===o[e.idx]})),n}),n},_space:function(){var t=[],e=this;return p(c,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var i=l(t),r=i._space(),o=c[r],a=0===this.alpha()?l("transparent"):this,s=a[o.cache]||o.to(a._rgba),u=s.slice();return i=i[o.cache],p(o.props,function(t,r){var o=r.idx,a=s[o],l=i[o],c=f[r.type]||{};null!==l&&(null===a?u[o]=l:(c.mod&&(l-a>c.mod/2?a+=c.mod:a-l>c.mod/2&&(a-=c.mod)),u[o]=n((l-a)*e+a,r)))}),this[r](u)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=l(e)._rgba;return l(t.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,a=t[3],s=Math.max(i,r,o),u=Math.min(i,r,o),l=s-u,c=s+u,f=.5*c;return e=u===s?0:i===s?60*(r-o)/l+360:r===s?60*(o-i)/l+120:60*(i-r)/l+240,n=0===l?0:f<=.5?l/c:l/(2-c),[Math.round(e)%360,n,f,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],o=t[3],a=i<=.5?i*(1+n):i+n-i*n,s=2*i-a;return[Math.round(255*r(s,a,e+1/3)),Math.round(255*r(s,a,e)),Math.round(255*r(s,a,e-1/3)),o]},p(c,function(i,r){var o=r.props,a=r.cache,u=r.to,c=r.from;l.fn[i]=function(i){if(u&&!this[a]&&(this[a]=u(this._rgba)),i===e)return this[a].slice();var r,s=t.type(i),f="array"===s||"object"===s?i:arguments,h=this[a].slice();return p(o,function(t,e){var i=f["object"===s?t:e.idx];null==i&&(i=h[e.idx]),h[e.idx]=n(i,e)}),c?(r=l(c(h)),r[a]=h,r):l(h)},p(o,function(e,n){l.fn[e]||(l.fn[e]=function(r){var o,a=t.type(r),u="alpha"===e?this._hsla?"hsla":"rgba":i,l=this[u](),c=l[n.idx];return"undefined"===a?c:("function"===a&&(r=r.call(this,c),a=t.type(r)),null==r&&n.empty?this:("string"===a&&(o=s.exec(r),o&&(r=c+parseFloat(o[2])*("+"===o[1]?1:-1))),l[n.idx]=r,this[u](l)))})})}),l.hook=function(e){var n=e.split(" ");p(n,function(e,n){t.cssHooks[n]={set:function(e,r){var o,a,s="";if("transparent"!==r&&("string"!==t.type(r)||(o=i(r)))){if(r=l(o||r),!h.rgba&&1!==r._rgba[3]){for(a="backgroundColor"===n?e.parentNode:e;(""===s||"transparent"===s)&&a&&a.style;)try{s=t.css(a,"backgroundColor"),a=a.parentNode}catch(u){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{e.style[n]=r}catch(u){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=l(e.elem,n),e.end=l(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return p(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(d),function(){function e(e){var n,i,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(o[t.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}function n(e,n){var i,o,a={};for(i in n)o=n[i],e[i]!==o&&(r[i]||!t.fx.step[i]&&isNaN(parseFloat(o))||(a[i]=o));return a}var i=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(d.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(r,o,a,s){var u=t.speed(o,a,s);return this.queue(function(){var o,a=t(this),s=a.attr("class")||"",l=u.children?a.find("*").addBack():a;l=l.map(function(){var n=t(this);return{el:n,start:e(this)}}),o=function(){t.each(i,function(t,e){r[e]&&a[e+"Class"](r[e])})},o(),l=l.map(function(){return this.end=e(this.el[0]),this.diff=n(this.start,this.end),this}),a.attr("class",s),l=l.map(function(){var e=this,n=t.Deferred(),i=t.extend({},u,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),u.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(n,i,r,o){return i?t.effects.animateClass.call(this,{add:n},i,r,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,i,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,r,o,a){return"boolean"==typeof i||void 0===i?r?t.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,r,o)}}(t.fn.toggleClass),switchClass:function(e,n,i,r,o){return t.effects.animateClass.call(this,{add:n,remove:e},i,r,o)}})}(),function(){function e(e,n,i,r){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(r=i,i=n,n={}),t.isFunction(i)&&(r=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=r||n.complete,e}function n(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}function i(t,e){var n=e.outerWidth(),i=e.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,o=r.exec(t)||["",0,n,i,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?n:parseFloat(o[2]),bottom:"auto"===o[3]?i:parseFloat(o[3]),left:parseFloat(o[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(n){return!!t(n).data(h)||e(n)}}(t.expr.filters.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(t,e){for(var n=0,i=e.length;n<i;n++)null!==e[n]&&t.data(c+e[n],t[0].style[e[n]])},restore:function(t,e){for(var n,i=0,r=e.length;i<r;i++)null!==e[i]&&(n=t.data(c+e[i]),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(i),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,n,i){return i||(i=n,n="effect"),t.effects.effect[e]=i,t.effects.effect[e].mode=n,i},scaledDimensions:function(t,e,n){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(e||100)/100:1,r="vertical"!==n?(e||100)/100:1;return{height:t.height()*r,width:t.width()*i,outerHeight:t.outerHeight()*r,outerWidth:t.outerWidth()*i}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,n){var i=t.queue();e>1&&i.splice.apply(i,[1,0].concat(i.splice(e,n))),t.dequeue()},saveStyle:function(t){t.data(f,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(f)||"",t.removeData(f)},mode:function(t,e){var n=t.is(":hidden");return"toggle"===e&&(e=n?"show":"hide"),(n?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createPlaceholder:function(e){var n,i=e.css("position"),r=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",n=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),"float":e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(c+"placeholder",n)),e.css({position:i,left:r.left,top:r.top}),n},removePlaceholder:function(t){var e=c+"placeholder",n=t.data(e);n&&(n.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,n,i,r){return r=r||{},t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),t.fn.extend({effect:function(){function n(e){function n(){s.removeData(h),t.effects.cleanUp(s),"hide"===i.mode&&s.hide(),a()}function a(){t.isFunction(u)&&u.call(s[0]),t.isFunction(e)&&e()}var s=t(this);i.mode=c.shift(),t.uiBackCompat===!1||o?"none"===i.mode?(s[l](),a()):r.call(s[0],i,n):(s.is(":hidden")?"hide"===l:"show"===l)?(s[l](),a()):r.call(s[0],i,a)}var i=e.apply(this,arguments),r=t.effects.effect[i.effect],o=r.mode,a=i.queue,s=a||"fx",u=i.complete,l=i.mode,c=[],f=function(e){var n=t(this),i=t.effects.mode(n,l)||o;n.data(h,!0),c.push(i),o&&("show"===i||i===o&&"hide"===i)&&n.show(),o&&"none"===i||t.effects.saveStyle(n),t.isFunction(e)&&e()};return t.fx.off||!r?l?this[l](i.duration,u):this.each(function(){u&&u.call(this)}):a===!1?this.each(f).each(n):this.queue(s,f).queue(s,n)},show:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(i){if(n(i)||"boolean"==typeof i)return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):i(this.css("clip"),this)},transfer:function(e,n){var i=t(this),r=t(e.to),o="fixed"===r.css("position"),a=t("body"),s=o?a.scrollTop():0,u=o?a.scrollLeft():0,l=r.offset(),c={top:l.top-s,left:l.left-u,height:r.innerHeight(),width:r.innerWidth()},f=i.offset(),h=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:f.top-s,left:f.left-u,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){h.remove(),t.isFunction(n)&&n()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=i(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?n(2*t)/2:1-n(t*-2+2)/2}})}();var p,p=t.effects;t.effects.define("blind","hide",function(e,n){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=t(this),o=e.direction||"up",a=r.cssClip(),s={clip:t.extend({},a)},u=t.effects.createPlaceholder(r);s.clip[i[o][0]]=s.clip[i[o][1]],"show"===e.mode&&(r.cssClip(s.clip),u&&u.css(t.effects.clipToBox(s)),s.clip=a),u&&u.animate(t.effects.clipToBox(s),e.duration,e.easing),r.animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("bounce",function(e,n){var i,r,o,a=t(this),s=e.mode,u="hide"===s,l="show"===s,c=e.direction||"up",f=e.distance,h=e.times||5,d=2*h+(l||u?1:0),p=e.duration/d,g=e.easing,m="up"===c||"down"===c?"top":"left",v="up"===c||"left"===c,y=0,b=a.queue().length;for(t.effects.createPlaceholder(a),o=a.css(m),f||(f=a["top"===m?"outerHeight":"outerWidth"]()/3),l&&(r={opacity:1},r[m]=o,a.css("opacity",0).css(m,v?2*-f:2*f).animate(r,p,g)),u&&(f/=Math.pow(2,h-1)),r={},r[m]=o;y<h;y++)i={},i[m]=(v?"-=":"+=")+f,a.animate(i,p,g).animate(r,p,g),f=u?2*f:f/2;u&&(i={opacity:0},i[m]=(v?"-=":"+=")+f,a.animate(i,p,g)),a.queue(n),t.effects.unshift(a,b,d+1)}),t.effects.define("clip","hide",function(e,n){var i,r={},o=t(this),a=e.direction||"vertical",s="both"===a,u=s||"horizontal"===a,l=s||"vertical"===a;i=o.cssClip(),r.clip={top:l?(i.bottom-i.top)/2:i.top,right:u?(i.right-i.left)/2:i.right,bottom:l?(i.bottom-i.top)/2:i.bottom,left:u?(i.right-i.left)/2:i.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(r.clip),r.clip=i),o.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("drop","hide",function(e,n){var i,r=t(this),o=e.mode,a="show"===o,s=e.direction||"left",u="up"===s||"down"===s?"top":"left",l="up"===s||"left"===s?"-=":"+=",c="+="===l?"-=":"+=",f={opacity:0};t.effects.createPlaceholder(r),i=e.distance||r["top"===u?"outerHeight":"outerWidth"](!0)/2,f[u]=l+i,a&&(r.css(f),f[u]=c+i,f.opacity=1),r.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("explode","hide",function(e,n){function i(){b.push(this),b.length===f*h&&r()}function r(){d.css({visibility:"visible"}),t(b).remove(),n()}var o,a,s,u,l,c,f=e.pieces?Math.round(Math.sqrt(e.pieces)):3,h=f,d=t(this),p=e.mode,g="show"===p,m=d.show().css("visibility","hidden").offset(),v=Math.ceil(d.outerWidth()/h),y=Math.ceil(d.outerHeight()/f),b=[];for(o=0;o<f;o++)for(u=m.top+o*y,c=o-(f-1)/2,a=0;a<h;a++)s=m.left+a*v,l=a-(h-1)/2,d.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*v,top:-o*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:s+(g?l*v:0),top:u+(g?c*y:0),opacity:g?0:1}).animate({left:s+(g?0:l*v),top:u+(g?0:c*y),opacity:g?1:0},e.duration||500,e.easing,i)}),t.effects.define("fade","toggle",function(e,n){var i="show"===e.mode;t(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("fold","hide",function(e,n){var i=t(this),r=e.mode,o="show"===r,a="hide"===r,s=e.size||15,u=/([0-9]+)%/.exec(s),l=!!e.horizFirst,c=l?["right","bottom"]:["bottom","right"],f=e.duration/2,h=t.effects.createPlaceholder(i),d=i.cssClip(),p={clip:t.extend({},d)},g={clip:t.extend({},d)},m=[d[c[0]],d[c[1]]],v=i.queue().length;u&&(s=parseInt(u[1],10)/100*m[a?0:1]),p.clip[c[0]]=s,g.clip[c[0]]=s,g.clip[c[1]]=0,o&&(i.cssClip(g.clip),h&&h.css(t.effects.clipToBox(g)),g.clip=d),i.queue(function(n){h&&h.animate(t.effects.clipToBox(p),f,e.easing).animate(t.effects.clipToBox(g),f,e.easing),n()}).animate(p,f,e.easing).animate(g,f,e.easing).queue(n),t.effects.unshift(i,v,4)}),t.effects.define("highlight","show",function(e,n){var i=t(this),r={backgroundColor:i.css("backgroundColor")};"hide"===e.mode&&(r.opacity=0),t.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("size",function(e,n){var i,r,o,a=t(this),s=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,f="effect"!==c,h=e.scale||"both",d=e.origin||["middle","center"],p=a.css("position"),g=a.position(),m=t.effects.scaledDimensions(a),v=e.from||m,y=e.to||t.effects.scaledDimensions(a,0);t.effects.createPlaceholder(a),"show"===c&&(o=v,v=y,y=o),r={from:{y:v.height/m.height,x:v.width/m.width},to:{y:y.height/m.height,x:y.width/m.width}},"box"!==h&&"both"!==h||(r.from.y!==r.to.y&&(v=t.effects.setTransition(a,u,r.from.y,v),y=t.effects.setTransition(a,u,r.to.y,y)),r.from.x!==r.to.x&&(v=t.effects.setTransition(a,l,r.from.x,v),y=t.effects.setTransition(a,l,r.to.x,y))),"content"!==h&&"both"!==h||r.from.y!==r.to.y&&(v=t.effects.setTransition(a,s,r.from.y,v),y=t.effects.setTransition(a,s,r.to.y,y)),d&&(i=t.effects.getBaseline(d,m),v.top=(m.outerHeight-v.outerHeight)*i.y+g.top,v.left=(m.outerWidth-v.outerWidth)*i.x+g.left,y.top=(m.outerHeight-y.outerHeight)*i.y+g.top,y.left=(m.outerWidth-y.outerWidth)*i.x+g.left),a.css(v),"content"!==h&&"both"!==h||(u=u.concat(["marginTop","marginBottom"]).concat(s),l=l.concat(["marginLeft","marginRight"]),a.find("*[width]").each(function(){var n=t(this),i=t.effects.scaledDimensions(n),o={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},a={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x};r.from.y!==r.to.y&&(o=t.effects.setTransition(n,u,r.from.y,o),a=t.effects.setTransition(n,u,r.to.y,a)),r.from.x!==r.to.x&&(o=t.effects.setTransition(n,l,r.from.x,o),a=t.effects.setTransition(n,l,r.to.x,a)),f&&t.effects.saveStyle(n),n.css(o),n.animate(a,e.duration,e.easing,function(){f&&t.effects.restoreStyle(n)})})),a.animate(y,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=a.offset();0===y.opacity&&a.css("opacity",v.opacity),f||(a.css("position","static"===p?"relative":p).offset(e),t.effects.saveStyle(a)),n()}})}),t.effects.define("scale",function(e,n){var i=t(this),r=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==r?0:100),a=t.extend(!0,{from:t.effects.scaledDimensions(i),to:t.effects.scaledDimensions(i,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(a.from.opacity=1,a.to.opacity=0),t.effects.effect.size.call(this,a,n)}),t.effects.define("puff","hide",function(e,n){var i=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,i,n)}),t.effects.define("pulsate","show",function(e,n){var i=t(this),r=e.mode,o="show"===r,a="hide"===r,s=o||a,u=2*(e.times||5)+(s?1:0),l=e.duration/u,c=0,f=1,h=i.queue().length;for(!o&&i.is(":visible")||(i.css("opacity",0).show(),c=1);f<u;f++)i.animate({opacity:c},l,e.easing),c=1-c;i.animate({opacity:c},l,e.easing),i.queue(n),t.effects.unshift(i,h,u+1)}),t.effects.define("shake",function(e,n){var i=1,r=t(this),o=e.direction||"left",a=e.distance||20,s=e.times||3,u=2*s+1,l=Math.round(e.duration/u),c="up"===o||"down"===o?"top":"left",f="up"===o||"left"===o,h={},d={},p={},g=r.queue().length;for(t.effects.createPlaceholder(r),h[c]=(f?"-=":"+=")+a,d[c]=(f?"+=":"-=")+2*a,p[c]=(f?"-=":"+=")+2*a,r.animate(h,l,e.easing);i<s;i++)r.animate(d,l,e.easing).animate(p,l,e.easing);r.animate(d,l,e.easing).animate(h,l/2,e.easing).queue(n),t.effects.unshift(r,g,u+1)}),t.effects.define("slide","show",function(e,n){var i,r,o=t(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},s=e.mode,u=e.direction||"left",l="up"===u||"down"===u?"top":"left",c="up"===u||"left"===u,f=e.distance||o["top"===l?"outerHeight":"outerWidth"](!0),h={};t.effects.createPlaceholder(o),i=o.cssClip(),r=o.position()[l],h[l]=(c?-1:1)*f+r,h.clip=o.cssClip(),h.clip[a[u][1]]=h.clip[a[u][0]],"show"===s&&(o.cssClip(h.clip),o.css(l,h[l]),h.clip=i,h[l]=r),o.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:n})});t.uiBackCompat!==!1&&(p=t.effects.define("transfer",function(e,n){t(this).transfer(e,n)}));/*!
 * jQuery UI Focusable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.ui.focusable=function(n,i){var r,o,a,s,u,l=n.nodeName.toLowerCase();return"area"===l?(r=n.parentNode,o=r.name,!(!n.href||!o||"map"!==r.nodeName.toLowerCase())&&(a=t("img[usemap='#"+o+"']"),a.length>0&&a.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(l)?(s=!n.disabled,s&&(u=t(n).closest("fieldset")[0],u&&(s=!u.disabled))):s="a"===l?n.href||i:i,s&&t(n).is(":visible")&&e(t(n)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}});t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var n=e.data("ui-form-reset-instances");t.each(n,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};/*!
 * jQuery UI Support for jQuery core 1.7.x 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 */
"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,n){function i(e,n,i,o){return t.each(r,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(e){return void 0===e?a["inner"+n].call(this):this.each(function(){t(this).css(o,i(this,e)+"px")})},t.fn["outer"+n]=function(e,r){return"number"!=typeof e?a["outer"+n].call(this,e):this.each(function(){t(this).css(o,i(this,e,!0,r)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))});/*!
 * jQuery UI Keycode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,n,i,r,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),i=this.attr("id"),i&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),n="label[for='"+t.ui.escapeSelector(i)+"']",r=r.add(o.find(n).addBack(n))),this.pushStack(r))},t.fn.scrollParent=function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var n=t.attr(e,"tabindex"),i=null!=n;return(!i||n>=0)&&t.ui.focusable(e,i)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,n,i=this.options.icons;i&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+i.header),e.prependTo(this.headers),n=this.active.children(".ui-accordion-header-icon"),this._removeClass(n,i.header)._addClass(n,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),void("icons"===t&&(this._destroyIcons(),e&&this._createIcons())))},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var n=t.ui.keyCode,i=this.headers.length,r=this.headers.index(e.target),o=!1;switch(e.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(e);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),n=e.uniqueId().attr("id"),i=e.next(),r=i.uniqueId().attr("id");e.attr("aria-controls",r),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(e=r.height(),this.element.siblings(":visible").each(function(){var n=t(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(e-=n.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===i&&(e=0,this.headers.next().each(function(){var n=t(this).is(":visible");n||t(this).show(),e=Math.max(e,t(this).css("height","").height()),n||t(this).hide()}).height(e))},_activate:function(e){var n=this._findActive(e)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var n,i,r=this.options,o=this.active,a=t(e.currentTarget),s=a[0]===o[0],u=s&&r.collapsible,l=u?t():a.next(),c=o.next(),f={oldHeader:o,oldPanel:c,newHeader:u?t():a,newPanel:l};e.preventDefault(),s&&!r.collapsible||this._trigger("beforeActivate",e,f)===!1||(r.active=!u&&this.headers.index(a),this.active=s?t():a,this._toggle(f),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=o.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.activeHeader)._addClass(n,null,r.icons.header)),s||(this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=a.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.header)._addClass(i,null,r.icons.activeHeader)),this._addClass(a.next(),"ui-accordion-content-active")))},_toggle:function(e){var n=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,e):(i.hide(),n.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,n){var i,r,o,a=this,s=0,u=t.css("box-sizing"),l=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},f=l&&c.down||c,h=function(){a._toggleComplete(n)};return"number"==typeof f&&(o=f),"string"==typeof f&&(r=f),r=r||f.easing||c.easing,o=o||f.duration||c.duration,e.length?t.length?(i=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:r,complete:h,step:function(t,n){n.now=Math.round(t),"height"!==n.prop?"content-box"===u&&(s+=n.now):"content"!==a.options.heightStyle&&(n.now=Math.round(i-e.outerHeight()-s),s=0)}})):e.animate(this.hideProps,o,r,h):t.animate(this.showProps,o,r,h)},_toggleComplete:function(t){var e=t.oldPanel,n=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target),i=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var n=t(e.target).closest(".ui-menu-item"),i=t(e.currentTarget);n[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){var n=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));n&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),n=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),n.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var n,i,r,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,i=this.previousFilter||"",o=!1,r=e.keyCode>=96&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),r===i?o=!0:r=i+r,n=this._filterMenuItems(r),n=o&&n.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):n,n.length||(r=String.fromCharCode(e.keyCode),n=this._filterMenuItems(r)),n.length?(this.focus(e,n),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,n,i,r,o,a=this,s=this.options.icons.submenu,u=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),i=u.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev(),i=t("<span>").data("ui-menu-submenu-caret",!0);a._addClass(i,"ui-menu-icon","ui-icon "+s),n.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",n.attr("id"))}),this._addClass(i,"ui-menu","ui-widget ui-widget-content ui-front"),e=u.add(this.element),n=e.find(this.options.items),n.not(".ui-menu-item").each(function(){var e=t(this);a._isDivider(e)&&a._addClass(e,"ui-menu-divider","ui-widget-content")}),r=n.not(".ui-menu-item, .ui-menu-divider"),o=r.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(r,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),n.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var n,i,r;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=e.children(".ui-menu"),n.length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,r,o,a,s;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=e.outerHeight(),r<0?this.activeMenu.scrollTop(o+r):r+s>a&&this.activeMenu.scrollTop(o+r-a+s))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(e){var n,i,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-i-r<0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var n,i,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-i+r>0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)},_filterMenuItems:function(e){var n=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}});/*!
 * jQuery UI Autocomplete 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,a="input"===r;this.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault());if(!n){var r=t.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(t){return i?(i=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,n){var i,r;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)})):(r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value),i=n.item.attr("aria-label")||r.value,void(i&&t.trim(i).length&&(this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))))},menuselect:function(e,n){var i=n.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var n=this.menu.element[0];return e.target===this.element[0]||e.target===n||t.contains(n,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,r){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),n=this.menu.element.is(":visible"),i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;e&&(!e||n||i)||(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").append(t("<div>").text(n.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}});var g=(t.ui.autocomplete,/ui-corner-([a-z]){2,6}/g);t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,n=[];t.each(this.options.items,function(i,r){var o,a={};if(r)return"controlgroupLabel"===i?(o=e.element.find(r),o.each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),void(n=n.concat(o.get()))):void(t.fn[i]&&(a=e["_"+i+"Options"]?e["_"+i+"Options"]("middle"):{classes:{}},e.element.find(r).each(function(){var r=t(this),o=r[i]("instance"),s=t.widget.extend({},a);if("button"!==i||!r.parent(".ui-spinner").length){o||(o=r[i]()[i]("instance")),o&&(s.classes=e._resolveClassesValues(s.classes,o)),r[i](s);var u=r[i]("widget");t.data(u[0],"ui-controlgroup-data",o?o:r[i]("instance")),n.push(u[0])}})))}),this.childWidgets=t(t.unique(n)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var n=t(this),i=n.data("ui-controlgroup-data");i&&i[e]&&i[e]()})},_updateCornerClass:function(t,e){var n="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",i=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,n),this._addClass(t,null,i)},_buildSimpleOptions:function(t,e){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[e]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[t],i},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,n){var i={};return t.each(e,function(r){var o=n.options.classes[r]||"";o=t.trim(o.replace(g,"")),i[r]=(o+" "+e[r]).replace(/\s+/g," ")}),i},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?void this._callChildMethod(e?"disable":"enable"):void this.refresh()},refresh:function(){var e,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,i){var r=e[i]().data("ui-controlgroup-data");if(r&&n["_"+r.widgetName+"Options"]){var o=n["_"+r.widgetName+"Options"](1===e.length?"only":i);o.classes=n._resolveClassesValues(o.classes,r),r.element[r.widgetName](o)}else n._updateCornerClass(e[i](),i)}),this._callChildMethod("refresh"))}});/*!
 * jQuery UI Checkboxradio 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,n,i=this,r=this._super()||{};return this._readType(),n=this.element.labels(),this.label=t(n[n.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){i.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),e=this.element[0].disabled,null!=e&&(r.disabled=e),r},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,n=this.element[0].name,i="input[name='"+t.ui.escapeSelector(n)+"']";return n?(e=this.form.length?t(this.form[0].elements).filter(i):t(i).filter(function(){return 0===t(this).form().length}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e)return this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e)):void this.refresh()},_updateIcon:function(e){var n="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(n+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):n+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",n),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]);t.ui.checkboxradio;/*!
 * jQuery UI Button 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),t=this.element[0].disabled,null!=t&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,n){var i="iconPosition"!==e,r=i?this.options.iconPosition:n,o="top"===r||"bottom"===r;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,n),this._attachIcon(r),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,n=void 0===t.icon?this.options.icon:t.icon;e||n||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?void this._super("showLabel",e):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});t.ui.button;/*!
 * jQuery UI Datepicker 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.extend(t.ui,{datepicker:{version:"1.12.1"}});var m;t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,r,o;i=e.nodeName.toLowerCase(),r="div"===i||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),r),o.settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,n){var i=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:i,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?r(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,r,o,a=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),a&&(n.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[s?"before":"after"](n.append)),e.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),i=this._get(n,"showOn"),"focus"!==i&&"both"!==i||e.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[s?"before":"after"](n.trigger),n.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,r,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(n=0,i=0,r=0;r<t.length;r++)t[r].length>n&&(n=t[r].length,i=r);return i},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,r,o){var s,u,l,c,f,h=this._dialogInst;return h||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},t.data(this._dialogInput[0],"datepicker",h)),a(h.settings,r||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(u=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,f=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[u/2-100+c,l/2-150+f]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(e){var n,i=t(e),r=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||i.removeClass(this.markerClassName).empty(),m===r&&(m=null))},_enableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||(i=r.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||(i=r.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,i){var r,o,s,u,l=this._getInst(e);return 2===arguments.length&&"string"==typeof n?"defaults"===n?t.extend({},t.datepicker._defaults):l?"all"===n?t.extend({},l.settings):this._get(l,n):null:(r=n||{},"string"==typeof n&&(r={},r[n]=i),void(l&&(this._curInst===l&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),s=this._getMinMaxDate(l,"min"),u=this._getMinMaxDate(l,"max"),a(l.settings,r),null!==s&&void 0!==r.dateFormat&&void 0===r.minDate&&(l.settings.minDate=this._formatDate(l,s)),null!==u&&void 0!==r.dateFormat&&void 0===r.maxDate&&(l.settings.maxDate=this._formatDate(l,u)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,o),this._updateAlternate(l),this._updateDatepicker(l))))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,r,o=t.datepicker._getInst(e.target),a=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),r[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),n=t.datepicker._get(o,"onSelect"),n?(i=t.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,r=t.datepicker._getInst(e.target);if(t.datepicker._get(r,"constrainInput"))return n=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||i<" "||!n||n.indexOf(i)>-1},_doKeyUp:function(e){var n,i=t.datepicker._getInst(e.target);if(i.input.val()!==i.lastVal)try{n=t.datepicker.parseDate(t.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,t.datepicker._getFormatConfig(i)),n&&(t.datepicker._setDateFromField(i),t.datepicker._updateAlternate(i),t.datepicker._updateDatepicker(i))}catch(r){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,r,o,s,u,l,c;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),r=t.datepicker._get(i,"beforeShow"),o=r?r.apply(e,[e,i]):{},o!==!1&&(a(i.settings,o),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),s=!1,t(e).parents().each(function(){return s|="fixed"===t(this).css("position"),!s}),u={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),u=t.datepicker._checkOffset(i,u,s),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":s?"fixed":"absolute",display:"none",left:u.left+"px",top:u.top+"px"}),i.inline||(l=t.datepicker._get(i,"showAnim"),c=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",n(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?i.dpDiv.show(l,t.datepicker._get(i,"showOptions"),c):i.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,m=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,i=this._getNumberOfMonths(e),r=i[1],a=17,s=e.dpDiv.find("."+this._dayOverClass+" a");s.length>0&&o.apply(s.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",a*r+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,s=e.input?e.input.outerHeight():0,u=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?r-a:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+s?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>u&&u>r?Math.abs(n.left+r-u):0),n.top-=Math.min(n.top,n.top+o>l&&l>o?Math.abs(o+s):0),n},_findPos:function(e){for(var n,i=this._getInst(e),r=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return n=t(e).offset(),[n.left,n.top]},_hideDatepicker:function(e){var n,i,r,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(a,"showAnim"),i=this._get(a,"duration"),r=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[n]||t.effects[n])?a.dpDiv.hide(n,t.datepicker._get(a,"showOptions"),i,r):a.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id===t.datepicker._mainDivId||0!==n.parents("#"+t.datepicker._mainDivId).length||n.hasClass(t.datepicker.markerClassName)||n.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!n.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===i)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(e){var n,i=t(e),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,n,i,r){var o,a=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,r=t(e),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),i=this._get(o,"onSelect"),i?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var n,i,r,o=this._get(e,"altField");o&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),r=this.formatDate(n,i,this._getFormatConfig(e)),t(o).val(r))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";if(n="object"==typeof n?n.toString():n+"",""===n)return null;var r,o,a,s,u=0,l=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),f=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,h=(i?i.dayNames:null)||this._defaults.dayNames,d=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,p=(i?i.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,y=-1,b=!1,_=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;return n&&r++,n},x=function(t){var e=_(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r="y"===t?i:1,o=new RegExp("^\\d{"+r+","+i+"}"),a=n.substring(u).match(o);if(!a)throw"Missing number at position "+u;return u+=a[0].length,parseInt(a[0],10)},w=function(e,i,r){var o=-1,a=t.map(_(e)?r:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var i=e[1];if(n.substr(u,i.length).toLowerCase()===i.toLowerCase())return o=e[0],u+=i.length,!1}),o!==-1)return o+1;throw"Unknown name at position "+u},k=function(){if(n.charAt(u)!==e.charAt(r))throw"Unexpected literal at position "+u;u++};for(r=0;r<e.length;r++)if(b)"'"!==e.charAt(r)||_("'")?k():b=!1;else switch(e.charAt(r)){case"d":v=x("d");break;case"D":w("D",f,h);break;case"o":y=x("o");break;case"m":m=x("m");break;case"M":m=w("M",d,p);break;case"y":g=x("y");break;case"@":s=new Date(x("@")),g=s.getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"!":s=new Date((x("!")-this._ticksTo1970)/1e4),g=s.getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"'":_("'")?k():b=!0;break;default:k()}if(u<n.length&&(a=n.substr(u),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(g===-1?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=c?0:-100)),y>-1)for(m=1,v=y;;){if(o=this._getDaysInMonth(g,m-1),v<=o)break;m++,v-=o}if(s=this._daylightSavingAdjust(new Date(g,m-1,v)),s.getFullYear()!==g||s.getMonth()+1!==m||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,u=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},l=function(t,e,n){var i=""+e;if(u(t))for(;i.length<n;)i="0"+i;return i},c=function(t,e,n,i){return u(t)?i[e]:n[e]},f="",h=!1;if(e)for(i=0;i<t.length;i++)if(h)"'"!==t.charAt(i)||u("'")?f+=t.charAt(i):h=!1;else switch(t.charAt(i)){case"d":f+=l("d",e.getDate(),2);break;case"D":f+=c("D",e.getDay(),r,o);break;case"o":f+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":f+=l("m",e.getMonth()+1,2);break;case"M":f+=c("M",e.getMonth(),a,s);break;case"y":f+=u("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":f+=e.getTime();break;case"!":f+=1e4*e.getTime()+this._ticksTo1970;break;case"'":u("'")?f+="'":h=!0;break;default:f+=t.charAt(i)}return f},_possibleChars:function(t){var e,n="",i=!1,r=function(n){var i=e+1<t.length&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;e<t.length;e++)if(i)"'"!==t.charAt(e)||r("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,a=this._getFormatConfig(t);try{o=this.parseDate(n,i,a)||r}catch(s){i=e?"":i}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=i?o.getDate():0,t.currentMonth=i?o.getMonth():0,t.currentYear=i?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var r=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(i){}for(var r=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=r.getFullYear(),a=r.getMonth(),s=r.getDate(),u=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=u.exec(n);l;){switch(l[2]||"d"){case"d":case"D":s+=parseInt(l[1],10);break;case"w":case"W":s+=7*parseInt(l[1],10);break;case"m":case"M":a+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(o,a))}l=u.exec(n)}return new Date(o,a,s)},a=null==n||""===n?i:"string"==typeof n?o(n):"number"==typeof n?isNaN(n)?i:r(n):new Date(n.getTime());return a=a&&"Invalid Date"===a.toString()?i:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,r,o,a,s,u,l,c,f,h,d,p,g,m,v,y,b,_,x,w,k,E,S,C,T,M,A,$,O,D,N,I,L,P,R,F,j,U=new Date,z=this._daylightSavingAdjust(new Date(U.getFullYear(),U.getMonth(),U.getDate())),H=this._get(t,"isRTL"),q=this._get(t,"showButtonPanel"),W=this._get(t,"hideIfNoPrevNext"),Y=this._get(t,"navigationAsDateFormat"),B=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),G=1!==B[0]||1!==B[1],K=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(t,"min"),Z=this._getMinMaxDate(t,"max"),Q=t.drawMonth-V,tt=t.drawYear;if(Q<0&&(Q+=12,tt--),Z)for(e=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-B[0]*B[1]+1,Z.getDate())),e=J&&e<J?J:e;this._daylightSavingAdjust(new Date(tt,Q,1))>e;)Q--,Q<0&&(Q=11,tt--);for(t.drawMonth=Q,t.drawYear=tt,n=this._get(t,"prevText"),n=Y?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Q-X,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+n+"</span></a>":W?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+n+"</span></a>",r=this._get(t,"nextText"),r=Y?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,Q+X,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,tt,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>":W?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>",a=this._get(t,"currentText"),s=this._get(t,"gotoCurrent")&&t.currentDay?K:z,a=Y?this.formatDate(a,s,this._getFormatConfig(t)):a,u=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=q?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(H?u:"")+(this._isInRange(t,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(H?"":u)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,f=this._get(t,"showWeek"),h=this._get(t,"dayNames"),d=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),_="",w=0;w<B[0];w++){for(k="",this.maxRows=4,E=0;E<B[1];E++){if(S=this._daylightSavingAdjust(new Date(tt,Q,t.selectedDay)),C=" ui-corner-all",T="",G){if(T+="<div class='ui-datepicker-group",B[1]>1)switch(E){case 0:T+=" ui-datepicker-group-first",C=" ui-corner-"+(H?"right":"left");break;case B[1]-1:T+=" ui-datepicker-group-last",C=" ui-corner-"+(H?"left":"right");break;default:T+=" ui-datepicker-group-middle",C=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"'>"+(/all|left/.test(C)&&0===w?H?o:i:"")+(/all|right/.test(C)&&0===w?H?i:o:"")+this._generateMonthYearHeader(t,Q,tt,J,Z,w>0||E>0,p,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",M=f?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",x=0;x<7;x++)A=(x+c)%7,M+="<th scope='col'"+((x+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[A]+"'>"+d[A]+"</span></th>";for(T+=M+"</tr></thead><tbody>",$=this._getDaysInMonth(tt,Q),tt===t.selectedYear&&Q===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,$)),O=(this._getFirstDayOfMonth(tt,Q)-c+7)%7,D=Math.ceil((O+$)/7),N=G&&this.maxRows>D?this.maxRows:D,this.maxRows=N,I=this._daylightSavingAdjust(new Date(tt,Q,1-O)),L=0;L<N;L++){for(T+="<tr>",P=f?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(I)+"</td>":"",x=0;x<7;x++)R=m?m.apply(t.input?t.input[0]:null,[I]):[!0,""],F=I.getMonth()!==Q,j=F&&!y||!R[0]||J&&I<J||Z&&I>Z,P+="<td class='"+((x+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(I.getTime()===S.getTime()&&Q===t.selectedMonth&&t._keyEvent||b.getTime()===I.getTime()&&b.getTime()===S.getTime()?" "+this._dayOverClass:"")+(j?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+R[1]+(I.getTime()===K.getTime()?" "+this._currentClass:"")+(I.getTime()===z.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!R[2]?"":" title='"+R[2].replace(/'/g,"&#39;")+"'")+(j?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":j?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===z.getTime()?" ui-state-highlight":"")+(I.getTime()===K.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);T+=P+"</tr>"}Q++,Q>11&&(Q=0,tt++),T+="</tbody></table>"+(G?"</div>"+(B[0]>0&&E===B[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=T}_+=k}return _+=l,t._keyEvent=!1,_},_generateMonthYearHeader:function(t,e,n,i,r,o,a,s){var u,l,c,f,h,d,p,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(o||!m)_+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(u=i&&i.getFullYear()===n,l=r&&r.getFullYear()===n,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!u||c>=i.getMonth())&&(!l||c<=r.getMonth())&&(_+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+s[c]+"</option>");_+="</select>"}if(y||(b+=_+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(f=this._get(t,"yearRange").split(":"),h=(new Date).getFullYear(),d=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?h+parseInt(t,10):parseInt(t,10);return isNaN(e)?h:e},p=d(f[0]),g=Math.max(p,d(f[1]||"")),p=i?Math.max(p,i.getFullYear()):p,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=g;p++)t.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!o&&m&&v?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(t,e,n){var i=t.selectedYear+("Y"===n?e:0),r=t.selectedMonth+("M"===n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"===n?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&e<n?n:e;return i&&r>i?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(e<0?e:r[0]*r[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n,i,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,s=null,u=this._get(t,"yearRange");return u&&(n=u.split(":"),i=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=i),n[1].match(/[+\-].*/)&&(s+=i)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!s||e.getFullYear()<=s)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));
return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1";var v=(t.datepicker,t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),!1);t(document).on("mouseup",function(){v=!1});t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!v){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(i&&!r&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),v=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,v=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")};/*!
 * jQuery UI Draggable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=t.ui.safeActiveElement(this.document[0]),i=t(e.target);i.closest(n).length||t.ui.safeBlur(n)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",e,i)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",e)!==!1&&n._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),r=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=t(r.containment),i=n[0],void(i&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),u=t.pageX,l=t.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(u=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(l=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(u=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(l=n[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-a.grid[1]:r+a.grid[1]:r,o=a.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,u=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(u=this.originalPageX),"x"===a.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,r))})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,r))})},drag:function(e,n,i){t.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",e),i.dropped=o.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(e),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=!1,a=i.scrollParentNotHidden[0],s=i.document[0];a!==s&&"HTML"!==a.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+a.offsetHeight-e.pageY<r.scrollSensitivity?a.scrollTop=o=a.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+a.offsetWidth-e.pageX<r.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(s).scrollTop()<r.scrollSensitivity?o=t(s).scrollTop(t(s).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(s).scrollTop())<r.scrollSensitivity&&(o=t(s).scrollTop(t(s).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(s).scrollLeft()<r.scrollSensitivity?o=t(s).scrollLeft(t(s).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(s).scrollLeft())<r.scrollSensitivity&&(o=t(s).scrollLeft(t(s).scrollLeft()+r.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,o,a,s,u,l,c,f,h,d,p=i.options,g=p.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,y=n.offset.top,b=y+i.helperProportions.height;for(h=i.snapElements.length-1;h>=0;h--)u=i.snapElements[h].left-i.margins.left,l=u+i.snapElements[h].width,c=i.snapElements[h].top-i.margins.top,f=c+i.snapElements[h].height,v<u-g||m>l+g||b<c-g||y>f+g||!t.contains(i.snapElements[h].item.ownerDocument,i.snapElements[h].item)?(i.snapElements[h].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=!1):("inner"!==p.snapMode&&(r=Math.abs(c-b)<=g,o=Math.abs(f-y)<=g,a=Math.abs(u-v)<=g,s=Math.abs(l-m)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:f,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left)),d=r||o||a||s,"outer"!==p.snapMode&&(r=Math.abs(c-y)<=g,o=Math.abs(f-b)<=g,a=Math.abs(u-m)<=g,s=Math.abs(l-v)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:f-i.helperProportions.height,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left)),!i.snapElements[h].snapping&&(r||o||a||s||d)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=r||o||a||s||d)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=i.options,a=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});a.length&&(r=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}});t.ui.draggable;/*!
 * jQuery UI Resizable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0||(e[i]=1,r=e[i]>0,e[i]=0,r)},_create:function(){var e,n=this.options,i=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),n.autoHide&&t(this.element).on("mouseenter",function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,n,i,r,o,a=this.options,s=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;n<i.length;n++)e=t.trim(i[n]),r="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+r),o.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var n,i,r,o;e=e||this.element;for(n in this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=t(this.handles[n]),this._on(this.handles[n],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){s.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var n,i,r=!1;for(n in this.handles)i=t(this.handles[n])[0],(i===e.target||t.contains(i,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var n,i,r,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=t(o.containment).scrollLeft()||0,i+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,r=this.originalMousePosition,o=this.axis,a=e.pageX-r.left||0,s=e.pageY-r.top||0,u=this._change[o];return this._updatePrevProperties(),!!u&&(n=u.apply(this,[e,a,s]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,r,o,a,s,u,l=this.options,c=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),r=i&&this._hasScroll(n[0],"left")?0:c.sizeDiff.height,o=i?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-r},s=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,u=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(a,{top:u,left:s})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,s=this.originalPosition.left+this.originalSize.width,u=this.originalPosition.top+this.originalSize.height,l=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&l&&(t.left=s-e.minWidth),i&&l&&(t.left=s-e.maxWidth),a&&c&&(t.top=u-e.minHeight),r&&c&&(t.top=u-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)n[e]=parseFloat(i[e])||0,n[e]+=parseFloat(r[e])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize,i=this.originalPosition;return{left:i.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize,r=this.originalPosition;return{top:r.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),a=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,s=o?0:n.sizeDiff.width,u={width:n.size.width-s,height:n.size.height-a},l=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,c=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(u,c&&l?{top:c,left:l}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,r,o,a,s,u=t(this).resizable("instance"),l=u.options,c=u.element,f=l.containment,h=f instanceof t?f.get(0):/parent/.test(f)?c.parent().get(0):f;h&&(u.containerElement=t(h),/document/.test(f)||f===document?(u.containerOffset={left:0,top:0},u.containerPosition={left:0,top:0},u.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(h),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=u._num(e.css("padding"+i))}),u.containerOffset=e.offset(),u.containerPosition=e.position(),u.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=u.containerOffset,r=u.containerSize.height,o=u.containerSize.width,a=u._hasScroll(h,"left")?h.scrollWidth:o,s=u._hasScroll(h)?h.scrollHeight:r,u.parentData={element:h,left:i.left,top:i.top,width:a,height:s}))},resize:function(e){var n,i,r,o,a=t(this).resizable("instance"),s=a.options,u=a.containerOffset,l=a.position,c=a._aspectRatio||e.shiftKey,f={top:0,left:0},h=a.containerElement,d=!0;h[0]!==document&&/static/.test(h.css("position"))&&(f=u),l.left<(a._helper?u.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-u.left:a.position.left-f.left),c&&(a.size.height=a.size.width/a.aspectRatio,d=!1),a.position.left=s.helper?u.left:0),l.top<(a._helper?u.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-u.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,d=!1),a.position.top=a._helper?u.top:0),r=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),r&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),n=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-f.left:a.offset.left-u.left)),i=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-f.top:a.offset.top-u.top)),n+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-n,c&&(a.size.height=a.size.width/a.aspectRatio,d=!1)),i+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-i,c&&(a.size.width=a.size.height*a.aspectRatio,d=!1)),d||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,r=e.containerPosition,o=e.containerElement,a=t(e.helper),s=a.offset(),u=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:s.left-r.left-i.left,width:u,height:l}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:s.left-r.left-i.left,width:u,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),n=e.options;t(n.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,n){var i=t(this).resizable("instance"),r=i.options,o=i.originalSize,a=i.originalPosition,s={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-a.top||0,left:i.position.left-a.left||0};t(r.alsoResize).each(function(){var e=t(this),i=t(this).data("ui-resizable-alsoresize"),r={},o=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var n=(i[e]||0)+(s[e]||0);n&&n>=0&&(r[e]=n||null)}),e.css(r)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,a=n.originalPosition,s=n.axis,u="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=u[0]||1,c=u[1]||1,f=Math.round((r.width-o.width)/l)*l,h=Math.round((r.height-o.height)/c)*c,d=o.width+f,p=o.height+h,g=i.maxWidth&&i.maxWidth<d,m=i.maxHeight&&i.maxHeight<p,v=i.minWidth&&i.minWidth>d,y=i.minHeight&&i.minHeight>p;i.grid=u,v&&(d+=l),y&&(p+=c),g&&(d-=l),m&&(p-=c),/^(se|s|e)$/.test(s)?(n.size.width=d,n.size.height=p):/^(ne)$/.test(s)?(n.size.width=d,n.size.height=p,n.position.top=a.top-h):/^(sw)$/.test(s)?(n.size.width=d,n.size.height=p,n.position.left=a.left-f):((p-c<=0||d-l<=0)&&(e=n._getPaddingPlusBorderDimensions(this)),p-c>0?(n.size.height=p,n.position.top=a.top-h):(p=c-e.height,n.size.height=p,n.position.top=a.top+o.height-p),d-l>0?(n.size.width=d,n.position.left=a.left-f):(d=l-e.width,n.size.width=d,n.position.left=a.left+o.width-d))}});t.ui.resizable;/*!
 * jQuery UI Dialog 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;n<0&&t(this).css("top",e.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!n&&this._trigger("focus",e),i},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function n(){var e=t.ui.safeActiveElement(this.document[0]),n=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);n||this._focusTabbable()}e.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){r.trigger("focus")}),e.preventDefault()):(this._delay(function(){i.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(n)||t.isArray(n)&&!n.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):(t.each(n,function(n,i){var r,o;i=t.isFunction(i)?{click:i,text:n}:i,i=t.extend({type:"button"},i),r=i.click,o={icon:i.icon,iconPosition:i.iconPosition,showLabel:i.showLabel,icons:i.icons,text:i.text},delete i.click,delete i.icon,delete i.iconPosition,delete i.showLabel,delete i.icons,"boolean"==typeof i.text&&delete i.text,t("<button></button>",i).button(o).appendTo(e.uiButtonSet).on("click",function(){r.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,r){n._addClass(t(this),"ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",i,e(r))},drag:function(t,i){n._trigger("drag",t,e(i))},stop:function(r,o){var a=o.offset.left-n.document.scrollLeft(),s=o.offset.top-n.document.scrollTop();i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(s>=0?"+":"")+s,of:n.window},n._removeClass(t(this),"ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",r,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var n=this,i=this.options,r=i.resizable,o=this.uiDialog.css("position"),a="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:a,start:function(i,r){n._addClass(t(this),"ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",i,e(r))},resize:function(t,i){n._trigger("resize",t,e(i))},stop:function(r,o){var a=n.uiDialog.offset(),s=a.left-n.document.scrollLeft(),u=a.top-n.document.scrollTop();i.height=n.uiDialog.height(),i.width=n.uiDialog.width(),i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(u>=0?"+":"")+u,of:n.window},n._removeClass(t(this),"ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",r,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),n=t.inArray(this,e);n!==-1&&e.splice(n,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,r={};t.each(e,function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(r[t]=e)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,n){var i,r,o=this.uiDialog;"disabled"!==e&&(this._super(e,n),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&(i=o.is(":data(ui-draggable)"),i&&!n&&o.draggable("destroy"),!i&&n&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(r=o.is(":data(ui-resizable)"),r&&!n&&o.resizable("destroy"),r&&"string"==typeof n&&o.resizable("option","handles",n),r||n===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}});t.ui.dialog;/*!
 * jQuery UI Droppable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var i=t.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&y(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e))return r=!0,!1}),!r&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var y=t.ui.intersect=function(){function t(t,e,n){return t>=e&&t<e+n}return function(e,n,i,r){if(!n.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,s=o+e.helperProportions.width,u=a+e.helperProportions.height,l=n.offset.left,c=n.offset.top,f=l+n.proportions().width,h=c+n.proportions().height;switch(i){case"fit":return l<=o&&s<=f&&c<=a&&u<=h;case"intersect":return l<o+e.helperProportions.width/2&&s-e.helperProportions.width/2<f&&c<a+e.helperProportions.height/2&&u-e.helperProportions.height/2<h;case"pointer":return t(r.pageY,c,n.proportions().height)&&t(r.pageX,l,n.proportions().width);case"touch":return(a>=c&&a<=h||u>=c&&u<=h||a<c&&u>h)&&(o>=l&&o<=f||s>=l&&s<=f||o<l&&s>f);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,n){var i,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=n?n.type:null,s=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<o.length;i++)if(!(o[i].options.disabled||e&&!o[i].accept.call(o[i].element[0],e.currentItem||e.element))){for(r=0;r<s.length;r++)if(s[r]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===a&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&y(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,a=y(e,this,this.options.tolerance,n),s=!a&&this.isover?"isout":a&&!this.isover?"isover":null;s&&(this.options.greedy&&(r=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r}),o.length&&(i=t(o[0]).droppable("instance"),i.greedyChild="isover"===s)),i&&"isover"===s&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,n),i&&"isout"===s&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});t.ui.droppable,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(n.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var n=t(this),i=n.offset(),r={left:i.left-e.elementPos.left,top:i.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:n,left:r.left,top:r.top,right:r.left+n.outerWidth(),bottom:r.top+n.outerHeight(),startselected:!1,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=!0,e.metaKey||e.ctrlKey||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))}),t(e.target).parents().addBack().each(function(){var i,r=t.data(this,"selectable-item");if(r)return i=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),n._removeClass(r.$element,i?"ui-unselecting":"ui-selected")._addClass(r.$element,i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",e,{selecting:r.element}):n._trigger("unselecting",e,{unselecting:r.element}),!1}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],a=this.opos[1],s=e.pageX,u=e.pageY;return o>s&&(n=s,s=o,o=n),a>u&&(n=u,u=a,a=n),this.helper.css({left:o,top:a,width:s-o,height:u-a}),this.selectees.each(function(){var n=t.data(this,"selectable-item"),l=!1,c={};n&&n.element!==i.element[0]&&(c.left=n.left+i.elementPos.left,c.right=n.right+i.elementPos.left,c.top=n.top+i.elementPos.top,c.bottom=n.bottom+i.elementPos.top,"touch"===r.tolerance?l=!(c.left>s||c.right<o||c.top>u||c.bottom<a):"fit"===r.tolerance&&(l=c.left>o&&c.right<s&&c.top>a&&c.bottom<u),l?(n.selected&&(i._removeClass(n.$element,"ui-selected"),n.selected=!1),n.unselecting&&(i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1),n.selecting||(i._addClass(n.$element,"ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,i._addClass(n.$element,"ui-selected"),n.selected=!0):(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,n.startselected&&(i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&(e.metaKey||e.ctrlKey||n.startselected||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})}),t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,n=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){n._rendered||n._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,n){t.preventDefault(),e._setSelection(),e._select(n.item.data("ui-selectmenu-item"),t)},focus:function(t,n){var i=n.item.data("ui-selectmenu-item");null!=e.focusIndex&&i.index!==e.focusIndex&&(e._trigger("focus",t,{item:i}),e.isOpen||e._select(i,t)),e.focusIndex=i.index,e.button.attr("aria-activedescendant",e.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var n=t("<span>");return this._setText(n,e.label),this._addClass(n,"ui-selectmenu-text"),n},_renderMenu:function(e,n){var i=this,r="";t.each(n,function(n,o){var a;o.optgroup!==r&&(a=t("<li>",{text:o.optgroup}),i._addClass(a,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),a.appendTo(e),r=o.optgroup),i._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,n){var i=t("<li>"),r=t("<div>",{title:n.element.attr("title")});return n.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(r,n.label),i.append(r).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](r).eq(-1):n[t+"All"](r).eq(0),i.length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var n=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),n=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),n=!1}n&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return t===!1?void this.button.css("width",""):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),void this.button.outerWidth(t))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var n=this,i=[];e.each(function(e,r){i.push(n._parseOption(t(r),e))}),this.items=i},_parseOption:function(t,e){var n=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,i=this.options,r=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",a=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),e=r.length;e<n;e++)a.push(o);this.handles=r.add(t(a.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var n,i,r,o,a,s,u,l,c=this,f=this.options;return!f.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var n=Math.abs(i-c.values(e));(r>n||r===n&&(e===c._lastChangedValue||c.values(e)===f.min))&&(r=n,o=t(this),a=e)}),s=this._start(e,a),s!==!1&&(this._mouseSliding=!0,this._handleIndex=a,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),u=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-u.left-o.width()/2,top:e.pageY-u.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/e,i>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_uiHash:function(t,e,n){var i={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==e?e:this.values(t),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,n){var i,r,o=this.value(),a=this.values();this._hasMultipleValues()&&(r=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&this.options.range===!0&&(n=0===e?Math.min(r,n):Math.max(r,n)),a[e]=n),n!==o&&(i=this._trigger("slide",t,this._uiHash(e,n,a)),i!==!1&&(this._hasMultipleValues()?this.values(e,n):this.value(n)))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(i=this.options.values,r=arguments[0],o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,n){var i,r=0;switch("range"===e&&this.options.range===!0&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,n),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=r-1;i>=0;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step,i=Math.round((t-e)/n)*n;t=i+e,t>this.options.max&&(t-=n),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return n===-1?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,n,i,r,o,a=this.options.range,s=this.options,u=this,l=!this._animateOff&&s.animate,c={};this._hasMultipleValues()?this.handles.each(function(i){n=(u.values(i)-u._valueMin())/(u._valueMax()-u._valueMin())*100,c["horizontal"===u.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[l?"animate":"css"](c,s.animate),u.options.range===!0&&("horizontal"===u.orientation?(0===i&&u.range.stop(1,1)[l?"animate":"css"]({left:n+"%"},s.animate),1===i&&u.range[l?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:s.animate})):(0===i&&u.range.stop(1,1)[l?"animate":"css"]({bottom:n+"%"},s.animate),1===i&&u.range[l?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:s.animate}))),e=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?(i-r)/(o-r)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[l?"animate":"css"](c,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:n+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-n+"%"},s.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:n+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-n+"%"},s.animate))},_handleEvents:{keydown:function(e){var n,i,r,o,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),n=this._start(e,a),n===!1))return}switch(o=this.options.step,i=r=this._hasMultipleValues()?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;r=this._trimAlignValue(i+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;r=this._trimAlignValue(i-o)}this._slide(e,a,r)},keyup:function(e){
var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,o.widgetName+"-item")===o)return i=t(this),!1}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),!!i&&(!(this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,n,i){var r,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,a=this.options,s=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),s!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],o=this._intersectsWithPointer(i),o&&i.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===r||t.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,a=o+t.width,s=t.top,u=s+t.height,l=this.offset.click.top,c=this.offset.click.left,f="x"===this.options.axis||i+l>s&&i+l<u,h="y"===this.options.axis||e+c>o&&e+c<a,d=f&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?d:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<u},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=i&&r;return!!o&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){s.push(this)}var i,r,o,a,s=[],u=[],l=this._connectWith();if(l&&e)for(i=l.length-1;i>=0;i--)for(o=t(l[i],this.document[0]),r=o.length-1;r>=0;r--)a=t.data(o[r],this.widgetFullName),a&&a!==this&&!a.options.disabled&&u.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(u.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=u.length-1;i>=0;i--)u[i][0].each(n);return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,a,s,u,l,c=this.items,f=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(r=t(h[n],this.document[0]),i=r.length-1;i>=0;i--)o=t.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(f.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=f.length-1;n>=0;n--)for(a=f[n][1],s=f[n][0],i=0,l=s.length;i<l;i++)u=t(s[i]),u.data(this.widgetName+"-item",a),c.push({item:u,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var n,i=e.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]);return e._addClass(r,"ui-sortable-placeholder",n||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){n&&!i.forcePlaceholderSize||(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,r,o,a,s,u,l,c,f,h=null,d=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&t.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],d=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(r=1e4,o=null,c=h.floating||this._isFloating(this.currentItem),a=c?"left":"top",s=c?"width":"height",f=c?"pageX":"pageY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[d].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(u=this.items[i].item.offset()[a],l=!1,e[f]-u>this.items[i][s]/2&&(l=!0),Math.abs(e[f]-u)<r&&(r=Math.abs(e[f]-u),o=this.items[i],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return void(this.currentContainer.containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[d].element,!0),this._trigger("change",e,this._uiHash()),this.containers[d]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,a=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,u=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():u?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():u?0:s.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}});t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),n=this.element;return t.each(["min","max","step"],function(t,i){var r=n.attr(i);null!=r&&r.length&&(e[i]=r)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function n(){var e=this.element[0]===t.ui.safeActiveElement(this.document[0]);e||(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return this._start(e)!==!1&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var n=this.options,i=t.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,n.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,e),!0}return!1},_start:function(t){return!(!this.spinning&&this._trigger("start",t)===!1)&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:n})===!1||(this._value(n),this.counter++)},_increment:function(e){var n=this.options.incremental;return n?t.isFunction(n)?n(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return n===-1?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return e=null!==i.min?i.min:0,n=t-e,n=Math.round(n/i.step)*i.step,t=e+n,t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&t<i.min?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var n,i,r;return"culture"===t||"numberFormat"===t?(n=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(n))):("max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,e.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,e.down)),void this._super(t,e))},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:s(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&(n=this._parse(t),null!==n&&(e||(n=this._adjustValue(n)),t=this._format(n))),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:s(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:s(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:s(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:s(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void s(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});t.ui.spinner;/*!
 * jQuery UI Tabs 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var n,i;n=e.href.replace(t,""),i=location.href.replace(t,"");try{n=decodeURIComponent(n)}catch(r){}try{i=decodeURIComponent(i)}catch(r){}return e.hash.length>1&&n===i}}(),_create:function(){var e=this,n=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,n.collapsible),this._processTabs(),n.active=this._initialActive(),t.isArray(n.disabled)&&(n.disabled=t.unique(n.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(n.active):this.active=t(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var e=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===e&&(i&&this.tabs.each(function(n,r){if(t(r).attr("aria-controls")===i)return e=n,!1}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&e!==-1||(e=!!this.tabs.length&&0)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),e===-1&&(e=!n&&0)),!n&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var n=t(t.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:i++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,i--;break;case t.ui.keyCode.END:i=this.anchors.length-1;break;case t.ui.keyCode.HOME:i=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),e.ctrlKey||e.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,n){function i(){return e>r&&(e=0),e<0&&(e=r),e}for(var r=this.tabs.length-1;t.inArray(i(),this.options.disabled)!==-1;)e=n?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?void this._activate(e):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,n=this.tablist.children(":has(a[href])");e.disabled=t.map(n.filter(".ui-state-disabled"),function(t){return n.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(n,i){var r,o,a,s=t(i).uniqueId().attr("id"),u=t(i).closest("li"),l=u.attr("aria-controls");e._isLocal(i)?(r=i.hash,a=r.substring(1),o=e.element.find(e._sanitizeSelector(r))):(a=u.attr("aria-controls")||t({}).uniqueId()[0].id,r="#"+a,o=e.element.find(r),o.length||(o=e._createPanel(a),o.insertAfter(e.panels[n-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),l&&u.data("ui-tabs-aria-controls",l),u.attr({"aria-controls":a,"aria-labelledby":s}),o.attr("aria-labelledby",s)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var n,i,r;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),r=0;i=this.tabs[r];r++)n=t(i),e===!0||t.inArray(r,e)!==-1?(n.attr("aria-disabled","true"),this._addClass(n,null,"ui-state-disabled")):(n.removeAttr("aria-disabled"),this._removeClass(n,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===!0)},_setupEvents:function(e){var n={};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,i=this.element.parent();"fill"===e?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),i=e.css("position");"absolute"!==i&&"fixed"!==i&&(n-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,n-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each(function(){n=Math.max(n,t(this).height("").height())}).height(n))},_eventHandler:function(e){var n=this.options,i=this.active,r=t(e.currentTarget),o=r.closest("li"),a=o[0]===i[0],s=a&&n.collapsible,u=s?t():this._getPanelForTab(o),l=i.length?this._getPanelForTab(i):t(),c={oldTab:i,oldPanel:l,newTab:s?t():o,newPanel:u};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!n.collapsible||this._trigger("beforeActivate",e,c)===!1||(n.active=!s&&this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),l.length||u.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),u.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,n){function i(){o.running=!1,o._trigger("activate",e,n)}function r(){o._addClass(n.newTab.closest("li"),"ui-tabs-active","ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,i):(a.show(),i())}var o=this,a=n.newPanel,s=n.oldPanel;this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,function(){o._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r()}):(this._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),s.hide(),r()),s.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&s.length?n.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var n,i=this._findActive(e);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),n=e.data("ui-tabs-aria-controls");n?e.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var n=this.options.disabled;n!==!1&&(void 0===e?n=!1:(e=this._getIndex(e),n=t.isArray(n)?t.map(n,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,n){return n!==e?n:null})),this._setOptionDisabled(n))},disable:function(e){var n=this.options.disabled;if(n!==!0){if(void 0===e)n=!0;else{if(e=this._getIndex(e),t.inArray(e,n)!==-1)return;n=t.isArray(n)?t.merge([e],n).sort():[e]}this._setOptionDisabled(n)}},load:function(e,n){e=this._getIndex(e);var i=this,r=this.tabs.eq(e),o=r.find(".ui-tabs-anchor"),a=this._getPanelForTab(r),s={tab:r,panel:a},u=function(t,e){"abort"===e&&i.panels.stop(!1,!0),i._removeClass(r,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===i.xhr&&delete i.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,n,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(r,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,r){setTimeout(function(){a.html(t),i._trigger("load",n,s),u(r,e)},1)}).fail(function(t,e){setTimeout(function(){u(t,e)},1)})))},_ajaxSettings:function(e,n,i){var r=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return r._trigger("beforeLoad",n,t.extend({jqXHR:e,ajaxSettings:o},i))}}},_getPanelForTab:function(e){var n=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});t.ui.tabs;/*!
 * jQuery UI Tooltip 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,n){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(n),e.data("ui-tooltip-id",n).attr("aria-describedby",t.trim(i.join(" ")))},_removeDescribedBy:function(e){var n=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(n,i);r!==-1&&i.splice(r,1),e.removeData("ui-tooltip-id"),i=t.trim(i.join(" ")),i?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,n){var i=this;this._super(e,n),"content"===e&&t.each(this.tooltips,function(t,e){i._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur");r.target=r.currentTarget=i.element[0],e.close(r,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);if(e.is("[title]"))return e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var n=this,i=t(e?e.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&i.parents().each(function(){var e,i=t(this);i.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,n.close(e,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._registerCloseHandlers(e,i),this._updateContent(i,e))},_updateContent:function(t,e){var n,i=this.options.content,r=this,o=e?e.type:null;return"string"==typeof i||i.nodeType||i.jquery?this._open(e,t,i):(n=i.call(t[0],function(n){r._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,n))})}),void(n&&this._open(e,t,n)))},_open:function(e,n,i){function r(t){l.of=t,a.is(":hidden")||a.position(l)}var o,a,s,u,l=t.extend({},this.options.position);if(i){if(o=this._find(n))return void o.tooltip.find(".ui-tooltip-content").html(i);n.is("[title]")&&(e&&"mouseover"===e.type?n.attr("title",""):n.removeAttr("title")),o=this._tooltip(n),a=o.tooltip,this._addDescribedBy(n,a.attr("id")),a.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),u=t("<div>").html(a.find(".ui-tooltip-content").html()),u.removeAttr("name").find("[name]").removeAttr("name"),u.removeAttr("id").find("[id]").removeAttr("id"),u.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:r}),r(e)):a.position(t.extend({of:n},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval(function(){a.is(":visible")&&(r(l.of),clearInterval(s))},t.fx.interval)),this._trigger("open",e,{tooltip:a})}},_registerCloseHandlers:function(e,n){var i={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),e&&"mouseover"!==e.type||(i.mouseleave="close"),e&&"focusin"!==e.type||(i.focusout="close"),this._on(!0,n,i)},close:function(e){var n,i=this,r=t(e?e.currentTarget:this.element),o=this._find(r);return o?(n=o.tooltip,void(o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(t(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,n){t(n.element).attr("title",n.title),delete i.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:n}),o.hiding||(o.closing=!1)))):void r.removeData("ui-tooltip-open")},_tooltip:function(e){var n=t("<div>").attr("role","tooltip"),i=t("<div>").appendTo(n),r=n.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(n,"ui-tooltip","ui-widget ui-widget-content"),n.appendTo(this._appendTo(e)),this.tooltips[r]={element:e,tooltip:n}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur"),o=i.element;r.target=r.currentTarget=o[0],e.close(r,!0),t("#"+n).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}});t.ui.tooltip}),/**
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 */
/**
 * Implementing Drag and Drop functionality in AngularJS is easier than ever.
 * Demo: http://codef0rmer.github.com/angular-dragdrop/
 *
 * @version 1.0.13
 *
 * (c) 2013 Amit Gharat a.k.a codef0rmer <amit.2006.it@gmail.com> - amitgharat.wordpress.com
 */
function(t,e,n,i){"use strict";var r=e.module("ngDragDrop",[]).service("ngDragDropService",["$timeout","$parse","$q",function(o,a,s){this.draggableScope=null,this.droppableScope=null,n("head").prepend('<style type="text/css">@charset "UTF-8";.angular-dragdrop-hide{display: none !important;}</style>'),this.callEventCallback=function(t,e,i,r){function o(e){var i=e.indexOf("(")!==-1?e.indexOf("("):e.length,r=e.lastIndexOf(")")!==-1?e.lastIndexOf(")"):e.length,o=e.substring(i+1,r),s=e.indexOf(".")!==-1?e.substr(0,e.indexOf(".")):null;return s=t[s]&&"function"==typeof t[s].constructor?s:null,{callback:e.substring(s&&s.length+1||0,i),args:n.map(o&&o.split(",")||[],function(e){return[a(e)(t)]}),constructor:s}}if(e){var s=o(e),u=s.callback,l=s.constructor,c=[i,r].concat(s.args);return(t[u]||t[l][u]).apply(t[u]?t:t[l],c)}},this.invokeDrop=function(t,a,u,l){var c,f,h,d="",p="",g={},m={},v=null,y={},b={},_=null,x=this.droppableScope,w=this.draggableScope,k=null,E=[];d=t.ngattr("ng-model"),p=a.ngattr("ng-model"),c=w.$eval(d),f=x.$eval(p),_=a.find("[jqyoui-draggable]:last,[data-jqyoui-draggable]:last"),m=x.$eval(a.attr("jqyoui-droppable")||a.attr("data-jqyoui-droppable"))||[],g=w.$eval(t.attr("jqyoui-draggable")||t.attr("data-jqyoui-draggable"))||[],g.index=this.fixIndex(w,g,c),m.index=this.fixIndex(x,m,f),v=e.isArray(c)?g.index:null,y=e.isArray(c)?c[v]:c,g.deepCopy&&(y=e.copy(y)),b=e.isArray(f)&&m&&m.index!==i?f[m.index]:e.isArray(f)?{}:f,m.deepCopy&&(b=e.copy(b)),g.beforeDrop&&E.push(this.callEventCallback(w,g.beforeDrop,u,l)),s.all(E).then(e.bind(this,function(){if(g.insertInline&&d===p){if(g.index>m.index){h=c[g.index];for(var i=g.index;i>m.index;i--)f[i]=e.copy(f[i-1]),f[i-1]={},f[i][g.direction]="left";f[m.index]=h}else{h=c[g.index];for(var i=g.index;i<m.index;i++)f[i]=e.copy(f[i+1]),f[i+1]={},f[i][g.direction]="right";f[m.index]=h}this.callEventCallback(x,m.onDrop,u,l)}else g.animate===!0?(k=t.clone(),k.css({position:"absolute"}).css(t.offset()),n("body").append(k),t.addClass("angular-dragdrop-hide"),this.move(k,_.length>0?_:a,null,"fast",m,function(){k.remove()}),this.move(_.length>0&&!m.multiple?_:[],t.parent("[jqyoui-droppable],[data-jqyoui-droppable]"),r.startXY,"fast",m,e.bind(this,function(){o(e.bind(this,function(){t.css({position:"relative",left:"",top:""}).removeClass("angular-dragdrop-hide"),_.css({position:"relative",left:"",top:"",display:"none"===_.css("display")?"":_.css("display")}),this.mutateDraggable(w,m,g,d,p,b,t),this.mutateDroppable(x,m,g,p,y,v),this.callEventCallback(x,m.onDrop,u,l)}))}))):o(e.bind(this,function(){this.mutateDraggable(w,m,g,d,p,b,t),this.mutateDroppable(x,m,g,p,y,v),this.callEventCallback(x,m.onDrop,u,l)}))}))["finally"](e.bind(this,function(){this.restore(t)}))},this.move=function(e,n,r,o,a,s){if(0===e.length)return s&&t.setTimeout(function(){s()},300),!1;var u=e.css("z-index"),l=e[a.containment||"offset"](),c=n.css("display"),f=n.hasClass("ng-hide"),h=n.hasClass("angular-dragdrop-hide");null===r&&n.length>0&&((n.attr("jqyoui-draggable")||n.attr("data-jqyoui-draggable"))!==i&&n.ngattr("ng-model")!==i&&n.is(":visible")&&a&&a.multiple?(r=n[a.containment||"offset"](),a.stack===!1?r.left+=n.outerWidth(!0):r.top+=n.outerHeight(!0)):(f&&n.removeClass("ng-hide"),h&&n.removeClass("angular-dragdrop-hide"),r=n.css({visibility:"hidden",display:"block"})[a.containment||"offset"](),n.css({visibility:"",display:c}))),e.css({position:"absolute","z-index":9999}).css(l).animate(r,o,function(){f&&n.addClass("ng-hide"),h&&n.addClass("angular-dragdrop-hide"),e.css("z-index",u),s&&s()})},this.mutateDroppable=function(t,n,i,r,o,s){var u=t.$eval(r);t.dndDragItem=o,e.isArray(u)?(n&&n.index>=0?u[n.index]=o:u.push(o),i&&i.placeholder===!0&&(u[u.length-1].jqyoui_pos=s)):(a(r+" = dndDragItem")(t),i&&i.placeholder===!0&&(u.jqyoui_pos=s))},this.mutateDraggable=function(t,n,r,o,s,u,l){var c=e.equals(u,{})||!u,f=t.$eval(o);t.dndDropItem=u,r&&r.placeholder?"keep"!=r.placeholder&&(e.isArray(f)&&r.index!==i?f[r.index]=u:a(o+" = dndDropItem")(t)):e.isArray(f)?c?r&&r.placeholder!==!0&&"keep"!==r.placeholder&&f.splice(r.index,1):f[r.index]=u:(a(o+" = dndDropItem")(t),t.$parent&&a(o+" = dndDropItem")(t.$parent)),this.restore(l)},this.restore=function(t){t.css({"z-index":"",left:"",top:""})},this.fixIndex=function(t,n,r){if(n.applyFilter&&e.isArray(r)&&r.length>0){var o=t[n.applyFilter](),a=o[n.index],s=i;return r.forEach(function(t,n){e.equals(t,a)&&(s=n)}),s}return n.index}}]).directive("jqyouiDraggable",["ngDragDropService",function(t){return{require:"?jqyouiDroppable",restrict:"A",link:function(i,o,a){var s,u,l,c,f=n(o),h=function(o,h){o?(s=i.$eval(f.attr("jqyoui-draggable")||f.attr("data-jqyoui-draggable"))||{},u=i.$eval(a.jqyouiOptions)||{},f.draggable({disabled:!1}).draggable(u).draggable({start:function(e,o){t.draggableScope=i,l=n(u.helper?o.helper:this).css("z-index"),n(u.helper?o.helper:this).css("z-index",9999),r.startXY=n(this)[s.containment||"offset"](),t.callEventCallback(i,s.onStart,e,o)},stop:function(e,r){n(u.helper?r.helper:this).css("z-index",l),t.callEventCallback(i,s.onStop,e,r)},drag:function(e,n){t.callEventCallback(i,s.onDrag,e,n)}})):f.draggable({disabled:!0}),c&&e.isDefined(o)&&(e.equals(a.drag,"true")||e.equals(a.drag,"false"))&&(c(),c=null)};c=i.$watch(function(){return i.$eval(a.drag)},h),h(),f.on("$destroy",function(){f.draggable({disabled:!0}).draggable("destroy")})}}}]).directive("jqyouiDroppable",["ngDragDropService","$q",function(t,i){return{restrict:"A",priority:1,link:function(r,o,a){var s,u,l,c=n(o),f=function(o,f){o?(s=r.$eval(n(c).attr("jqyoui-droppable")||n(c).attr("data-jqyoui-droppable"))||{},u=r.$eval(a.jqyouiOptions)||{},c.droppable({disabled:!1}).droppable(u).droppable({over:function(e,n){t.callEventCallback(r,s.onOver,e,n)},out:function(e,n){t.callEventCallback(r,s.onOut,e,n)},drop:function(o,l){var c=null;c=s.beforeDrop?t.callEventCallback(r,s.beforeDrop,o,l):function(){var t=i.defer();return t.resolve(),t.promise}(),c.then(e.bind(this,function(){n(l.draggable).ngattr("ng-model")&&a.ngModel?(t.droppableScope=r,t.invokeDrop(n(l.draggable),n(this),o,l)):t.callEventCallback(r,s.onDrop,o,l)}),function(){l.draggable.animate({left:"",top:""},u.revertDuration||0)})}})):c.droppable({disabled:!0}),l&&e.isDefined(o)&&(e.equals(a.drop,"true")||e.equals(a.drop,"false"))&&(l(),l=null)};l=r.$watch(function(){return r.$eval(a.drop)},f),f(),c.on("$destroy",function(){c.droppable({disabled:!0}).droppable("destroy")})}}}]);n.fn.ngattr=function(t,e){var n=this[0];return n.getAttribute(t)||n.getAttribute("data-"+t)}}(window,window.angular,window.jQuery),/*!
 * ZeroClipboard
 * The ZeroClipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie and a JavaScript interface
 * Copyright (c) 2009-2016 Jon Rohan, James M. Greene
 * Licensed MIT
 * http://zeroclipboard.org/
 * v2.3.0
 */
function(t,e){"use strict";var n,i,r,o=t,a=o.document,s=o.navigator,u=o.setTimeout,l=o.clearTimeout,c=o.setInterval,f=o.clearInterval,h=o.getComputedStyle,d=o.encodeURIComponent,p=o.ActiveXObject,g=o.Error,m=o.Number.parseInt||o.parseInt,v=o.Number.parseFloat||o.parseFloat,y=o.Number.isNaN||o.isNaN,b=o.Date.now,_=o.Object.keys,x=o.Object.prototype.hasOwnProperty,w=o.Array.prototype.slice,k=function(){var t=function(t){return t};if("function"==typeof o.wrap&&"function"==typeof o.unwrap)try{var e=a.createElement("div"),n=o.unwrap(e);1===e.nodeType&&n&&1===n.nodeType&&(t=o.unwrap)}catch(i){}return t}(),E=function(t){return w.call(t,0)},S=function(){var t,n,i,r,o,a,s=E(arguments),u=s[0]||{};for(t=1,n=s.length;t<n;t++)if(null!=(i=s[t]))for(r in i)x.call(i,r)&&(o=u[r],a=i[r],u!==a&&a!==e&&(u[r]=a));return u},C=function(t){var e,n,i,r;if("object"!=typeof t||null==t||"number"==typeof t.nodeType)e=t;else if("number"==typeof t.length)for(e=[],n=0,i=t.length;n<i;n++)x.call(t,n)&&(e[n]=C(t[n]));else{e={};for(r in t)x.call(t,r)&&(e[r]=C(t[r]))}return e},T=function(t,e){for(var n={},i=0,r=e.length;i<r;i++)e[i]in t&&(n[e[i]]=t[e[i]]);return n},M=function(t,e){var n={};for(var i in t)e.indexOf(i)===-1&&(n[i]=t[i]);return n},A=function(t){if(t)for(var e in t)x.call(t,e)&&delete t[e];return t},$=function(t,e){if(t&&1===t.nodeType&&t.ownerDocument&&e&&(1===e.nodeType&&e.ownerDocument&&e.ownerDocument===t.ownerDocument||9===e.nodeType&&!e.ownerDocument&&e===t.ownerDocument))do{if(t===e)return!0;t=t.parentNode}while(t);return!1},O=function(t){var e;return"string"==typeof t&&t&&(e=t.split("#")[0].split("?")[0],e=t.slice(0,t.lastIndexOf("/")+1)),e},D=function(t){var e,n;return"string"==typeof t&&t&&(n=t.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]?e=n[1]:(n=t.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]&&(e=n[1]))),e},N=function(){var t,e;try{throw new g}catch(n){e=n}return e&&(t=e.sourceURL||e.fileName||D(e.stack)),t},I=function(){var t,n,i;if(a.currentScript&&(t=a.currentScript.src))return t;if(n=a.getElementsByTagName("script"),1===n.length)return n[0].src||e;if("readyState"in(n[0]||document.createElement("script")))for(i=n.length;i--;)if("interactive"===n[i].readyState&&(t=n[i].src))return t;return"loading"===a.readyState&&(t=n[n.length-1].src)?t:(t=N())?t:e},L=function(){var t,n,i,r=a.getElementsByTagName("script");for(t=r.length;t--;){if(!(i=r[t].src)){n=null;break}if(i=O(i),null==n)n=i;else if(n!==i){n=null;break}}return n||e},P=function(){var t=O(I())||L()||"";return t+"ZeroClipboard.swf"},R=function(){var t=/win(dows|[\s]?(nt|me|ce|xp|vista|[\d]+))/i;return!!s&&(t.test(s.appVersion||"")||t.test(s.platform||"")||(s.userAgent||"").indexOf("Windows")!==-1)},F=function(){return null==o.opener&&(!!o.top&&o!=o.top||!!o.parent&&o!=o.parent)}(),j="html"===a.documentElement.nodeName,U={bridge:null,version:"0.0.0",pluginType:"unknown",sandboxed:null,disabled:null,outdated:null,insecure:null,unavailable:null,degraded:null,deactivated:null,overdue:null,ready:null},z="11.0.0",H={},q={},W=null,Y=0,B=0,V={ready:"Flash communication is established",error:{"flash-sandboxed":"Attempting to run Flash in a sandboxed iframe, which is impossible","flash-disabled":"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-insecure":"Flash will be unable to communicate due to a protocol mismatch between your `swfPath` configuration and the page","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-degraded":"Flash is unable to preserve data fidelity when communicating with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-overdue":"Flash communication was established but NOT within the acceptable time limit","version-mismatch":"ZeroClipboard JS version number does not match ZeroClipboard SWF version number","clipboard-error":"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard","config-mismatch":"ZeroClipboard configuration does not match Flash's reality","swf-not-found":"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity","browser-unsupported":"The browser does not support the required HTML DOM and JavaScript features"}},X=["flash-unavailable","flash-degraded","flash-overdue","version-mismatch","config-mismatch","clipboard-error"],G=["flash-sandboxed","flash-disabled","flash-outdated","flash-insecure","flash-unavailable","flash-degraded","flash-deactivated","flash-overdue"],K=new RegExp("^flash-("+G.map(function(t){return t.replace(/^flash-/,"")}).join("|")+")$"),J=new RegExp("^flash-("+G.filter(function(t){return"flash-disabled"!==t}).map(function(t){return t.replace(/^flash-/,"")}).join("|")+")$"),Z={swfPath:P(),trustedDomains:o.location.host?[o.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,fixLineEndings:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},Q=function(t){"object"!=typeof t||!t||"length"in t||_(t).forEach(function(e){if(/^(?:forceHandCursor|title|zIndex|bubbleEvents|fixLineEndings)$/.test(e))Z[e]=t[e];else if(null==U.bridge)if("containerId"===e||"swfObjectId"===e){if(!mt(t[e]))throw new Error("The specified `"+e+"` value is not valid as an HTML4 Element ID");Z[e]=t[e]}else Z[e]=t[e]});{if("string"!=typeof t||!t)return C(Z);if(x.call(Z,t))return Z[t]}},tt=function(){return Kt(),{browser:S(T(s,["userAgent","platform","appName","appVersion"]),{isSupported:et()}),flash:M(U,["bridge"]),zeroclipboard:{version:Zt.version,config:Zt.config()}}},et=function(){return!!(a.addEventListener&&o.Object.keys&&o.Array.prototype.map)},nt=function(){return!!(U.sandboxed||U.disabled||U.outdated||U.unavailable||U.degraded||U.deactivated)},it=function(t,i){var r,o,a,s={};if("string"==typeof t&&t?a=t.toLowerCase().split(/\s+/):"object"!=typeof t||!t||"length"in t||"undefined"!=typeof i||_(t).forEach(function(e){var n=t[e];"function"==typeof n&&Zt.on(e,n)}),a&&a.length&&i){for(r=0,o=a.length;r<o;r++)t=a[r].replace(/^on/,""),s[t]=!0,H[t]||(H[t]=[]),H[t].push(i);if(s.ready&&U.ready&&Zt.emit({type:"ready"}),s.error){for(et()||Zt.emit({type:"error",name:"browser-unsupported"}),r=0,o=G.length;r<o;r++)if(U[G[r].replace(/^flash-/,"")]===!0){Zt.emit({type:"error",name:G[r]});break}n!==e&&Zt.version!==n&&Zt.emit({type:"error",name:"version-mismatch",jsVersion:Zt.version,swfVersion:n})}}return Zt},rt=function(t,e){var n,i,r,o,a;if(0===arguments.length?o=_(H):"string"==typeof t&&t?o=t.toLowerCase().split(/\s+/):"object"!=typeof t||!t||"length"in t||"undefined"!=typeof e||_(t).forEach(function(e){var n=t[e];"function"==typeof n&&Zt.off(e,n)}),o&&o.length)for(n=0,i=o.length;n<i;n++)if(t=o[n].replace(/^on/,""),a=H[t],a&&a.length)if(e)for(r=a.indexOf(e);r!==-1;)a.splice(r,1),r=a.indexOf(e,r);else a.length=0;return Zt},ot=function(t){var e;return e="string"==typeof t&&t?C(H[t])||null:C(H)},at=function(t){var e,n,i;if(t=vt(t),t&&!Et(t))return"ready"===t.type&&U.overdue===!0?Zt.emit({type:"error",name:"flash-overdue"}):(e=S({},t),wt.call(this,e),"copy"===t.type&&(i=Nt(q),n=i.data,W=i.formatMap),n)},st=function(){var t=Z.swfPath||"",e=t.slice(0,2),n=t.slice(0,t.indexOf("://")+1);return"\\\\"===e?"file:":"//"===e||""===n?o.location.protocol:n},ut=function(){var t,e,n=U.sandboxed;return et()?(Kt(),"boolean"!=typeof U.ready&&(U.ready=!1),void(U.sandboxed!==n&&U.sandboxed===!0?(U.ready=!1,Zt.emit({type:"error",name:"flash-sandboxed"})):Zt.isFlashUnusable()||null!==U.bridge||(e=st(),e&&e!==o.location.protocol?Zt.emit({type:"error",name:"flash-insecure"}):(t=Z.flashLoadTimeout,"number"==typeof t&&t>=0&&(Y=u(function(){"boolean"!=typeof U.deactivated&&(U.deactivated=!0),U.deactivated===!0&&Zt.emit({type:"error",name:"flash-deactivated"})},t)),U.overdue=!1,Ot())))):(U.ready=!1,void Zt.emit({type:"error",name:"browser-unsupported"}))},lt=function(){Zt.clearData(),Zt.blur(),Zt.emit("destroy"),Dt(),Zt.off()},ct=function(t,e){var n;if("object"==typeof t&&t&&"undefined"==typeof e)n=t,Zt.clearData();else{if("string"!=typeof t||!t)return;n={},n[t]=e}for(var i in n)"string"==typeof i&&i&&x.call(n,i)&&"string"==typeof n[i]&&n[i]&&(q[i]=Gt(n[i]))},ft=function(t){"undefined"==typeof t?(A(q),W=null):"string"==typeof t&&x.call(q,t)&&delete q[t]},ht=function(t){return"undefined"==typeof t?C(q):"string"==typeof t&&x.call(q,t)?q[t]:void 0},dt=function(t){if(t&&1===t.nodeType){i&&(zt(i,Z.activeClass),i!==t&&zt(i,Z.hoverClass)),i=t,Ut(t,Z.hoverClass);var e=t.getAttribute("title")||Z.title;if("string"==typeof e&&e){var n=At(U.bridge);n&&n.setAttribute("title",e)}var r=Z.forceHandCursor===!0||"pointer"===Ht(t,"cursor");Vt(r),Bt()}},pt=function(){var t=At(U.bridge);t&&(t.removeAttribute("title"),t.style.left="0px",t.style.top="-9999px",t.style.width="1px",t.style.height="1px"),i&&(zt(i,Z.hoverClass),zt(i,Z.activeClass),i=null)},gt=function(){return i||null},mt=function(t){return"string"==typeof t&&t&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(t)},vt=function(t){var e;if("string"==typeof t&&t?(e=t,t={}):"object"==typeof t&&t&&"string"==typeof t.type&&t.type&&(e=t.type),e){e=e.toLowerCase(),!t.target&&(/^(copy|aftercopy|_click)$/.test(e)||"error"===e&&"clipboard-error"===t.name)&&(t.target=r),S(t,{type:e,target:t.target||i||null,relatedTarget:t.relatedTarget||null,currentTarget:U&&U.bridge||null,timeStamp:t.timeStamp||b()||null});var n=V[t.type];return"error"===t.type&&t.name&&n&&(n=n[t.name]),n&&(t.message=n),"ready"===t.type&&S(t,{target:null,version:U.version}),"error"===t.type&&(K.test(t.name)&&S(t,{target:null,minimumVersion:z}),J.test(t.name)&&S(t,{version:U.version}),"flash-insecure"===t.name&&S(t,{pageProtocol:o.location.protocol,swfProtocol:st()})),"copy"===t.type&&(t.clipboardData={setData:Zt.setData,clearData:Zt.clearData}),"aftercopy"===t.type&&(t=It(t,W)),t.target&&!t.relatedTarget&&(t.relatedTarget=yt(t.target)),bt(t)}},yt=function(t){var e=t&&t.getAttribute&&t.getAttribute("data-clipboard-target");return e?a.getElementById(e):null},bt=function(t){if(t&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(t.type)){var n=t.target,i="_mouseover"===t.type&&t.relatedTarget?t.relatedTarget:e,r="_mouseout"===t.type&&t.relatedTarget?t.relatedTarget:e,s=qt(n),u=o.screenLeft||o.screenX||0,l=o.screenTop||o.screenY||0,c=a.body.scrollLeft+a.documentElement.scrollLeft,f=a.body.scrollTop+a.documentElement.scrollTop,h=s.left+("number"==typeof t._stageX?t._stageX:0),d=s.top+("number"==typeof t._stageY?t._stageY:0),p=h-c,g=d-f,m=u+p,v=l+g,y="number"==typeof t.movementX?t.movementX:0,b="number"==typeof t.movementY?t.movementY:0;delete t._stageX,delete t._stageY,S(t,{srcElement:n,fromElement:i,toElement:r,screenX:m,screenY:v,pageX:h,pageY:d,clientX:p,clientY:g,x:p,y:g,movementX:y,movementY:b,offsetX:0,offsetY:0,layerX:0,layerY:0})}return t},_t=function(t){var e=t&&"string"==typeof t.type&&t.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(e)},xt=function(t,e,n,i){i?u(function(){t.apply(e,n)},0):t.apply(e,n)},wt=function(t){if("object"==typeof t&&t&&t.type){var e=_t(t),n=H["*"]||[],i=H[t.type]||[],r=n.concat(i);if(r&&r.length){var a,s,u,l,c,f=this;for(a=0,s=r.length;a<s;a++)u=r[a],l=f,"string"==typeof u&&"function"==typeof o[u]&&(u=o[u]),"object"==typeof u&&u&&"function"==typeof u.handleEvent&&(l=u,u=u.handleEvent),"function"==typeof u&&(c=S({},t),xt(u,l,[c],e))}return this}},kt=function(t){var e=null;return(F===!1||t&&"error"===t.type&&t.name&&X.indexOf(t.name)!==-1)&&(e=!1),e},Et=function(t){var e=t.target||i||null,o="swf"===t._source;switch(delete t._source,t.type){case"error":var a="flash-sandboxed"===t.name||kt(t);"boolean"==typeof a&&(U.sandboxed=a),"browser-unsupported"===t.name?S(U,{disabled:!1,outdated:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1}):G.indexOf(t.name)!==-1?S(U,{disabled:"flash-disabled"===t.name,outdated:"flash-outdated"===t.name,insecure:"flash-insecure"===t.name,unavailable:"flash-unavailable"===t.name,degraded:"flash-degraded"===t.name,deactivated:"flash-deactivated"===t.name,overdue:"flash-overdue"===t.name,ready:!1}):"version-mismatch"===t.name&&(n=t.swfVersion,S(U,{disabled:!1,outdated:!1,insecure:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1})),Yt();break;case"ready":n=t.swfVersion;var s=U.deactivated===!0;S(U,{sandboxed:!1,disabled:!1,outdated:!1,insecure:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:s,ready:!s}),Yt();break;case"beforecopy":r=e;break;case"copy":var u,l,c=t.relatedTarget;!q["text/html"]&&!q["text/plain"]&&c&&(l=c.value||c.outerHTML||c.innerHTML)&&(u=c.value||c.textContent||c.innerText)?(t.clipboardData.clearData(),t.clipboardData.setData("text/plain",u),l!==u&&t.clipboardData.setData("text/html",l)):!q["text/plain"]&&t.target&&(u=t.target.getAttribute("data-clipboard-text"))&&(t.clipboardData.clearData(),t.clipboardData.setData("text/plain",u));break;case"aftercopy":St(t),Zt.clearData(),e&&e!==jt()&&e.focus&&e.focus();break;case"_mouseover":Zt.focus(e),Z.bubbleEvents===!0&&o&&(e&&e!==t.relatedTarget&&!$(t.relatedTarget,e)&&Ct(S({},t,{type:"mouseenter",bubbles:!1,cancelable:!1})),Ct(S({},t,{type:"mouseover"})));break;case"_mouseout":Zt.blur(),Z.bubbleEvents===!0&&o&&(e&&e!==t.relatedTarget&&!$(t.relatedTarget,e)&&Ct(S({},t,{type:"mouseleave",bubbles:!1,cancelable:!1})),Ct(S({},t,{type:"mouseout"})));break;case"_mousedown":Ut(e,Z.activeClass),Z.bubbleEvents===!0&&o&&Ct(S({},t,{type:t.type.slice(1)}));break;case"_mouseup":zt(e,Z.activeClass),Z.bubbleEvents===!0&&o&&Ct(S({},t,{type:t.type.slice(1)}));break;case"_click":r=null,Z.bubbleEvents===!0&&o&&Ct(S({},t,{type:t.type.slice(1)}));break;case"_mousemove":Z.bubbleEvents===!0&&o&&Ct(S({},t,{type:t.type.slice(1)}))}if(/^_(?:click|mouse(?:over|out|down|up|move))$/.test(t.type))return!0},St=function(t){if(t.errors&&t.errors.length>0){var e=C(t);S(e,{type:"error",name:"clipboard-error"}),delete e.success,u(function(){Zt.emit(e)},0)}},Ct=function(t){if(t&&"string"==typeof t.type&&t){var e,n=t.target||null,i=n&&n.ownerDocument||a,r={view:i.defaultView||o,canBubble:!0,cancelable:!0,detail:"click"===t.type?1:0,button:"number"==typeof t.which?t.which-1:"number"==typeof t.button?t.button:i.createEvent?0:1},s=S(r,t);n&&i.createEvent&&n.dispatchEvent&&(s=[s.type,s.canBubble,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget],e=i.createEvent("MouseEvents"),e.initMouseEvent&&(e.initMouseEvent.apply(e,s),e._source="js",n.dispatchEvent(e)))}},Tt=function(){var t=Z.flashLoadTimeout;if("number"==typeof t&&t>=0){var e=Math.min(1e3,t/10),n=Z.swfObjectId+"_fallbackContent";B=c(function(){var t=a.getElementById(n);Wt(t)&&(Yt(),U.deactivated=null,Zt.emit({type:"error",name:"swf-not-found"}))},e)}},Mt=function(){var t=a.createElement("div");return t.id=Z.containerId,t.className=Z.containerClass,t.style.position="absolute",t.style.left="0px",t.style.top="-9999px",t.style.width="1px",t.style.height="1px",t.style.zIndex=""+Xt(Z.zIndex),t},At=function(t){for(var e=t&&t.parentNode;e&&"OBJECT"===e.nodeName&&e.parentNode;)e=e.parentNode;return e||null},$t=function(t){return"string"==typeof t&&t?t.replace(/["&'<>]/g,function(t){switch(t){case'"':return"&quot;";case"&":return"&amp;";case"'":return"&apos;";case"<":return"&lt;";case">":return"&gt;";default:return t}}):t},Ot=function(){var t,e=U.bridge,n=At(e);if(!e){var i=Ft(o.location.host,Z),r="never"===i?"none":"all",s=Pt(S({jsVersion:Zt.version},Z)),u=Z.swfPath+Lt(Z.swfPath,Z);j&&(u=$t(u)),n=Mt();var l=a.createElement("div");n.appendChild(l),a.body.appendChild(n);var c=a.createElement("div"),f="activex"===U.pluginType;c.innerHTML='<object id="'+Z.swfObjectId+'" name="'+Z.swfObjectId+'" width="100%" height="100%" '+(f?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+u+'"')+">"+(f?'<param name="movie" value="'+u+'"/>':"")+'<param name="allowScriptAccess" value="'+i+'"/><param name="allowNetworking" value="'+r+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+s+'"/><div id="'+Z.swfObjectId+'_fallbackContent">&nbsp;</div></object>',e=c.firstChild,c=null,k(e).ZeroClipboard=Zt,n.replaceChild(e,l),Tt()}return e||(e=a[Z.swfObjectId],e&&(t=e.length)&&(e=e[t-1]),!e&&n&&(e=n.firstChild)),U.bridge=e||null,e},Dt=function(){var t=U.bridge;if(t){var i=At(t);i&&("activex"===U.pluginType&&"readyState"in t?(t.style.display="none",function r(){if(4===t.readyState){for(var e in t)"function"==typeof t[e]&&(t[e]=null);t.parentNode&&t.parentNode.removeChild(t),i.parentNode&&i.parentNode.removeChild(i)}else u(r,10)}()):(t.parentNode&&t.parentNode.removeChild(t),i.parentNode&&i.parentNode.removeChild(i))),Yt(),U.ready=null,U.bridge=null,U.deactivated=null,U.insecure=null,n=e}},Nt=function(t){var e={},n={};if("object"==typeof t&&t){for(var i in t)if(i&&x.call(t,i)&&"string"==typeof t[i]&&t[i])switch(i.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":e.text=t[i],n.text=i;break;case"text/html":case"html":case"air:html":case"flash:html":e.html=t[i],n.html=i;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":e.rtf=t[i],n.rtf=i}return{data:e,formatMap:n}}},It=function(t,e){if("object"!=typeof t||!t||"object"!=typeof e||!e)return t;var n={};for(var i in t)if(x.call(t,i))if("errors"===i){n[i]=t[i]?t[i].slice():[];for(var r=0,o=n[i].length;r<o;r++)n[i][r].format=e[n[i][r].format]}else if("success"!==i&&"data"!==i)n[i]=t[i];else{n[i]={};var a=t[i];for(var s in a)s&&x.call(a,s)&&x.call(e,s)&&(n[i][e[s]]=a[s])}return n},Lt=function(t,e){var n=null==e||e&&e.cacheBust===!0;return n?(t.indexOf("?")===-1?"?":"&")+"noCache="+b():""},Pt=function(t){var e,n,i,r,a="",s=[];if(t.trustedDomains&&("string"==typeof t.trustedDomains?r=[t.trustedDomains]:"object"==typeof t.trustedDomains&&"length"in t.trustedDomains&&(r=t.trustedDomains)),r&&r.length)for(e=0,n=r.length;e<n;e++)if(x.call(r,e)&&r[e]&&"string"==typeof r[e]){if(i=Rt(r[e]),!i)continue;if("*"===i){s.length=0,s.push(i);break}s.push.apply(s,[i,"//"+i,o.location.protocol+"//"+i])}return s.length&&(a+="trustedOrigins="+d(s.join(","))),t.forceEnhancedClipboard===!0&&(a+=(a?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof t.swfObjectId&&t.swfObjectId&&(a+=(a?"&":"")+"swfObjectId="+d(t.swfObjectId)),"string"==typeof t.jsVersion&&t.jsVersion&&(a+=(a?"&":"")+"jsVersion="+d(t.jsVersion)),a},Rt=function(t){if(null==t||""===t)return null;if(t=t.replace(/^\s+|\s+$/g,""),""===t)return null;var e=t.indexOf("//");t=e===-1?t:t.slice(e+2);var n=t.indexOf("/");return t=n===-1?t:e===-1||0===n?null:t.slice(0,n),t&&".swf"===t.slice(-4).toLowerCase()?null:t||null},Ft=function(){var t=function(t){var e,n,i,r=[];if("string"==typeof t&&(t=[t]),"object"!=typeof t||!t||"number"!=typeof t.length)return r;for(e=0,n=t.length;e<n;e++)if(x.call(t,e)&&(i=Rt(t[e]))){if("*"===i){r.length=0,r.push("*");break}r.indexOf(i)===-1&&r.push(i)}return r};return function(e,n){var i=Rt(n.swfPath);null===i&&(i=e);var r=t(n.trustedDomains),o=r.length;if(o>0){if(1===o&&"*"===r[0])return"always";if(r.indexOf(e)!==-1)return 1===o&&e===i?"sameDomain":"always"}return"never"}}(),jt=function(){try{return a.activeElement}catch(t){return null}},Ut=function(t,e){var n,i,r,o=[];if("string"==typeof e&&e&&(o=e.split(/\s+/)),t&&1===t.nodeType&&o.length>0){for(r=(" "+(t.className||"")+" ").replace(/[\t\r\n\f]/g," "),n=0,i=o.length;n<i;n++)r.indexOf(" "+o[n]+" ")===-1&&(r+=o[n]+" ");r=r.replace(/^\s+|\s+$/g,""),r!==t.className&&(t.className=r)}return t},zt=function(t,e){var n,i,r,o=[];if("string"==typeof e&&e&&(o=e.split(/\s+/)),t&&1===t.nodeType&&o.length>0&&t.className){for(r=(" "+t.className+" ").replace(/[\t\r\n\f]/g," "),n=0,i=o.length;n<i;n++)r=r.replace(" "+o[n]+" "," ");r=r.replace(/^\s+|\s+$/g,""),r!==t.className&&(t.className=r)}return t},Ht=function(t,e){var n=h(t,null).getPropertyValue(e);return"cursor"!==e||n&&"auto"!==n||"A"!==t.nodeName?n:"pointer"},qt=function(t){var e={left:0,top:0,width:0,height:0};if(t.getBoundingClientRect){var n=t.getBoundingClientRect(),i=o.pageXOffset,r=o.pageYOffset,s=a.documentElement.clientLeft||0,u=a.documentElement.clientTop||0,l=0,c=0;if("relative"===Ht(a.body,"position")){var f=a.body.getBoundingClientRect(),h=a.documentElement.getBoundingClientRect();l=f.left-h.left||0,c=f.top-h.top||0}e.left=n.left+i-s-l,e.top=n.top+r-u-c,e.width="width"in n?n.width:n.right-n.left,e.height="height"in n?n.height:n.bottom-n.top}return e},Wt=function(t){if(!t)return!1;var e=h(t,null);if(!e)return!1;var n=v(e.height)>0,i=v(e.width)>0,r=v(e.top)>=0,o=v(e.left)>=0,a=n&&i&&r&&o,s=a?null:qt(t),u="none"!==e.display&&"collapse"!==e.visibility&&(a||!!s&&(n||s.height>0)&&(i||s.width>0)&&(r||s.top>=0)&&(o||s.left>=0));return u},Yt=function(){l(Y),Y=0,f(B),B=0},Bt=function(){var t;if(i&&(t=At(U.bridge))){var e=qt(i);S(t.style,{width:e.width+"px",height:e.height+"px",top:e.top+"px",left:e.left+"px",zIndex:""+Xt(Z.zIndex)})}},Vt=function(t){U.ready===!0&&(U.bridge&&"function"==typeof U.bridge.setHandCursor?U.bridge.setHandCursor(t):U.ready=!1)},Xt=function(t){if(/^(?:auto|inherit)$/.test(t))return t;var e;return"number"!=typeof t||y(t)?"string"==typeof t&&(e=Xt(m(t,10))):e=t,"number"==typeof e?e:"auto"},Gt=function(t){var e=/(\r\n|\r|\n)/g;return"string"==typeof t&&Z.fixLineEndings===!0&&(R()?/((^|[^\r])\n|\r([^\n]|$))/.test(t)&&(t=t.replace(e,"\r\n")):/\r/.test(t)&&(t=t.replace(e,"\n"))),t},Kt=function(e){var n,i,r,o=U.sandboxed,a=null;if(e=e===!0,F===!1)a=!1;else{try{i=t.frameElement||null}catch(s){r={name:s.name,message:s.message}}if(i&&1===i.nodeType&&"IFRAME"===i.nodeName)try{a=i.hasAttribute("sandbox")}catch(s){a=null}else{try{n=document.domain||null}catch(s){n=null}(null===n||r&&"SecurityError"===r.name&&/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(r.message.toLowerCase()))&&(a=!0)}}return U.sandboxed=a,o===a||e||Jt(p),a},Jt=function(t){function e(t){var e=t.match(/[\d]+/g);return e.length=3,e.join(".")}function n(t){return!!t&&(t=t.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(t)||"chrome.plugin"===t.slice(-13))}function i(t){t&&(u=!0,t.version&&(f=e(t.version)),!f&&t.description&&(f=e(t.description)),t.filename&&(c=n(t.filename)))}var r,o,a,u=!1,l=!1,c=!1,f="";if(s.plugins&&s.plugins.length)r=s.plugins["Shockwave Flash"],i(r),s.plugins["Shockwave Flash 2.0"]&&(u=!0,f="2.0.0.11");else if(s.mimeTypes&&s.mimeTypes.length)a=s.mimeTypes["application/x-shockwave-flash"],r=a&&a.enabledPlugin,i(r);else if("undefined"!=typeof t){l=!0;try{o=new t("ShockwaveFlash.ShockwaveFlash.7"),u=!0,f=e(o.GetVariable("$version"))}catch(h){try{o=new t("ShockwaveFlash.ShockwaveFlash.6"),u=!0,f="6.0.21"}catch(d){try{o=new t("ShockwaveFlash.ShockwaveFlash"),u=!0,f=e(o.GetVariable("$version"))}catch(p){l=!1}}}}U.disabled=u!==!0,U.outdated=f&&v(f)<v(z),U.version=f||"0.0.0",U.pluginType=c?"pepper":l?"activex":u?"netscape":"unknown"};Jt(p),Kt(!0);var Zt=function(){return this instanceof Zt?void("function"==typeof Zt._createClient&&Zt._createClient.apply(this,E(arguments))):new Zt};Zt.version="2.3.0",Zt.config=function(){return Q.apply(this,E(arguments))},Zt.state=function(){return tt.apply(this,E(arguments))},Zt.isFlashUnusable=function(){return nt.apply(this,E(arguments))},Zt.on=function(){return it.apply(this,E(arguments))},Zt.off=function(){return rt.apply(this,E(arguments))},Zt.handlers=function(){return ot.apply(this,E(arguments))},Zt.emit=function(){return at.apply(this,E(arguments))},Zt.create=function(){return ut.apply(this,E(arguments))},Zt.destroy=function(){return lt.apply(this,E(arguments))},Zt.setData=function(){return ct.apply(this,E(arguments))},Zt.clearData=function(){return ft.apply(this,E(arguments))},Zt.getData=function(){return ht.apply(this,E(arguments))},Zt.focus=Zt.activate=function(){return dt.apply(this,E(arguments))},Zt.blur=Zt.deactivate=function(){return pt.apply(this,E(arguments))},Zt.activeElement=function(){return gt.apply(this,E(arguments))};var Qt=0,te={},ee=0,ne={},ie={};S(Z,{autoActivate:!0});var re=function(t){var e,n=this;n.id=""+Qt++,e={instance:n,elements:[],handlers:{},coreWildcardHandler:function(t){return n.emit(t)}},te[n.id]=e,t&&n.clip(t),Zt.on("*",e.coreWildcardHandler),Zt.on("destroy",function(){n.destroy()}),Zt.create()},oe=function(t,i){var r,o,a,s={},u=this,l=te[u.id],c=l&&l.handlers;if(!l)throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");if("string"==typeof t&&t?a=t.toLowerCase().split(/\s+/):"object"!=typeof t||!t||"length"in t||"undefined"!=typeof i||_(t).forEach(function(e){var n=t[e];"function"==typeof n&&u.on(e,n)}),a&&a.length&&i){for(r=0,o=a.length;r<o;r++)t=a[r].replace(/^on/,""),s[t]=!0,c[t]||(c[t]=[]),c[t].push(i);if(s.ready&&U.ready&&this.emit({type:"ready",client:this}),s.error){for(r=0,o=G.length;r<o;r++)if(U[G[r].replace(/^flash-/,"")]){this.emit({type:"error",name:G[r],client:this});break}n!==e&&Zt.version!==n&&this.emit({type:"error",name:"version-mismatch",jsVersion:Zt.version,swfVersion:n})}}return u},ae=function(t,e){var n,i,r,o,a,s=this,u=te[s.id],l=u&&u.handlers;if(!l)return s;if(0===arguments.length?o=_(l):"string"==typeof t&&t?o=t.split(/\s+/):"object"!=typeof t||!t||"length"in t||"undefined"!=typeof e||_(t).forEach(function(e){var n=t[e];"function"==typeof n&&s.off(e,n)}),o&&o.length)for(n=0,i=o.length;n<i;n++)if(t=o[n].toLowerCase().replace(/^on/,""),a=l[t],a&&a.length)if(e)for(r=a.indexOf(e);r!==-1;)a.splice(r,1),r=a.indexOf(e,r);else a.length=0;return s},se=function(t){var e=null,n=te[this.id]&&te[this.id].handlers;return n&&(e="string"==typeof t&&t?n[t]?n[t].slice(0):[]:C(n)),e},ue=function(t){var e,n=this;return de.call(n,t)&&("object"==typeof t&&t&&"string"==typeof t.type&&t.type&&(t=S({},t)),e=S({},vt(t),{client:n}),pe.call(n,e)),n},le=function(t){if(!te[this.id])throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");t=ge(t);for(var e=0;e<t.length;e++)if(x.call(t,e)&&t[e]&&1===t[e].nodeType){t[e].zcClippingId?ne[t[e].zcClippingId].indexOf(this.id)===-1&&ne[t[e].zcClippingId].push(this.id):(t[e].zcClippingId="zcClippingId_"+ee++,ne[t[e].zcClippingId]=[this.id],Z.autoActivate===!0&&me(t[e]));var n=te[this.id]&&te[this.id].elements;n.indexOf(t[e])===-1&&n.push(t[e])}return this},ce=function(t){var e=te[this.id];if(!e)return this;var n,i=e.elements;t="undefined"==typeof t?i.slice(0):ge(t);for(var r=t.length;r--;)if(x.call(t,r)&&t[r]&&1===t[r].nodeType){for(n=0;(n=i.indexOf(t[r],n))!==-1;)i.splice(n,1);var o=ne[t[r].zcClippingId];if(o){for(n=0;(n=o.indexOf(this.id,n))!==-1;)o.splice(n,1);0===o.length&&(Z.autoActivate===!0&&ve(t[r]),delete t[r].zcClippingId)}}return this},fe=function(){var t=te[this.id];return t&&t.elements?t.elements.slice(0):[]},he=function(){var t=te[this.id];t&&(this.unclip(),this.off(),Zt.off("*",t.coreWildcardHandler),delete te[this.id])},de=function(t){if(!t||!t.type)return!1;if(t.client&&t.client!==this)return!1;var e=te[this.id],n=e&&e.elements,i=!!n&&n.length>0,r=!t.target||i&&n.indexOf(t.target)!==-1,o=t.relatedTarget&&i&&n.indexOf(t.relatedTarget)!==-1,a=t.client&&t.client===this;return!(!e||!(r||o||a))},pe=function(t){var e=te[this.id];if("object"==typeof t&&t&&t.type&&e){var n=_t(t),i=e&&e.handlers["*"]||[],r=e&&e.handlers[t.type]||[],a=i.concat(r);if(a&&a.length){var s,u,l,c,f,h=this;for(s=0,u=a.length;s<u;s++)l=a[s],c=h,"string"==typeof l&&"function"==typeof o[l]&&(l=o[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(c=l,l=l.handleEvent),"function"==typeof l&&(f=S({},t),xt(l,c,[f],n))}}},ge=function(t){return"string"==typeof t&&(t=[]),"number"!=typeof t.length?[t]:t},me=function(t){if(t&&1===t.nodeType){var e=function(t){(t||(t=o.event))&&("js"!==t._source&&(t.stopImmediatePropagation(),t.preventDefault()),delete t._source)},n=function(n){(n||(n=o.event))&&(e(n),Zt.focus(t))};t.addEventListener("mouseover",n,!1),t.addEventListener("mouseout",e,!1),t.addEventListener("mouseenter",e,!1),t.addEventListener("mouseleave",e,!1),t.addEventListener("mousemove",e,!1),ie[t.zcClippingId]={mouseover:n,mouseout:e,mouseenter:e,mouseleave:e,mousemove:e}}},ve=function(t){if(t&&1===t.nodeType){var e=ie[t.zcClippingId];if("object"==typeof e&&e){for(var n,i,r=["move","leave","enter","out","over"],o=0,a=r.length;o<a;o++)n="mouse"+r[o],i=e[n],"function"==typeof i&&t.removeEventListener(n,i,!1);delete ie[t.zcClippingId]}}};Zt._createClient=function(){re.apply(this,E(arguments))},Zt.prototype.on=function(){return oe.apply(this,E(arguments))},Zt.prototype.off=function(){return ae.apply(this,E(arguments))},Zt.prototype.handlers=function(){return se.apply(this,E(arguments))},Zt.prototype.emit=function(){return ue.apply(this,E(arguments))},Zt.prototype.clip=function(){return le.apply(this,E(arguments))},Zt.prototype.unclip=function(){return ce.apply(this,E(arguments))},Zt.prototype.elements=function(){return fe.apply(this,E(arguments))},Zt.prototype.destroy=function(){return he.apply(this,E(arguments))},Zt.prototype.setText=function(t){if(!te[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Zt.setData("text/plain",t),this},Zt.prototype.setHtml=function(t){if(!te[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Zt.setData("text/html",t),this},Zt.prototype.setRichText=function(t){if(!te[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Zt.setData("application/rtf",t),this},Zt.prototype.setData=function(){if(!te[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Zt.setData.apply(this,E(arguments)),this},Zt.prototype.clearData=function(){if(!te[this.id])throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");return Zt.clearData.apply(this,E(arguments)),this},Zt.prototype.getData=function(){if(!te[this.id])throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");return Zt.getData.apply(this,E(arguments))},"function"==typeof define&&define.amd?define(function(){return Zt}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=Zt:t.ZeroClipboard=Zt}(function(){return this||window}()),angular.module("zeroclipboard",[]).provider("uiZeroclipConfig",function(){var t={buttonClass:"",swfPath:"ZeroClipboard.swf",trustedDomains:[window.location.host],cacheBust:!0,forceHandCursor:!1,zIndex:999999999,debug:!0,title:null,autoActivate:!0,flashLoadTimeout:3e4,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active"},e=!0;this.setZcConf=function(e){angular.extend(t,e)},this.setOverrideConfig=function(t){e=t},this.$get=function(){return{zeroclipConfig:t,overrideConfig:e}}}).directive("uiZeroclip",["$document","$window","uiZeroclipConfig",function(t,e,n){var i=n.zeroclipConfig||{},r=e.ZeroClipboard;return{scope:{onCopied:"&zeroclipCopied",onError:"&?zeroclipOnError",onBeforeCopy:"&?zeroclipOnBeforeCopy",client:"=?uiZeroclip",value:"=zeroclipModel",text:"@zeroclipText"
},link:function(t,e,o){var a,s=e[0];n.overrideConfig&&r.config(i),angular.isFunction(r)&&(t.client=new r(s)),t.$watch("value",function(t){void 0!==t&&e.attr("data-clipboard-text",t)}),t.$watch("text",function(t){e.attr("data-clipboard-text",t)}),t.client.on("aftercopy",a=function(e){t.$apply(function(){t.onCopied({$event:e})})}),t.client.on("error",function(e){t.onError&&t.$apply(function(){t.onError({$event:e})}),r.destroy()}),t.client.on("beforecopy",function(e){t.onBeforeCopy&&t.$apply(function(){t.onBeforeCopy({$event:e})})}),t.$on("$destroy",function(){t.client.off("complete",a),t.client=null,e.off(),r.destroy()})}}}]),function(){function t(t,e){return t.set(e[0],e[1]),t}function e(t,e){return t.add(e),t}function n(t,e,n){var i=n.length;switch(i){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function i(t,e,n,i){for(var r=-1,o=t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function r(t,e){for(var n=-1,i=t.length,r=-1,o=e.length,a=Array(i+o);++n<i;)a[n]=t[n];for(;++r<o;)a[n++]=e[r];return a}function o(t,e){for(var n=-1,i=t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function a(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function s(t,e){for(var n=-1,i=t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function u(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[++r]=a)}return o}function l(t,e){return!!t.length&&b(t,e,0)>-1}function c(t,e,n){for(var i=-1,r=t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function f(t,e){for(var n=-1,i=t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function h(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function d(t,e,n,i){var r=-1,o=t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function p(t,e,n,i){var r=t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function g(t,e){for(var n=-1,i=t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function m(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],a=e(o);if(null!=a&&(s===V?a===a:n(a,s)))var s=a,u=o}return u}function v(t,e,n,i){var r;return n(t,function(t,n,o){if(e(t,n,o))return r=i?n:t,!1}),r}function y(t,e,n){for(var i=t.length,r=n?i:-1;n?r--:++r<i;)if(e(t[r],r,t))return r;return-1}function b(t,e,n){if(e!==e)return P(t,n);for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function _(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function x(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function w(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);o!==V&&(n=n===V?o:n+o)}return n}function k(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function E(t,e){return f(e,function(e){return[e,t[e]]})}function S(t){return function(e){return t(e)}}function C(t,e){return f(e,function(e){return t[e]})}function T(t,e){for(var n=-1,i=t.length;++n<i&&b(e,t[n],0)>-1;);return n}function M(t,e){for(var n=t.length;n--&&b(e,t[n],0)>-1;);return n}function A(t){return t&&t.Object===Object?t:null}function $(t,e){if(t!==e){var n=null===t,i=t===V,r=t===t,o=null===e,a=e===V,s=e===e;if(t>e&&!o||!r||n&&!a&&s||i&&s)return 1;if(t<e&&!n||!s||o&&!i&&r||a&&r)return-1}return 0}function O(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;++i<a;){var u=$(r[i],o[i]);if(u){if(i>=s)return u;var l=n[i];return u*("desc"==l?-1:1)}}return t.index-e.index}function D(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&i++;return i}function N(t){return yn[t]}function I(t){return bn[t]}function L(t){return"\\"+wn[t]}function P(t,e,n){for(var i=t.length,r=e+(n?0:-1);n?r--:++r<i;){var o=t[r];if(o!==o)return r}return-1}function R(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function F(t,e){return t="number"==typeof t||ke.test(t)?+t:-1,e=null==e?yt:e,t>-1&&t%1==0&&t<e}function j(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function U(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function z(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;){var a=t[n];a!==e&&a!==Et||(t[n]=Et,o[++r]=n)}return o}function H(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function q(t){if(!t||!cn.test(t))return t.length;for(var e=ln.lastIndex=0;ln.test(t);)e++;return e}function W(t){return t.match(ln)}function Y(t){return _n[t]}function B(A){function ke(t){if(ja(t)&&!xc(t)&&!(t instanceof Ae)){if(t instanceof Me)return t;if(Wu.call(t,"__wrapped__"))return Nr(t)}return new Me(t)}function Te(){}function Me(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=V}function Ae(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=xt,this.__views__=[]}function $e(){var t=new Ae(this.__wrapped__);return t.__actions__=Fi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Fi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Fi(this.__views__),t}function Oe(){if(this.__filtered__){var t=new Ae(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function De(){var t=this.__wrapped__.value(),e=this.__dir__,n=xc(t),i=e<0,r=n?t.length:0,o=mr(0,r,this.__views__),a=o.start,s=o.end,u=s-a,l=i?s:a-1,c=this.__iteratees__,f=c.length,h=0,d=gl(u,this.__takeCount__);if(!n||r<ft||r==u&&d==u)return Ci(t,this.__actions__);var p=[];t:for(;u--&&h<d;){l+=e;for(var g=-1,m=t[l];++g<f;){var v=c[g],y=v.iteratee,b=v.type,_=y(m);if(b==dt)m=_;else if(!_){if(b==ht)continue t;break t}}p[h++]=m}return p}function Ne(){}function Ie(t,e){return Pe(t,e)&&delete t[e]}function Le(t,e){if(wl){var n=t[e];return n===mt?V:n}return Wu.call(t,e)?t[e]:V}function Pe(t,e){return wl?t[e]!==V:Wu.call(t,e)}function Re(t,e,n){t[e]=wl&&n===V?mt:n}function Fe(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function je(){this.__data__={hash:new Ne,map:bl?new bl:[],string:new Ne}}function Ue(t){var e=this.__data__;return Er(t)?Ie("string"==typeof t?e.string:e.hash,t):bl?e.map["delete"](t):Qe(e.map,t)}function ze(t){var e=this.__data__;return Er(t)?Le("string"==typeof t?e.string:e.hash,t):bl?e.map.get(t):tn(e.map,t)}function He(t){var e=this.__data__;return Er(t)?Pe("string"==typeof t?e.string:e.hash,t):bl?e.map.has(t):en(e.map,t)}function qe(t,e){var n=this.__data__;return Er(t)?Re("string"==typeof t?n.string:n.hash,t,e):bl?n.map.set(t,e):rn(n.map,t,e),this}function We(t){var e=-1,n=t?t.length:0;for(this.__data__=new Fe;++e<n;)this.push(t[e])}function Ye(t,e){var n=t.__data__;if(Er(e)){var i=n.__data__,r="string"==typeof e?i.string:i.hash;return r[e]===mt}return n.has(e)}function Be(t){var e=this.__data__;if(Er(t)){var n=e.__data__,i="string"==typeof t?n.string:n.hash;i[t]=mt}else e.set(t,mt)}function Ve(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Xe(){this.__data__={array:[],map:null}}function Ge(t){var e=this.__data__,n=e.array;return n?Qe(n,t):e.map["delete"](t)}function Ke(t){var e=this.__data__,n=e.array;return n?tn(n,t):e.map.get(t)}function Je(t){var e=this.__data__,n=e.array;return n?en(n,t):e.map.has(t)}function Ze(t,e){var n=this.__data__,i=n.array;i&&(i.length<ft-1?rn(i,t,e):(n.array=null,n.map=new Fe(i)));var r=n.map;return r&&r.set(t,e),this}function Qe(t,e){var n=nn(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():ul.call(t,n,1),!0}function tn(t,e){var n=nn(t,e);return n<0?V:t[n][1]}function en(t,e){return nn(t,e)>-1}function nn(t,e){for(var n=t.length;n--;)if(_a(t[n][0],e))return n;return-1}function rn(t,e,n){var i=nn(t,e);i<0?t.push([e,n]):t[i][1]=n}function on(t,e,n,i){return t===V||_a(t,Hu[n])&&!Wu.call(i,n)?e:t}function an(t,e,n){(n===V||_a(t[e],n))&&("number"!=typeof e||n!==V||e in t)||(t[e]=n)}function sn(t,e,n){var i=t[e];Wu.call(t,e)&&_a(i,n)&&(n!==V||e in t)||(t[e]=n)}function ln(t,e,n,i){return Ol(t,function(t,r,o){e(i,t,n(t),o)}),i}function yn(t,e){return t&&ji(e,Ss(e),t)}function bn(t,e){for(var n=-1,i=null==t,r=e.length,o=Array(r);++n<r;)o[n]=i?V:ws(t,e[n]);return o}function _n(t){return Ca(t)?t:[]}function xn(t){return"function"==typeof t?t:pu}function wn(t){return xc(t)?t:Dr(t)}function Sn(t,e,n){return t===t&&(n!==V&&(t=t<=n?t:n),e!==V&&(t=t>=e?t:e)),t}function Cn(t,e,n,i,r,a){var s;if(n&&(s=r?n(t,i,r,a):n(t)),s!==V)return s;if(!Fa(t))return t;var u=xc(t);if(u){if(s=yr(t),!e)return Fi(t,s)}else{var l=gr(t),c=l==$t||l==Ot;if(wc(t))return Ai(t,e);if(l==It||l==St||c&&!r){if(R(t))return r?t:{};if(s=br(c?{}:t),!e)return zi(t,yn(s,t))}else{if(!vn[l])return r?t:{};s=_r(t,l,e)}}a||(a=new Ve);var f=a.get(t);return f?f:(a.set(t,s),(u?o:jn)(t,function(i,r){sn(s,r,Cn(i,e,n,r,t,a))}),u?s:zi(t,s))}function Mn(t){var e=Ss(t),n=e.length;return function(i){if(null==i)return!n;for(var r=n;r--;){var o=e[r],a=t[o],s=i[o];if(s===V&&!(o in Object(i))||!a(s))return!1}return!0}}function An(t){return Fa(t)?ol(t):{}}function $n(t,e,n){if("function"!=typeof t)throw new Uu(gt);return sl(function(){t.apply(V,n)},e)}function On(t,e,n,i){var r=-1,o=l,a=!0,s=t.length,u=[],h=e.length;if(!s)return u;n&&(e=f(e,S(n))),i?(o=c,a=!1):e.length>=ft&&(o=Ye,a=!1,e=new We(e));t:for(;++r<s;){var d=t[r],p=n?n(d):d;if(a&&p===p){for(var g=h;g--;)if(e[g]===p)continue t;u.push(d)}else o(e,p,i)||u.push(d)}return u}function In(t,e){var n=!0;return Ol(t,function(t,i,r){return n=!!e(t,i,r)}),n}function Ln(t,e,n,i){var r=t.length;for(n=ss(n),n<0&&(n=-n>r?0:r+n),i=i===V||i>r?r:ss(i),i<0&&(i+=r),i=n>i?0:us(i);n<i;)t[n++]=e;return t}function Pn(t,e){var n=[];return Ol(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function Rn(t,e,n,i){i||(i=[]);for(var r=-1,o=t.length;++r<o;){var a=t[r];e>0&&Ca(a)&&(n||xc(a)||ka(a))?e>1?Rn(a,e-1,n,i):h(i,a):n||(i[i.length]=a)}return i}function Fn(t,e){return null==t?t:Nl(t,e,Cs)}function jn(t,e){return t&&Nl(t,e,Ss)}function Un(t,e){return t&&Il(t,e,Ss)}function zn(t,e){return u(e,function(e){return La(t[e])})}function Hn(t,e){e=kr(e,t)?[e+""]:wn(e);for(var n=0,i=e.length;null!=t&&n<i;)t=t[e[n++]];return n&&n==i?t:V}function qn(t,e){return Wu.call(t,e)||"object"==typeof t&&e in t&&null===nl(t)}function Wn(t,e){return e in Object(t)}function Yn(t,e,n){return t>=gl(e,n)&&t<pl(e,n)}function Bn(t,e,n){for(var i=n?c:l,r=t.length,o=r,a=Array(r),s=[];o--;){var u=t[o];o&&e&&(u=f(u,S(e))),a[o]=!n&&(e||u.length>=120)?new We(o&&u):V}u=t[0];var h=-1,d=u.length,p=a[0];t:for(;++h<d;){var g=u[h],m=e?e(g):g;if(!(p?Ye(p,m):i(s,m,n))){for(var o=r;--o;){var v=a[o];if(!(v?Ye(v,m):i(t[o],m,n)))continue t}p&&p.push(m),s.push(g)}}return s}function Vn(t,e,n,i){return jn(t,function(t,r,o){e(i,n(t),r,o)}),i}function Xn(t,e,i){kr(e,t)||(e=wn(e),t=$r(t,e),e=Jr(e));var r=null==t?t:t[e];return null==r?V:n(r,t,i)}function Gn(t,e,n,i,r){return t===e||(null==t||null==e||!Fa(t)&&!ja(e)?t!==t&&e!==e:Kn(t,e,Gn,n,i,r))}function Kn(t,e,n,i,r,o){var a=xc(t),s=xc(e),u=Ct,l=Ct;a||(u=gr(t),u==St?u=It:u!=It&&(a=ts(t))),s||(l=gr(e),l==St?l=It:l!=It&&(s=ts(e)));var c=u==It&&!R(t),f=l==It&&!R(e),h=u==l;if(h&&!a&&!c)return ur(t,e,u,n,i,r);var d=r&at;if(!d){var p=c&&Wu.call(t,"__wrapped__"),g=f&&Wu.call(e,"__wrapped__");if(p||g)return n(p?t.value():t,g?e.value():e,i,r,o)}return!!h&&(o||(o=new Ve),(a?sr:lr)(t,e,n,i,r,o))}function Jn(t,e,n,i){var r=n.length,o=r,a=!i;if(null==t)return!o;for(t=Object(t);r--;){var s=n[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){s=n[r];var u=s[0],l=t[u],c=s[1];if(a&&s[2]){if(l===V&&!(u in t))return!1}else{var f=new Ve,h=i?i(l,c,u,t,e,f):V;if(!(h===V?Gn(c,l,i,ot|at,f):h))return!1}}return!0}function Zn(t){var e=typeof t;return"function"==e?t:null==t?pu:"object"==e?xc(t)?ii(t[0],t[1]):ni(t):wu(t)}function Qn(t){return dl(Object(t))}function ti(t){t=null==t?t:Object(t);var e=[];for(var n in t)e.push(n);return e}function ei(t,e){var n=-1,i=Sa(t)?Array(t.length):[];return Ol(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function ni(t){var e=hr(t);if(1==e.length&&e[0][2]){var n=e[0][0],i=e[0][1];return function(t){return null!=t&&(t[n]===i&&(i!==V||n in Object(t)))}}return function(n){return n===t||Jn(n,t,e)}}function ii(t,e){return function(n){var i=ws(n,t);return i===V&&i===e?Es(n,t):Gn(e,i,V,ot|at)}}function ri(t,e,n,i,r){if(t!==e){var a=xc(e)||ts(e)?V:Cs(e);o(a||e,function(o,s){if(a&&(s=o,o=e[s]),Fa(o))r||(r=new Ve),oi(t,e,s,n,ri,i,r);else{var u=i?i(t[s],o,s+"",t,e,r):V;u===V&&(u=o),an(t,s,u)}})}}function oi(t,e,n,i,r,o,a){var s=t[n],u=e[n],l=a.get(u);if(l)return void an(t,n,l);var c=o?o(s,u,n+"",t,e,a):V,f=c===V;f&&(c=u,xc(u)||ts(u)?xc(s)?c=s:Ca(s)?c=Fi(s):(f=!1,c=Cn(u,!0)):Xa(u)||ka(u)?ka(s)?c=cs(s):!Fa(s)||i&&La(s)?(f=!1,c=Cn(u,!0)):c=s:f=!1),a.set(u,c),f&&r(c,u,i,o,a),an(t,n,c)}function ai(t,e,n){var i=-1,r=fr();e=f(e.length?e:Array(1),function(t){return r(t)});var o=ei(t,function(t,n,r){var o=f(e,function(e){return e(t)});return{criteria:o,index:++i,value:t}});return x(o,function(t,e){return O(t,e,n)})}function si(t,e){return t=Object(t),d(e,function(e,n){return n in t&&(e[n]=t[n]),e},{})}function ui(t,e){var n={};return Fn(t,function(t,i){e(t,i)&&(n[i]=t)}),n}function li(t){return function(e){return null==e?V:e[t]}}function ci(t){return function(e){return Hn(e,t)}}function fi(t,e){return hi(t,e)}function hi(t,e,n){var i=-1,r=e.length,o=t;for(n&&(o=f(t,function(t){return n(t)}));++i<r;)for(var a=0,s=e[i],u=n?n(s):s;(a=b(o,u,a))>-1;)o!==t&&ul.call(o,a,1),ul.call(t,a,1);return t}function di(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(i==n||r!=o){var o=r;if(F(r))ul.call(t,r,1);else if(kr(r,t))delete t[r];else{var a=wn(r),s=$r(t,a);null!=s&&delete s[Jr(a)]}}}return t}function pi(t,e){return t+cl(vl()*(e-t+1))}function gi(t,e,n,i){for(var r=-1,o=pl(ll((e-t)/(n||1)),0),a=Array(o);o--;)a[i?o:++r]=t,t+=n;return a}function mi(t,e,n,i){e=kr(e,t)?[e+""]:wn(e);for(var r=-1,o=e.length,a=o-1,s=t;null!=s&&++r<o;){var u=e[r];if(Fa(s)){var l=n;if(r!=a){var c=s[u];l=i?i(c,u,s):V,l===V&&(l=null==c?F(e[r+1])?[]:{}:c)}sn(s,u,l)}s=s[u]}return t}function vi(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),n=n>r?r:n,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(r);++i<r;)o[i]=t[i+e];return o}function yi(t,e){var n;return Ol(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function bi(t,e,n){var i=0,r=t?t.length:i;if("number"==typeof e&&e===e&&r<=kt){for(;i<r;){var o=i+r>>>1,a=t[o];(n?a<=e:a<e)&&null!==a?i=o+1:r=o}return r}return _i(t,e,pu,n)}function _i(t,e,n,i){e=n(e);for(var r=0,o=t?t.length:0,a=e!==e,s=null===e,u=e===V;r<o;){var l=cl((r+o)/2),c=n(t[l]),f=c!==V,h=c===c;if(a)var d=h||i;else d=s?h&&f&&(i||null!=c):u?h&&(i||f):null!=c&&(i?c<=e:c<e);d?r=l+1:o=l}return gl(o,wt)}function xi(t){return wi(t)}function wi(t,e){for(var n=0,i=t.length,r=t[0],o=e?e(r):r,a=o,s=0,u=[r];++n<i;)r=t[n],o=e?e(r):r,_a(o,a)||(a=o,u[++s]=r);return u}function ki(t,e,n){var i=-1,r=l,o=t.length,a=!0,s=[],u=s;if(n)a=!1,r=c;else if(o>=ft){var f=e?null:Pl(t);if(f)return H(f);a=!1,r=Ye,u=new We}else u=e?[]:s;t:for(;++i<o;){var h=t[i],d=e?e(h):h;if(a&&d===d){for(var p=u.length;p--;)if(u[p]===d)continue t;e&&u.push(d),s.push(h)}else r(u,d,n)||(u!==s&&u.push(d),s.push(h))}return s}function Ei(t,e){e=kr(e,t)?[e+""]:wn(e),t=$r(t,e);var n=Jr(e);return null==t||!ks(t,n)||delete t[n]}function Si(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?vi(t,i?0:o,i?o+1:r):vi(t,i?o+1:0,i?r:o)}function Ci(t,e){var n=t;return n instanceof Ae&&(n=n.value()),d(e,function(t,e){return e.func.apply(e.thisArg,h([t],e.args))},n)}function Ti(t,e,n){for(var i=-1,r=t.length;++i<r;)var o=o?h(On(o,t[i],e,n),On(t[i],o,e,n)):t[i];return o&&o.length?ki(o,e,n):[]}function Mi(t,e,n){for(var i=-1,r=t.length,o=e.length,a={};++i<r;)n(a,t[i],i<o?e[i]:V);return a}function Ai(t,e){if(e)return t.slice();var n=t.constructor,i=new n(t.length);return t.copy(i),i}function $i(t){var e=t.constructor,n=new e(t.byteLength),i=new Qu(n);return i.set(new Qu(t)),n}function Oi(e){var n=e.constructor;return d(U(e),t,new n)}function Di(t){var e=t.constructor,n=new e(t.source,ve.exec(t));return n.lastIndex=t.lastIndex,n}function Ni(t){var n=t.constructor;return d(H(t),e,new n)}function Ii(t){return Zu?Object(Ml.call(t)):{}}function Li(t,e){var n=t.buffer,i=e?$i(n):n,r=t.constructor;return new r(i,t.byteOffset,t.length)}function Pi(t,e,n,i){for(var r=-1,o=t.length,a=n.length,s=-1,u=e.length,l=pl(o-a,0),c=Array(u+l),f=!i;++s<u;)c[s]=e[s];for(;++r<a;)(f||r<o)&&(c[n[r]]=t[r]);for(;l--;)c[s++]=t[r++];return c}function Ri(t,e,n,i){for(var r=-1,o=t.length,a=-1,s=n.length,u=-1,l=e.length,c=pl(o-s,0),f=Array(c+l),h=!i;++r<c;)f[r]=t[r];for(var d=r;++u<l;)f[d+u]=e[u];for(;++a<s;)(h||r<o)&&(f[d+n[a]]=t[r++]);return f}function Fi(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}function ji(t,e,n){return Ui(t,e,n)}function Ui(t,e,n,i){n||(n={});for(var r=-1,o=e.length;++r<o;){var a=e[r],s=i?i(n[a],t[a],a,n,t):t[a];sn(n,a,s)}return n}function zi(t,e){return ji(t,jl(t),e)}function Hi(t,e){return function(n,r){var o=xc(n)?i:ln,a=e?e():{};return o(n,t,fr(r),a)}}function qi(t){return ca(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:V,a=r>2?n[2]:V;for(o="function"==typeof o?(r--,o):V,a&&wr(n[0],n[1],a)&&(o=r<3?V:o,r=1),e=Object(e);++i<r;){var s=n[i];s&&t(e,s,i,o)}return e})}function Wi(t,e){return function(n,i){if(null==n)return n;if(!Sa(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=Object(n);(e?o--:++o<r)&&i(a[o],o,a)!==!1;);return n}}function Yi(t){return function(e,n,i){for(var r=-1,o=Object(e),a=i(e),s=a.length;s--;){var u=a[t?s:++r];if(n(o[u],u,o)===!1)break}return e}}function Bi(t,e,n){function i(){var e=this&&this!==Dn&&this instanceof i?o:t;return e.apply(r?n:this,arguments)}var r=e&G,o=Gi(t);return i}function Vi(t){return function(e){e=hs(e);var n=cn.test(e)?W(e):V,i=n?n[0]:e.charAt(0),r=n?n.slice(1).join(""):e.slice(1);return i[t]()+r}}function Xi(t){return function(e){return d(cu(Ws(e)),t,"")}}function Gi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=An(t.prototype),i=t.apply(n,e);return Fa(i)?i:n}}function Ki(t,e,i){function r(){for(var a=arguments.length,s=Array(a),u=a,l=pr(r);u--;)s[u]=arguments[u];var c=a<3&&s[0]!==l&&s[a-1]!==l?[]:z(s,l);if(a-=c.length,a<i)return rr(t,e,Zi,r.placeholder,V,s,c,V,V,i-a);var f=this&&this!==Dn&&this instanceof r?o:t;return n(f,this,s)}var o=Gi(t);return r}function Ji(t){return ca(function(e){e=Rn(e,1);var n=e.length,i=n,r=Me.prototype.thru;for(t&&e.reverse();i--;){var o=e[i];if("function"!=typeof o)throw new Uu(gt);if(r&&!a&&"wrapper"==cr(o))var a=new Me([],(!0))}for(i=a?i:n;++i<n;){o=e[i];var s=cr(o),u="wrapper"==s?Rl(o):V;a=u&&Sr(u[0])&&u[1]==(nt|Z|tt|it)&&!u[4].length&&1==u[9]?a[cr(u[0])].apply(a,u[3]):1==o.length&&Sr(o)?a[s]():a.thru(o)}return function(){var t=arguments,i=t[0];if(a&&1==t.length&&xc(i)&&i.length>=ft)return a.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}})}function Zi(t,e,n,i,r,o,a,s,u,l){function c(){for(var v=arguments.length,y=v,b=Array(v);y--;)b[y]=arguments[y];if(p)var _=pr(c),x=D(b,_);if(i&&(b=Pi(b,i,r,p)),o&&(b=Ri(b,o,a,p)),v-=x,p&&v<l){var w=z(b,_);return rr(t,e,Zi,c.placeholder,n,b,w,s,u,l-v)}var k=h?n:this,E=d?k[t]:t;return v=b.length,s?b=Or(b,s):g&&v>1&&b.reverse(),f&&u<v&&(b.length=u),this&&this!==Dn&&this instanceof c&&(E=m||Gi(E)),E.apply(k,b)}var f=e&nt,h=e&G,d=e&K,p=e&(Z|Q),g=e&rt,m=d?V:Gi(t);return c}function Qi(t,e){return function(n,i){return Vn(n,t,e(i),{})}}function tr(t){return ca(function(e){return e=f(Rn(e,1),fr()),ca(function(i){var r=this;return t(e,function(t){return n(t,r,i)})})})}function er(t,e,n){e=ss(e);var i=q(t);if(!e||i>=e)return"";var r=e-i;n=n===V?" ":n+"";var o=Zs(n,ll(r/q(n)));return cn.test(n)?W(o).slice(0,r).join(""):o.slice(0,r)}function nr(t,e,i,r){function o(){for(var e=-1,u=arguments.length,l=-1,c=r.length,f=Array(c+u),h=this&&this!==Dn&&this instanceof o?s:t;++l<c;)f[l]=r[l];for(;u--;)f[l++]=arguments[++e];return n(h,a?i:this,f)}var a=e&G,s=Gi(t);return o}function ir(t){return function(e,n,i){return i&&"number"!=typeof i&&wr(e,n,i)&&(n=i=V),e=ls(e),e=e===e?e:0,n===V?(n=e,e=0):n=ls(n)||0,i=i===V?e<n?1:-1:ls(i)||0,gi(e,n,i,t)}}function rr(t,e,n,i,r,o,a,s,u,l){var c=e&Z,f=s?Fi(s):V,h=c?a:V,d=c?V:a,p=c?o:V,g=c?V:o;e|=c?tt:et,e&=~(c?et:tt),e&J||(e&=~(G|K));var m=[t,e,r,p,h,g,d,f,u,l],v=n.apply(V,m);return Sr(t)&&Ul(v,m),v.placeholder=i,v}function or(t){var e=Fu[t];return function(t,n){if(t=ls(t),n=ss(n)){var i=(hs(t)+"e").split("e"),r=e(i[0]+"e"+(+i[1]+n));return i=(hs(r)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return e(t)}}function ar(t,e,n,i,r,o,a,s){var u=e&K;if(!u&&"function"!=typeof t)throw new Uu(gt);var l=i?i.length:0;if(l||(e&=~(tt|et),i=r=V),a=a===V?a:pl(ss(a),0),s=s===V?s:ss(s),l-=r?r.length:0,e&et){var c=i,f=r;i=r=V}var h=u?V:Rl(t),d=[t,e,n,i,r,c,f,o,a,s];if(h&&Mr(d,h),t=d[0],e=d[1],n=d[2],i=d[3],r=d[4],s=d[9]=null==d[9]?u?0:t.length:pl(d[9]-l,0),!s&&e&(Z|Q)&&(e&=~(Z|Q)),e&&e!=G)p=e==Z||e==Q?Ki(t,e,s):e!=tt&&e!=(G|tt)||r.length?Zi.apply(V,d):nr(t,e,n,i);else var p=Bi(t,e,n);var g=h?Ll:Ul;return g(p,d)}function sr(t,e,n,i,r,o){var a=-1,s=r&at,u=r&ot,l=t.length,c=e.length;if(l!=c&&!(s&&c>l))return!1;var f=o.get(t);if(f)return f==e;var h=!0;for(o.set(t,e);++a<l;){var d=t[a],p=e[a];if(i)var m=s?i(p,d,a,e,t,o):i(d,p,a,t,e,o);if(m!==V){if(m)continue;h=!1;break}if(u){if(!g(e,function(t){return d===t||n(d,t,i,r,o)})){h=!1;break}}else if(d!==p&&!n(d,p,i,r,o)){h=!1;break}}return o["delete"](t),h}function ur(t,e,n,i,r,o){switch(n){case zt:return!(t.byteLength!=e.byteLength||!i(new Qu(t),new Qu(e)));case Tt:case Mt:return+t==+e;case At:return t.name==e.name&&t.message==e.message;case Nt:return t!=+t?e!=+e:t==+e;case Lt:case Rt:return t==e+"";case Dt:var a=U;case Pt:var s=o&at;return a||(a=H),(s||t.size==e.size)&&i(a(t),a(e),r,o|ot);case Ft:return!!Zu&&Ml.call(t)==Ml.call(e)}return!1}function lr(t,e,n,i,r,o){var a=r&at,s=Ss(t),u=s.length,l=Ss(e),c=l.length;if(u!=c&&!a)return!1;for(var f=u;f--;){var h=s[f];if(!(a?h in e:qn(e,h)))return!1}var d=o.get(t);if(d)return d==e;var p=!0;o.set(t,e);for(var g=a;++f<u;){h=s[f];var m=t[h],v=e[h];if(i)var y=a?i(v,m,h,e,t,o):i(m,v,h,t,e,o);if(!(y===V?m===v||n(m,v,i,r,o):y)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var b=t.constructor,_=e.constructor;b!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _)&&(p=!1)}return o["delete"](t),p}function cr(t){for(var e=t.name+"",n=$l[e],i=Wu.call($l,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function fr(){var t=ke.iteratee||gu;return t=t===gu?Zn:t,arguments.length?t(arguments[0],arguments[1]):t}function hr(t){for(var e=Is(t),n=e.length;n--;)e[n][2]=Tr(e[n][1]);return e}function dr(t,e){var n=null==t?V:t[e];return Wa(n)?n:V}function pr(t){var e=Wu.call(ke,"placeholder")?ke:t;return e.placeholder}function gr(t){return Vu.call(t)}function mr(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=gl(e,t+a);break;case"takeRight":t=pl(t,e-a)}}return{start:t,end:e}}function vr(t,e,n){if(null==t)return!1;var i=n(t,e);i||kr(e)||(e=wn(e),t=$r(t,e),null!=t&&(e=Jr(e),i=n(t,e)));var r=t?t.length:V;return i||!!r&&Ra(r)&&F(e,r)&&(xc(t)||Za(t)||ka(t))}function yr(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&Wu.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function br(t){return La(t.constructor)&&!Cr(t)?An(nl(t)):{}}function _r(t,e,n){var i=t.constructor;switch(e){case zt:return $i(t);case Tt:case Mt:return new i((+t));case Ht:case qt:case Wt:case Yt:case Bt:case Vt:case Xt:case Gt:case Kt:return Li(t,n);case Dt:return Oi(t);case Nt:case Rt:return new i(t);case Lt:return Di(t);case Pt:return Ni(t);case Ft:return Ii(t)}}function xr(t){var e=t?t.length:V;return Ra(e)&&(xc(t)||Za(t)||ka(t))?k(e,String):null}function wr(t,e,n){if(!Fa(n))return!1;var i=typeof e;return!!("number"==i?Sa(n)&&F(e,n.length):"string"==i&&e in n)&&_a(n[e],t)}function kr(t,e){return"number"==typeof t||!xc(t)&&(ue.test(t)||!se.test(t)||null!=e&&t in Object(e))}function Er(t){var e=typeof t;return"number"==e||"boolean"==e||"string"==e&&"__proto__"!=t||null==t}function Sr(t){var e=cr(t),n=ke[e];if("function"!=typeof n||!(e in Ae.prototype))return!1;if(t===n)return!0;var i=Rl(n);return!!i&&t===i[0]}function Cr(t){var e=t&&t.constructor,n=La(e)&&e.prototype||Hu;return t===n}function Tr(t){return t===t&&!Fa(t)}function Mr(t,e){var n=t[1],i=e[1],r=n|i,o=r<(G|K|nt),a=i==nt&&n==Z||i==nt&&n==it&&t[7].length<=e[8]||i==(nt|it)&&e[7].length<=e[8]&&n==Z;if(!o&&!a)return t;i&G&&(t[2]=e[2],r|=n&G?0:J);var s=e[3];if(s){var u=t[3];t[3]=u?Pi(u,s,e[4]):Fi(s),t[4]=u?z(t[3],Et):Fi(e[4])}return s=e[5],s&&(u=t[5],t[5]=u?Ri(u,s,e[6]):Fi(s),t[6]=u?z(t[5],Et):Fi(e[6])),s=e[7],s&&(t[7]=Fi(s)),i&nt&&(t[8]=null==t[8]?e[8]:gl(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function Ar(t,e,n,i,r,o){return Fa(t)&&Fa(e)&&(o.set(e,t),ri(t,e,V,Ar,o)),t}function $r(t,e){return 1==e.length?t:ws(t,vi(e,0,-1))}function Or(t,e){for(var n=t.length,i=gl(e.length,n),r=Fi(t);i--;){var o=e[i];t[i]=F(o,n)?r[o]:V}return t}function Dr(t){var e=[];return hs(t).replace(le,function(t,n,i,r){e.push(i?r.replace(ge,"$1"):n||t)}),e}function Nr(t){if(t instanceof Ae)return t.clone();var e=new Me(t.__wrapped__,t.__chain__);return e.__actions__=Fi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Ir(t,e){e=pl(ss(e),0);var n=t?t.length:0;if(!n||e<1)return[];for(var i=0,r=-1,o=Array(ll(n/e));i<n;)o[++r]=vi(t,i,i+=e);return o}function Lr(t){for(var e=-1,n=t?t.length:0,i=-1,r=[];++e<n;){var o=t[e];o&&(r[++i]=o)}return r}function Pr(t,e,n){var i=t?t.length:0;return i?(e=n||e===V?1:ss(e),vi(t,e<0?0:e,i)):[]}function Rr(t,e,n){var i=t?t.length:0;return i?(e=n||e===V?1:ss(e),e=i-e,vi(t,0,e<0?0:e)):[]}function Fr(t,e){return t&&t.length?Si(t,fr(e,3),!0,!0):[]}function jr(t,e){return t&&t.length?Si(t,fr(e,3),!0):[]}function Ur(t,e,n,i){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&wr(t,e,n)&&(n=0,i=r),Ln(t,e,n,i)):[]}function zr(t,e){return t&&t.length?y(t,fr(e,3)):-1}function Hr(t,e){return t&&t.length?y(t,fr(e,3),!0):-1}function qr(t){var e=t?t.length:0;return e?Rn(t,1):[]}function Wr(t){var e=t?t.length:0;return e?Rn(t,vt):[]}function Yr(t,e){var n=t?t.length:0;return n?(e=e===V?1:ss(e),Rn(t,e)):[]}function Br(t){for(var e=-1,n=t?t.length:0,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}function Vr(t){return t?t[0]:V}function Xr(t,e,n){var i=t?t.length:0;return i?(n=ss(n),n<0&&(n=pl(i+n,0)),b(t,e,n)):-1}function Gr(t){return Rr(t,1)}function Kr(t,e){return t?hl.call(t,e):""}function Jr(t){var e=t?t.length:0;return e?t[e-1]:V}function Zr(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=i;if(n!==V&&(r=ss(n),r=(r<0?pl(i+r,0):gl(r,i-1))+1),e!==e)return P(t,r,!0);for(;r--;)if(t[r]===e)return r;return-1}function Qr(t,e){return t&&t.length&&e&&e.length?fi(t,e):t}function to(t,e,n){return t&&t.length&&e&&e.length?hi(t,e,fr(n)):t}function eo(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=fr(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return di(t,r),n}function no(t){return t?yl.call(t):t}function io(t,e,n){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&wr(t,e,n)?(e=0,n=i):(e=null==e?0:ss(e),n=n===V?i:ss(n)),vi(t,e,n)):[]}function ro(t,e){return bi(t,e)}function oo(t,e,n){return _i(t,e,fr(n))}function ao(t,e){var n=t?t.length:0;if(n){var i=bi(t,e);if(i<n&&_a(t[i],e))return i}return-1}function so(t,e){return bi(t,e,!0)}function uo(t,e,n){return _i(t,e,fr(n),!0)}function lo(t,e){var n=t?t.length:0;if(n){var i=bi(t,e,!0)-1;if(_a(t[i],e))return i}return-1}function co(t){return t&&t.length?xi(t):[]}function fo(t,e){return t&&t.length?wi(t,fr(e)):[]}function ho(t){return Pr(t,1)}function po(t,e,n){return t&&t.length?(e=n||e===V?1:ss(e),vi(t,0,e<0?0:e)):[]}function go(t,e,n){var i=t?t.length:0;return i?(e=n||e===V?1:ss(e),e=i-e,vi(t,e<0?0:e,i)):[]}function mo(t,e){return t&&t.length?Si(t,fr(e,3),!1,!0):[]}function vo(t,e){return t&&t.length?Si(t,fr(e,3)):[]}function yo(t){return t&&t.length?ki(t):[]}function bo(t,e){return t&&t.length?ki(t,fr(e)):[]}function _o(t,e){return t&&t.length?ki(t,V,e):[]}function xo(t){if(!t||!t.length)return[];var e=0;return t=u(t,function(t){if(Ca(t))return e=pl(t.length,e),!0}),k(e,function(e){return f(t,li(e))})}function wo(t,e){if(!t||!t.length)return[];var i=xo(t);return null==e?i:f(i,function(t){return n(e,V,t)})}function ko(t,e){return Mi(t||[],e||[],sn)}function Eo(t,e){return Mi(t||[],e||[],mi)}function So(t){var e=ke(t);return e.__chain__=!0,e}function Co(t,e){return e(t),t}function To(t,e){return e(t)}function Mo(){return So(this)}function Ao(){return new Me(this.value(),this.__chain__)}function $o(t){return this.map(t).flatten()}function Oo(){this.__values__===V&&(this.__values__=as(this.value()));var t=this.__index__>=this.__values__.length,e=t?V:this.__values__[this.__index__++];return{done:t,value:e}}function Do(){return this}function No(t){for(var e,n=this;n instanceof Te;){var i=Nr(n);i.__index__=0,i.__values__=V,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e}function Io(){var t=this.__wrapped__;if(t instanceof Ae){var e=t;return this.__actions__.length&&(e=new Ae(this)),e=e.reverse(),e.__actions__.push({func:To,args:[no],thisArg:V}),new Me(e,this.__chain__)}return this.thru(no)}function Lo(){return Ci(this.__wrapped__,this.__actions__)}function Po(t,e,n){var i=xc(t)?s:In;return n&&wr(t,e,n)&&(e=V),i(t,fr(e,3))}function Ro(t,e){var n=xc(t)?u:Pn;return n(t,fr(e,3))}function Fo(t,e){if(e=fr(e,3),xc(t)){var n=y(t,e);return n>-1?t[n]:V}return v(t,e,Ol)}function jo(t,e){if(e=fr(e,3),xc(t)){var n=y(t,e,!0);return n>-1?t[n]:V}return v(t,e,Dl)}function Uo(t,e){return Rn(Wo(t,e),1)}function zo(t,e){return"function"==typeof e&&xc(t)?o(t,e):Ol(t,xn(e))}function Ho(t,e){return"function"==typeof e&&xc(t)?a(t,e):Dl(t,xn(e))}function qo(t,e,n,i){t=Sa(t)?t:Fs(t),n=n&&!i?ss(n):0;var r=t.length;return n<0&&(n=pl(r+n,0)),Za(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&b(t,e,n)>-1}function Wo(t,e){var n=xc(t)?f:ei;return n(t,fr(e,3))}function Yo(t,e,n,i){return null==t?[]:(xc(e)||(e=null==e?[]:[e]),n=i?V:n,xc(n)||(n=null==n?[]:[n]),ai(t,e,n))}function Bo(t,e,n){var i=xc(t)?d:_,r=arguments.length<3;return i(t,fr(e,4),n,r,Ol)}function Vo(t,e,n){var i=xc(t)?p:_,r=arguments.length<3;return i(t,fr(e,4),n,r,Dl)}function Xo(t,e){var n=xc(t)?u:Pn;return e=fr(e,3),n(t,function(t,n,i){return!e(t,n,i)})}function Go(t){var e=Sa(t)?t:Fs(t),n=e.length;return n>0?e[pi(0,n-1)]:V}function Ko(t,e){var n=-1,i=as(t),r=i.length,o=r-1;for(e=Sn(ss(e),0,r);++n<e;){var a=pi(n,o),s=i[a];i[a]=i[n],i[n]=s}return i.length=e,i}function Jo(t){return Ko(t,xt)}function Zo(t){if(null==t)return 0;if(Sa(t)){var e=t.length;return e&&Za(t)?q(t):e}return Ss(t).length}function Qo(t,e,n){var i=xc(t)?g:yi;return n&&wr(t,e,n)&&(e=V),i(t,fr(e,3))}function ta(t,e){if("function"!=typeof e)throw new Uu(gt);return t=ss(t),function(){if(--t<1)return e.apply(this,arguments)}}function ea(t,e,n){return e=n?V:e,e=t&&null==e?t.length:e,ar(t,nt,V,V,V,V,e)}function na(t,e){var n;if("function"!=typeof e)throw new Uu(gt);return t=ss(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=V),n}}function ia(t,e,n){e=n?V:e;var i=ar(t,Z,V,V,V,V,V,e);return i.placeholder=ia.placeholder,i}function ra(t,e,n){e=n?V:e;var i=ar(t,Q,V,V,V,V,V,e);return i.placeholder=ra.placeholder,i}function oa(t,e,n){function i(){p&&tl(p),c&&tl(c),m=0,l=c=d=p=g=V}function r(e,n){n&&tl(n),c=p=g=V,e&&(m=hc(),f=t.apply(d,l),p||c||(l=d=V))}function o(){var t=e-(hc()-h);t<=0||t>e?r(g,c):p=sl(o,t)}function a(){return(p&&g||c&&b)&&(f=t.apply(d,l)),i(),f}function s(){r(b,p)}function u(){if(l=arguments,h=hc(),d=this,g=b&&(p||!v),y===!1)var n=v&&!p;else{
m||c||v||(m=h);var i=y-(h-m),r=(i<=0||i>y)&&(v||c);r?(c&&(c=tl(c)),m=h,f=t.apply(d,l)):c||(c=sl(s,i))}return r&&p?p=tl(p):p||e===y||(p=sl(o,e)),n&&(r=!0,f=t.apply(d,l)),!r||p||c||(l=d=V),f}var l,c,f,h,d,p,g,m=0,v=!1,y=!1,b=!0;if("function"!=typeof t)throw new Uu(gt);return e=ls(e)||0,Fa(n)&&(v=!!n.leading,y="maxWait"in n&&pl(ls(n.maxWait)||0,e),b="trailing"in n?!!n.trailing:b),u.cancel=i,u.flush=a,u}function aa(t){return ar(t,rt)}function sa(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Uu(gt);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a),a};return n.cache=new sa.Cache,n}function ua(t){if("function"!=typeof t)throw new Uu(gt);return function(){return!t.apply(this,arguments)}}function la(t){return na(2,t)}function ca(t,e){if("function"!=typeof t)throw new Uu(gt);return e=pl(e===V?t.length-1:ss(e),0),function(){for(var i=arguments,r=-1,o=pl(i.length-e,0),a=Array(o);++r<o;)a[r]=i[e+r];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,i[0],a);case 2:return t.call(this,i[0],i[1],a)}var s=Array(e+1);for(r=-1;++r<e;)s[r]=i[r];return s[e]=a,n(t,this,s)}}function fa(t,e){if("function"!=typeof t)throw new Uu(gt);return e=e===V?0:pl(ss(e),0),ca(function(i){var r=i[e],o=i.slice(0,e);return r&&h(o,r),n(t,this,o)})}function ha(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new Uu(gt);return Fa(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),oa(t,e,{leading:i,maxWait:e,trailing:r})}function da(t){return ea(t,1)}function pa(t,e){return e=null==e?pu:e,yc(e,t)}function ga(){if(!arguments.length)return[];var t=arguments[0];return xc(t)?t:[t]}function ma(t){return Cn(t)}function va(t,e){return Cn(t,!1,e)}function ya(t){return Cn(t,!0)}function ba(t,e){return Cn(t,!0,e)}function _a(t,e){return t===e||t!==t&&e!==e}function xa(t,e){return t>e}function wa(t,e){return t>=e}function ka(t){return Ca(t)&&Wu.call(t,"callee")&&(!al.call(t,"callee")||Vu.call(t)==St)}function Ea(t){return ja(t)&&Vu.call(t)==zt}function Sa(t){return null!=t&&!("function"==typeof t&&La(t))&&Ra(Fl(t))}function Ca(t){return ja(t)&&Sa(t)}function Ta(t){return t===!0||t===!1||ja(t)&&Vu.call(t)==Tt}function Ma(t){return ja(t)&&Vu.call(t)==Mt}function Aa(t){return!!t&&1===t.nodeType&&ja(t)&&!Xa(t)}function $a(t){if(Sa(t)&&(xc(t)||Za(t)||La(t.splice)||ka(t)))return!t.length;for(var e in t)if(Wu.call(t,e))return!1;return!0}function Oa(t,e){return Gn(t,e)}function Da(t,e,n){n="function"==typeof n?n:V;var i=n?n(t,e):V;return i===V?Gn(t,e,n):!!i}function Na(t){return!!ja(t)&&(Vu.call(t)==At||"string"==typeof t.message&&"string"==typeof t.name)}function Ia(t){return"number"==typeof t&&fl(t)}function La(t){var e=Fa(t)?Vu.call(t):"";return e==$t||e==Ot}function Pa(t){return"number"==typeof t&&t==ss(t)}function Ra(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=yt}function Fa(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ja(t){return!!t&&"object"==typeof t}function Ua(t){return ja(t)&&gr(t)==Dt}function za(t,e){return t===e||Jn(t,e,hr(e))}function Ha(t,e,n){return n="function"==typeof n?n:V,Jn(t,e,hr(e),n)}function qa(t){return Va(t)&&t!=+t}function Wa(t){return null!=t&&(La(t)?Gu.test(qu.call(t)):ja(t)&&(R(t)?Gu:xe).test(t))}function Ya(t){return null===t}function Ba(t){return null==t}function Va(t){return"number"==typeof t||ja(t)&&Vu.call(t)==Nt}function Xa(t){if(!ja(t)||Vu.call(t)!=It||R(t))return!1;var e=nl(t);if(null===e)return!0;var n=e.constructor;return"function"==typeof n&&n instanceof n&&qu.call(n)==Bu}function Ga(t){return Fa(t)&&Vu.call(t)==Lt}function Ka(t){return Pa(t)&&t>=-yt&&t<=yt}function Ja(t){return ja(t)&&gr(t)==Pt}function Za(t){return"string"==typeof t||!xc(t)&&ja(t)&&Vu.call(t)==Rt}function Qa(t){return"symbol"==typeof t||ja(t)&&Vu.call(t)==Ft}function ts(t){return ja(t)&&Ra(t.length)&&!!mn[Vu.call(t)]}function es(t){return t===V}function ns(t){return ja(t)&&gr(t)==jt}function is(t){return ja(t)&&Vu.call(t)==Ut}function rs(t,e){return t<e}function os(t,e){return t<=e}function as(t){if(!t)return[];if(Sa(t))return Za(t)?W(t):Fi(t);if(rl&&t[rl])return j(t[rl]());var e=gr(t),n=e==Dt?U:e==Pt?H:Fs;return n(t)}function ss(t){if(!t)return 0===t?t:0;if(t=ls(t),t===vt||t===-vt){var e=t<0?-1:1;return e*bt}var n=t%1;return t===t?n?t-n:t:0}function us(t){return t?Sn(ss(t),0,xt):0}function ls(t){if(Fa(t)){var e=La(t.valueOf)?t.valueOf():t;t=Fa(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(he,"");var n=_e.test(t);return n||we.test(t)?En(t.slice(2),n?2:8):be.test(t)?_t:+t}function cs(t){return ji(t,Cs(t))}function fs(t){return Sn(ss(t),-yt,yt)}function hs(t){if("string"==typeof t)return t;if(null==t)return"";if(Qa(t))return Zu?Al.call(t):"";var e=t+"";return"0"==e&&1/t==-vt?"-0":e}function ds(t,e){var n=An(t);return e?yn(n,e):n}function ps(t,e){return v(t,fr(e,3),jn,!0)}function gs(t,e){return v(t,fr(e,3),Un,!0)}function ms(t,e){return null==t?t:Nl(t,xn(e),Cs)}function vs(t,e){return null==t?t:Il(t,xn(e),Cs)}function ys(t,e){return t&&jn(t,xn(e))}function bs(t,e){return t&&Un(t,xn(e))}function _s(t){return null==t?[]:zn(t,Ss(t))}function xs(t){return null==t?[]:zn(t,Cs(t))}function ws(t,e,n){var i=null==t?V:Hn(t,e);return i===V?n:i}function ks(t,e){return vr(t,e,qn)}function Es(t,e){return vr(t,e,Wn)}function Ss(t){var e=Cr(t);if(!e&&!Sa(t))return Qn(t);var n=xr(t),i=!!n,r=n||[],o=r.length;for(var a in t)!qn(t,a)||i&&("length"==a||F(a,o))||e&&"constructor"==a||r.push(a);return r}function Cs(t){for(var e=-1,n=Cr(t),i=ti(t),r=i.length,o=xr(t),a=!!o,s=o||[],u=s.length;++e<r;){var l=i[e];a&&("length"==l||F(l,u))||"constructor"==l&&(n||!Wu.call(t,l))||s.push(l)}return s}function Ts(t,e){var n={};return e=fr(e,3),jn(t,function(t,i,r){n[e(t,i,r)]=t}),n}function Ms(t,e){var n={};return e=fr(e,3),jn(t,function(t,i,r){n[i]=e(t,i,r)}),n}function As(t,e){return e=fr(e),ui(t,function(t,n){return!e(t,n)})}function $s(t,e){return null==t?{}:ui(t,fr(e))}function Os(t,e,n){if(kr(e,t))i=null==t?V:t[e];else{e=wn(e);var i=ws(t,e);t=$r(t,e)}return i===V&&(i=n),La(i)?i.call(t):i}function Ds(t,e,n){return null==t?t:mi(t,e,n)}function Ns(t,e,n,i){return i="function"==typeof i?i:V,null==t?t:mi(t,e,n,i)}function Is(t){return E(t,Ss(t))}function Ls(t){return E(t,Cs(t))}function Ps(t,e,n){var i=xc(t)||ts(t);if(e=fr(e,4),null==n)if(i||Fa(t)){var r=t.constructor;n=i?xc(t)?new r:[]:La(r)?An(nl(t)):{}}else n={};return(i?o:jn)(t,function(t,i,r){return e(n,t,i,r)}),n}function Rs(t,e){return null==t||Ei(t,e)}function Fs(t){return t?C(t,Ss(t)):[]}function js(t){return null==t?[]:C(t,Cs(t))}function Us(t,e,n){return n===V&&(n=e,e=V),n!==V&&(n=ls(n),n=n===n?n:0),e!==V&&(e=ls(e),e=e===e?e:0),Sn(ls(t),e,n)}function zs(t,e,n){return e=ls(e)||0,n===V?(n=e,e=0):n=ls(n)||0,t=ls(t),Yn(t,e,n)}function Hs(t,e,n){if(n&&"boolean"!=typeof n&&wr(t,e,n)&&(e=n=V),n===V&&("boolean"==typeof e?(n=e,e=V):"boolean"==typeof t&&(n=t,t=V)),t===V&&e===V?(t=0,e=1):(t=ls(t)||0,e===V?(e=t,t=0):e=ls(e)||0),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=vl();return gl(t+r*(e-t+kn("1e-"+((r+"").length-1))),e)}return pi(t,e)}function qs(t){return zc(hs(t).toLowerCase())}function Ws(t){return t=hs(t),t&&t.replace(Ee,N).replace(un,"")}function Ys(t,e,n){t=hs(t),e="string"==typeof e?e:e+"";var i=t.length;return n=n===V?i:Sn(ss(n),0,i),n-=e.length,n>=0&&t.indexOf(e,n)==n}function Bs(t){return t=hs(t),t&&ie.test(t)?t.replace(ee,I):t}function Vs(t){return t=hs(t),t&&fe.test(t)?t.replace(ce,"\\$&"):t}function Xs(t,e,n){t=hs(t),e=ss(e);var i=q(t);if(!e||i>=e)return t;var r=(e-i)/2,o=cl(r),a=ll(r);return er("",o,n)+t+er("",a,n)}function Gs(t,e,n){return t=hs(t),t+er(t,e,n)}function Ks(t,e,n){return t=hs(t),er(t,e,n)+t}function Js(t,e,n){return n||null==e?e=0:e&&(e=+e),t=hs(t).replace(he,""),ml(t,e||(ye.test(t)?16:10))}function Zs(t,e){t=hs(t),e=ss(e);var n="";if(!t||e<1||e>yt)return n;do e%2&&(n+=t),e=cl(e/2),t+=t;while(e);return n}function Qs(){var t=arguments,e=hs(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function tu(t,e,n){return hs(t).split(e,n)}function eu(t,e,n){return t=hs(t),n=Sn(ss(n),0,t.length),t.lastIndexOf(e,n)==n}function nu(t,e,n){var i=ke.templateSettings;n&&wr(t,e,n)&&(e=V),t=hs(t),e=Sc({},e,i,on);var r,o,a=Sc({},e.imports,i.imports,on),s=Ss(a),u=C(a,s),l=0,c=e.interpolate||Se,f="__p += '",h=ju((e.escape||Se).source+"|"+c.source+"|"+(c===ae?me:Se).source+"|"+(e.evaluate||Se).source+"|$","g"),d="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++gn+"]")+"\n";t.replace(h,function(e,n,i,a,s,u){return i||(i=a),f+=t.slice(l,u).replace(Ce,L),n&&(r=!0,f+="' +\n__e("+n+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),i&&(f+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),l=u+e.length,e}),f+="';\n";var p=e.variable;p||(f="with (obj) {\n"+f+"\n}\n"),f=(o?f.replace(Jt,""):f).replace(Zt,"$1").replace(Qt,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Yc(function(){return Function(s,d+"return "+f).apply(V,u)});if(g.source=f,Na(g))throw g;return g}function iu(t){return hs(t).toLowerCase()}function ru(t){return hs(t).toUpperCase()}function ou(t,e,n){if(t=hs(t),!t)return t;if(n||e===V)return t.replace(he,"");if(e+="",!e)return t;var i=W(t),r=W(e);return i.slice(T(i,r),M(i,r)+1).join("")}function au(t,e,n){if(t=hs(t),!t)return t;if(n||e===V)return t.replace(pe,"");if(e+="",!e)return t;var i=W(t);return i.slice(0,M(i,W(e))+1).join("")}function su(t,e,n){if(t=hs(t),!t)return t;if(n||e===V)return t.replace(de,"");if(e+="",!e)return t;var i=W(t);return i.slice(T(i,W(e))).join("")}function uu(t,e){var n=st,i=ut;if(Fa(e)){var r="separator"in e?e.separator:r;n="length"in e?ss(e.length):n,i="omission"in e?hs(e.omission):i}t=hs(t);var o=t.length;if(cn.test(t)){var a=W(t);o=a.length}if(n>=o)return t;var s=n-q(i);if(s<1)return i;var u=a?a.slice(0,s).join(""):t.slice(0,s);if(r===V)return u+i;if(a&&(s+=u.length-s),Ga(r)){if(t.slice(s).search(r)){var l,c=u;for(r.global||(r=ju(r.source,hs(ve.exec(r))+"g")),r.lastIndex=0;l=r.exec(c);)var f=l.index;u=u.slice(0,f===V?s:f)}}else if(t.indexOf(r,s)!=s){var h=u.lastIndexOf(r);h>-1&&(u=u.slice(0,h))}return u+i}function lu(t){return t=hs(t),t&&ne.test(t)?t.replace(te,Y):t}function cu(t,e,n){return t=hs(t),e=n?V:e,e===V&&(e=dn.test(t)?hn:fn),t.match(e)||[]}function fu(t){var e=t?t.length:0,i=fr();return t=e?f(t,function(t){if("function"!=typeof t[1])throw new Uu(gt);return[i(t[0]),t[1]]}):[],ca(function(i){for(var r=-1;++r<e;){var o=t[r];if(n(o[0],this,i))return n(o[1],this,i)}})}function hu(t){return Mn(Cn(t,!0))}function du(t){return function(){return t}}function pu(t){return t}function gu(t){return Zn("function"==typeof t?t:Cn(t,!0))}function mu(t){return ni(Cn(t,!0))}function vu(t,e){return ii(t,Cn(e,!0))}function yu(t,e,n){var i=Ss(e),r=zn(e,i);null!=n||Fa(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=zn(e,Ss(e)));var a=!(Fa(n)&&"chain"in n)||n.chain,s=La(t);return o(r,function(n){var i=e[n];t[n]=i,s&&(t.prototype[n]=function(){var e=this.__chain__;if(a||e){var n=t(this.__wrapped__),r=n.__actions__=Fi(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,h([this.value()],arguments))})}),t}function bu(){return Dn._===this&&(Dn._=Xu),this}function _u(){}function xu(t){return t=ss(t),function(){return arguments[t]}}function wu(t){return kr(t)?li(t):ci(t)}function ku(t){return function(e){return null==t?V:Hn(t,e)}}function Eu(t,e){if(t=ss(t),t<1||t>yt)return[];var n=xt,i=gl(t,xt);e=xn(e),t-=xt;for(var r=k(i,e);++n<t;)e(n);return r}function Su(t){return xc(t)?f(t,String):Dr(t)}function Cu(t){var e=++Yu;return hs(t)+e}function Tu(t,e){var n;return t===V&&e===V?0:(t!==V&&(n=t),e!==V&&(n=n===V?e:n+e),n)}function Mu(t){return t&&t.length?m(t,pu,xa):V}function Au(t,e){return t&&t.length?m(t,fr(e),xa):V}function $u(t){return Iu(t)/(t?t.length:0)}function Ou(t){return t&&t.length?m(t,pu,rs):V}function Du(t,e){return t&&t.length?m(t,fr(e),rs):V}function Nu(t,e){var n;return t===V&&e===V?0:(t!==V&&(n=t),e!==V&&(n=n===V?e:n-e),n)}function Iu(t){return t&&t.length?w(t,pu):0}function Lu(t,e){return t&&t.length?w(t,fr(e)):0}A=A?Nn.defaults({},A,Nn.pick(Dn,pn)):Dn;var Pu=A.Date,Ru=A.Error,Fu=A.Math,ju=A.RegExp,Uu=A.TypeError,zu=A.Array.prototype,Hu=A.Object.prototype,qu=A.Function.prototype.toString,Wu=Hu.hasOwnProperty,Yu=0,Bu=qu.call(Object),Vu=Hu.toString,Xu=Dn._,Gu=ju("^"+qu.call(Wu).replace(ce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ku=Tn?A.Buffer:V,Ju=A.Reflect,Zu=A.Symbol,Qu=A.Uint8Array,tl=A.clearTimeout,el=Ju?Ju.enumerate:V,nl=Object.getPrototypeOf,il=Object.getOwnPropertySymbols,rl="symbol"==typeof(rl=Zu&&Zu.iterator)?rl:V,ol=Object.create,al=Hu.propertyIsEnumerable,sl=A.setTimeout,ul=zu.splice,ll=Fu.ceil,cl=Fu.floor,fl=A.isFinite,hl=zu.join,dl=Object.keys,pl=Fu.max,gl=Fu.min,ml=A.parseInt,vl=Fu.random,yl=zu.reverse,bl=dr(A,"Map"),_l=dr(A,"Set"),xl=dr(A,"WeakMap"),wl=dr(Object,"create"),kl=xl&&new xl,El=bl?qu.call(bl):"",Sl=_l?qu.call(_l):"",Cl=xl?qu.call(xl):"",Tl=Zu?Zu.prototype:V,Ml=Zu?Tl.valueOf:V,Al=Zu?Tl.toString:V,$l={};ke.templateSettings={escape:re,evaluate:oe,interpolate:ae,variable:"",imports:{_:ke}};var Ol=Wi(jn),Dl=Wi(Un,!0),Nl=Yi(),Il=Yi(!0);el&&!al.call({valueOf:1},"valueOf")&&(ti=function(t){return j(el(t))});var Ll=kl?function(t,e){return kl.set(t,e),t}:pu,Pl=_l&&2===new _l([1,2]).size?function(t){return new _l(t)}:_u,Rl=kl?function(t){return kl.get(t)}:_u,Fl=li("length"),jl=il||function(){return[]};(bl&&gr(new bl)!=Dt||_l&&gr(new _l)!=Pt||xl&&gr(new xl)!=jt)&&(gr=function(t){var e=Vu.call(t),n=e==It?t.constructor:null,i="function"==typeof n?qu.call(n):"";if(i)switch(i){case El:return Dt;case Sl:return Pt;case Cl:return jt}return e});var Ul=function(){var t=0,e=0;return function(n,i){var r=hc(),o=ct-(r-e);if(e=r,o>0){if(++t>=lt)return n}else t=0;return Ll(n,i)}}(),zl=ca(function(t,e){return xc(t)||(t=null==t?[]:[Object(t)]),e=Rn(e,1),r(t,e)}),Hl=ca(function(t,e){return Ca(t)?On(t,Rn(e,1,!0)):[]}),ql=ca(function(t,e){var n=Jr(e);return Ca(n)&&(n=V),Ca(t)?On(t,Rn(e,1,!0),fr(n)):[]}),Wl=ca(function(t,e){var n=Jr(e);return Ca(n)&&(n=V),Ca(t)?On(t,Rn(e,1,!0),V,n):[]}),Yl=ca(function(t){var e=f(t,_n);return e.length&&e[0]===t[0]?Bn(e):[]}),Bl=ca(function(t){var e=Jr(t),n=f(t,_n);return e===Jr(n)?e=V:n.pop(),n.length&&n[0]===t[0]?Bn(n,fr(e)):[]}),Vl=ca(function(t){var e=Jr(t),n=f(t,_n);return e===Jr(n)?e=V:n.pop(),n.length&&n[0]===t[0]?Bn(n,V,e):[]}),Xl=ca(Qr),Gl=ca(function(t,e){e=f(Rn(e,1),String);var n=bn(t,e);return di(t,e.sort($)),n}),Kl=ca(function(t){return ki(Rn(t,1,!0))}),Jl=ca(function(t){var e=Jr(t);return Ca(e)&&(e=V),ki(Rn(t,1,!0),fr(e))}),Zl=ca(function(t){var e=Jr(t);return Ca(e)&&(e=V),ki(Rn(t,1,!0),V,e)}),Ql=ca(function(t,e){return Ca(t)?On(t,e):[]}),tc=ca(function(t){return Ti(u(t,Ca))}),ec=ca(function(t){var e=Jr(t);return Ca(e)&&(e=V),Ti(u(t,Ca),fr(e))}),nc=ca(function(t){var e=Jr(t);return Ca(e)&&(e=V),Ti(u(t,Ca),V,e)}),ic=ca(xo),rc=ca(function(t){var e=t.length,n=e>1?t[e-1]:V;return n="function"==typeof n?(t.pop(),n):V,wo(t,n)}),oc=ca(function(t){t=Rn(t,1);var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return bn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Ae&&F(n)?(i=i.slice(n,+n+(e?1:0)),i.__actions__.push({func:To,args:[r],thisArg:V}),new Me(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(V),t})):this.thru(r)}),ac=Hi(function(t,e,n){Wu.call(t,n)?++t[n]:t[n]=1}),sc=Hi(function(t,e,n){Wu.call(t,n)?t[n].push(e):t[n]=[e]}),uc=ca(function(t,e,i){var r=-1,o="function"==typeof e,a=kr(e),s=Sa(t)?Array(t.length):[];return Ol(t,function(t){var u=o?e:a&&null!=t?t[e]:V;s[++r]=u?n(u,t,i):Xn(t,e,i)}),s}),lc=Hi(function(t,e,n){t[n]=e}),cc=Hi(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),fc=ca(function(t,e){if(null==t)return[];var n=e.length;return n>1&&wr(t,e[0],e[1])?e=[]:n>2&&wr(e[0],e[1],e[2])&&(e.length=1),ai(t,Rn(e,1),[])}),hc=Pu.now,dc=ca(function(t,e,n){var i=G;if(n.length){var r=z(n,pr(dc));i|=tt}return ar(t,i,e,n,r)}),pc=ca(function(t,e,n){var i=G|K;if(n.length){var r=z(n,pr(pc));i|=tt}return ar(e,i,t,n,r)}),gc=ca(function(t,e){return $n(t,1,e)}),mc=ca(function(t,e,n){return $n(t,ls(e)||0,n)}),vc=ca(function(t,e){e=f(Rn(e,1),fr());var i=e.length;return ca(function(r){for(var o=-1,a=gl(r.length,i);++o<a;)r[o]=e[o].call(this,r[o]);return n(t,this,r)})}),yc=ca(function(t,e){var n=z(e,pr(yc));return ar(t,tt,V,e,n)}),bc=ca(function(t,e){var n=z(e,pr(bc));return ar(t,et,V,e,n)}),_c=ca(function(t,e){return ar(t,it,V,V,V,Rn(e,1))}),xc=Array.isArray,wc=Ku?function(t){return t instanceof Ku}:du(!1),kc=qi(function(t,e){ji(e,Ss(e),t)}),Ec=qi(function(t,e){ji(e,Cs(e),t)}),Sc=qi(function(t,e,n,i){Ui(e,Cs(e),t,i)}),Cc=qi(function(t,e,n,i){Ui(e,Ss(e),t,i)}),Tc=ca(function(t,e){return bn(t,Rn(e,1))}),Mc=ca(function(t){return t.push(V,on),n(Sc,V,t)}),Ac=ca(function(t){return t.push(V,Ar),n(Ic,V,t)}),$c=Qi(function(t,e,n){t[e]=n},du(pu)),Oc=Qi(function(t,e,n){Wu.call(t,e)?t[e].push(n):t[e]=[n]},fr),Dc=ca(Xn),Nc=qi(function(t,e,n){ri(t,e,n)}),Ic=qi(function(t,e,n,i){ri(t,e,n,i)}),Lc=ca(function(t,e){return null==t?{}:(e=f(Rn(e,1),String),si(t,On(Cs(t),e)))}),Pc=ca(function(t,e){return null==t?{}:si(t,Rn(e,1))}),Rc=Xi(function(t,e,n){return e=e.toLowerCase(),t+(n?qs(e):e)}),Fc=Xi(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),jc=Xi(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Uc=Vi("toLowerCase"),zc=Vi("toUpperCase"),Hc=Xi(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),qc=Xi(function(t,e,n){return t+(n?" ":"")+qs(e)}),Wc=Xi(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Yc=ca(function(t,e){try{return n(t,V,e)}catch(i){return Na(i)?i:new Ru(i)}}),Bc=ca(function(t,e){return o(Rn(e,1),function(e){t[e]=dc(t[e],t)}),t}),Vc=Ji(),Xc=Ji(!0),Gc=ca(function(t,e){return function(n){return Xn(n,t,e)}}),Kc=ca(function(t,e){return function(n){return Xn(t,n,e)}}),Jc=tr(f),Zc=tr(s),Qc=tr(g),tf=ir(),ef=ir(!0),nf=or("ceil"),rf=or("floor"),of=or("round");return ke.prototype=Te.prototype,Me.prototype=An(Te.prototype),Me.prototype.constructor=Me,Ae.prototype=An(Te.prototype),Ae.prototype.constructor=Ae,Ne.prototype=wl?wl(null):Hu,Fe.prototype.clear=je,Fe.prototype["delete"]=Ue,Fe.prototype.get=ze,Fe.prototype.has=He,Fe.prototype.set=qe,We.prototype.push=Be,Ve.prototype.clear=Xe,Ve.prototype["delete"]=Ge,Ve.prototype.get=Ke,Ve.prototype.has=Je,Ve.prototype.set=Ze,sa.Cache=Fe,ke.after=ta,ke.ary=ea,ke.assign=kc,ke.assignIn=Ec,ke.assignInWith=Sc,ke.assignWith=Cc,ke.at=Tc,ke.before=na,ke.bind=dc,ke.bindAll=Bc,ke.bindKey=pc,ke.castArray=ga,ke.chain=So,ke.chunk=Ir,ke.compact=Lr,ke.concat=zl,ke.cond=fu,ke.conforms=hu,ke.constant=du,ke.countBy=ac,ke.create=ds,ke.curry=ia,ke.curryRight=ra,ke.debounce=oa,ke.defaults=Mc,ke.defaultsDeep=Ac,ke.defer=gc,ke.delay=mc,ke.difference=Hl,ke.differenceBy=ql,ke.differenceWith=Wl,ke.drop=Pr,ke.dropRight=Rr,ke.dropRightWhile=Fr,ke.dropWhile=jr,ke.fill=Ur,ke.filter=Ro,ke.flatMap=Uo,ke.flatten=qr,ke.flattenDeep=Wr,ke.flattenDepth=Yr,ke.flip=aa,ke.flow=Vc,ke.flowRight=Xc,ke.fromPairs=Br,ke.functions=_s,ke.functionsIn=xs,ke.groupBy=sc,ke.initial=Gr,ke.intersection=Yl,ke.intersectionBy=Bl,ke.intersectionWith=Vl,ke.invert=$c,ke.invertBy=Oc,ke.invokeMap=uc,ke.iteratee=gu,ke.keyBy=lc,ke.keys=Ss,ke.keysIn=Cs,ke.map=Wo,ke.mapKeys=Ts,ke.mapValues=Ms,ke.matches=mu,ke.matchesProperty=vu,ke.memoize=sa,ke.merge=Nc,ke.mergeWith=Ic,ke.method=Gc,ke.methodOf=Kc,ke.mixin=yu,ke.negate=ua,ke.nthArg=xu,ke.omit=Lc,ke.omitBy=As,ke.once=la,ke.orderBy=Yo,ke.over=Jc,ke.overArgs=vc,ke.overEvery=Zc,ke.overSome=Qc,ke.partial=yc,ke.partialRight=bc,ke.partition=cc,ke.pick=Pc,ke.pickBy=$s,ke.property=wu,ke.propertyOf=ku,ke.pull=Xl,ke.pullAll=Qr,ke.pullAllBy=to,ke.pullAt=Gl,ke.range=tf,ke.rangeRight=ef,ke.rearg=_c,ke.reject=Xo,ke.remove=eo,ke.rest=ca,ke.reverse=no,ke.sampleSize=Ko,ke.set=Ds,ke.setWith=Ns,ke.shuffle=Jo,ke.slice=io,ke.sortBy=fc,ke.sortedUniq=co,ke.sortedUniqBy=fo,ke.split=tu,ke.spread=fa,ke.tail=ho,ke.take=po,ke.takeRight=go,ke.takeRightWhile=mo,ke.takeWhile=vo,ke.tap=Co,ke.throttle=ha,ke.thru=To,ke.toArray=as,ke.toPairs=Is,ke.toPairsIn=Ls,ke.toPath=Su,ke.toPlainObject=cs,ke.transform=Ps,ke.unary=da,ke.union=Kl,ke.unionBy=Jl,ke.unionWith=Zl,ke.uniq=yo,ke.uniqBy=bo,ke.uniqWith=_o,ke.unset=Rs,ke.unzip=xo,ke.unzipWith=wo,ke.values=Fs,ke.valuesIn=js,ke.without=Ql,ke.words=cu,ke.wrap=pa,ke.xor=tc,ke.xorBy=ec,ke.xorWith=nc,ke.zip=ic,ke.zipObject=ko,ke.zipObjectDeep=Eo,ke.zipWith=rc,ke.extend=Ec,ke.extendWith=Sc,yu(ke,ke),ke.add=Tu,ke.attempt=Yc,ke.camelCase=Rc,ke.capitalize=qs,ke.ceil=nf,ke.clamp=Us,ke.clone=ma,ke.cloneDeep=ya,ke.cloneDeepWith=ba,ke.cloneWith=va,ke.deburr=Ws,ke.endsWith=Ys,ke.eq=_a,ke.escape=Bs,ke.escapeRegExp=Vs,ke.every=Po,ke.find=Fo,ke.findIndex=zr,ke.findKey=ps,ke.findLast=jo,ke.findLastIndex=Hr,ke.findLastKey=gs,ke.floor=rf,ke.forEach=zo,ke.forEachRight=Ho,ke.forIn=ms,ke.forInRight=vs,ke.forOwn=ys,ke.forOwnRight=bs,ke.get=ws,ke.gt=xa,ke.gte=wa,ke.has=ks,ke.hasIn=Es,ke.head=Vr,ke.identity=pu,ke.includes=qo,ke.indexOf=Xr,ke.inRange=zs,ke.invoke=Dc,ke.isArguments=ka,ke.isArray=xc,ke.isArrayBuffer=Ea,ke.isArrayLike=Sa,ke.isArrayLikeObject=Ca,ke.isBoolean=Ta,ke.isBuffer=wc,ke.isDate=Ma,ke.isElement=Aa,ke.isEmpty=$a,ke.isEqual=Oa,ke.isEqualWith=Da,ke.isError=Na,ke.isFinite=Ia,ke.isFunction=La,ke.isInteger=Pa,ke.isLength=Ra,ke.isMap=Ua,ke.isMatch=za,ke.isMatchWith=Ha,ke.isNaN=qa,ke.isNative=Wa,ke.isNil=Ba,ke.isNull=Ya,ke.isNumber=Va,ke.isObject=Fa,ke.isObjectLike=ja,ke.isPlainObject=Xa,ke.isRegExp=Ga,ke.isSafeInteger=Ka,ke.isSet=Ja,ke.isString=Za,ke.isSymbol=Qa,ke.isTypedArray=ts,ke.isUndefined=es,ke.isWeakMap=ns,ke.isWeakSet=is,ke.join=Kr,ke.kebabCase=Fc,ke.last=Jr,ke.lastIndexOf=Zr,ke.lowerCase=jc,ke.lowerFirst=Uc,ke.lt=rs,ke.lte=os,ke.max=Mu,ke.maxBy=Au,ke.mean=$u,ke.min=Ou,ke.minBy=Du,ke.noConflict=bu,ke.noop=_u,ke.now=hc,ke.pad=Xs,ke.padEnd=Gs,ke.padStart=Ks,ke.parseInt=Js,ke.random=Hs,ke.reduce=Bo,ke.reduceRight=Vo,ke.repeat=Zs,ke.replace=Qs,ke.result=Os,ke.round=of,ke.runInContext=B,ke.sample=Go,ke.size=Zo,ke.snakeCase=Hc,ke.some=Qo,ke.sortedIndex=ro,ke.sortedIndexBy=oo,ke.sortedIndexOf=ao,ke.sortedLastIndex=so,ke.sortedLastIndexBy=uo,ke.sortedLastIndexOf=lo,ke.startCase=qc,ke.startsWith=eu,ke.subtract=Nu,ke.sum=Iu,ke.sumBy=Lu,ke.template=nu,ke.times=Eu,ke.toInteger=ss,ke.toLength=us,ke.toLower=iu,ke.toNumber=ls,ke.toSafeInteger=fs,ke.toString=hs,ke.toUpper=ru,ke.trim=ou,ke.trimEnd=au,ke.trimStart=su,ke.truncate=uu,ke.unescape=lu,ke.uniqueId=Cu,ke.upperCase=Wc,ke.upperFirst=zc,ke.each=zo,ke.eachRight=Ho,ke.first=Vr,yu(ke,function(){var t={};return jn(ke,function(e,n){Wu.call(ke.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),ke.VERSION=X,o(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){ke[t].placeholder=ke}),o(["drop","take"],function(t,e){Ae.prototype[t]=function(n){var i=this.__filtered__;if(i&&!e)return new Ae(this);n=n===V?1:pl(ss(n),0);var r=this.clone();return i?r.__takeCount__=gl(n,r.__takeCount__):r.__views__.push({size:gl(n,xt),type:t+(r.__dir__<0?"Right":"")}),r},Ae.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),o(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==ht||n==pt;Ae.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:fr(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),o(["head","last"],function(t,e){var n="take"+(e?"Right":"");Ae.prototype[t]=function(){return this[n](1).value()[0]}}),o(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Ae.prototype[t]=function(){return this.__filtered__?new Ae(this):this[n](1)}}),Ae.prototype.compact=function(){return this.filter(pu)},Ae.prototype.find=function(t){return this.filter(t).head()},Ae.prototype.findLast=function(t){return this.reverse().find(t)},Ae.prototype.invokeMap=ca(function(t,e){return"function"==typeof t?new Ae(this):this.map(function(n){return Xn(n,t,e)})}),Ae.prototype.reject=function(t){return t=fr(t,3),this.filter(function(e){return!t(e)})},Ae.prototype.slice=function(t,e){t=ss(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Ae(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==V&&(e=ss(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},Ae.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Ae.prototype.toArray=function(){return this.take(xt)},jn(Ae.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=ke[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);r&&(ke.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,s=e instanceof Ae,u=a[0],l=s||xc(e),c=function(t){var e=r.apply(ke,h([t],a));return i&&f?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(s=l=!1);var f=this.__chain__,d=!!this.__actions__.length,p=o&&!f,g=s&&!d;if(!o&&l){e=g?e:new Ae(this);var m=t.apply(e,a);return m.__actions__.push({func:To,args:[c],thisArg:V}),new Me(m,f)}return p&&g?t.apply(this,a):(m=this.thru(c),p?i?m.value()[0]:m.value():m)})}),o(["pop","push","shift","sort","splice","unshift"],function(t){var e=zu[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);ke.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?e.apply(this.value(),t):this[n](function(n){return e.apply(n,t)})}}),jn(Ae.prototype,function(t,e){var n=ke[e];if(n){var i=n.name+"",r=$l[i]||($l[i]=[]);r.push({name:e,func:n})}}),$l[Zi(V,K).name]=[{name:"wrapper",func:V}],Ae.prototype.clone=$e,Ae.prototype.reverse=Oe,Ae.prototype.value=De,ke.prototype.at=oc,ke.prototype.chain=Mo,ke.prototype.commit=Ao,ke.prototype.flatMap=$o,ke.prototype.next=Oo,ke.prototype.plant=No,ke.prototype.reverse=Io,ke.prototype.toJSON=ke.prototype.valueOf=ke.prototype.value=Lo,rl&&(ke.prototype[rl]=Do),ke}var V,X="4.5.1",G=1,K=2,J=4,Z=8,Q=16,tt=32,et=64,nt=128,it=256,rt=512,ot=1,at=2,st=30,ut="...",lt=150,ct=16,ft=200,ht=1,dt=2,pt=3,gt="Expected a function",mt="__lodash_hash_undefined__",vt=1/0,yt=9007199254740991,bt=1.7976931348623157e308,_t=NaN,xt=4294967295,wt=xt-1,kt=xt>>>1,Et="__lodash_placeholder__",St="[object Arguments]",Ct="[object Array]",Tt="[object Boolean]",Mt="[object Date]",At="[object Error]",$t="[object Function]",Ot="[object GeneratorFunction]",Dt="[object Map]",Nt="[object Number]",It="[object Object]",Lt="[object RegExp]",Pt="[object Set]",Rt="[object String]",Ft="[object Symbol]",jt="[object WeakMap]",Ut="[object WeakSet]",zt="[object ArrayBuffer]",Ht="[object Float32Array]",qt="[object Float64Array]",Wt="[object Int8Array]",Yt="[object Int16Array]",Bt="[object Int32Array]",Vt="[object Uint8Array]",Xt="[object Uint8ClampedArray]",Gt="[object Uint16Array]",Kt="[object Uint32Array]",Jt=/\b__p \+= '';/g,Zt=/\b(__p \+=) '' \+/g,Qt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,te=/&(?:amp|lt|gt|quot|#39|#96);/g,ee=/[&<>"'`]/g,ne=RegExp(te.source),ie=RegExp(ee.source),re=/<%-([\s\S]+?)%>/g,oe=/<%([\s\S]+?)%>/g,ae=/<%=([\s\S]+?)%>/g,se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ue=/^\w*$/,le=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,ce=/[\\^$.*+?()[\]{}|]/g,fe=RegExp(ce.source),he=/^\s+|\s+$/g,de=/^\s+/,pe=/\s+$/,ge=/\\(\\)?/g,me=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,ye=/^0x/i,be=/^[-+]0x[0-9a-f]+$/i,_e=/^0b[01]+$/i,xe=/^\[object .+?Constructor\]$/,we=/^0o[0-7]+$/i,ke=/^(?:0|[1-9]\d*)$/,Ee=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Se=/($^)/,Ce=/['\n\r\u2028\u2029\\]/g,Te="\\ud800-\\udfff",Me="\\u0300-\\u036f\\ufe20-\\ufe23",Ae="\\u20d0-\\u20f0",$e="\\u2700-\\u27bf",Oe="a-z\\xdf-\\xf6\\xf8-\\xff",De="\\xac\\xb1\\xd7\\xf7",Ne="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ie="\\u2018\\u2019\\u201c\\u201d",Le=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pe="A-Z\\xc0-\\xd6\\xd8-\\xde",Re="\\ufe0e\\ufe0f",Fe=De+Ne+Ie+Le,je="["+Te+"]",Ue="["+Fe+"]",ze="["+Me+Ae+"]",He="\\d+",qe="["+$e+"]",We="["+Oe+"]",Ye="[^"+Te+Fe+He+$e+Oe+Pe+"]",Be="\\ud83c[\\udffb-\\udfff]",Ve="(?:"+ze+"|"+Be+")",Xe="[^"+Te+"]",Ge="(?:\\ud83c[\\udde6-\\uddff]){2}",Ke="[\\ud800-\\udbff][\\udc00-\\udfff]",Je="["+Pe+"]",Ze="\\u200d",Qe="(?:"+We+"|"+Ye+")",tn="(?:"+Je+"|"+Ye+")",en=Ve+"?",nn="["+Re+"]?",rn="(?:"+Ze+"(?:"+[Xe,Ge,Ke].join("|")+")"+nn+en+")*",on=nn+en+rn,an="(?:"+[qe,Ge,Ke].join("|")+")"+on,sn="(?:"+[Xe+ze+"?",ze,Ge,Ke,je].join("|")+")",un=RegExp(ze,"g"),ln=RegExp(Be+"(?="+Be+")|"+sn+on,"g"),cn=RegExp("["+Ze+Te+Me+Ae+Re+"]"),fn=/[a-zA-Z0-9]+/g,hn=RegExp([Je+"?"+We+"+(?="+[Ue,Je,"$"].join("|")+")",tn+"+(?="+[Ue,Je+Qe,"$"].join("|")+")",Je+"?"+Qe+"+",Je+"+",He,an].join("|"),"g"),dn=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,pn=["Array","Buffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],gn=-1,mn={};mn[Ht]=mn[qt]=mn[Wt]=mn[Yt]=mn[Bt]=mn[Vt]=mn[Xt]=mn[Gt]=mn[Kt]=!0,mn[St]=mn[Ct]=mn[zt]=mn[Tt]=mn[Mt]=mn[At]=mn[$t]=mn[Dt]=mn[Nt]=mn[It]=mn[Lt]=mn[Pt]=mn[Rt]=mn[jt]=!1;var vn={};vn[St]=vn[Ct]=vn[zt]=vn[Tt]=vn[Mt]=vn[Ht]=vn[qt]=vn[Wt]=vn[Yt]=vn[Bt]=vn[Dt]=vn[Nt]=vn[It]=vn[Lt]=vn[Pt]=vn[Rt]=vn[Ft]=vn[Vt]=vn[Xt]=vn[Gt]=vn[Kt]=!0,vn[At]=vn[$t]=vn[jt]=!1;var yn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},bn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},_n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},xn={"function":!0,object:!0},wn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},kn=parseFloat,En=parseInt,Sn=xn[typeof exports]&&exports&&!exports.nodeType?exports:V,Cn=xn[typeof module]&&module&&!module.nodeType?module:V,Tn=Cn&&Cn.exports===Sn?Sn:V,Mn=A(Sn&&Cn&&"object"==typeof global&&global),An=A(xn[typeof self]&&self),$n=A(xn[typeof window]&&window),On=A(xn[typeof this]&&this),Dn=Mn||$n!==(On&&On.window)&&$n||An||On||Function("return this")(),Nn=B();($n||An||{})._=Nn,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return Nn}):Sn&&Cn?(Tn&&((Cn.exports=Nn)._=Nn),Sn._=Nn):Dn._=Nn}.call(this),!function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function n(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function i(t){return null===t?NaN:+t}function r(t){return!isNaN(t)}function o(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}}function a(t){return t.length}function s(t){for(var e=1;t*e%1;)e*=10;return e}function u(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function l(){this._=Object.create(null)}function c(t){return(t+="")===xa||t[0]===wa?wa+t:t}function f(t){return(t+="")[0]===wa?t.slice(1):t}function h(t){return c(t)in this._}function d(t){return(t=c(t))in this._&&delete this._[t]}function p(){var t=[];for(var e in this._)t.push(f(e));return t}function g(){var t=0;for(var e in this._)++t;return t}function m(){for(var t in this._)return!1;return!0}function v(){this._=Object.create(null);
}function y(t){return t}function b(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function _(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=ka.length;n<i;++n){var r=ka[n]+e;if(r in t)return r}}function x(){}function w(){}function k(t){function e(){for(var e,i=n,r=-1,o=i.length;++r<o;)(e=i[r].on)&&e.apply(this,arguments);return t}var n=[],i=new l;return e.on=function(e,r){var o,a=i.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),i.remove(e)),r&&n.push(i.set(e,{on:r})),t)},e}function E(){ua.event.preventDefault()}function S(){for(var t,e=ua.event;t=e.sourceEvent;)e=t;return e}function C(t){for(var e=new w,n=0,i=arguments.length;++n<i;)e[arguments[n]]=k(e);return e.of=function(n,i){return function(r){try{var o=r.sourceEvent=ua.event;r.target=t,ua.event=r,e[r.type].apply(n,i)}finally{ua.event=o}}},e}function T(t){return Sa(t,Aa),t}function M(t){return"function"==typeof t?t:function(){return Ca(t,this)}}function A(t){return"function"==typeof t?t:function(){return Ta(t,this)}}function $(t,e){function n(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function r(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=ua.ns.qualify(t),null==e?t.local?i:n:"function"==typeof e?t.local?s:a:t.local?o:r}function O(t){return t.trim().replace(/\s+/g," ")}function D(t){return new RegExp("(?:^|\\s+)"+ua.requote(t)+"(?:\\s+|$)","g")}function N(t){return(t+"").trim().split(/^|\s+/)}function I(t,e){function n(){for(var n=-1;++n<r;)t[n](this,e)}function i(){for(var n=-1,i=e.apply(this,arguments);++n<r;)t[n](this,i)}t=N(t).map(L);var r=t.length;return"function"==typeof e?i:n}function L(t){var e=D(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",O(r+" "+t))):n.setAttribute("class",O(r.replace(e," ")))}}function P(t,e,n){function i(){this.style.removeProperty(t)}function r(){this.style.setProperty(t,e,n)}function o(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}return null==e?i:"function"==typeof e?o:r}function R(t,e){function n(){delete this[t]}function i(){this[t]=e}function r(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?r:i}function F(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n===$a&&e.documentElement.namespaceURI===$a?e.createElement(t):e.createElementNS(n,t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=ua.ns.qualify(t)).local?n:e}function j(){var t=this.parentNode;t&&t.removeChild(this)}function U(t){return{__data__:t}}function z(t){return function(){return Ma(this,t)}}function H(t){return arguments.length||(t=n),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function q(t,e){for(var n=0,i=t.length;n<i;n++)for(var r,o=t[n],a=0,s=o.length;a<s;a++)(r=o[a])&&e(r,a,n);return t}function W(t){return Sa(t,Da),t}function Y(t){var e,n;return function(i,r,o){var a,s=t[o].update,u=s.length;for(o!=n&&(n=o,e=0),r>=e&&(e=r+1);!(a=s[e])&&++e<u;);return a}}function B(t,e,n){function i(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function r(){var r=u(e,ca(arguments));i.call(this),this.addEventListener(t,this[a]=r,r.$=n),r._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+ua.requote(t)+"$");for(var i in this)if(e=i.match(n)){var r=this[i];this.removeEventListener(e[1],r,r.$),delete this[i]}}var a="__on"+t,s=t.indexOf("."),u=V;s>0&&(t=t.slice(0,s));var l=Na.get(t);return l&&(t=l,u=X),s?e?r:i:e?x:o}function V(t,e){return function(n){var i=ua.event;ua.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{ua.event=i}}}function X(t,e){var n=V(t,e);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function G(n){var i=".dragsuppress-"+ ++La,r="click"+i,o=ua.select(e(n)).on("touchmove"+i,E).on("dragstart"+i,E).on("selectstart"+i,E);if(null==Ia&&(Ia=!("onselectstart"in n)&&_(n.style,"userSelect")),Ia){var a=t(n).style,s=a[Ia];a[Ia]="none"}return function(t){if(o.on(i,null),Ia&&(a[Ia]=s),t){var e=function(){o.on(r,null)};o.on(r,function(){E(),e()},!0),setTimeout(e,0)}}}function K(t,n){n.changedTouches&&(n=n.changedTouches[0]);var i=t.ownerSVGElement||t;if(i.createSVGPoint){var r=i.createSVGPoint();if(Pa<0){var o=e(t);if(o.scrollX||o.scrollY){i=ua.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=i[0][0].getScreenCTM();Pa=!(a.f||a.e),i.remove()}}return Pa?(r.x=n.pageX,r.y=n.pageY):(r.x=n.clientX,r.y=n.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var s=t.getBoundingClientRect();return[n.clientX-s.left-t.clientLeft,n.clientY-s.top-t.clientTop]}function J(){return ua.event.changedTouches[0].identifier}function Z(t){return t>0?1:t<0?-1:0}function Q(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return t>1?0:t<-1?ja:Math.acos(t)}function et(t){return t>1?Ha:t<-1?-Ha:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function it(t){return((t=Math.exp(t))+1/t)/2}function rt(t){return((t=Math.exp(2*t))-1)/(t+1)}function ot(t){return(t=Math.sin(t/2))*t}function at(){}function st(t,e,n){return this instanceof st?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof st?new st(t.h,t.s,t.l):xt(""+t,wt,st):new st(t,e,n)}function ut(t,e,n){function i(t){return t>360?t-=360:t<0&&(t+=360),t<60?o+(a-o)*t/60:t<180?a:t<240?o+(a-o)*(240-t)/60:o}function r(t){return Math.round(255*i(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,n=n<0?0:n>1?1:n,a=n<=.5?n*(1+e):n+e-n*e,o=2*n-a,new vt(r(t+120),r(t),r(t-120))}function lt(t,e,n){return this instanceof lt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof lt?new lt(t.h,t.c,t.l):t instanceof ft?dt(t.l,t.a,t.b):dt((t=kt((t=ua.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new lt(t,e,n)}function ct(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ft(n,Math.cos(t*=qa)*e,Math.sin(t)*e)}function ft(t,e,n){return this instanceof ft?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ft?new ft(t.l,t.a,t.b):t instanceof lt?ct(t.h,t.c,t.l):kt((t=vt(t)).r,t.g,t.b):new ft(t,e,n)}function ht(t,e,n){var i=(t+16)/116,r=i+e/500,o=i-n/200;return r=pt(r)*ts,i=pt(i)*es,o=pt(o)*ns,new vt(mt(3.2404542*r-1.5371385*i-.4985314*o),mt(-.969266*r+1.8760108*i+.041556*o),mt(.0556434*r-.2040259*i+1.0572252*o))}function dt(t,e,n){return t>0?new lt(Math.atan2(n,e)*Wa,Math.sqrt(e*e+n*n),t):new lt(NaN,NaN,t)}function pt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function gt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function mt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function vt(t,e,n){return this instanceof vt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof vt?new vt(t.r,t.g,t.b):xt(""+t,vt,ut):new vt(t,e,n)}function yt(t){return new vt(t>>16,t>>8&255,255&t)}function bt(t){return yt(t)+""}function _t(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function xt(t,e,n){var i,r,o,a=0,s=0,u=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(St(r[0]),St(r[1]),St(r[2]))}return(o=os.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a=a>>4|a,s=240&o,s=s>>4|s,u=15&o,u=u<<4|u):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),e(a,s,u))}function wt(t,e,n){var i,r,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(r=u<.5?s/(a+o):s/(2-a-o),i=t==a?(e-n)/s+(e<n?6:0):e==a?(n-t)/s+2:(t-e)/s+4,i*=60):(i=NaN,r=u>0&&u<1?0:i),new st(i,r,u)}function kt(t,e,n){t=Et(t),e=Et(e),n=Et(n);var i=gt((.4124564*t+.3575761*e+.1804375*n)/ts),r=gt((.2126729*t+.7151522*e+.072175*n)/es),o=gt((.0193339*t+.119192*e+.9503041*n)/ns);return ft(116*r-16,500*(i-r),200*(r-o))}function Et(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function St(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Ct(t){return"function"==typeof t?t:function(){return t}}function Tt(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),Mt(e,n,t,i)}}function Mt(t,e,n,i){function r(){var t,e=u.status;if(!e&&$t(u)||e>=200&&e<300||304===e){try{t=n.call(o,u)}catch(i){return void a.error.call(o,i)}a.load.call(o,t)}else a.error.call(o,u)}var o={},a=ua.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=r:u.onreadystatechange=function(){u.readyState>3&&r()},u.onprogress=function(t){var e=ua.event;ua.event=t;try{a.progress.call(o,u)}finally{ua.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(l=t,o):l},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(ca(arguments)))}}),o.send=function(n,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),u.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),u.setRequestHeader)for(var c in s)u.setRequestHeader(c,s[c]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=l&&(u.responseType=l),null!=r&&o.on("error",r).on("load",function(t){r(null,t)}),a.beforesend.call(o,u),u.send(null==i?null:i),o},o.abort=function(){return u.abort(),o},ua.rebind(o,a,"on"),null==i?o:o.get(At(i))}function At(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function $t(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Ot(t,e,n){var i=arguments.length;i<2&&(e=0),i<3&&(n=Date.now());var r=n+e,o={c:t,t:r,n:null};return ss?ss.n=o:as=o,ss=o,us||(ls=clearTimeout(ls),us=1,cs(Dt)),o}function Dt(){var t=Nt(),e=It()-t;e>24?(isFinite(e)&&(clearTimeout(ls),ls=setTimeout(Dt,e)),us=0):(us=1,cs(Dt))}function Nt(){for(var t=Date.now(),e=as;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function It(){for(var t,e=as,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:as=e.n;return ss=t,n}function Lt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Pt(t,e){var n=Math.pow(10,3*_a(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Rt(t){var e=t.decimal,n=t.thousands,i=t.grouping,r=t.currency,o=i&&n?function(t,e){for(var r=t.length,o=[],a=0,s=i[0],u=0;r>0&&s>0&&(u+s+1>e&&(s=Math.max(1,e-u)),o.push(t.substring(r-=s,r+s)),!((u+=s+1)>e));)s=i[a=(a+1)%i.length];return o.reverse().join(n)}:y;return function(t){var n=hs.exec(t),i=n[1]||" ",a=n[2]||">",s=n[3]||"-",u=n[4]||"",l=n[5],c=+n[6],f=n[7],h=n[8],d=n[9],p=1,g="",m="",v=!1,y=!0;switch(h&&(h=+h.substring(1)),(l||"0"===i&&"="===a)&&(l=i="0",a="="),d){case"n":f=!0,d="g";break;case"%":p=100,m="%",d="f";break;case"p":p=100,m="%",d="r";break;case"b":case"o":case"x":case"X":"#"===u&&(g="0"+d.toLowerCase());case"c":y=!1;case"d":v=!0,h=0;break;case"s":p=-1,d="r"}"$"===u&&(g=r[0],m=r[1]),"r"!=d||h||(d="g"),null!=h&&("g"==d?h=Math.max(1,Math.min(21,h)):"e"!=d&&"f"!=d||(h=Math.max(0,Math.min(20,h)))),d=ds.get(d)||Ft;var b=l&&f;return function(t){var n=m;if(v&&t%1)return"";var r=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===s?"":s;if(p<0){var u=ua.formatPrefix(t,h);t=u.scale(t),n=u.symbol+m}else t*=p;t=d(t,h);var _,x,w=t.lastIndexOf(".");if(w<0){var k=y?t.lastIndexOf("e"):-1;k<0?(_=t,x=""):(_=t.substring(0,k),x=t.substring(k))}else _=t.substring(0,w),x=e+t.substring(w+1);!l&&f&&(_=o(_,1/0));var E=g.length+_.length+x.length+(b?0:r.length),S=E<c?new Array(E=c-E+1).join(i):"";return b&&(_=o(S+_,S.length?c-x.length:1/0)),r+=g,t=_+x,("<"===a?r+t+S:">"===a?S+r+t:"^"===a?S.substring(0,E>>=1)+r+t+S.substring(E):r+(b?t:S+t))+n}}}function Ft(t){return t+""}function jt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ut(t,e,n){function i(e){var n=t(e),i=o(n,1);return e-n<i-e?n:i}function r(n){return e(n=t(new gs(n-1)),1),n}function o(t,n){return e(t=new gs((+t)),n),t}function a(t,i,o){var a=r(t),s=[];if(o>1)for(;a<i;)n(a)%o||s.push(new Date((+a))),e(a,1);else for(;a<i;)s.push(new Date((+a))),e(a,1);return s}function s(t,e,n){try{gs=jt;var i=new jt;return i._=t,a(i,e,n)}finally{gs=Date}}t.floor=t,t.round=i,t.ceil=r,t.offset=o,t.range=a;var u=t.utc=zt(t);return u.floor=u,u.round=zt(i),u.ceil=zt(r),u.offset=zt(o),u.range=s,t}function zt(t){return function(e,n){try{gs=jt;var i=new jt;return i._=e,t(i,n)._}finally{gs=Date}}}function Ht(t){function e(t){function e(e){for(var n,r,o,a=[],s=-1,u=0;++s<i;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(r=vs[n=t.charAt(++s)])&&(n=t.charAt(++s)),(o=M[n])&&(n=o(e,null==r?"e"===n?" ":"0":r)),a.push(n),u=s+1);return a.push(t.slice(u,s)),a.join("")}var i=t.length;return e.parse=function(e){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=n(i,t,e,0);if(r!=e.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var o=null!=i.Z&&gs!==jt,a=new(o?jt:gs);return"j"in i?a.setFullYear(i.y,0,i.j):"W"in i||"U"in i?("w"in i||(i.w="W"in i?1:0),a.setFullYear(i.y,0,1),a.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(a.getDay()+5)%7:i.w+7*i.U-(a.getDay()+6)%7)):a.setFullYear(i.y,i.m,i.d),a.setHours(i.H+(i.Z/100|0),i.M+i.Z%100,i.S,i.L),o?a._:a},e.toString=function(){return t},e}function n(t,e,n,i){for(var r,o,a,s=0,u=e.length,l=n.length;s<u;){if(i>=l)return-1;if(r=e.charCodeAt(s++),37===r){if(a=e.charAt(s++),o=A[a in vs?e.charAt(s++):a],!o||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function i(t,e,n){w.lastIndex=0;var i=w.exec(e.slice(n));return i?(t.w=k.get(i[0].toLowerCase()),n+i[0].length):-1}function r(t,e,n){_.lastIndex=0;var i=_.exec(e.slice(n));return i?(t.w=x.get(i[0].toLowerCase()),n+i[0].length):-1}function o(t,e,n){C.lastIndex=0;var i=C.exec(e.slice(n));return i?(t.m=T.get(i[0].toLowerCase()),n+i[0].length):-1}function a(t,e,n){E.lastIndex=0;var i=E.exec(e.slice(n));return i?(t.m=S.get(i[0].toLowerCase()),n+i[0].length):-1}function s(t,e,i){return n(t,M.c.toString(),e,i)}function u(t,e,i){return n(t,M.x.toString(),e,i)}function l(t,e,i){return n(t,M.X.toString(),e,i)}function c(t,e,n){var i=b.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}var f=t.dateTime,h=t.date,d=t.time,p=t.periods,g=t.days,m=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{gs=jt;var e=new gs;return e._=t,i(e)}finally{gs=Date}}var i=e(t);return n.parse=function(t){try{gs=jt;var e=i.parse(t);return e&&e._}finally{gs=Date}},n.toString=i.toString,n},e.multi=e.utc.multi=ue;var b=ua.map(),_=Wt(g),x=Yt(g),w=Wt(m),k=Yt(m),E=Wt(v),S=Yt(v),C=Wt(y),T=Yt(y);p.forEach(function(t,e){b.set(t.toLowerCase(),e)});var M={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(f),d:function(t,e){return qt(t.getDate(),e,2)},e:function(t,e){return qt(t.getDate(),e,2)},H:function(t,e){return qt(t.getHours(),e,2)},I:function(t,e){return qt(t.getHours()%12||12,e,2)},j:function(t,e){return qt(1+ps.dayOfYear(t),e,3)},L:function(t,e){return qt(t.getMilliseconds(),e,3)},m:function(t,e){return qt(t.getMonth()+1,e,2)},M:function(t,e){return qt(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return qt(t.getSeconds(),e,2)},U:function(t,e){return qt(ps.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return qt(ps.mondayOfYear(t),e,2)},x:e(h),X:e(d),y:function(t,e){return qt(t.getFullYear()%100,e,2)},Y:function(t,e){return qt(t.getFullYear()%1e4,e,4)},Z:ae,"%":function(){return"%"}},A={a:i,A:r,b:o,B:a,c:s,d:te,e:te,H:ne,I:ne,j:ee,L:oe,m:Qt,M:ie,p:c,S:re,U:Vt,w:Bt,W:Xt,x:u,X:l,y:Kt,Y:Gt,Z:Jt,"%":se};return e}function qt(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function Wt(t){return new RegExp("^(?:"+t.map(ua.requote).join("|")+")","i")}function Yt(t){for(var e=new l,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Bt(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Vt(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Xt(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function Gt(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Kt(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+2));return i?(t.y=Zt(+i[0]),n+i[0].length):-1}function Jt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Zt(t){return t+(t>68?1900:2e3)}function Qt(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function te(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function ee(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function ne(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function ie(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function re(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function oe(t,e,n){ys.lastIndex=0;var i=ys.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function ae(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=_a(e)/60|0,r=_a(e)%60;return n+qt(i,"0",2)+qt(r,"0",2)}function se(t,e,n){bs.lastIndex=0;var i=bs.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function ue(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,i=t[n];!i[1](e);)i=t[++n];return i[0](e)}}function le(){}function ce(t,e,n){var i=n.s=t+e,r=i-t,o=i-r;n.t=t-o+(e-r)}function fe(t,e){t&&ks.hasOwnProperty(t.type)&&ks[t.type](t,e)}function he(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function de(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)he(t[n],e,1);e.polygonEnd()}function pe(){function t(t,e){t*=qa,e=e*qa/2+ja/4;var n=t-i,a=n>=0?1:-1,s=a*n,u=Math.cos(e),l=Math.sin(e),c=o*l,f=r*u+c*Math.cos(s),h=c*a*Math.sin(s);Ss.add(Math.atan2(h,f)),i=t,r=u,o=l}var e,n,i,r,o;Cs.point=function(a,s){Cs.point=t,i=(e=a)*qa,r=Math.cos(s=(n=s)*qa/2+ja/4),o=Math.sin(s)},Cs.lineEnd=function(){t(e,n)}}function ge(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function me(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ve(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ye(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function be(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function _e(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function xe(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function we(t,e){return _a(t[0]-e[0])<Ra&&_a(t[1]-e[1])<Ra}function ke(t,e){t*=qa;var n=Math.cos(e*=qa);Ee(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Ee(t,e,n){++Ts,As+=(t-As)/Ts,$s+=(e-$s)/Ts,Os+=(n-Os)/Ts}function Se(){function t(t,r){t*=qa;var o=Math.cos(r*=qa),a=o*Math.cos(t),s=o*Math.sin(t),u=Math.sin(r),l=Math.atan2(Math.sqrt((l=n*u-i*s)*l+(l=i*a-e*u)*l+(l=e*s-n*a)*l),e*a+n*s+i*u);Ms+=l,Ds+=l*(e+(e=a)),Ns+=l*(n+(n=s)),Is+=l*(i+(i=u)),Ee(e,n,i)}var e,n,i;Fs.point=function(r,o){r*=qa;var a=Math.cos(o*=qa);e=a*Math.cos(r),n=a*Math.sin(r),i=Math.sin(o),Fs.point=t,Ee(e,n,i)}}function Ce(){Fs.point=ke}function Te(){function t(t,e){t*=qa;var n=Math.cos(e*=qa),a=n*Math.cos(t),s=n*Math.sin(t),u=Math.sin(e),l=r*u-o*s,c=o*a-i*u,f=i*s-r*a,h=Math.sqrt(l*l+c*c+f*f),d=i*a+r*s+o*u,p=h&&-tt(d)/h,g=Math.atan2(h,d);Ls+=p*l,Ps+=p*c,Rs+=p*f,Ms+=g,Ds+=g*(i+(i=a)),Ns+=g*(r+(r=s)),Is+=g*(o+(o=u)),Ee(i,r,o)}var e,n,i,r,o;Fs.point=function(a,s){e=a,n=s,Fs.point=t,a*=qa;var u=Math.cos(s*=qa);i=u*Math.cos(a),r=u*Math.sin(a),o=Math.sin(s),Ee(i,r,o)},Fs.lineEnd=function(){t(e,n),Fs.lineEnd=Ce,Fs.point=ke}}function Me(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),n}function Ae(){return!0}function $e(t,e,n,i,r){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(we(n,i)){r.lineStart();for(var s=0;s<e;++s)r.point((n=t[s])[0],n[1]);return void r.lineEnd()}var u=new De(n,t,null,(!0)),l=new De(n,null,u,(!1));u.o=l,o.push(u),a.push(l),u=new De(i,t,null,(!1)),l=new De(i,null,u,(!0)),u.o=l,o.push(u),a.push(l)}}),a.sort(e),Oe(o),Oe(a),o.length){for(var s=0,u=n,l=a.length;s<l;++s)a[s].e=u=!u;for(var c,f,h=o[0];;){for(var d=h,p=!0;d.v;)if((d=d.n)===h)return;c=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(var s=0,l=c.length;s<l;++s)r.point((f=c[s])[0],f[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(p){c=d.p.z;for(var s=c.length-1;s>=0;--s)r.point((f=c[s])[0],f[1])}else i(d.x,d.p.x,-1,r);d=d.p}d=d.o,c=d.z,p=!p}while(!d.v);r.lineEnd()}}}function Oe(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function De(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Ne(t,e,n,i){return function(r,o){function a(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&o.point(e,n)}function s(t,e){var n=r(t,e);m.point(n[0],n[1])}function u(){y.point=s,m.lineStart()}function l(){y.point=a,m.lineEnd()}function c(t,e){g.push([t,e]);var n=r(t,e);_.point(n[0],n[1])}function f(){_.lineStart(),g=[]}function h(){c(g[0][0],g[0][1]),_.lineEnd();var t,e=_.clean(),n=b.buffer(),i=n.length;if(g.pop(),p.push(g),g=null,i)if(1&e){t=n[0];var r,i=t.length-1,a=-1;if(i>0){for(x||(o.polygonStart(),x=!0),o.lineStart();++a<i;)o.point((r=t[a])[0],r[1]);o.lineEnd()}}else i>1&&2&e&&n.push(n.pop().concat(n.shift())),d.push(n.filter(Ie))}var d,p,g,m=e(o),v=r.invert(i[0],i[1]),y={point:a,lineStart:u,lineEnd:l,polygonStart:function(){y.point=c,y.lineStart=f,y.lineEnd=h,d=[],p=[]},polygonEnd:function(){y.point=a,y.lineStart=u,y.lineEnd=l,d=ua.merge(d);var t=Ue(v,p);d.length?(x||(o.polygonStart(),x=!0),$e(d,Pe,t,n,o)):t&&(x||(o.polygonStart(),x=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),x&&(o.polygonEnd(),x=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},b=Le(),_=e(b),x=!1;return y}}function Ie(t){return t.length>1}function Le(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:x,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Pe(t,e){return((t=t.x)[0]<0?t[1]-Ha-Ra:Ha-t[1])-((e=e.x)[0]<0?e[1]-Ha-Ra:Ha-e[1])}function Re(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?ja:-ja,u=_a(o-n);_a(u-ja)<Ra?(t.point(n,i=(i+a)/2>0?Ha:-Ha),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(o,i),e=0):r!==s&&u>=ja&&(_a(n-r)<Ra&&(n-=r*Ra),_a(o-s)<Ra&&(o-=s*Ra),i=Fe(n,i,o,a),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=o,i=a),r=s},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}function Fe(t,e,n,i){var r,o,a=Math.sin(t-n);return _a(a)>Ra?Math.atan((Math.sin(e)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*o*a)):(e+i)/2}function je(t,e,n,i){var r;if(null==t)r=n*Ha,i.point(-ja,r),i.point(0,r),i.point(ja,r),i.point(ja,0),i.point(ja,-r),i.point(0,-r),i.point(-ja,-r),i.point(-ja,0),i.point(-ja,r);else if(_a(t[0]-e[0])>Ra){var o=t[0]<e[0]?ja:-ja;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}function Ue(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Ss.reset();for(var s=0,u=e.length;s<u;++s){var l=e[s],c=l.length;if(c)for(var f=l[0],h=f[0],d=f[1]/2+ja/4,p=Math.sin(d),g=Math.cos(d),m=1;;){m===c&&(m=0),t=l[m];var v=t[0],y=t[1]/2+ja/4,b=Math.sin(y),_=Math.cos(y),x=v-h,w=x>=0?1:-1,k=w*x,E=k>ja,S=p*b;if(Ss.add(Math.atan2(S*w*Math.sin(k),g*_+S*Math.cos(k))),o+=E?x+w*Ua:x,E^h>=n^v>=n){var C=ve(ge(f),ge(t));_e(C);var T=ve(r,C);_e(T);var M=(E^x>=0?-1:1)*et(T[2]);(i>M||i===M&&(C[0]||C[1]))&&(a+=E^x>=0?1:-1)}if(!m++)break;h=v,p=b,g=_,f=t}}return(o<-Ra||o<Ra&&Ss<-Ra)^1&a}function ze(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(f,h){var d,p=[f,h],g=e(f,h),m=a?g?0:r(f,h):g?r(f+(f<0?ja:-ja),h):0;if(!n&&(l=u=g)&&t.lineStart(),g!==u&&(d=i(n,p),(we(n,d)||we(p,d))&&(p[0]+=Ra,p[1]+=Ra,g=e(p[0],p[1]))),g!==u)c=0,g?(t.lineStart(),d=i(p,n),t.point(d[0],d[1])):(d=i(n,p),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(s&&n&&a^g){var v;m&o||!(v=i(p,n,!0))||(c=0,a?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||n&&we(n,p)||t.point(p[0],p[1]),n=p,u=g,o=m},lineEnd:function(){u&&t.lineEnd(),n=null},clean:function(){return c|(l&&u)<<1}}}function i(t,e,n){var i=ge(t),r=ge(e),a=[1,0,0],s=ve(i,r),u=me(s,s),l=s[0],c=u-l*l;if(!c)return!n&&t;var f=o*u/c,h=-o*l/c,d=ve(a,s),p=be(a,f),g=be(s,h);ye(p,g);var m=d,v=me(p,m),y=me(m,m),b=v*v-y*(me(p,p)-1);if(!(b<0)){var _=Math.sqrt(b),x=be(m,(-v-_)/y);if(ye(x,p),x=xe(x),!n)return x;var w,k=t[0],E=e[0],S=t[1],C=e[1];E<k&&(w=k,k=E,E=w);var T=E-k,M=_a(T-ja)<Ra,A=M||T<Ra;if(!M&&C<S&&(w=S,S=C,C=w),A?M?S+C>0^x[1]<(_a(x[0]-k)<Ra?S:C):S<=x[1]&&x[1]<=C:T>ja^(k<=x[0]&&x[0]<=E)){var $=be(m,(-v+_)/y);return ye($,p),[x,xe($)]}}}function r(e,n){var i=a?t:ja-t,r=0;return e<-i?r|=1:e>i&&(r|=2),n<-i?r|=4:n>i&&(r|=8),r}var o=Math.cos(t),a=o>0,s=_a(o)>Ra,u=gn(t,6*qa);return Ne(e,n,u,a?[0,-t]:[-ja,t-ja])}function He(t,e,n,i){return function(r){var o,a=r.a,s=r.b,u=a.x,l=a.y,c=s.x,f=s.y,h=0,d=1,p=c-u,g=f-l;if(o=t-u,p||!(o>0)){if(o/=p,p<0){if(o<h)return;o<d&&(d=o)}else if(p>0){if(o>d)return;o>h&&(h=o)}if(o=n-u,p||!(o<0)){if(o/=p,p<0){if(o>d)return;o>h&&(h=o)}else if(p>0){if(o<h)return;o<d&&(d=o)}if(o=e-l,g||!(o>0)){if(o/=g,g<0){if(o<h)return;o<d&&(d=o)}else if(g>0){if(o>d)return;o>h&&(h=o)}if(o=i-l,g||!(o<0)){if(o/=g,g<0){if(o>d)return;o>h&&(h=o)}else if(g>0){if(o<h)return;o<d&&(d=o)}return h>0&&(r.a={x:u+h*p,y:l+h*g}),d<1&&(r.b={x:u+d*p,y:l+d*g}),r}}}}}}function qe(t,e,n,i){function r(i,r){return _a(i[0]-t)<Ra?r>0?0:3:_a(i[0]-n)<Ra?r>0?2:1:_a(i[1]-e)<Ra?r>0?1:0:r>0?3:2}function o(t,e){return a(t.x,e.x)}function a(t,e){var n=r(t,1),i=r(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t){for(var e=0,n=m.length,i=t[1],r=0;r<n;++r)for(var o,a=1,s=m[r],u=s.length,l=s[0];a<u;++a)o=s[a],l[1]<=i?o[1]>i&&Q(l,o,t)>0&&++e:o[1]<=i&&Q(l,o,t)<0&&--e,l=o;return 0!==e}function l(o,s,u,l){var c=0,f=0;if(null==o||(c=r(o,u))!==(f=r(s,u))||a(o,s)<0^u>0){do l.point(0===c||3===c?t:n,c>1?i:e);while((c=(c+u+4)%4)!==f)}else l.point(s[0],s[1])}function c(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function f(t,e){c(t,e)&&s.point(t,e)}function h(){A.point=p,m&&m.push(v=[]),E=!0,k=!1,x=w=NaN}function d(){g&&(p(y,b),_&&k&&T.rejoin(),g.push(T.buffer())),A.point=f,k&&s.lineEnd()}function p(t,e){t=Math.max(-Us,Math.min(Us,t)),e=Math.max(-Us,Math.min(Us,e));var n=c(t,e);if(m&&v.push([t,e]),E)y=t,b=e,_=n,E=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&k)s.point(t,e);else{var i={a:{x:x,y:w},b:{x:t,y:e}};M(i)?(k||(s.lineStart(),s.point(i.a.x,i.a.y)),s.point(i.b.x,i.b.y),n||s.lineEnd(),S=!1):n&&(s.lineStart(),s.point(t,e),S=!1)}x=t,w=e,k=n}var g,m,v,y,b,_,x,w,k,E,S,C=s,T=Le(),M=He(t,e,n,i),A={point:f,lineStart:h,lineEnd:d,polygonStart:function(){s=T,g=[],m=[],S=!0},polygonEnd:function(){s=C,g=ua.merge(g);var e=u([t,i]),n=S&&e,r=g.length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),r&&$e(g,o,e,l,s),s.polygonEnd()),g=m=v=null}};return A}}function We(t){var e=0,n=ja/3,i=sn(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*ja/180,n=t[1]*ja/180):[e/ja*180,n/ja*180]},r}function Ye(t,e){function n(t,e){var n=Math.sqrt(o-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),a-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,o=1+i*(2*r-i),a=Math.sqrt(o)/r;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,et((o-(t*t+n*n)*r*r)/(2*r))]},n}function Be(){function t(t,e){Hs+=r*t-i*e,i=t,r=e}var e,n,i,r;Vs.point=function(o,a){Vs.point=t,e=i=o,n=r=a},Vs.lineEnd=function(){t(e,n)}}function Ve(t,e){t<qs&&(qs=t),t>Ys&&(Ys=t),e<Ws&&(Ws=e),e>Bs&&(Bs=e)}function Xe(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function i(){s.point=t}function r(){a.push("Z")}var o=Ge(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return o=Ge(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function Ge(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ke(t,e){As+=t,$s+=e,++Os}function Je(){function t(t,i){var r=t-e,o=i-n,a=Math.sqrt(r*r+o*o);Ds+=a*(e+t)/2,Ns+=a*(n+i)/2,Is+=a,Ke(e=t,n=i)}var e,n;Gs.point=function(i,r){Gs.point=t,Ke(e=i,n=r)}}function Ze(){Gs.point=Ke}function Qe(){function t(t,e){var n=t-i,o=e-r,a=Math.sqrt(n*n+o*o);Ds+=a*(i+t)/2,Ns+=a*(r+e)/2,Is+=a,a=r*t-i*e,Ls+=a*(i+t),Ps+=a*(r+e),Rs+=3*a,Ke(i=t,r=e)}var e,n,i,r;Gs.point=function(o,a){Gs.point=t,Ke(e=i=o,n=r=a)},Gs.lineEnd=function(){t(e,n)}}function tn(t){function e(e,n){t.moveTo(e+a,n),t.arc(e,n,a,0,Ua)}function n(e,n){t.moveTo(e,n),s.point=i}function i(e,n){t.lineTo(e,n)}function r(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:r,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(t){return a=t,s},result:x};return s}function en(t){function e(t){return(s?i:n)(t)}function n(e){return on(e,function(n,i){n=t(n,i),e.point(n[0],n[1])})}function i(e){function n(n,i){n=t(n,i),e.point(n[0],n[1])}function i(){b=NaN,E.point=o,e.lineStart()}function o(n,i){var o=ge([n,i]),a=t(n,i);r(b,_,y,x,w,k,b=a[0],_=a[1],y=n,x=o[0],w=o[1],k=o[2],s,e),e.point(b,_)}function a(){E.point=n,e.lineEnd()}function u(){i(),E.point=l,E.lineEnd=c}function l(t,e){o(f=t,h=e),d=b,p=_,g=x,m=w,v=k,E.point=o}function c(){r(b,_,y,x,w,k,d,p,f,g,m,v,s,e),E.lineEnd=a,a()}var f,h,d,p,g,m,v,y,b,_,x,w,k,E={point:n,lineStart:i,lineEnd:a,polygonStart:function(){e.polygonStart(),E.lineStart=u},polygonEnd:function(){e.polygonEnd(),E.lineStart=i}};return E}function r(e,n,i,s,u,l,c,f,h,d,p,g,m,v){var y=c-e,b=f-n,_=y*y+b*b;if(_>4*o&&m--){var x=s+d,w=u+p,k=l+g,E=Math.sqrt(x*x+w*w+k*k),S=Math.asin(k/=E),C=_a(_a(k)-1)<Ra||_a(i-h)<Ra?(i+h)/2:Math.atan2(w,x),T=t(C,S),M=T[0],A=T[1],$=M-e,O=A-n,D=b*$-y*O;(D*D/_>o||_a((y*$+b*O)/_-.5)>.3||s*d+u*p+l*g<a)&&(r(e,n,i,s,u,l,M,A,C,x/=E,w/=E,k,m,v),v.point(M,A),r(M,A,C,x,w,k,c,f,h,d,p,g,m,v))}}var o=.5,a=Math.cos(30*qa),s=16;return e.precision=function(t){return arguments.length?(s=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function nn(t){var e=en(function(e,n){return t([e*Wa,n*Wa])});return function(t){return un(e(t))}}function rn(t){this.stream=t}function on(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function an(t){return sn(function(){
return t})()}function sn(t){function e(t){return t=s(t[0]*qa,t[1]*qa),[t[0]*h+u,l-t[1]*h]}function n(t){return t=s.invert((t[0]-u)/h,(l-t[1])/h),t&&[t[0]*Wa,t[1]*Wa]}function i(){s=Me(a=fn(v,b,_),o);var t=o(g,m);return u=d-t[0]*h,l=p+t[1]*h,r()}function r(){return c&&(c.valid=!1,c=null),e}var o,a,s,u,l,c,f=en(function(t,e){return t=o(t,e),[t[0]*h+u,l-t[1]*h]}),h=150,d=480,p=250,g=0,m=0,v=0,b=0,_=0,x=js,w=y,k=null,E=null;return e.stream=function(t){return c&&(c.valid=!1),c=un(x(a,f(w(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(x=null==t?(k=t,js):ze((k=+t)*qa),r()):k},e.clipExtent=function(t){return arguments.length?(E=t,w=t?qe(t[0][0],t[0][1],t[1][0],t[1][1]):y,r()):E},e.scale=function(t){return arguments.length?(h=+t,i()):h},e.translate=function(t){return arguments.length?(d=+t[0],p=+t[1],i()):[d,p]},e.center=function(t){return arguments.length?(g=t[0]%360*qa,m=t[1]%360*qa,i()):[g*Wa,m*Wa]},e.rotate=function(t){return arguments.length?(v=t[0]%360*qa,b=t[1]%360*qa,_=t.length>2?t[2]%360*qa:0,i()):[v*Wa,b*Wa,_*Wa]},ua.rebind(e,f,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,i()}}function un(t){return on(t,function(e,n){t.point(e*qa,n*qa)})}function ln(t,e){return[t,e]}function cn(t,e){return[t>ja?t-Ua:t<-ja?t+Ua:t,e]}function fn(t,e,n){return t?e||n?Me(dn(t),pn(e,n)):dn(t):e||n?pn(e,n):cn}function hn(t){return function(e,n){return e+=t,[e>ja?e-Ua:e<-ja?e+Ua:e,n]}}function dn(t){var e=hn(t);return e.invert=hn(-t),e}function pn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*i+s*r;return[Math.atan2(u*o-c*a,s*i-l*r),et(c*o+u*a)]}var i=Math.cos(t),r=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*o-u*a;return[Math.atan2(u*o+l*a,s*i+c*r),et(c*i-s*r)]},n}function gn(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,o,a,s){var u=a*e;null!=r?(r=mn(n,r),o=mn(n,o),(a>0?r<o:r>o)&&(r+=a*Ua)):(r=t+a*Ua,o=t-.5*u);for(var l,c=r;a>0?c>o:c<o;c-=u)s.point((l=xe([n,-i*Math.cos(c),-i*Math.sin(c)]))[0],l[1])}}function mn(t,e){var n=ge(e);n[0]-=t,_e(n);var i=tt(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Ra)%(2*Math.PI)}function vn(t,e,n){var i=ua.range(t,e-Ra,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function yn(t,e,n){var i=ua.range(t,e-Ra,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function bn(t){return t.source}function _n(t){return t.target}function xn(t,e,n,i){var r=Math.cos(e),o=Math.sin(e),a=Math.cos(i),s=Math.sin(i),u=r*Math.cos(t),l=r*Math.sin(t),c=a*Math.cos(n),f=a*Math.sin(n),h=2*Math.asin(Math.sqrt(ot(i-e)+r*a*ot(n-t))),d=1/Math.sin(h),p=h?function(t){var e=Math.sin(t*=h)*d,n=Math.sin(h-t)*d,i=n*u+e*c,r=n*l+e*f,a=n*o+e*s;return[Math.atan2(r,i)*Wa,Math.atan2(a,Math.sqrt(i*i+r*r))*Wa]}:function(){return[t*Wa,e*Wa]};return p.distance=h,p}function wn(){function t(t,r){var o=Math.sin(r*=qa),a=Math.cos(r),s=_a((t*=qa)-e),u=Math.cos(s);Ks+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=i*o-n*a*u)*s),n*o+i*a*u),e=t,n=o,i=a}var e,n,i;Js.point=function(r,o){e=r*qa,n=Math.sin(o*=qa),i=Math.cos(o),Js.point=t},Js.lineEnd=function(){Js.point=Js.lineEnd=x}}function kn(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),o=t(i*r);return[o*r*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),o=Math.sin(r),a=Math.cos(r);return[Math.atan2(t*o,i*a),Math.asin(i&&n*o/i)]},n}function En(t,e){function n(t,e){a>0?e<-Ha+Ra&&(e=-Ha+Ra):e>Ha-Ra&&(e=Ha-Ra);var n=a/Math.pow(r(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var i=Math.cos(t),r=function(t){return Math.tan(ja/4+t/2)},o=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),a=i*Math.pow(r(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,i=Z(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/i,1/o))-Ha]},n):Cn}function Sn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(r*t),o-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),o=i/r+t;return _a(r)<Ra?ln:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,o-Z(r)*Math.sqrt(t*t+n*n)]},n)}function Cn(t,e){return[t,Math.log(Math.tan(ja/4+e/2))]}function Tn(t){var e,n=an(t),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=ja*i(),u=r();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function Mn(t,e){return[Math.log(Math.tan(ja/4+e/2)),-t]}function An(t){return t[0]}function $n(t){return t[1]}function On(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;r++){for(;i>1&&Q(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function Dn(t,e){return t[0]-e[0]||t[1]-e[1]}function Nn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function In(t,e,n,i){var r=t[0],o=n[0],a=e[0]-r,s=i[0]-o,u=t[1],l=n[1],c=e[1]-u,f=i[1]-l,h=(s*(u-l)-f*(r-o))/(f*a-s*c);return[r+h*a,u+h*c]}function Ln(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Pn(){ii(this),this.edge=this.site=this.circle=null}function Rn(t){var e=lu.pop()||new Pn;return e.site=t,e}function Fn(t){Xn(t),au.remove(t),lu.push(t),ii(t)}function jn(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},o=t.P,a=t.N,s=[t];Fn(t);for(var u=o;u.circle&&_a(n-u.circle.x)<Ra&&_a(i-u.circle.cy)<Ra;)o=u.P,s.unshift(u),Fn(u),u=o;s.unshift(u),Xn(u);for(var l=a;l.circle&&_a(n-l.circle.x)<Ra&&_a(i-l.circle.cy)<Ra;)a=l.N,s.push(l),Fn(l),l=a;s.push(l),Xn(l);var c,f=s.length;for(c=1;c<f;++c)l=s[c],u=s[c-1],ti(l.edge,u.site,l.site,r);u=s[0],l=s[f-1],l.edge=Zn(u.site,l.site,null,r),Vn(u),Vn(l)}function Un(t){for(var e,n,i,r,o=t.x,a=t.y,s=au._;s;)if(i=zn(s,a)-o,i>Ra)s=s.L;else{if(r=o-Hn(s,a),!(r>Ra)){i>-Ra?(e=s.P,n=s):r>-Ra?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=Rn(t);if(au.insert(e,u),e||n){if(e===n)return Xn(e),n=Rn(e.site),au.insert(u,n),u.edge=n.edge=Zn(e.site,u.site),Vn(e),void Vn(n);if(!n)return void(u.edge=Zn(e.site,u.site));Xn(e),Xn(n);var l=e.site,c=l.x,f=l.y,h=t.x-c,d=t.y-f,p=n.site,g=p.x-c,m=p.y-f,v=2*(h*m-d*g),y=h*h+d*d,b=g*g+m*m,_={x:(m*y-d*b)/v+c,y:(h*b-g*y)/v+f};ti(n.edge,l,p,_),u.edge=Zn(l,t,null,_),n.edge=Zn(t,p,null,_),Vn(e),Vn(n)}}function zn(t,e){var n=t.site,i=n.x,r=n.y,o=r-e;if(!o)return i;var a=t.P;if(!a)return-(1/0);n=a.site;var s=n.x,u=n.y,l=u-e;if(!l)return s;var c=s-i,f=1/o-1/l,h=c/l;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*l)-u+l/2+r-o/2)))/f+i:(i+s)/2}function Hn(t,e){var n=t.N;if(n)return zn(n,e);var i=t.site;return i.y===e?i.x:1/0}function qn(t){this.site=t,this.edges=[]}function Wn(t){for(var e,n,i,r,o,a,s,u,l,c,f=t[0][0],h=t[1][0],d=t[0][1],p=t[1][1],g=ou,m=g.length;m--;)if(o=g[m],o&&o.prepare())for(s=o.edges,u=s.length,a=0;a<u;)c=s[a].end(),i=c.x,r=c.y,l=s[++a%u].start(),e=l.x,n=l.y,(_a(i-e)>Ra||_a(r-n)>Ra)&&(s.splice(a,0,new ei(Qn(o.site,c,_a(i-f)<Ra&&p-r>Ra?{x:f,y:_a(e-f)<Ra?n:p}:_a(r-p)<Ra&&h-i>Ra?{x:_a(n-p)<Ra?e:h,y:p}:_a(i-h)<Ra&&r-d>Ra?{x:h,y:_a(e-h)<Ra?n:d}:_a(r-d)<Ra&&i-f>Ra?{x:_a(n-d)<Ra?e:f,y:d}:null),o.site,null)),++u)}function Yn(t,e){return e.angle-t.angle}function Bn(){ii(this),this.x=this.y=this.arc=this.site=this.cy=null}function Vn(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r.x,s=r.y,u=i.x-a,l=i.y-s,c=o.x-a,f=o.y-s,h=2*(u*f-l*c);if(!(h>=-Fa)){var d=u*u+l*l,p=c*c+f*f,g=(f*d-l*p)/h,m=(u*p-c*d)/h,f=m+s,v=cu.pop()||new Bn;v.arc=t,v.site=r,v.x=g+a,v.y=f+Math.sqrt(g*g+m*m),v.cy=f,t.circle=v;for(var y=null,b=uu._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}uu.insert(y,v),y||(su=v)}}}}function Xn(t){var e=t.circle;e&&(e.P||(su=e.N),uu.remove(e),cu.push(e),ii(e),t.circle=null)}function Gn(t){for(var e,n=ru,i=He(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)e=n[r],(!Kn(e,t)||!i(e)||_a(e.a.x-e.b.x)<Ra&&_a(e.a.y-e.b.y)<Ra)&&(e.a=e.b=null,n.splice(r,1))}function Kn(t,e){var n=t.b;if(n)return!0;var i,r,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],l=e[1][1],c=t.l,f=t.r,h=c.x,d=c.y,p=f.x,g=f.y,m=(h+p)/2,v=(d+g)/2;if(g===d){if(m<a||m>=s)return;if(h>p){if(o){if(o.y>=l)return}else o={x:m,y:u};n={x:m,y:l}}else{if(o){if(o.y<u)return}else o={x:m,y:l};n={x:m,y:u}}}else if(i=(h-p)/(g-d),r=v-i*m,i<-1||i>1)if(h>p){if(o){if(o.y>=l)return}else o={x:(u-r)/i,y:u};n={x:(l-r)/i,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-r)/i,y:l};n={x:(u-r)/i,y:u}}else if(d<g){if(o){if(o.x>=s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}else{if(o){if(o.x<a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}return t.a=o,t.b=n,!0}function Jn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Zn(t,e,n,i){var r=new Jn(t,e);return ru.push(r),n&&ti(r,t,e,n),i&&ti(r,e,t,i),ou[t.i].edges.push(new ei(r,t,e)),ou[e.i].edges.push(new ei(r,e,t)),r}function Qn(t,e,n){var i=new Jn(t,null);return i.a=e,i.b=n,ru.push(i),i}function ti(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function ei(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function ni(){this._=null}function ii(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ri(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function oi(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function ai(t){for(;t.L;)t=t.L;return t}function si(t,e){var n,i,r,o=t.sort(ui).pop();for(ru=[],ou=new Array(t.length),au=new ni,uu=new ni;;)if(r=su,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))o.x===n&&o.y===i||(ou[o.i]=new qn(o),Un(o),n=o.x,i=o.y),o=t.pop();else{if(!r)break;jn(r.arc)}e&&(Gn(e),Wn(e));var a={cells:ou,edges:ru};return au=uu=ru=ou=null,a}function ui(t,e){return e.y-t.y||e.x-t.x}function li(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function ci(t){return t.x}function fi(t){return t.y}function hi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function di(t,e,n,i,r,o){if(!t(e,n,i,r,o)){var a=.5*(n+r),s=.5*(i+o),u=e.nodes;u[0]&&di(t,u[0],n,i,a,s),u[1]&&di(t,u[1],a,i,r,s),u[2]&&di(t,u[2],n,s,a,o),u[3]&&di(t,u[3],a,s,r,o)}}function pi(t,e,n,i,r,o,a){var s,u=1/0;return function l(t,c,f,h,d){if(!(c>o||f>a||h<i||d<r)){if(p=t.point){var p,g=e-t.x,m=n-t.y,v=g*g+m*m;if(v<u){var y=Math.sqrt(u=v);i=e-y,r=n-y,o=e+y,a=n+y,s=p}}for(var b=t.nodes,_=.5*(c+h),x=.5*(f+d),w=e>=_,k=n>=x,E=k<<1|w,S=E+4;E<S;++E)if(t=b[3&E])switch(3&E){case 0:l(t,c,f,_,x);break;case 1:l(t,_,f,h,x);break;case 2:l(t,c,x,_,d);break;case 3:l(t,_,x,h,d)}}}(t,i,r,o,a),s}function gi(t,e){t=ua.rgb(t),e=ua.rgb(e);var n=t.r,i=t.g,r=t.b,o=e.r-n,a=e.g-i,s=e.b-r;return function(t){return"#"+_t(Math.round(n+o*t))+_t(Math.round(i+a*t))+_t(Math.round(r+s*t))}}function mi(t,e){var n,i={},r={};for(n in t)n in e?i[n]=bi(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function vi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function yi(t,e){var n,i,r,o=hu.lastIndex=du.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=hu.exec(t))&&(i=du.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:vi(n,i)})),o=du.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?u[0]?(e=u[0].x,function(t){return e(t)+""}):function(){return e}:(e=u.length,function(t){for(var n,i=0;i<e;++i)s[(n=u[i]).i]=n.x(t);return s.join("")})}function bi(t,e){for(var n,i=ua.interpolators.length;--i>=0&&!(n=ua.interpolators[i](t,e)););return n}function _i(t,e){var n,i=[],r=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)i.push(bi(t[n],e[n]));for(;n<o;++n)r[n]=t[n];for(;n<a;++n)r[n]=e[n];return function(t){for(n=0;n<s;++n)r[n]=i[n](t);return r}}function xi(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function wi(t){return function(e){return 1-t(1-e)}}function ki(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function Ei(t){return t*t}function Si(t){return t*t*t}function Ci(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Ti(t){return function(e){return Math.pow(e,t)}}function Mi(t){return 1-Math.cos(t*Ha)}function Ai(t){return Math.pow(2,10*(t-1))}function $i(t){return 1-Math.sqrt(1-t*t)}function Oi(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Ua*Math.asin(1/t):(t=1,n=e/4),function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*Ua/e)}}function Di(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Ni(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Ii(t,e){t=ua.hcl(t),e=ua.hcl(e);var n=t.h,i=t.c,r=t.l,o=e.h-n,a=e.c-i,s=e.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?e.c:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return ct(n+o*t,i+a*t,r+s*t)+""}}function Li(t,e){t=ua.hsl(t),e=ua.hsl(e);var n=t.h,i=t.s,r=t.l,o=e.h-n,a=e.s-i,s=e.l-r;return isNaN(a)&&(a=0,i=isNaN(i)?e.s:i),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return ut(n+o*t,i+a*t,r+s*t)+""}}function Pi(t,e){t=ua.lab(t),e=ua.lab(e);var n=t.l,i=t.a,r=t.b,o=e.l-n,a=e.a-i,s=e.b-r;return function(t){return ht(n+o*t,i+a*t,r+s*t)+""}}function Ri(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Fi(t){var e=[t.a,t.b],n=[t.c,t.d],i=Ui(e),r=ji(e,n),o=Ui(zi(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Wa,this.translate=[t.e,t.f],this.scale=[i,o],this.skew=o?Math.atan2(r,o)*Wa:0}function ji(t,e){return t[0]*e[0]+t[1]*e[1]}function Ui(t){var e=Math.sqrt(ji(t,t));return e&&(t[0]/=e,t[1]/=e),e}function zi(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Hi(t){return t.length?t.pop()+",":""}function qi(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:vi(t[0],e[0])},{i:r-2,x:vi(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function Wi(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(Hi(n)+"rotate(",null,")")-2,x:vi(t,e)})):e&&n.push(Hi(n)+"rotate("+e+")")}function Yi(t,e,n,i){t!==e?i.push({i:n.push(Hi(n)+"skewX(",null,")")-2,x:vi(t,e)}):e&&n.push(Hi(n)+"skewX("+e+")")}function Bi(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push(Hi(n)+"scale(",null,",",null,")");i.push({i:r-4,x:vi(t[0],e[0])},{i:r-2,x:vi(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Hi(n)+"scale("+e+")")}function Vi(t,e){var n=[],i=[];return t=ua.transform(t),e=ua.transform(e),qi(t.translate,e.translate,n,i),Wi(t.rotate,e.rotate,n,i),Yi(t.skew,e.skew,n,i),Bi(t.scale,e.scale,n,i),t=e=null,function(t){for(var e,r=-1,o=i.length;++r<o;)n[(e=i[r]).i]=e.x(t);return n.join("")}}function Xi(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Gi(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Ki(t){for(var e=t.source,n=t.target,i=Zi(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function Ji(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Zi(t,e){if(t===e)return t;for(var n=Ji(t),i=Ji(e),r=n.pop(),o=i.pop(),a=null;r===o;)a=r,r=n.pop(),o=i.pop();return a}function Qi(t){t.fixed|=2}function tr(t){t.fixed&=-7}function er(t){t.fixed|=4,t.px=t.x,t.py=t.y}function nr(t){t.fixed&=-5}function ir(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,u=-1;++u<s;)o=a[u],null!=o&&(ir(o,e,n),t.charge+=o.charge,i+=o.charge*o.cx,r+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=e*n[t.point.index];t.charge+=t.pointCharge=l,i+=l*t.point.x,r+=l*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function rr(t,e){return ua.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=cr,t}function or(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function ar(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(o=t.children)&&(r=o.length))for(var r,o,a=-1;++a<r;)n.push(o[a]);for(;null!=(t=i.pop());)e(t)}function sr(t){return t.children}function ur(t){return t.value}function lr(t,e){return e.value-t.value}function cr(t){return ua.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function fr(t){return t.x}function hr(t){return t.y}function dr(t,e,n){t.y0=e,t.y=n}function pr(t){return ua.range(t.length)}function gr(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function mr(t){for(var e,n=1,i=0,r=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function vr(t){return t.reduce(yr,0)}function yr(t,e){return t+e[1]}function br(t,e){return _r(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function _r(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,o=[];++n<=e;)o[n]=r*n+i;return o}function xr(t){return[ua.min(t),ua.max(t)]}function wr(t,e){return t.value-e.value}function kr(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Er(t,e){t._pack_next=e,e._pack_prev=t}function Sr(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return.999*r*r>n*n+i*i}function Cr(t){function e(t){c=Math.min(t.x-t.r,c),f=Math.max(t.x+t.r,f),h=Math.min(t.y-t.r,h),d=Math.max(t.y+t.r,d)}if((n=t.children)&&(l=n.length)){var n,i,r,o,a,s,u,l,c=1/0,f=-(1/0),h=1/0,d=-(1/0);if(n.forEach(Tr),i=n[0],i.x=-i.r,i.y=0,e(i),l>1&&(r=n[1],r.x=r.r,r.y=0,e(r),l>2))for(o=n[2],$r(i,r,o),e(o),kr(i,o),i._pack_prev=o,kr(o,r),r=i._pack_next,a=3;a<l;a++){$r(i,r,o=n[a]);var p=0,g=1,m=1;for(s=r._pack_next;s!==r;s=s._pack_next,g++)if(Sr(s,o)){p=1;break}if(1==p)for(u=i._pack_prev;u!==s._pack_prev&&!Sr(u,o);u=u._pack_prev,m++);p?(g<m||g==m&&r.r<i.r?Er(i,r=s):Er(i=u,r),a--):(kr(i,o),r=o,e(o))}var v=(c+f)/2,y=(h+d)/2,b=0;for(a=0;a<l;a++)o=n[a],o.x-=v,o.y-=y,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=b,n.forEach(Mr)}}function Tr(t){t._pack_next=t._pack_prev=t}function Mr(t){delete t._pack_next,delete t._pack_prev}function Ar(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var o=-1,a=r.length;++o<a;)Ar(r[o],e,n,i)}function $r(t,e,n){var i=t.r+n.r,r=e.x-t.x,o=e.y-t.y;if(i&&(r||o)){var a=e.r+n.r,s=r*r+o*o;a*=a,i*=i;var u=.5+(i-a)/(2*s),l=Math.sqrt(Math.max(0,2*a*(i+s)-(i-=s)*i-a*a))/(2*s);n.x=t.x+u*r+l*o,n.y=t.y+u*o-l*r}else n.x=t.x+i,n.y=t.y}function Or(t,e){return t.parent==e.parent?1:2}function Dr(t){var e=t.children;return e.length?e[0]:t.t}function Nr(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Ir(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Lr(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)e=r[o],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}function Pr(t,e,n){return t.a.parent===e.parent?t.a:n}function Rr(t){return 1+ua.max(t,function(t){return t.y})}function Fr(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function jr(t){var e=t.children;return e&&e.length?jr(e[0]):t}function Ur(t){var e,n=t.children;return n&&(e=n.length)?Ur(n[e-1]):t}function zr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Hr(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return r<0&&(n+=r/2,r=0),o<0&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function qr(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Wr(t){return t.rangeExtent?t.rangeExtent():qr(t.range())}function Yr(t,e,n,i){var r=n(t[0],t[1]),o=i(e[0],e[1]);return function(t){return o(r(t))}}function Br(t,e){var n,i=0,r=t.length-1,o=t[i],a=t[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),t[i]=e.floor(o),t[r]=e.ceil(a),t}function Vr(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Eu}function Xr(t,e,n,i){var r=[],o=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)r.push(n(t[a-1],t[a])),o.push(i(e[a-1],e[a]));return function(e){var n=ua.bisect(t,e,1,s)-1;return o[n](r[n](e))}}function Gr(t,e,n,i){function r(){var r=Math.min(t.length,e.length)>2?Xr:Yr,u=i?Gi:Xi;return a=r(t,e,u,n),s=r(e,t,u,bi),o}function o(t){return a(t)}var a,s;return o.invert=function(t){return s(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),r()):t},o.range=function(t){return arguments.length?(e=t,r()):e},o.rangeRound=function(t){return o.range(t).interpolate(Ri)},o.clamp=function(t){return arguments.length?(i=t,r()):i},o.interpolate=function(t){return arguments.length?(n=t,r()):n},o.ticks=function(e){return Qr(t,e)},o.tickFormat=function(e,n){return to(t,e,n)},o.nice=function(e){return Jr(t,e),r()},o.copy=function(){return Gr(t,e,n,i)},r()}function Kr(t,e){return ua.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Jr(t,e){return Br(t,Vr(Zr(t,e)[2])),Br(t,Vr(Zr(t,e)[2])),t}function Zr(t,e){null==e&&(e=10);var n=qr(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),o=e/i*r;return o<=.15?r*=10:o<=.35?r*=5:o<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function Qr(t,e){return ua.range.apply(ua,Zr(t,e))}function to(t,e,n){var i=Zr(t,e);if(n){var r=hs.exec(n);if(r.shift(),"s"===r[8]){var o=ua.formatPrefix(Math.max(_a(i[0]),_a(i[1])));return r[7]||(r[7]="."+eo(o.scale(i[2]))),r[8]="f",n=ua.format(r.join("")),function(t){return n(o.scale(t))+o.symbol}}r[7]||(r[7]="."+no(r[8],i)),n=r.join("")}else n=",."+eo(i[2])+"f";return ua.format(n)}function eo(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function no(t,e){var n=eo(e[2]);return t in Su?Math.abs(n-eo(Math.max(_a(e[0]),_a(e[1]))))+ +("e"!==t):n-2*("%"===t)}function io(t,e,n,i){function r(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(r(e))}return a.invert=function(e){return o(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((i=e.map(Number)).map(r)),a):i},a.base=function(n){return arguments.length?(e=+n,t.domain(i.map(r)),a):e},a.nice=function(){var e=Br(i.map(r),n?Math:Tu);return t.domain(e),i=e.map(o),a},a.ticks=function(){var t=qr(i),a=[],s=t[0],u=t[1],l=Math.floor(r(s)),c=Math.ceil(r(u)),f=e%1?2:e;if(isFinite(c-l)){if(n){for(;l<c;l++)for(var h=1;h<f;h++)a.push(o(l)*h);a.push(o(l))}else for(a.push(o(l));l++<c;)for(var h=f-1;h>0;h--)a.push(o(l)*h);for(l=0;a[l]<s;l++);for(c=a.length;a[c-1]>u;c--);a=a.slice(l,c)}return a},a.tickFormat=function(t,n){if(!arguments.length)return Cu;arguments.length<2?n=Cu:"function"!=typeof n&&(n=ua.format(n));var i=Math.max(1,e*t/a.ticks().length);return function(t){var a=t/o(Math.round(r(t)));return a*e<e-.5&&(a*=e),a<=i?n(t):""}},a.copy=function(){return io(t.copy(),e,n,i)},Kr(a,t)}function ro(t,e,n){function i(e){return t(r(e))}var r=oo(e),o=oo(1/e);return i.invert=function(e){return o(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),i):n},i.ticks=function(t){return Qr(n,t)},i.tickFormat=function(t,e){return to(n,t,e)},i.nice=function(t){return i.domain(Jr(n,t))},i.exponent=function(a){return arguments.length?(r=oo(e=a),o=oo(1/e),t.domain(n.map(r)),i):e},i.copy=function(){return ro(t.copy(),e,n)},Kr(i,t)}function oo(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ao(t,e){function n(n){return o[((r.get(n)||("range"===e.t?r.set(n,t.push(n)):NaN))-1)%o.length]}function i(e,n){return ua.range(t.length).map(function(t){return e+n*t})}var r,o,a;return n.domain=function(i){if(!arguments.length)return t;t=[],r=new l;for(var o,a=-1,s=i.length;++a<s;)r.has(o=i[a])||r.set(o,t.push(o));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(o=t,a=0,e={t:"range",a:arguments},n):o},n.rangePoints=function(r,s){arguments.length<2&&(s=0);var u=r[0],l=r[1],c=t.length<2?(u=(u+l)/2,0):(l-u)/(t.length-1+s);return o=i(u+c*s/2,c),a=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(r,s){arguments.length<2&&(s=0);var u=r[0],l=r[1],c=t.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(t.length-1+s)|0;return o=i(u+Math.round(c*s/2+(l-u-(t.length-1+s)*c)/2),c),a=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(r,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=r[1]<r[0],c=r[l-0],f=r[1-l],h=(f-c)/(t.length-s+2*u);return o=i(c+h*u,h),l&&o.reverse(),a=h*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=r[1]<r[0],c=r[l-0],f=r[1-l],h=Math.floor((f-c)/(t.length-s+2*u));return o=i(c+Math.round((f-c-(t.length-s)*h)/2),h),l&&o.reverse(),a=Math.round(h*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return qr(e.a[0])},n.copy=function(){return ao(t,e)},n.domain(t)}function so(t,e){function o(){var n=0,i=e.length;for(s=[];++n<i;)s[n-1]=ua.quantile(t,n/i);return a}function a(t){if(!isNaN(t=+t))return e[ua.bisect(s,t)]}var s;return a.domain=function(e){return arguments.length?(t=e.map(i).filter(r).sort(n),o()):t},a.range=function(t){return arguments.length?(e=t,o()):e},a.quantiles=function(){return s},a.invertExtent=function(n){return n=e.indexOf(n),n<0?[NaN,NaN]:[n>0?s[n-1]:t[0],n<s.length?s[n]:t[t.length-1]]},a.copy=function(){return so(t,e)},o()}function uo(t,e,n){function i(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]}function r(){return o=n.length/(e-t),a=n.length-1,i}var o,a;return i.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],r()):[t,e]},i.range=function(t){return arguments.length?(n=t,r()):n},i.invertExtent=function(e){return e=n.indexOf(e),e=e<0?NaN:e/o+t,[e,e+1/o]},i.copy=function(){return uo(t,e,n)},r()}function lo(t,e){function n(n){if(n<=n)return e[ua.bisect(t,n)]}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return lo(t,e)},n}function co(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Qr(t,e)},e.tickFormat=function(e,n){return to(t,e,n)},e.copy=function(){return co(t)},e}function fo(){return 0}function ho(t){return t.innerRadius}function po(t){return t.outerRadius}function go(t){return t.startAngle}function mo(t){return t.endAngle}function vo(t){return t&&t.padAngle}function yo(t,e,n,i){return(t-n)*e-(e-i)*t>0?0:1}function bo(t,e,n,i,r){var o=t[0]-e[0],a=t[1]-e[1],s=(r?i:-i)/Math.sqrt(o*o+a*a),u=s*a,l=-s*o,c=t[0]+u,f=t[1]+l,h=e[0]+u,d=e[1]+l,p=(c+h)/2,g=(f+d)/2,m=h-c,v=d-f,y=m*m+v*v,b=n-i,_=c*d-h*f,x=(v<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-_*_)),w=(_*v-m*x)/y,k=(-_*m-v*x)/y,E=(_*v+m*x)/y,S=(-_*m+v*x)/y,C=w-p,T=k-g,M=E-p,A=S-g;return C*C+T*T>M*M+A*A&&(w=E,k=S),[[w-u,k-l],[w*n/b,k*n/b]]}function _o(t){function e(e){function a(){l.push("M",o(t(c),s))}for(var u,l=[],c=[],f=-1,h=e.length,d=Ct(n),p=Ct(i);++f<h;)r.call(this,u=e[f],f)?c.push([+d.call(this,u,f),+p.call(this,u,f)]):c.length&&(a(),c=[]);return c.length&&a(),l.length?l.join(""):null}var n=An,i=$n,r=Ae,o=xo,a=o.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=Nu.get(t)||xo).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function xo(t){return t.length>1?t.join("L"):t+"Z"}function wo(t){return t.join("L")+"Z"}function ko(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return n>1&&r.push("H",i[0]),r.join("")}function Eo(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function So(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function Co(t,e){return t.length<4?xo(t):t[1]+Ao(t.slice(1,-1),$o(t,e))}function To(t,e){return t.length<3?wo(t):t[0]+Ao((t.push(t[0]),t),$o([t[t.length-2]].concat(t,[t[1]]),e))}function Mo(t,e){return t.length<3?xo(t):t[0]+Ao(t,$o(t,e))}function Ao(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return xo(t);var n=t.length!=e.length,i="",r=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(i+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],r=t[1],u=2),e.length>1){s=e[1],o=t[u],u++,i+="C"+(r[0]+a[0])+","+(r[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,u++)o=t[u],s=e[l],i+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[u];i+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return i}function $o(t,e){for(var n,i=[],r=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],i.push([r*(a[0]-n[0]),r*(a[1]-n[1])]);return i}function Oo(t){if(t.length<3)return xo(t);var e=1,n=t.length,i=t[0],r=i[0],o=i[1],a=[r,r,r,(i=t[1])[0]],s=[o,o,o,i[1]],u=[r,",",o,"L",Lo(Pu,a),",",Lo(Pu,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),Po(u,a,s);return t.pop(),u.push("L",i),u.join("")}function Do(t){if(t.length<4)return xo(t);for(var e,n=[],i=-1,r=t.length,o=[0],a=[0];++i<3;)e=t[i],o.push(e[0]),a.push(e[1]);for(n.push(Lo(Pu,o)+","+Lo(Pu,a)),--i;++i<r;)e=t[i],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Po(n,o,a);return n.join("")}function No(t){for(var e,n,i=-1,r=t.length,o=r+4,a=[],s=[];++i<4;)n=t[i%r],a.push(n[0]),s.push(n[1]);for(e=[Lo(Pu,a),",",Lo(Pu,s)],--i;++i<o;)n=t[i%r],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Po(e,a,s);return e.join("")}function Io(t,e){var n=t.length-1;if(n)for(var i,r,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,l=-1;++l<=n;)i=t[l],r=l/n,i[0]=e*i[0]+(1-e)*(o+r*s),i[1]=e*i[1]+(1-e)*(a+r*u);return Oo(t)}function Lo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Po(t,e,n){t.push("C",Lo(Iu,e),",",Lo(Iu,n),",",Lo(Lu,e),",",Lo(Lu,n),",",Lo(Pu,e),",",Lo(Pu,n))}function Ro(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Fo(t){for(var e=0,n=t.length-1,i=[],r=t[0],o=t[1],a=i[0]=Ro(r,o);++e<n;)i[e]=(a+(a=Ro(r=o,o=t[e+1])))/2;return i[e]=a,i}function jo(t){for(var e,n,i,r,o=[],a=Fo(t),s=-1,u=t.length-1;++s<u;)e=Ro(t[s],t[s+1]),_a(e)<Ra?a[s]=a[s+1]=0:(n=a[s]/e,i=a[s+1]/e,r=n*n+i*i,r>9&&(r=3*e/Math.sqrt(r),a[s]=r*n,a[s+1]=r*i));for(s=-1;++s<=u;)r=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([r||0,a[s]*r||0]);return o}function Uo(t){return t.length<3?xo(t):t[0]+Ao(t,jo(t))}function zo(t){for(var e,n,i,r=-1,o=t.length;++r<o;)e=t[r],n=e[0],i=e[1]-Ha,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Ho(t){function e(e){function u(){g.push("M",s(t(v),f),c,l(t(m.reverse()),f),"Z")}for(var h,d,p,g=[],m=[],v=[],y=-1,b=e.length,_=Ct(n),x=Ct(r),w=n===i?function(){return d}:Ct(i),k=r===o?function(){return p}:Ct(o);++y<b;)a.call(this,h=e[y],y)?(m.push([d=+_.call(this,h,y),p=+x.call(this,h,y)]),v.push([+w.call(this,h,y),+k.call(this,h,y)])):m.length&&(u(),m=[],v=[]);return m.length&&u(),g.length?g.join(""):null}var n=An,i=An,r=0,o=$n,a=Ae,s=xo,u=s.key,l=s,c="L",f=.7;return e.x=function(t){return arguments.length?(n=i=t,e):i},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(r=o=t,e):o},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(u="function"==typeof t?s=t:(s=Nu.get(t)||xo).key,l=s.reverse||s,c=s.closed?"M":"L",e):u},e.tension=function(t){return arguments.length?(f=t,e):f},e}function qo(t){return t.radius}function Wo(t){return[t.x,t.y]}function Yo(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]-Ha;return[n*Math.cos(i),n*Math.sin(i)]}}function Bo(){return 64}function Vo(){return"circle"}function Xo(t){var e=Math.sqrt(t/ja);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z";
}function Go(t){return function(){var e,n,i;(e=this[t])&&(i=e[n=e.active])&&(i.timer.c=null,i.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,i.event&&i.event.interrupt.call(this,this.__data__,i.index))}}function Ko(t,e,n){return Sa(t,qu),t.namespace=e,t.id=n,t}function Jo(t,e,n,i){var r=t.id,o=t.namespace;return q(t,"function"==typeof n?function(t,a,s){t[o][r].tween.set(e,i(n.call(t,t.__data__,a,s)))}:(n=i(n),function(t){t[o][r].tween.set(e,n)}))}function Zo(t){return null==t&&(t=""),function(){this.textContent=t}}function Qo(t){return null==t?"__transition__":"__transition_"+t+"__"}function ta(t,e,n,i,r){function o(t){var e=g.delay;return c.t=e+u,e<=t?a(t-e):void(c.c=a)}function a(n){var r=p.active,o=p[r];o&&(o.timer.c=null,o.timer.t=NaN,--p.count,delete p[r],o.event&&o.event.interrupt.call(t,t.__data__,o.index));for(var a in p)if(+a<i){var l=p[a];l.timer.c=null,l.timer.t=NaN,--p.count,delete p[a]}c.c=s,Ot(function(){return c.c&&s(n||1)&&(c.c=null,c.t=NaN),1},0,u),p.active=i,g.event&&g.event.start.call(t,t.__data__,e),d=[],g.tween.forEach(function(n,i){(i=i.call(t,t.__data__,e))&&d.push(i)}),h=g.ease,f=g.duration}function s(r){for(var o=r/f,a=h(o),s=d.length;s>0;)d[--s].call(t,a);if(o>=1)return g.event&&g.event.end.call(t,t.__data__,e),--p.count?delete p[i]:delete t[n],1}var u,c,f,h,d,p=t[n]||(t[n]={active:0,count:0}),g=p[i];g||(u=r.time,c=Ot(o,0,u),g=p[i]={tween:new l,time:u,timer:c,delay:r.delay,duration:r.duration,ease:r.ease,index:e},r=null,++p.count)}function ea(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate("+(isFinite(i)?i:n(t))+",0)"})}function na(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate(0,"+(isFinite(i)?i:n(t))+")"})}function ia(t){return t.toISOString()}function ra(t,e,n){function i(e){return t(e)}function r(t,n){var i=t[1]-t[0],r=i/n,o=ua.bisect(Zu,r);return o==Zu.length?[e.year,Zr(t.map(function(t){return t/31536e6}),n)[2]]:o?e[r/Zu[o-1]<Zu[o]/r?o-1:o]:[el,Zr(t,n)[2]]}return i.invert=function(e){return oa(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(oa)},i.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,oa(+n+1),e).length}var o=i.domain(),a=qr(o),s=null==t?r(a,10):"number"==typeof t&&r(a,t);return s&&(t=s[0],e=s[1]),i.domain(Br(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=oa(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=oa(+e+1);return e}}:t))},i.ticks=function(t,e){var n=qr(i.domain()),o=null==t?r(n,10):"number"==typeof t?r(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],oa(+n[1]+1),e<1?1:e)},i.tickFormat=function(){return n},i.copy=function(){return ra(t.copy(),e,n)},Kr(i,t)}function oa(t){return new Date(t)}function aa(t){return JSON.parse(t.responseText)}function sa(t){var e=fa.createRange();return e.selectNode(fa.body),e.createContextualFragment(t.responseText)}var ua={version:"3.5.17"},la=[].slice,ca=function(t){return la.call(t)},fa=this.document;if(fa)try{ca(fa.documentElement.childNodes)[0].nodeType}catch(ha){ca=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),fa)try{fa.createElement("DIV").style.setProperty("opacity",0,"")}catch(da){var pa=this.Element.prototype,ga=pa.setAttribute,ma=pa.setAttributeNS,va=this.CSSStyleDeclaration.prototype,ya=va.setProperty;pa.setAttribute=function(t,e){ga.call(this,t,e+"")},pa.setAttributeNS=function(t,e,n){ma.call(this,t,e,n+"")},va.setProperty=function(t,e,n){ya.call(this,t,e+"",n)}}ua.ascending=n,ua.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},ua.min=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},ua.max=function(t,e){var n,i,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<o;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},ua.extent=function(t,e){var n,i,r,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(i=t[o])&&i>=i){n=r=i;break}for(;++o<a;)null!=(i=t[o])&&(n>i&&(n=i),r<i&&(r=i))}else{for(;++o<a;)if(null!=(i=e.call(t,t[o],o))&&i>=i){n=r=i;break}for(;++o<a;)null!=(i=e.call(t,t[o],o))&&(n>i&&(n=i),r<i&&(r=i))}return[n,r]},ua.sum=function(t,e){var n,i=0,o=t.length,a=-1;if(1===arguments.length)for(;++a<o;)r(n=+t[a])&&(i+=n);else for(;++a<o;)r(n=+e.call(t,t[a],a))&&(i+=n);return i},ua.mean=function(t,e){var n,o=0,a=t.length,s=-1,u=a;if(1===arguments.length)for(;++s<a;)r(n=i(t[s]))?o+=n:--u;else for(;++s<a;)r(n=i(e.call(t,t[s],s)))?o+=n:--u;if(u)return o/u},ua.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],o=n-i;return o?r+o*(t[i]-r):r},ua.median=function(t,e){var o,a=[],s=t.length,u=-1;if(1===arguments.length)for(;++u<s;)r(o=i(t[u]))&&a.push(o);else for(;++u<s;)r(o=i(e.call(t,t[u],u)))&&a.push(o);if(a.length)return ua.quantile(a.sort(n),.5)},ua.variance=function(t,e){var n,o,a=t.length,s=0,u=0,l=-1,c=0;if(1===arguments.length)for(;++l<a;)r(n=i(t[l]))&&(o=n-s,s+=o/++c,u+=o*(n-s));else for(;++l<a;)r(n=i(e.call(t,t[l],l)))&&(o=n-s,s+=o/++c,u+=o*(n-s));if(c>1)return u/(c-1)},ua.deviation=function(){var t=ua.variance.apply(this,arguments);return t?Math.sqrt(t):t};var ba=o(n);ua.bisectLeft=ba.left,ua.bisect=ua.bisectRight=ba.right,ua.bisector=function(t){return o(1===t.length?function(e,i){return n(t(e),i)}:t)},ua.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var i,r,o=n-e;o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},ua.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},ua.pairs=function(t){for(var e,n=0,i=t.length-1,r=t[0],o=new Array(i<0?0:i);n<i;)o[n]=[e=r,r=t[++n]];return o},ua.transpose=function(t){if(!(r=t.length))return[];for(var e=-1,n=ua.min(t,a),i=new Array(n);++e<n;)for(var r,o=-1,s=i[e]=new Array(r);++o<r;)s[o]=t[o][e];return i},ua.zip=function(){return ua.transpose(arguments)},ua.keys=function(t){var e=[];for(var n in t)e.push(n);return e},ua.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ua.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ua.merge=function(t){for(var e,n,i,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(n=new Array(a);--r>=0;)for(i=t[r],e=i.length;--e>=0;)n[--a]=i[e];return n};var _a=Math.abs;ua.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var i,r=[],o=s(_a(n)),a=-1;if(t*=o,e*=o,n*=o,n<0)for(;(i=t+n*++a)>e;)r.push(i/o);else for(;(i=t+n*++a)<e;)r.push(i/o);return r},ua.map=function(t,e){var n=new l;if(t instanceof l)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(1===arguments.length)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e.call(t,i=t[r],r),i)}else for(var a in t)n.set(a,t[a]);return n};var xa="__proto__",wa="\0";u(l,{has:h,get:function(t){return this._[c(t)]},set:function(t,e){return this._[c(t)]=e},remove:d,keys:p,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:f(e),value:this._[e]});return t},size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,f(e),this._[e])}}),ua.nest=function(){function t(e,a,s){if(s>=o.length)return i?i.call(r,a):n?a.sort(n):a;for(var u,c,f,h,d=-1,p=a.length,g=o[s++],m=new l;++d<p;)(h=m.get(u=g(c=a[d])))?h.push(c):m.set(u,[c]);return e?(c=e(),f=function(n,i){c.set(n,t(e,i,s))}):(c={},f=function(n,i){c[n]=t(e,i,s)}),m.forEach(f),c}function e(t,n){if(n>=o.length)return t;var i=[],r=a[n++];return t.forEach(function(t,r){i.push({key:t,values:e(r,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var n,i,r={},o=[],a=[];return r.map=function(e,n){return t(n,e,0)},r.entries=function(n){return e(t(ua.map,n,0),0)},r.key=function(t){return o.push(t),r},r.sortKeys=function(t){return a[o.length-1]=t,r},r.sortValues=function(t){return n=t,r},r.rollup=function(t){return i=t,r},r},ua.set=function(t){var e=new v;if(t)for(var n=0,i=t.length;n<i;++n)e.add(t[n]);return e},u(v,{has:h,add:function(t){return this._[c(t+="")]=!0,t},remove:d,values:p,size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,f(e))}}),ua.behavior={},ua.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=b(t,e,e[n]);return t};var ka=["webkit","ms","moz","Moz","o","O"];ua.dispatch=function(){for(var t=new w,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=k(t);return t},w.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},ua.event=null,ua.requote=function(t){return t.replace(Ea,"\\$&")};var Ea=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Sa={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Ca=function(t,e){return e.querySelector(t)},Ta=function(t,e){return e.querySelectorAll(t)},Ma=function(t,e){var n=t.matches||t[_(t,"matchesSelector")];return(Ma=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Ca=function(t,e){return Sizzle(t,e)[0]||null},Ta=Sizzle,Ma=Sizzle.matchesSelector),ua.selection=function(){return ua.select(fa.documentElement)};var Aa=ua.selection.prototype=[];Aa.select=function(t){var e,n,i,r,o=[];t=M(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(i=this[a]).parentNode;for(var u=-1,l=i.length;++u<l;)(r=i[u])?(e.push(n=t.call(r,r.__data__,u,a)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return T(o)},Aa.selectAll=function(t){var e,n,i=[];t=A(t);for(var r=-1,o=this.length;++r<o;)for(var a=this[r],s=-1,u=a.length;++s<u;)(n=a[s])&&(i.push(e=ca(t.call(n,n.__data__,s,r))),e.parentNode=n);return T(i)};var $a="http://www.w3.org/1999/xhtml",Oa={svg:"http://www.w3.org/2000/svg",xhtml:$a,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ua.ns={prefix:Oa,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Oa.hasOwnProperty(n)?{space:Oa[n],local:t}:t}},Aa.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=ua.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each($(e,t[e]));return this}return this.each($(t,e))},Aa.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=N(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!D(t[r]).test(e))return!1;return!0}for(e in t)this.each(I(e,t[e]));return this}return this.each(I(t,e))},Aa.style=function(t,n,i){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(n="");for(i in t)this.each(P(i,t[i],n));return this}if(r<2){var o=this.node();return e(o).getComputedStyle(o,null).getPropertyValue(t)}i=""}return this.each(P(t,n,i))},Aa.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(R(e,t[e]));return this}return this.each(R(t,e))},Aa.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Aa.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Aa.append=function(t){return t=F(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Aa.insert=function(t,e){return t=F(t),e=M(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Aa.remove=function(){return this.each(j)},Aa.data=function(t,e){function n(t,n){var i,r,o,a=t.length,f=n.length,h=Math.min(a,f),d=new Array(f),p=new Array(f),g=new Array(a);if(e){var m,v=new l,y=new Array(a);for(i=-1;++i<a;)(r=t[i])&&(v.has(m=e.call(r,r.__data__,i))?g[i]=r:v.set(m,r),y[i]=m);for(i=-1;++i<f;)(r=v.get(m=e.call(n,o=n[i],i)))?r!==!0&&(d[i]=r,r.__data__=o):p[i]=U(o),v.set(m,!0);for(i=-1;++i<a;)i in y&&v.get(y[i])!==!0&&(g[i]=t[i])}else{for(i=-1;++i<h;)r=t[i],o=n[i],r?(r.__data__=o,d[i]=r):p[i]=U(o);for(;i<f;++i)p[i]=U(n[i]);for(;i<a;++i)g[i]=t[i]}p.update=d,p.parentNode=d.parentNode=g.parentNode=t.parentNode,s.push(p),u.push(d),c.push(g)}var i,r,o=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(i=this[0]).length);++o<a;)(r=i[o])&&(t[o]=r.__data__);return t}var s=W([]),u=T([]),c=T([]);if("function"==typeof t)for(;++o<a;)n(i=this[o],t.call(i,i.parentNode.__data__,o));else for(;++o<a;)n(i=this[o],t);return u.enter=function(){return s},u.exit=function(){return c},u},Aa.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Aa.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=z(t));for(var o=0,a=this.length;o<a;o++){r.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;s<u;s++)(i=n[s])&&t.call(i,i.__data__,s,o)&&e.push(i)}return T(r)},Aa.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,o=i[r];--r>=0;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Aa.sort=function(t){t=H.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Aa.each=function(t){return q(this,function(e,n,i){t.call(e,e.__data__,n,i)})},Aa.call=function(t){var e=ca(arguments);return t.apply(e[0]=this,e),this},Aa.empty=function(){return!this.node()},Aa.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],i=0,r=n.length;i<r;i++){var o=n[i];if(o)return o}return null},Aa.size=function(){var t=0;return q(this,function(){++t}),t};var Da=[];ua.selection.enter=W,ua.selection.enter.prototype=Da,Da.append=Aa.append,Da.empty=Aa.empty,Da.node=Aa.node,Da.call=Aa.call,Da.size=Aa.size,Da.select=function(t){for(var e,n,i,r,o,a=[],s=-1,u=this.length;++s<u;){i=(r=this[s]).update,a.push(e=[]),e.parentNode=r.parentNode;for(var l=-1,c=r.length;++l<c;)(o=r[l])?(e.push(i[l]=n=t.call(r.parentNode,o.__data__,l,s)),n.__data__=o.__data__):e.push(null)}return T(a)},Da.insert=function(t,e){return arguments.length<2&&(e=Y(this)),Aa.insert.call(this,t,e)},ua.select=function(e){var n;return"string"==typeof e?(n=[Ca(e,fa)],n.parentNode=fa.documentElement):(n=[e],n.parentNode=t(e)),T([n])},ua.selectAll=function(t){var e;return"string"==typeof t?(e=ca(Ta(t,fa)),e.parentNode=fa.documentElement):(e=ca(t),e.parentNode=null),T([e])},Aa.on=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){i<2&&(e=!1);for(n in t)this.each(B(n,t[n],e));return this}if(i<2)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(B(t,e,n))};var Na=ua.map({mouseenter:"mouseover",mouseleave:"mouseout"});fa&&Na.forEach(function(t){"on"+t in fa&&Na.remove(t)});var Ia,La=0;ua.mouse=function(t){return K(t,S())};var Pa=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ua.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=S().changedTouches),e)for(var i,r=0,o=e.length;r<o;++r)if((i=e[r]).identifier===n)return K(t,i)},ua.behavior.drag=function(){function t(){this.on("mousedown.drag",o).on("touchstart.drag",a)}function n(t,e,n,o,a){return function(){function s(){var t,n,i=e(h,g);i&&(t=i[0]-b[0],n=i[1]-b[1],p|=t|n,b=i,d({type:"drag",x:i[0]+l[0],y:i[1]+l[1],dx:t,dy:n}))}function u(){e(h,g)&&(v.on(o+m,null).on(a+m,null),y(p),d({type:"dragend"}))}var l,c=this,f=ua.event.target.correspondingElement||ua.event.target,h=c.parentNode,d=i.of(c,arguments),p=0,g=t(),m=".drag"+(null==g?"":"-"+g),v=ua.select(n(f)).on(o+m,s).on(a+m,u),y=G(f),b=e(h,g);r?(l=r.apply(c,arguments),l=[l.x-b[0],l.y-b[1]]):l=[0,0],d({type:"dragstart"})}}var i=C(t,"drag","dragstart","dragend"),r=null,o=n(x,ua.mouse,e,"mousemove","mouseup"),a=n(J,ua.touch,y,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},ua.rebind(t,i,"on")},ua.touches=function(t,e){return arguments.length<2&&(e=S().touches),e?ca(e).map(function(e){var n=K(t,e);return n.identifier=e.identifier,n}):[]};var Ra=1e-6,Fa=Ra*Ra,ja=Math.PI,Ua=2*ja,za=Ua-Ra,Ha=ja/2,qa=ja/180,Wa=180/ja,Ya=Math.SQRT2,Ba=2,Va=4;ua.interpolateZoom=function(t,e){var n,i,r=t[0],o=t[1],a=t[2],s=e[0],u=e[1],l=e[2],c=s-r,f=u-o,h=c*c+f*f;if(h<Fa)i=Math.log(l/a)/Ya,n=function(t){return[r+t*c,o+t*f,a*Math.exp(Ya*t*i)]};else{var d=Math.sqrt(h),p=(l*l-a*a+Va*h)/(2*a*Ba*d),g=(l*l-a*a-Va*h)/(2*l*Ba*d),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);i=(v-m)/Ya,n=function(t){var e=t*i,n=it(m),s=a/(Ba*d)*(n*rt(Ya*e+m)-nt(m));return[r+s*c,o+s*f,a*n/it(Ya*e+m)]}}return n.duration=1e3*i,n},ua.behavior.zoom=function(){function t(t){t.on(O,f).on(Ga+".zoom",d).on("dblclick.zoom",p).on(I,h)}function n(t){return[(t[0]-S.x)/S.k,(t[1]-S.y)/S.k]}function i(t){return[t[0]*S.k+S.x,t[1]*S.k+S.y]}function r(t){S.k=Math.max(M[0],Math.min(M[1],t))}function o(t,e){e=i(e),S.x+=t[0]-e[0],S.y+=t[1]-e[1]}function a(e,n,i,a){e.__chart__={x:S.x,y:S.y,k:S.k},r(Math.pow(2,a)),o(m=n,i),e=ua.select(e),A>0&&(e=e.transition().duration(A)),e.call(t.event)}function s(){x&&x.domain(_.range().map(function(t){return(t-S.x)/S.k}).map(_.invert)),k&&k.domain(w.range().map(function(t){return(t-S.y)/S.k}).map(w.invert))}function u(t){$++||t({type:"zoomstart"})}function l(t){s(),t({type:"zoom",scale:S.k,translate:[S.x,S.y]})}function c(t){--$||(t({type:"zoomend"}),m=null)}function f(){function t(){s=1,o(ua.mouse(r),h),l(a)}function i(){f.on(D,null).on(N,null),d(s),c(a)}var r=this,a=L.of(r,arguments),s=0,f=ua.select(e(r)).on(D,t).on(N,i),h=n(ua.mouse(r)),d=G(r);Hu.call(r),u(a)}function h(){function t(){var t=ua.touches(p);return d=S.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=n(t))}),t}function e(){var e=ua.event.target;ua.select(e).on(_,i).on(x,s),w.push(e);for(var n=ua.event.changedTouches,r=0,o=n.length;r<o;++r)m[n[r].identifier]=null;var u=t(),l=Date.now();if(1===u.length){if(l-b<500){var c=u[0];a(p,c,m[c.identifier],Math.floor(Math.log(S.k)/Math.LN2)+1),E()}b=l}else if(u.length>1){var c=u[0],f=u[1],h=c[0]-f[0],d=c[1]-f[1];v=h*h+d*d}}function i(){var t,e,n,i,a=ua.touches(p);Hu.call(p);for(var s=0,u=a.length;s<u;++s,i=null)if(n=a[s],i=m[n.identifier]){if(e)break;t=n,e=i}if(i){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,f=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+i[0])/2,(e[1]+i[1])/2],r(f*d)}b=null,o(t,e),l(g)}function s(){if(ua.event.touches.length){for(var e=ua.event.changedTouches,n=0,i=e.length;n<i;++n)delete m[e[n].identifier];for(var r in m)return void t()}ua.selectAll(w).on(y,null),k.on(O,f).on(I,h),C(),c(g)}var d,p=this,g=L.of(p,arguments),m={},v=0,y=".zoom-"+ua.event.changedTouches[0].identifier,_="touchmove"+y,x="touchend"+y,w=[],k=ua.select(p),C=G(p);e(),u(g),k.on(O,null).on(I,e)}function d(){var t=L.of(this,arguments);y?clearTimeout(y):(Hu.call(this),g=n(m=v||ua.mouse(this)),u(t)),y=setTimeout(function(){y=null,c(t)},50),E(),r(Math.pow(2,.002*Xa())*S.k),o(m,g),l(t)}function p(){var t=ua.mouse(this),e=Math.log(S.k)/Math.LN2;a(this,t,n(t),ua.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var g,m,v,y,b,_,x,w,k,S={x:0,y:0,k:1},T=[960,500],M=Ka,A=250,$=0,O="mousedown.zoom",D="mousemove.zoom",N="mouseup.zoom",I="touchstart.zoom",L=C(t,"zoomstart","zoom","zoomend");return Ga||(Ga="onwheel"in fa?(Xa=function(){return-ua.event.deltaY*(ua.event.deltaMode?120:1)},"wheel"):"onmousewheel"in fa?(Xa=function(){return ua.event.wheelDelta},"mousewheel"):(Xa=function(){return-ua.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=L.of(this,arguments),e=S;Uu?ua.select(this).transition().each("start.zoom",function(){S=this.__chart__||{x:0,y:0,k:1},u(t)}).tween("zoom:zoom",function(){var n=T[0],i=T[1],r=m?m[0]:n/2,o=m?m[1]:i/2,a=ua.interpolateZoom([(r-S.x)/S.k,(o-S.y)/S.k,n/S.k],[(r-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var i=a(e),s=n/i[2];this.__chart__=S={x:r-i[0]*s,y:o-i[1]*s,k:s},l(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=S,u(t),l(t),c(t))})},t.translate=function(e){return arguments.length?(S={x:+e[0],y:+e[1],k:S.k},s(),t):[S.x,S.y]},t.scale=function(e){return arguments.length?(S={x:S.x,y:S.y,k:null},r(+e),s(),t):S.k},t.scaleExtent=function(e){return arguments.length?(M=null==e?Ka:[+e[0],+e[1]],t):M},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(T=e&&[+e[0],+e[1]],t):T},t.duration=function(e){return arguments.length?(A=+e,t):A},t.x=function(e){return arguments.length?(x=e,_=e.copy(),S={x:0,y:0,k:1},t):x},t.y=function(e){return arguments.length?(k=e,w=e.copy(),S={x:0,y:0,k:1},t):k},ua.rebind(t,L,"on")};var Xa,Ga,Ka=[0,1/0];ua.color=at,at.prototype.toString=function(){return this.rgb()+""},ua.hsl=st;var Ja=st.prototype=new at;Ja.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,this.l/t)},Ja.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,t*this.l)},Ja.rgb=function(){return ut(this.h,this.s,this.l)},ua.hcl=lt;var Za=lt.prototype=new at;Za.brighter=function(t){return new lt(this.h,this.c,Math.min(100,this.l+Qa*(arguments.length?t:1)))},Za.darker=function(t){return new lt(this.h,this.c,Math.max(0,this.l-Qa*(arguments.length?t:1)))},Za.rgb=function(){return ct(this.h,this.c,this.l).rgb()},ua.lab=ft;var Qa=18,ts=.95047,es=1,ns=1.08883,is=ft.prototype=new at;is.brighter=function(t){return new ft(Math.min(100,this.l+Qa*(arguments.length?t:1)),this.a,this.b)},is.darker=function(t){return new ft(Math.max(0,this.l-Qa*(arguments.length?t:1)),this.a,this.b)},is.rgb=function(){return ht(this.l,this.a,this.b)},ua.rgb=vt;var rs=vt.prototype=new at;rs.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&e<r&&(e=r),n&&n<r&&(n=r),i&&i<r&&(i=r),new vt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new vt(r,r,r)},rs.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new vt(t*this.r,t*this.g,t*this.b)},rs.hsl=function(){return wt(this.r,this.g,this.b)},rs.toString=function(){return"#"+_t(this.r)+_t(this.g)+_t(this.b)};var os=ua.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});os.forEach(function(t,e){os.set(t,yt(e))}),ua.functor=Ct,ua.xhr=Tt(y),ua.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=Mt(t,e,null==n?i:r(n),o);return a.row=function(t){return arguments.length?a.response(null==(n=t)?i:r(t)):n},a}function i(t){return n.parse(t.responseText)}function r(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return n.parse=function(t,e){var i;return n.parseRows(t,function(t,n){if(i)return i(t,n-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=e?function(t,n){return e(r(t),n)}:r})},n.parseRows=function(t,e){function n(){if(c>=l)return a;if(r)return r=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var i=t.charCodeAt(n+1);return 13===i?(r=!0,10===t.charCodeAt(n+2)&&++c):10===i&&(r=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c<l;){var i=t.charCodeAt(c++),s=1;if(10===i)r=!0;else if(13===i)r=!0,10===t.charCodeAt(c)&&(++c,++s);else if(i!==u)continue;return t.slice(e,c-s)}return t.slice(e)}for(var i,r,o={},a={},s=[],l=t.length,c=0,f=0;(i=n())!==a;){for(var h=[];i!==o&&i!==a;)h.push(i),i=n();e&&null==(h=e(h,f++))||s.push(h)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new v,r=[];return e.forEach(function(t){for(var e in t)i.has(e)||r.push(i.add(e))}),[r.map(a).join(t)].concat(e.map(function(e){return r.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},ua.csv=ua.dsv(",","text/csv"),ua.tsv=ua.dsv("\t","text/tab-separated-values");var as,ss,us,ls,cs=this[_(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};ua.timer=function(){Ot.apply(this,arguments)},ua.timer.flush=function(){Nt(),It()},ua.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var fs=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Pt);ua.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=ua.round(t,Lt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),fs[8+n/3]};var hs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ds=ua.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=ua.round(t,Lt(t,e))).toFixed(Math.max(0,Math.min(20,Lt(t*(1+1e-15),e))))}}),ps=ua.time={},gs=Date;jt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ms.setUTCDate.apply(this._,arguments)},setDay:function(){ms.setUTCDay.apply(this._,arguments)},setFullYear:function(){ms.setUTCFullYear.apply(this._,arguments)},setHours:function(){ms.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ms.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ms.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ms.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ms.setUTCSeconds.apply(this._,arguments)},setTime:function(){ms.setTime.apply(this._,arguments)}};var ms=Date.prototype;ps.year=Ut(function(t){return t=ps.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ps.years=ps.year.range,ps.years.utc=ps.year.utc.range,ps.day=Ut(function(t){var e=new gs(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ps.days=ps.day.range,ps.days.utc=ps.day.utc.range,ps.dayOfYear=function(t){var e=ps.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=ps[t]=Ut(function(t){return(t=ps.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=ps.year(t).getDay();return Math.floor((ps.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});ps[t+"s"]=n.range,ps[t+"s"].utc=n.utc.range,ps[t+"OfYear"]=function(t){var n=ps.year(t).getDay();return Math.floor((ps.dayOfYear(t)+(n+e)%7)/7)}}),ps.week=ps.sunday,ps.weeks=ps.sunday.range,ps.weeks.utc=ps.sunday.utc.range,ps.weekOfYear=ps.sundayOfYear;var vs={"-":"",_:" ",0:"0"},ys=/^\s*\d+/,bs=/^%/;ua.locale=function(t){return{numberFormat:Rt(t),timeFormat:Ht(t)}};var _s=ua.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ua.format=_s.numberFormat,ua.geo={},le.prototype={s:0,t:0,add:function(t){ce(t,this.t,xs),ce(xs.s,this.s,this),this.s?this.t+=xs.t:this.s=xs.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var xs=new le;ua.geo.stream=function(t,e){t&&ws.hasOwnProperty(t.type)?ws[t.type](t,e):fe(t,e)};var ws={Feature:function(t,e){fe(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)fe(n[i].geometry,e)}},ks={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){he(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)he(n[i],e,0)},Polygon:function(t,e){de(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)de(n[i],e);
},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)fe(n[i],e)}};ua.geo.area=function(t){return Es=0,ua.geo.stream(t,Cs),Es};var Es,Ss=new le,Cs={sphere:function(){Es+=4*ja},point:x,lineStart:x,lineEnd:x,polygonStart:function(){Ss.reset(),Cs.lineStart=pe},polygonEnd:function(){var t=2*Ss;Es+=t<0?4*ja+t:t,Cs.lineStart=Cs.lineEnd=Cs.point=x}};ua.geo.bounds=function(){function t(t,e){b.push(_=[c=t,h=t]),e<f&&(f=e),e>d&&(d=e)}function e(e,n){var i=ge([e*qa,n*qa]);if(v){var r=ve(v,i),o=[r[1],-r[0],0],a=ve(o,r);_e(a),a=xe(a);var u=e-p,l=u>0?1:-1,g=a[0]*Wa*l,m=_a(u)>180;if(m^(l*p<g&&g<l*e)){var y=a[1]*Wa;y>d&&(d=y)}else if(g=(g+360)%360-180,m^(l*p<g&&g<l*e)){var y=-a[1]*Wa;y<f&&(f=y)}else n<f&&(f=n),n>d&&(d=n);m?e<p?s(c,e)>s(c,h)&&(h=e):s(e,h)>s(c,h)&&(c=e):h>=c?(e<c&&(c=e),e>h&&(h=e)):e>p?s(c,e)>s(c,h)&&(h=e):s(e,h)>s(c,h)&&(c=e)}else t(e,n);v=i,p=e}function n(){x.point=e}function i(){_[0]=c,_[1]=h,x.point=t,v=null}function r(t,n){if(v){var i=t-p;y+=_a(i)>180?i+(i>0?360:-360):i}else g=t,m=n;Cs.point(t,n),e(t,n)}function o(){Cs.lineStart()}function a(){r(g,m),Cs.lineEnd(),_a(y)>Ra&&(c=-(h=180)),_[0]=c,_[1]=h,v=null}function s(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function l(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,f,h,d,p,g,m,v,y,b,_,x={point:t,lineStart:n,lineEnd:i,polygonStart:function(){x.point=r,x.lineStart=o,x.lineEnd=a,y=0,Cs.polygonStart()},polygonEnd:function(){Cs.polygonEnd(),x.point=t,x.lineStart=n,x.lineEnd=i,Ss<0?(c=-(h=180),f=-(d=90)):y>Ra?d=90:y<-Ra&&(f=-90),_[0]=c,_[1]=h}};return function(t){d=h=-(c=f=1/0),b=[],ua.geo.stream(t,x);var e=b.length;if(e){b.sort(u);for(var n,i=1,r=b[0],o=[r];i<e;++i)n=b[i],l(n[0],r)||l(n[1],r)?(s(r[0],n[1])>s(r[0],r[1])&&(r[1]=n[1]),s(n[0],r[1])>s(r[0],r[1])&&(r[0]=n[0])):o.push(r=n);for(var a,n,p=-(1/0),e=o.length-1,i=0,r=o[e];i<=e;r=n,++i)n=o[i],(a=s(r[1],n[0]))>p&&(p=a,c=n[0],h=r[1])}return b=_=null,c===1/0||f===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,f],[h,d]]}}(),ua.geo.centroid=function(t){Ts=Ms=As=$s=Os=Ds=Ns=Is=Ls=Ps=Rs=0,ua.geo.stream(t,Fs);var e=Ls,n=Ps,i=Rs,r=e*e+n*n+i*i;return r<Fa&&(e=Ds,n=Ns,i=Is,Ms<Ra&&(e=As,n=$s,i=Os),r=e*e+n*n+i*i,r<Fa)?[NaN,NaN]:[Math.atan2(n,e)*Wa,et(i/Math.sqrt(r))*Wa]};var Ts,Ms,As,$s,Os,Ds,Ns,Is,Ls,Ps,Rs,Fs={sphere:x,point:ke,lineStart:Se,lineEnd:Ce,polygonStart:function(){Fs.lineStart=Te},polygonEnd:function(){Fs.lineStart=Se}},js=Ne(Ae,Re,je,[-ja,-ja/2]),Us=1e9;ua.geo.clipExtent=function(){var t,e,n,i,r,o,a={stream:function(t){return r&&(r.valid=!1),r=o(t),r.valid=!0,r},extent:function(s){return arguments.length?(o=qe(t=+s[0][0],e=+s[0][1],n=+s[1][0],i=+s[1][1]),r&&(r.valid=!1,r=null),a):[[t,e],[n,i]]}};return a.extent([[0,0],[960,500]])},(ua.geo.conicEqualArea=function(){return We(Ye)}).raw=Ye,ua.geo.albers=function(){return ua.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ua.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(i(o,a),e)||r(o,a),e}var e,n,i,r,o=ua.geo.albers(),a=ua.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=ua.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?a:r>=.166&&r<.234&&i>=-.214&&i<-.115?s:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=a.stream(t),i=s.stream(t);return{point:function(t,r){e.point(t,r),n.point(t,r),i.point(t,r)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var l=o.scale(),c=+e[0],f=+e[1];return n=o.translate(e).clipExtent([[c-.455*l,f-.238*l],[c+.455*l,f+.238*l]]).stream(u).point,i=a.translate([c-.307*l,f+.201*l]).clipExtent([[c-.425*l+Ra,f+.12*l+Ra],[c-.214*l-Ra,f+.234*l-Ra]]).stream(u).point,r=s.translate([c-.205*l,f+.212*l]).clipExtent([[c-.214*l+Ra,f+.166*l+Ra],[c-.115*l-Ra,f+.234*l-Ra]]).stream(u).point,t},t.scale(1070)};var zs,Hs,qs,Ws,Ys,Bs,Vs={point:x,lineStart:x,lineEnd:x,polygonStart:function(){Hs=0,Vs.lineStart=Be},polygonEnd:function(){Vs.lineStart=Vs.lineEnd=Vs.point=x,zs+=_a(Hs/2)}},Xs={point:Ve,lineStart:x,lineEnd:x,polygonStart:x,polygonEnd:x},Gs={point:Ke,lineStart:Je,lineEnd:Ze,polygonStart:function(){Gs.lineStart=Qe},polygonEnd:function(){Gs.point=Ke,Gs.lineStart=Je,Gs.lineEnd=Ze}};ua.geo.path=function(){function t(t){return t&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=r(o)),ua.geo.stream(t,a)),o.result()}function e(){return a=null,t}var n,i,r,o,a,s=4.5;return t.area=function(t){return zs=0,ua.geo.stream(t,r(Vs)),zs},t.centroid=function(t){return As=$s=Os=Ds=Ns=Is=Ls=Ps=Rs=0,ua.geo.stream(t,r(Gs)),Rs?[Ls/Rs,Ps/Rs]:Is?[Ds/Is,Ns/Is]:Os?[As/Os,$s/Os]:[NaN,NaN]},t.bounds=function(t){return Ys=Bs=-(qs=Ws=1/0),ua.geo.stream(t,r(Xs)),[[qs,Ws],[Ys,Bs]]},t.projection=function(t){return arguments.length?(r=(n=t)?t.stream||nn(t):y,e()):n},t.context=function(t){return arguments.length?(o=null==(i=t)?new Xe:new tn(t),"function"!=typeof s&&o.pointRadius(s),e()):i},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(o.pointRadius(+e),+e),t):s},t.projection(ua.geo.albersUsa()).context(null)},ua.geo.transform=function(t){return{stream:function(e){var n=new rn(e);for(var i in t)n[i]=t[i];return n}}},rn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ua.geo.projection=an,ua.geo.projectionMutator=sn,(ua.geo.equirectangular=function(){return an(ln)}).raw=ln.invert=ln,ua.geo.rotation=function(t){function e(e){return e=t(e[0]*qa,e[1]*qa),e[0]*=Wa,e[1]*=Wa,e}return t=fn(t[0]%360*qa,t[1]*qa,t.length>2?t[2]*qa:0),e.invert=function(e){return e=t.invert(e[0]*qa,e[1]*qa),e[0]*=Wa,e[1]*=Wa,e},e},cn.invert=ln,ua.geo.circle=function(){function t(){var t="function"==typeof i?i.apply(this,arguments):i,e=fn(-t[0]*qa,-t[1]*qa,0).invert,r=[];return n(null,null,1,{point:function(t,n){r.push(t=e(t,n)),t[0]*=Wa,t[1]*=Wa}}),{type:"Polygon",coordinates:[r]}}var e,n,i=[0,0],r=6;return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(i){return arguments.length?(n=gn((e=+i)*qa,r*qa),t):e},t.precision=function(i){return arguments.length?(n=gn(e*qa,(r=+i)*qa),t):r},t.angle(90)},ua.geo.distance=function(t,e){var n,i=(e[0]-t[0])*qa,r=t[1]*qa,o=e[1]*qa,a=Math.sin(i),s=Math.cos(i),u=Math.sin(r),l=Math.cos(r),c=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((n=f*a)*n+(n=l*c-u*f*s)*n),u*c+l*f*s)},ua.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return ua.range(Math.ceil(o/m)*m,r,m).map(h).concat(ua.range(Math.ceil(l/v)*v,u,v).map(d)).concat(ua.range(Math.ceil(i/p)*p,n,p).filter(function(t){return _a(t%m)>Ra}).map(c)).concat(ua.range(Math.ceil(s/g)*g,a,g).filter(function(t){return _a(t%v)>Ra}).map(f))}var n,i,r,o,a,s,u,l,c,f,h,d,p=10,g=p,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(d(u).slice(1),h(r).reverse().slice(1),d(l).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],r=+e[1][0],l=+e[0][1],u=+e[1][1],o>r&&(e=o,o=r,r=e),l>u&&(e=l,l=u,u=e),t.precision(y)):[[o,l],[r,u]]},t.minorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],i>n&&(e=i,i=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(y)):[[i,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(y=+e,c=vn(s,a,90),f=yn(i,n,y),h=vn(l,u,90),d=yn(o,r,y),t):y},t.majorExtent([[-180,-90+Ra],[180,90-Ra]]).minorExtent([[-180,-80-Ra],[180,80+Ra]])},ua.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}var e,n,i=bn,r=_n;return t.distance=function(){return ua.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.target=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},ua.geo.interpolate=function(t,e){return xn(t[0]*qa,t[1]*qa,e[0]*qa,e[1]*qa)},ua.geo.length=function(t){return Ks=0,ua.geo.stream(t,Js),Ks};var Ks,Js={sphere:x,point:x,lineStart:wn,lineEnd:x,polygonStart:x,polygonEnd:x},Zs=kn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ua.geo.azimuthalEqualArea=function(){return an(Zs)}).raw=Zs;var Qs=kn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},y);(ua.geo.azimuthalEquidistant=function(){return an(Qs)}).raw=Qs,(ua.geo.conicConformal=function(){return We(En)}).raw=En,(ua.geo.conicEquidistant=function(){return We(Sn)}).raw=Sn;var tu=kn(function(t){return 1/t},Math.atan);(ua.geo.gnomonic=function(){return an(tu)}).raw=tu,Cn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ha]},(ua.geo.mercator=function(){return Tn(Cn)}).raw=Cn;var eu=kn(function(){return 1},Math.asin);(ua.geo.orthographic=function(){return an(eu)}).raw=eu;var nu=kn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ua.geo.stereographic=function(){return an(nu)}).raw=nu,Mn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ha]},(ua.geo.transverseMercator=function(){var t=Tn(Mn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=Mn,ua.geom={},ua.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r=Ct(n),o=Ct(i),a=t.length,s=[],u=[];for(e=0;e<a;e++)s.push([+r.call(this,t[e],e),+o.call(this,t[e],e),e]);for(s.sort(Dn),e=0;e<a;e++)u.push([s[e][0],-s[e][1]]);var l=On(s),c=On(u),f=c[0]===l[0],h=c[c.length-1]===l[l.length-1],d=[];for(e=l.length-1;e>=0;--e)d.push(t[s[l[e]][2]]);for(e=+f;e<c.length-h;++e)d.push(t[s[c[e]][2]]);return d}var n=An,i=$n;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e)},ua.geom.polygon=function(t){return Sa(t,iu),t};var iu=ua.geom.polygon.prototype=[];iu.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},iu.centroid=function(t){var e,n,i=-1,r=this.length,o=0,a=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},iu.clip=function(t){for(var e,n,i,r,o,a,s=Ln(t),u=-1,l=this.length-Ln(this),c=this[l-1];++u<l;){for(e=t.slice(),t.length=0,r=this[u],o=e[(i=e.length-s)-1],n=-1;++n<i;)a=e[n],Nn(a,c,r)?(Nn(o,c,r)||t.push(In(o,a,c,r)),t.push(a)):Nn(o,c,r)&&t.push(In(o,a,c,r)),o=a;s&&t.push(t[0]),c=r}return t};var ru,ou,au,su,uu,lu=[],cu=[];qn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Yn),e.length},ei.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ni.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ai(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(ri(this,n),t=n,n=t.U),n.C=!1,i.C=!0,oi(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(oi(this,n),t=n,n=t.U),n.C=!1,i.C=!0,ri(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?ai(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=a,a.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,ri(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,oi(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,ri(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,oi(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ri(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,oi(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},ua.geom.voronoi=function(t){function e(t){var e=new Array(t.length),i=s[0][0],r=s[0][1],o=s[1][0],a=s[1][1];return si(n(t),s).cells.forEach(function(n,s){var u=n.edges,l=n.site,c=e[s]=u.length?u.map(function(t){var e=t.start();return[e.x,e.y]}):l.x>=i&&l.x<=o&&l.y>=r&&l.y<=a?[[i,a],[o,a],[o,r],[i,r]]:[];c.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Ra)*Ra,y:Math.round(a(t,e)/Ra)*Ra,i:e}})}var i=An,r=$n,o=i,a=r,s=fu;return t?e(t):(e.links=function(t){return si(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return si(n(t)).cells.forEach(function(n,i){for(var r,o,a=n.site,s=n.edges.sort(Yn),u=-1,l=s.length,c=s[l-1].edge,f=c.l===a?c.r:c.l;++u<l;)r=c,o=f,c=s[u].edge,f=c.l===a?c.r:c.l,i<o.i&&i<f.i&&li(a,o,f)<0&&e.push([t[i],t[o.i],t[f.i]])}),e},e.x=function(t){return arguments.length?(o=Ct(i=t),e):i},e.y=function(t){return arguments.length?(a=Ct(r=t),e):r},e.clipExtent=function(t){return arguments.length?(s=null==t?fu:t,e):s===fu?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===fu?null:s&&s[1]},e)};var fu=[[-1e6,-1e6],[1e6,1e6]];ua.geom.delaunay=function(t){return ua.geom.voronoi().triangles(t)},ua.geom.quadtree=function(t,e,n,i,r){function o(t){function o(t,e,n,i,r,o,a,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var u=t.x,c=t.y;if(null!=u)if(_a(u-n)+_a(c-i)<.01)l(t,e,n,i,r,o,a,s);else{var f=t.point;t.x=t.y=t.point=null,l(t,f,u,c,r,o,a,s),l(t,e,n,i,r,o,a,s)}else t.x=n,t.y=i,t.point=e}else l(t,e,n,i,r,o,a,s)}function l(t,e,n,i,r,a,s,u){var l=.5*(r+s),c=.5*(a+u),f=n>=l,h=i>=c,d=h<<1|f;t.leaf=!1,t=t.nodes[d]||(t.nodes[d]=hi()),f?r=l:s=l,h?a=c:u=c,o(t,e,n,i,r,a,s,u)}var c,f,h,d,p,g,m,v,y,b=Ct(s),_=Ct(u);if(null!=e)g=e,m=n,v=i,y=r;else if(v=y=-(g=m=1/0),f=[],h=[],p=t.length,a)for(d=0;d<p;++d)c=t[d],c.x<g&&(g=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),f.push(c.x),h.push(c.y);else for(d=0;d<p;++d){var x=+b(c=t[d],d),w=+_(c,d);x<g&&(g=x),w<m&&(m=w),x>v&&(v=x),w>y&&(y=w),f.push(x),h.push(w)}var k=v-g,E=y-m;k>E?y=m+k:v=g+E;var S=hi();if(S.add=function(t){o(S,t,+b(t,++d),+_(t,d),g,m,v,y)},S.visit=function(t){di(t,S,g,m,v,y)},S.find=function(t){return pi(S,t[0],t[1],g,m,v,y)},d=-1,null==e){for(;++d<p;)o(S,t[d],f[d],h[d],g,m,v,y);--d}else t.forEach(S.add);return f=h=t=c=null,S}var a,s=An,u=$n;return(a=arguments.length)?(s=ci,u=fi,3===a&&(r=n,i=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(s=t,o):s},o.y=function(t){return arguments.length?(u=t,o):u},o.extent=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),o):null==e?null:[[e,n],[i,r]]},o.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),o):null==e?null:[i-e,r-n]},o)},ua.interpolateRgb=gi,ua.interpolateObject=mi,ua.interpolateNumber=vi,ua.interpolateString=yi;var hu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,du=new RegExp(hu.source,"g");ua.interpolate=bi,ua.interpolators=[function(t,e){var n=typeof e;return("string"===n?os.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?gi:yi:e instanceof at?gi:Array.isArray(e)?_i:"object"===n&&isNaN(e)?mi:vi)(t,e)}],ua.interpolateArray=_i;var pu=function(){return y},gu=ua.map({linear:pu,poly:Ti,quad:function(){return Ei},cubic:function(){return Si},sin:function(){return Mi},exp:function(){return Ai},circle:function(){return $i},elastic:Oi,back:Di,bounce:function(){return Ni}}),mu=ua.map({"in":y,out:wi,"in-out":ki,"out-in":function(t){return ki(wi(t))}});ua.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,i=e>=0?t.slice(e+1):"in";return n=gu.get(n)||pu,i=mu.get(i)||y,xi(i(n.apply(null,la.call(arguments,1))))},ua.interpolateHcl=Ii,ua.interpolateHsl=Li,ua.interpolateLab=Pi,ua.interpolateRound=Ri,ua.transform=function(t){var e=fa.createElementNS(ua.ns.prefix.svg,"g");return(ua.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Fi(n?n.matrix:vu)})(t)},Fi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var vu={a:1,b:0,c:0,d:1,e:0,f:0};ua.interpolateTransform=Vi,ua.layout={},ua.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(Ki(t[n]));return e}},ua.layout.chord=function(){function t(){var t,l,f,h,d,p={},g=[],m=ua.range(o),v=[];for(n=[],i=[],t=0,h=-1;++h<o;){for(l=0,d=-1;++d<o;)l+=r[h][d];g.push(l),v.push(ua.range(o)),t+=l}for(a&&m.sort(function(t,e){return a(g[t],g[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(r[e][t],r[e][n])})}),t=(Ua-c*o)/t,l=0,h=-1;++h<o;){for(f=l,d=-1;++d<o;){var y=m[h],b=v[y][d],_=r[y][b],x=l,w=l+=_*t;p[y+"-"+b]={index:y,subindex:b,startAngle:x,endAngle:w,value:_}}i[y]={index:y,startAngle:f,endAngle:l,value:g[y]},l+=c}for(h=-1;++h<o;)for(d=h-1;++d<o;){var k=p[h+"-"+d],E=p[d+"-"+h];(k.value||E.value)&&n.push(k.value<E.value?{source:E,target:k}:{source:k,target:E})}u&&e()}function e(){n.sort(function(t,e){return u((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,i,r,o,a,s,u,l={},c=0;return l.matrix=function(t){return arguments.length?(o=(r=t)&&r.length,n=i=null,l):r},l.padding=function(t){return arguments.length?(c=t,n=i=null,l):c},l.sortGroups=function(t){return arguments.length?(a=t,n=i=null,l):a},l.sortSubgroups=function(t){return arguments.length?(s=t,n=null,l):s},l.sortChords=function(t){return arguments.length?(u=t,n&&e(),l):u},l.chords=function(){return n||t(),n},l.groups=function(){return i||t(),i},l},ua.layout.force=function(){function t(t){return function(e,n,i,r){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=r-n,u=o*o+a*a;if(s*s/v<u){if(u<g){var l=e.charge/u;t.px-=o*l,t.py-=a*l}return!0}if(e.point&&u&&u<g){var l=e.pointCharge/u;t.px-=o*l,t.py-=a*l}}return!e.charge}}function e(t){t.px=ua.event.x,t.py=ua.event.y,u.resume()}var n,i,r,o,a,s,u={},l=ua.dispatch("start","tick","end"),c=[1,1],f=.9,h=yu,d=bu,p=-30,g=_u,m=.1,v=.64,b=[],_=[];return u.tick=function(){if((r*=.99)<.005)return n=null,l.end({type:"end",alpha:r=0}),!0;var e,i,u,h,d,g,v,y,x,w=b.length,k=_.length;for(i=0;i<k;++i)u=_[i],h=u.source,d=u.target,y=d.x-h.x,x=d.y-h.y,(g=y*y+x*x)&&(g=r*a[i]*((g=Math.sqrt(g))-o[i])/g,y*=g,x*=g,d.x-=y*(v=h.weight+d.weight?h.weight/(h.weight+d.weight):.5),d.y-=x*v,h.x+=y*(v=1-v),h.y+=x*v);if((v=r*m)&&(y=c[0]/2,x=c[1]/2,i=-1,v))for(;++i<w;)u=b[i],u.x+=(y-u.x)*v,u.y+=(x-u.y)*v;if(p)for(ir(e=ua.geom.quadtree(b),r,s),i=-1;++i<w;)(u=b[i]).fixed||e.visit(t(u));for(i=-1;++i<w;)u=b[i],u.fixed?(u.x=u.px,u.y=u.py):(u.x-=(u.px-(u.px=u.x))*f,u.y-=(u.py-(u.py=u.y))*f);l.tick({type:"tick",alpha:r})},u.nodes=function(t){return arguments.length?(b=t,u):b},u.links=function(t){return arguments.length?(_=t,u):_},u.size=function(t){return arguments.length?(c=t,u):c},u.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,u):h},u.distance=u.linkDistance,u.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,u):d},u.friction=function(t){return arguments.length?(f=+t,u):f},u.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,u):p},u.chargeDistance=function(t){return arguments.length?(g=t*t,u):Math.sqrt(g)},u.gravity=function(t){return arguments.length?(m=+t,u):m},u.theta=function(t){return arguments.length?(v=t*t,u):Math.sqrt(v)},u.alpha=function(t){return arguments.length?(t=+t,r?t>0?r=t:(n.c=null,n.t=NaN,n=null,l.end({type:"end",alpha:r=0})):t>0&&(l.start({type:"start",alpha:r=t}),n=Ot(u.tick)),u):r},u.start=function(){function t(t,i){if(!n){for(n=new Array(r),u=0;u<r;++u)n[u]=[];for(u=0;u<l;++u){var o=_[u];n[o.source.index].push(o.target),n[o.target.index].push(o.source)}}for(var a,s=n[e],u=-1,c=s.length;++u<c;)if(!isNaN(a=s[u][t]))return a;return Math.random()*i}var e,n,i,r=b.length,l=_.length,f=c[0],g=c[1];for(e=0;e<r;++e)(i=b[e]).index=e,i.weight=0;for(e=0;e<l;++e)i=_[e],"number"==typeof i.source&&(i.source=b[i.source]),"number"==typeof i.target&&(i.target=b[i.target]),++i.source.weight,++i.target.weight;for(e=0;e<r;++e)i=b[e],isNaN(i.x)&&(i.x=t("x",f)),isNaN(i.y)&&(i.y=t("y",g)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(o=[],"function"==typeof h)for(e=0;e<l;++e)o[e]=+h.call(this,_[e],e);else for(e=0;e<l;++e)o[e]=h;if(a=[],"function"==typeof d)for(e=0;e<l;++e)a[e]=+d.call(this,_[e],e);else for(e=0;e<l;++e)a[e]=d;if(s=[],"function"==typeof p)for(e=0;e<r;++e)s[e]=+p.call(this,b[e],e);else for(e=0;e<r;++e)s[e]=p;return u.resume()},u.resume=function(){return u.alpha(.1)},u.stop=function(){return u.alpha(0)},u.drag=function(){return i||(i=ua.behavior.drag().origin(y).on("dragstart.force",Qi).on("drag.force",e).on("dragend.force",tr)),arguments.length?void this.on("mouseover.force",er).on("mouseout.force",nr).call(i):i},ua.rebind(u,l,"on")};var yu=20,bu=1,_u=1/0;ua.layout.hierarchy=function(){function t(r){var o,a=[r],s=[];for(r.depth=0;null!=(o=a.pop());)if(s.push(o),(l=n.call(t,o,o.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)a.push(c=l[u]),c.parent=o,c.depth=o.depth+1;i&&(o.value=0),o.children=l}else i&&(o.value=+i.call(t,o,o.depth)||0),delete o.children;return ar(r,function(t){var n,r;e&&(n=t.children)&&n.sort(e),i&&(r=t.parent)&&(r.value+=t.value)}),s}var e=lr,n=sr,i=ur;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(i=e,t):i},t.revalue=function(e){return i&&(or(e,function(t){t.children&&(t.value=0)}),ar(e,function(e){var n;e.children||(e.value=+i.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},ua.layout.partition=function(){function t(e,n,i,r){var o=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,o&&(a=o.length)){var a,s,u,l=-1;for(i=e.value?i/e.value:0;++l<a;)t(s=o[l],n,u=s.value*i,r),n+=u}}function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,o=-1;++o<r;)i=Math.max(i,e(n[o]));return 1+i}function n(n,o){var a=i.call(this,n,o);return t(a[0],0,r[0],r[1]/e(a[0])),a}var i=ua.layout.hierarchy(),r=[1,1];return n.size=function(t){return arguments.length?(r=t,n):r},rr(n,i)},ua.layout.pie=function(){function t(a){var s,u=a.length,l=a.map(function(n,i){return+e.call(t,n,i)}),c=+("function"==typeof i?i.apply(this,arguments):i),f=("function"==typeof r?r.apply(this,arguments):r)-c,h=Math.min(Math.abs(f)/u,+("function"==typeof o?o.apply(this,arguments):o)),d=h*(f<0?-1:1),p=ua.sum(l),g=p?(f-u*d)/p:0,m=ua.range(u),v=[];return null!=n&&m.sort(n===xu?function(t,e){return l[e]-l[t]}:function(t,e){return n(a[t],a[e])}),m.forEach(function(t){v[t]={data:a[t],value:s=l[t],startAngle:c,endAngle:c+=s*g+d,padAngle:h}}),v}var e=Number,n=xu,i=0,r=Ua,o=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(i=e,t):i},t.endAngle=function(e){return arguments.length?(r=e,t):r},t.padAngle=function(e){return arguments.length?(o=e,t):o},t};var xu={};ua.layout.stack=function(){function t(s,u){if(!(h=s.length))return s;var l=s.map(function(n,i){return e.call(t,n,i)}),c=l.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),f=n.call(t,c,u);l=ua.permute(l,f),c=ua.permute(c,f);var h,d,p,g,m=i.call(t,c,u),v=l[0].length;for(p=0;p<v;++p)for(r.call(t,l[0][p],g=m[p],c[0][p][1]),d=1;d<h;++d)r.call(t,l[d][p],g+=c[d-1][p][1],c[d][p][1]);return s}var e=y,n=pr,i=gr,r=dr,o=fr,a=hr;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:wu.get(e)||pr,t):n},t.offset=function(e){return arguments.length?(i="function"==typeof e?e:ku.get(e)||gr,t):i},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(r=e,t):r},t};var wu=ua.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(mr),o=t.map(vr),a=ua.range(i).sort(function(t,e){return r[t]-r[e]}),s=0,u=0,l=[],c=[];for(e=0;e<i;++e)n=a[e],s<u?(s+=o[n],l.push(n)):(u+=o[n],c.push(n));return c.reverse().concat(l)},reverse:function(t){return ua.range(t.length).reverse()},"default":pr}),ku=ua.map({silhouette:function(t){var e,n,i,r=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;n<o;++n){for(e=0,i=0;e<r;e++)i+=t[e][n][1];i>s&&(s=i),a.push(i)}for(n=0;n<o;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,i,r,o,a,s,u,l,c=t.length,f=t[0],h=f.length,d=[];for(d[0]=u=l=0,n=1;n<h;++n){for(e=0,r=0;e<c;++e)r+=t[e][n][1];for(e=0,o=0,s=f[n][0]-f[n-1][0];e<c;++e){for(i=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);i<e;++i)a+=(t[i][n][1]-t[i][n-1][1])/s;o+=a*t[e][n][1]}d[n]=u-=r?o/r*s:0,u<l&&(l=u)}for(n=0;n<h;++n)d[n]-=l;return d},expand:function(t){var e,n,i,r=t.length,o=t[0].length,a=1/r,s=[];for(n=0;n<o;++n){for(e=0,i=0;e<r;e++)i+=t[e][n][1];if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:gr});ua.layout.histogram=function(){function t(t,o){for(var a,s,u=[],l=t.map(n,this),c=i.call(this,l,o),f=r.call(this,c,l,o),o=-1,h=l.length,d=f.length-1,p=e?1:1/h;++o<d;)a=u[o]=[],a.dx=f[o+1]-(a.x=f[o]),a.y=0;if(d>0)for(o=-1;++o<h;)s=l[o],s>=c[0]&&s<=c[1]&&(a=u[ua.bisect(f,s,1,d)-1],a.y+=p,a.push(t[o]));return u}var e=!0,n=Number,i=xr,r=br;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(i=Ct(e),t):i},t.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return _r(t,e)}:Ct(e),t):r},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},ua.layout.pack=function(){function t(t,o){var a=n.call(this,t,o),s=a[0],u=r[0],l=r[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,ar(s,function(t){t.r=+c(t.value)}),ar(s,Cr),i){var f=i*(e?1:Math.max(2*s.r/u,2*s.r/l))/2;ar(s,function(t){t.r+=f}),ar(s,Cr),ar(s,function(t){t.r-=f})}return Ar(s,u/2,l/2,e?1:1/Math.max(2*s.r/u,2*s.r/l)),a}var e,n=ua.layout.hierarchy().sort(wr),i=0,r=[1,1];return t.size=function(e){return arguments.length?(r=e,t):r},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(i=+e,t):i},rr(t,n)},ua.layout.tree=function(){function t(t,r){var c=a.call(this,t,r),f=c[0],h=e(f);if(ar(h,n),h.parent.m=-h.z,or(h,i),l)or(f,o);else{var d=f,p=f,g=f;or(f,function(t){t.x<d.x&&(d=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)});var m=s(d,p)/2-d.x,v=u[0]/(p.x+s(p,d)/2+m),y=u[1]/(g.depth||1);or(f,function(t){t.x=(t.x+m)*v,t.y=t.depth*y})}return c}function e(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var r,o=e.children,a=0,s=o.length;a<s;++a)i.push((o[a]=r={_:o[a],parent:e,children:(r=o[a].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=r);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){Lr(t);var o=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+s(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+s(t._,i._));t.parent.A=r(t,i,t.parent.A||n[0])}function i(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,n){if(e){for(var i,r=t,o=t,a=e,u=r.parent.children[0],l=r.m,c=o.m,f=a.m,h=u.m;a=Nr(a),r=Dr(r),a&&r;)u=Dr(u),o=Nr(o),o.a=t,i=a.z+f-r.z-l+s(a._,r._),i>0&&(Ir(Pr(a,t,n),t,i),l+=i,c+=i),f+=a.m,l+=r.m,h+=u.m,c+=o.m;a&&!Nr(o)&&(o.t=a,o.m+=f-c),r&&!Dr(u)&&(u.t=r,u.m+=l-h,n=t)}return n}function o(t){t.x*=u[0],t.y=t.depth*u[1]}var a=ua.layout.hierarchy().sort(null).value(null),s=Or,u=[1,1],l=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(l=null==(u=e)?o:null,t):l?null:u},t.nodeSize=function(e){return arguments.length?(l=null==(u=e)?null:o,t):l?u:null},rr(t,a)},ua.layout.cluster=function(){function t(t,o){var a,s=e.call(this,t,o),u=s[0],l=0;ar(u,function(t){var e=t.children;e&&e.length?(t.x=Fr(e),t.y=Rr(e)):(t.x=a?l+=n(t,a):0,t.y=0,a=t)});var c=jr(u),f=Ur(u),h=c.x-n(c,f)/2,d=f.x+n(f,c)/2;return ar(u,r?function(t){t.x=(t.x-u.x)*i[0],t.y=(u.y-t.y)*i[1]}:function(t){t.x=(t.x-h)/(d-h)*i[0],t.y=(1-(u.y?t.y/u.y:1))*i[1]}),s}var e=ua.layout.hierarchy().sort(null).value(null),n=Or,i=[1,1],r=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=null==(i=e),t):r?null:i},t.nodeSize=function(e){return arguments.length?(r=null!=(i=e),t):r?i:null},rr(t,e)},ua.layout.treemap=function(){function t(t,e){for(var n,i,r=-1,o=t.length;++r<o;)i=(n=t[r]).value*(e<0?0:e),n.area=isNaN(i)||i<=0?0:i}function e(n){var o=n.children;if(o&&o.length){var a,s,u,l=f(n),c=[],h=o.slice(),p=1/0,g="slice"===d?l.dx:"dice"===d?l.dy:"slice-dice"===d?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(t(h,l.dx*l.dy/n.value),c.area=0;(u=h.length)>0;)c.push(a=h[u-1]),c.area+=a.area,"squarify"!==d||(s=i(c,g))<=p?(h.pop(),p=s):(c.area-=c.pop().area,r(c,g,l,!1),g=Math.min(l.dx,l.dy),c.length=c.area=0,p=1/0);c.length&&(r(c,g,l,!0),c.length=c.area=0),o.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var o,a=f(e),s=i.slice(),u=[];for(t(s,a.dx*a.dy/e.value),u.area=0;o=s.pop();)u.push(o),u.area+=o.area,null!=o.z&&(r(u,o.z?a.dx:a.dy,a,!s.length),u.length=u.area=0);i.forEach(n)}}function i(t,e){for(var n,i=t.area,r=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(n<o&&(o=n),n>r&&(r=n));return i*=i,e*=e,i?Math.max(e*r*p/i,i/(e*o*p)):1/0}function r(t,e,n,i){var r,o=-1,a=t.length,s=n.x,l=n.y,c=e?u(t.area/e):0;if(e==n.dx){for((i||c>n.dy)&&(c=n.dy);++o<a;)r=t[o],r.x=s,r.y=l,r.dy=c,s+=r.dx=Math.min(n.x+n.dx-s,c?u(r.area/c):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++o<a;)r=t[o],r.x=s,r.y=l,r.dx=c,l+=r.dy=Math.min(n.y+n.dy-l,c?u(r.area/c):0);r.z=!1,r.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function o(i){var r=a||s(i),o=r[0];return o.x=o.y=0,o.value?(o.dx=l[0],o.dy=l[1]):o.dx=o.dy=0,a&&s.revalue(o),t([o],o.dx*o.dy/o.value),(a?n:e)(o),h&&(a=r),r}var a,s=ua.layout.hierarchy(),u=Math.round,l=[1,1],c=null,f=zr,h=!1,d="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(l=t,o):l},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?zr(e):Hr(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Hr(e,t)}if(!arguments.length)return c;var i;return f=null==(c=t)?zr:"function"==(i=typeof t)?e:"number"===i?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(u=t?Math.round:Number,o):u!=Number},o.sticky=function(t){return arguments.length?(h=t,a=null,o):h},o.ratio=function(t){return arguments.length?(p=t,o):p},o.mode=function(t){return arguments.length?(d=t+"",o):d;
},rr(o,s)},ua.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,i,r;do n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i;while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=ua.random.normal.apply(ua,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=ua.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},ua.scale={};var Eu={floor:y,ceil:y};ua.scale.linear=function(){return Gr([0,1],[0,1],bi,!1)};var Su={s:1,g:1,p:1,r:1,e:1};ua.scale.log=function(){return io(ua.scale.linear().domain([0,1]),10,!0,[1,10])};var Cu=ua.format(".0e"),Tu={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};ua.scale.pow=function(){return ro(ua.scale.linear(),1,[0,1])},ua.scale.sqrt=function(){return ua.scale.pow().exponent(.5)},ua.scale.ordinal=function(){return ao([],{t:"range",a:[[]]})},ua.scale.category10=function(){return ua.scale.ordinal().range(Mu)},ua.scale.category20=function(){return ua.scale.ordinal().range(Au)},ua.scale.category20b=function(){return ua.scale.ordinal().range($u)},ua.scale.category20c=function(){return ua.scale.ordinal().range(Ou)};var Mu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(bt),Au=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(bt),$u=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(bt),Ou=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(bt);ua.scale.quantile=function(){return so([],[])},ua.scale.quantize=function(){return uo(0,1,[0,1])},ua.scale.threshold=function(){return lo([.5],[0,1])},ua.scale.identity=function(){return co([0,1])},ua.svg={},ua.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),l=Math.max(0,+i.apply(this,arguments)),c=a.apply(this,arguments)-Ha,f=s.apply(this,arguments)-Ha,h=Math.abs(f-c),d=c>f?0:1;if(l<t&&(p=l,l=t,t=p),h>=za)return e(l,d)+(t?e(t,1-d):"")+"Z";var p,g,m,v,y,b,_,x,w,k,E,S,C=0,T=0,M=[];if((v=(+u.apply(this,arguments)||0)/2)&&(m=o===Du?Math.sqrt(t*t+l*l):+o.apply(this,arguments),d||(T*=-1),l&&(T=et(m/l*Math.sin(v))),t&&(C=et(m/t*Math.sin(v)))),l){y=l*Math.cos(c+T),b=l*Math.sin(c+T),_=l*Math.cos(f-T),x=l*Math.sin(f-T);var A=Math.abs(f-c-2*T)<=ja?0:1;if(T&&yo(y,b,_,x)===d^A){var $=(c+f)/2;y=l*Math.cos($),b=l*Math.sin($),_=x=null}}else y=b=0;if(t){w=t*Math.cos(f-C),k=t*Math.sin(f-C),E=t*Math.cos(c+C),S=t*Math.sin(c+C);var O=Math.abs(c-f+2*C)<=ja?0:1;if(C&&yo(w,k,E,S)===1-d^O){var D=(c+f)/2;w=t*Math.cos(D),k=t*Math.sin(D),E=S=null}}else w=k=0;if(h>Ra&&(p=Math.min(Math.abs(l-t)/2,+r.apply(this,arguments)))>.001){g=t<l^d?0:1;var N=p,I=p;if(h<ja){var L=null==E?[w,k]:null==_?[y,b]:In([y,b],[E,S],[_,x],[w,k]),P=y-L[0],R=b-L[1],F=_-L[0],j=x-L[1],U=1/Math.sin(Math.acos((P*F+R*j)/(Math.sqrt(P*P+R*R)*Math.sqrt(F*F+j*j)))/2),z=Math.sqrt(L[0]*L[0]+L[1]*L[1]);I=Math.min(p,(t-z)/(U-1)),N=Math.min(p,(l-z)/(U+1))}if(null!=_){var H=bo(null==E?[w,k]:[E,S],[y,b],l,N,d),q=bo([_,x],[w,k],l,N,d);p===N?M.push("M",H[0],"A",N,",",N," 0 0,",g," ",H[1],"A",l,",",l," 0 ",1-d^yo(H[1][0],H[1][1],q[1][0],q[1][1]),",",d," ",q[1],"A",N,",",N," 0 0,",g," ",q[0]):M.push("M",H[0],"A",N,",",N," 0 1,",g," ",q[0])}else M.push("M",y,",",b);if(null!=E){var W=bo([y,b],[E,S],t,-I,d),Y=bo([w,k],null==_?[y,b]:[_,x],t,-I,d);p===I?M.push("L",Y[0],"A",I,",",I," 0 0,",g," ",Y[1],"A",t,",",t," 0 ",d^yo(Y[1][0],Y[1][1],W[1][0],W[1][1]),",",1-d," ",W[1],"A",I,",",I," 0 0,",g," ",W[0]):M.push("L",Y[0],"A",I,",",I," 0 0,",g," ",W[0])}else M.push("L",w,",",k)}else M.push("M",y,",",b),null!=_&&M.push("A",l,",",l," 0 ",A,",",d," ",_,",",x),M.push("L",w,",",k),null!=E&&M.push("A",t,",",t," 0 ",O,",",1-d," ",E,",",S);return M.push("Z"),M.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=ho,i=po,r=fo,o=Du,a=go,s=mo,u=vo;return t.innerRadius=function(e){return arguments.length?(n=Ct(e),t):n},t.outerRadius=function(e){return arguments.length?(i=Ct(e),t):i},t.cornerRadius=function(e){return arguments.length?(r=Ct(e),t):r},t.padRadius=function(e){return arguments.length?(o=e==Du?Du:Ct(e),t):o},t.startAngle=function(e){return arguments.length?(a=Ct(e),t):a},t.endAngle=function(e){return arguments.length?(s=Ct(e),t):s},t.padAngle=function(e){return arguments.length?(u=Ct(e),t):u},t.centroid=function(){var t=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2,e=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-Ha;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Du="auto";ua.svg.line=function(){return _o(y)};var Nu=ua.map({linear:xo,"linear-closed":wo,step:ko,"step-before":Eo,"step-after":So,basis:Oo,"basis-open":Do,"basis-closed":No,bundle:Io,cardinal:Mo,"cardinal-open":Co,"cardinal-closed":To,monotone:Uo});Nu.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Iu=[0,2/3,1/3,0],Lu=[0,1/3,2/3,0],Pu=[0,1/6,2/3,1/6];ua.svg.line.radial=function(){var t=_o(zo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Eo.reverse=So,So.reverse=Eo,ua.svg.area=function(){return Ho(y)},ua.svg.area.radial=function(){var t=Ho(zo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ua.svg.chord=function(){function t(t,s){var u=e(this,o,t,s),l=e(this,a,t,s);return"M"+u.p0+i(u.r,u.p1,u.a1-u.a0)+(n(u,l)?r(u.r,u.p1,u.r,u.p0):r(u.r,u.p1,l.r,l.p0)+i(l.r,l.p1,l.a1-l.a0)+r(l.r,l.p1,u.r,u.p0))+"Z"}function e(t,e,n,i){var r=e.call(t,n,i),o=s.call(t,r,i),a=u.call(t,r,i)-Ha,c=l.call(t,r,i)-Ha;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function i(t,e,n){return"A"+t+","+t+" 0 "+ +(n>ja)+",1 "+e}function r(t,e,n,i){return"Q 0,0 "+i}var o=bn,a=_n,s=qo,u=go,l=mo;return t.radius=function(e){return arguments.length?(s=Ct(e),t):s},t.source=function(e){return arguments.length?(o=Ct(e),t):o},t.target=function(e){return arguments.length?(a=Ct(e),t):a},t.startAngle=function(e){return arguments.length?(u=Ct(e),t):u},t.endAngle=function(e){return arguments.length?(l=Ct(e),t):l},t},ua.svg.diagonal=function(){function t(t,r){var o=e.call(this,t,r),a=n.call(this,t,r),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return u=u.map(i),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var e=bn,n=_n,i=Wo;return t.source=function(n){return arguments.length?(e=Ct(n),t):e},t.target=function(e){return arguments.length?(n=Ct(e),t):n},t.projection=function(e){return arguments.length?(i=e,t):i},t},ua.svg.diagonal.radial=function(){var t=ua.svg.diagonal(),e=Wo,n=t.projection;return t.projection=function(t){return arguments.length?n(Yo(e=t)):e},t},ua.svg.symbol=function(){function t(t,i){return(Ru.get(e.call(this,t,i))||Xo)(n.call(this,t,i))}var e=Vo,n=Bo;return t.type=function(n){return arguments.length?(e=Ct(n),t):e},t.size=function(e){return arguments.length?(n=Ct(e),t):n},t};var Ru=ua.map({circle:Xo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*ju)),n=e*ju;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Fu),n=e*Fu/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Fu),n=e*Fu/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});ua.svg.symbolTypes=Ru.keys();var Fu=Math.sqrt(3),ju=Math.tan(30*qa);Aa.transition=function(t){for(var e,n,i=Uu||++Wu,r=Qo(t),o=[],a=zu||{time:Date.now(),ease:Ci,delay:0,duration:250},s=-1,u=this.length;++s<u;){o.push(e=[]);for(var l=this[s],c=-1,f=l.length;++c<f;)(n=l[c])&&ta(n,c,r,i,a),e.push(n)}return Ko(o,r,i)},Aa.interrupt=function(t){return this.each(null==t?Hu:Go(Qo(t)))};var Uu,zu,Hu=Go(Qo()),qu=[],Wu=0;qu.call=Aa.call,qu.empty=Aa.empty,qu.node=Aa.node,qu.size=Aa.size,ua.transition=function(t,e){return t&&t.transition?Uu?t.transition(e):t:ua.selection().transition(t)},ua.transition.prototype=qu,qu.select=function(t){var e,n,i,r=this.id,o=this.namespace,a=[];t=M(t);for(var s=-1,u=this.length;++s<u;){a.push(e=[]);for(var l=this[s],c=-1,f=l.length;++c<f;)(i=l[c])&&(n=t.call(i,i.__data__,c,s))?("__data__"in i&&(n.__data__=i.__data__),ta(n,c,o,r,i[o][r]),e.push(n)):e.push(null)}return Ko(a,o,r)},qu.selectAll=function(t){var e,n,i,r,o,a=this.id,s=this.namespace,u=[];t=A(t);for(var l=-1,c=this.length;++l<c;)for(var f=this[l],h=-1,d=f.length;++h<d;)if(i=f[h]){o=i[s][a],n=t.call(i,i.__data__,h,l),u.push(e=[]);for(var p=-1,g=n.length;++p<g;)(r=n[p])&&ta(r,p,s,a,o),e.push(r)}return Ko(u,s,a)},qu.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=z(t));for(var o=0,a=this.length;o<a;o++){r.push(e=[]);for(var n=this[o],s=0,u=n.length;s<u;s++)(i=n[s])&&t.call(i,i.__data__,s,o)&&e.push(i)}return Ko(r,this.namespace,this.id)},qu.tween=function(t,e){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(t):q(this,null==e?function(e){e[i][n].tween.remove(t)}:function(r){r[i][n].tween.set(t,e)})},qu.attr=function(t,e){function n(){this.removeAttribute(s)}function i(){this.removeAttributeNS(s.space,s.local)}function r(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function o(t){return null==t?i:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?Vi:bi,s=ua.ns.qualify(t);return Jo(this,"attr."+t,e,s.local?o:r)},qu.attrTween=function(t,e){function n(t,n){var i=e.call(this,t,n,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}}function i(t,n){var i=e.call(this,t,n,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}var r=ua.ns.qualify(t);return this.tween("attr."+t,r.local?i:n)},qu.style=function(t,n,i){function r(){this.style.removeProperty(t)}function o(n){return null==n?r:(n+="",function(){var r,o=e(this).getComputedStyle(this,null).getPropertyValue(t);return o!==n&&(r=bi(o,n),function(e){this.style.setProperty(t,r(e),i)})})}var a=arguments.length;if(a<3){if("string"!=typeof t){a<2&&(n="");for(i in t)this.style(i,t[i],n);return this}i=""}return Jo(this,"style."+t,n,o)},qu.styleTween=function(t,n,i){function r(r,o){var a=n.call(this,r,o,e(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),i)}}return arguments.length<3&&(i=""),this.tween("style."+t,r)},qu.text=function(t){return Jo(this,"text",t,Zo)},qu.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},qu.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=ua.ease.apply(ua,arguments)),q(this,function(i){i[n][e].ease=t}))},qu.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:q(this,"function"==typeof t?function(i,r,o){i[n][e].delay=+t.call(i,i.__data__,r,o)}:(t=+t,function(i){i[n][e].delay=t}))},qu.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:q(this,"function"==typeof t?function(i,r,o){i[n][e].duration=Math.max(1,t.call(i,i.__data__,r,o))}:(t=Math.max(1,t),function(i){i[n][e].duration=t}))},qu.each=function(t,e){var n=this.id,i=this.namespace;if(arguments.length<2){var r=zu,o=Uu;try{Uu=n,q(this,function(e,r,o){zu=e[i][n],t.call(e,e.__data__,r,o)})}finally{zu=r,Uu=o}}else q(this,function(r){var o=r[i][n];(o.event||(o.event=ua.dispatch("start","end","interrupt"))).on(t,e)});return this},qu.transition=function(){for(var t,e,n,i,r=this.id,o=++Wu,a=this.namespace,s=[],u=0,l=this.length;u<l;u++){s.push(t=[]);for(var e=this[u],c=0,f=e.length;c<f;c++)(n=e[c])&&(i=n[a][r],ta(n,c,a,o,{time:i.time,ease:i.ease,delay:i.delay+i.duration,duration:i.duration})),t.push(n)}return Ko(s,a,o)},ua.svg.axis=function(){function t(t){t.each(function(){var t,l=ua.select(this),c=this.__chart__||n,f=this.__chart__=n.copy(),h=null==u?f.ticks?f.ticks.apply(f,s):f.domain():u,d=null==e?f.tickFormat?f.tickFormat.apply(f,s):y:e,p=l.selectAll(".tick").data(h,f),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Ra),m=ua.transition(p.exit()).style("opacity",Ra).remove(),v=ua.transition(p.order()).style("opacity",1),b=Math.max(r,0)+a,_=Wr(f),x=l.selectAll(".domain").data([0]),w=(x.enter().append("path").attr("class","domain"),ua.transition(x));g.append("line"),g.append("text");var k,E,S,C,T=g.select("line"),M=v.select("line"),A=p.select("text").text(d),$=g.select("text"),O=v.select("text"),D="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(t=ea,k="x",S="y",E="x2",C="y2",A.attr("dy",D<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+_[0]+","+D*o+"V0H"+_[1]+"V"+D*o)):(t=na,k="y",S="x",E="y2",C="x2",A.attr("dy",".32em").style("text-anchor",D<0?"end":"start"),w.attr("d","M"+D*o+","+_[0]+"H0V"+_[1]+"H"+D*o)),T.attr(C,D*r),$.attr(S,D*b),M.attr(E,0).attr(C,D*r),O.attr(k,0).attr(S,D*b),f.rangeBand){var N=f,I=N.rangeBand()/2;c=f=function(t){return N(t)+I}}else c.rangeBand?c=f:m.call(t,f,c);g.call(t,c,f),v.call(t,f,f)})}var e,n=ua.scale.linear(),i=Yu,r=6,o=6,a=3,s=[10],u=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(i=e in Bu?e+"":Yu,t):i},t.ticks=function(){return arguments.length?(s=ca(arguments),t):s},t.tickValues=function(e){return arguments.length?(u=e,t):u},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(r=+e,o=+arguments[n-1],t):r},t.innerTickSize=function(e){return arguments.length?(r=+e,t):r},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Yu="bottom",Bu={top:1,right:1,bottom:1,left:1};ua.svg.brush=function(){function t(e){e.each(function(){var e=ua.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),a=e.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=e.selectAll(".resize").data(g,y);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Vu[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var u,f=ua.transition(e),h=ua.transition(a);l&&(u=Wr(l),h.attr("x",u[0]).attr("width",u[1]-u[0]),i(f)),c&&(u=Wr(c),h.attr("y",u[0]).attr("height",u[1]-u[0]),r(f)),n(f)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+f[+/e$/.test(t)]+","+h[+/^s/.test(t)]+")"})}function i(t){t.select(".extent").attr("x",f[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function r(t){t.select(".extent").attr("y",h[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function o(){function o(){32==ua.event.keyCode&&(A||(b=null,O[0]-=f[1],O[1]-=h[1],A=2),E())}function g(){32==ua.event.keyCode&&2==A&&(O[0]+=f[1],O[1]+=h[1],A=0,E())}function m(){var t=ua.mouse(x),e=!1;_&&(t[0]+=_[0],t[1]+=_[1]),A||(ua.event.altKey?(b||(b=[(f[0]+f[1])/2,(h[0]+h[1])/2]),O[0]=f[+(t[0]<b[0])],O[1]=h[+(t[1]<b[1])]):b=null),T&&v(t,l,0)&&(i(S),e=!0),M&&v(t,c,1)&&(r(S),e=!0),e&&(n(S),k({type:"brush",mode:A?"move":"resize"}))}function v(t,e,n){var i,r,o=Wr(e),u=o[0],l=o[1],c=O[n],g=n?h:f,m=g[1]-g[0];if(A&&(u-=c,l-=m+c),i=(n?p:d)?Math.max(u,Math.min(l,t[n])):t[n],A?r=(i+=c)+m:(b&&(c=Math.max(u,Math.min(l,2*b[n]-i))),c<i?(r=i,i=c):r=c),g[0]!=i||g[1]!=r)return n?s=null:a=null,g[0]=i,g[1]=r,!0}function y(){m(),S.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),ua.select("body").style("cursor",null),D.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),$(),k({type:"brushend"})}var b,_,x=this,w=ua.select(ua.event.target),k=u.of(x,arguments),S=ua.select(x),C=w.datum(),T=!/^(n|s)$/.test(C)&&l,M=!/^(e|w)$/.test(C)&&c,A=w.classed("extent"),$=G(x),O=ua.mouse(x),D=ua.select(e(x)).on("keydown.brush",o).on("keyup.brush",g);if(ua.event.changedTouches?D.on("touchmove.brush",m).on("touchend.brush",y):D.on("mousemove.brush",m).on("mouseup.brush",y),S.interrupt().selectAll("*").interrupt(),A)O[0]=f[0]-O[0],O[1]=h[0]-O[1];else if(C){var N=+/w$/.test(C),I=+/^n/.test(C);_=[f[1-N]-O[0],h[1-I]-O[1]],O[0]=f[N],O[1]=h[I]}else ua.event.altKey&&(b=O.slice());S.style("pointer-events","none").selectAll(".resize").style("display",null),ua.select("body").style("cursor",w.style("cursor")),k({type:"brushstart"}),m()}var a,s,u=C(t,"brushstart","brush","brushend"),l=null,c=null,f=[0,0],h=[0,0],d=!0,p=!0,g=Xu[0];return t.event=function(t){t.each(function(){var t=u.of(this,arguments),e={x:f,y:h,i:a,j:s},n=this.__chart__||e;this.__chart__=e,Uu?ua.select(this).transition().each("start.brush",function(){a=n.i,s=n.j,f=n.x,h=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=_i(f,e.x),i=_i(h,e.y);return a=s=null,function(r){f=e.x=n(r),h=e.y=i(r),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(l=e,g=Xu[!l<<1|!c],t):l},t.y=function(e){return arguments.length?(c=e,g=Xu[!l<<1|!c],t):c},t.clamp=function(e){return arguments.length?(l&&c?(d=!!e[0],p=!!e[1]):l?d=!!e:c&&(p=!!e),t):l&&c?[d,p]:l?d:c?p:null},t.extent=function(e){var n,i,r,o,u;return arguments.length?(l&&(n=e[0],i=e[1],c&&(n=n[0],i=i[0]),a=[n,i],l.invert&&(n=l(n),i=l(i)),i<n&&(u=n,n=i,i=u),n==f[0]&&i==f[1]||(f=[n,i])),c&&(r=e[0],o=e[1],l&&(r=r[1],o=o[1]),s=[r,o],c.invert&&(r=c(r),o=c(o)),o<r&&(u=r,r=o,o=u),r==h[0]&&o==h[1]||(h=[r,o])),t):(l&&(a?(n=a[0],i=a[1]):(n=f[0],i=f[1],l.invert&&(n=l.invert(n),i=l.invert(i)),i<n&&(u=n,n=i,i=u))),c&&(s?(r=s[0],o=s[1]):(r=h[0],o=h[1],c.invert&&(r=c.invert(r),o=c.invert(o)),o<r&&(u=r,r=o,o=u))),l&&c?[[n,r],[i,o]]:l?[n,i]:c&&[r,o])},t.clear=function(){return t.empty()||(f=[0,0],h=[0,0],a=s=null),t},t.empty=function(){return!!l&&f[0]==f[1]||!!c&&h[0]==h[1]},ua.rebind(t,u,"on")};var Vu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Xu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Gu=ps.format=_s.timeFormat,Ku=Gu.utc,Ju=Ku("%Y-%m-%dT%H:%M:%S.%LZ");Gu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ia:Ju,ia.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},ia.toString=Ju.toString,ps.second=Ut(function(t){return new gs(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ps.seconds=ps.second.range,ps.seconds.utc=ps.second.utc.range,ps.minute=Ut(function(t){return new gs(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ps.minutes=ps.minute.range,ps.minutes.utc=ps.minute.utc.range,ps.hour=Ut(function(t){var e=t.getTimezoneOffset()/60;return new gs(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ps.hours=ps.hour.range,ps.hours.utc=ps.hour.utc.range,ps.month=Ut(function(t){return t=ps.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ps.months=ps.month.range,ps.months.utc=ps.month.utc.range;var Zu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Qu=[[ps.second,1],[ps.second,5],[ps.second,15],[ps.second,30],[ps.minute,1],[ps.minute,5],[ps.minute,15],[ps.minute,30],[ps.hour,1],[ps.hour,3],[ps.hour,6],[ps.hour,12],[ps.day,1],[ps.day,2],[ps.week,1],[ps.month,1],[ps.month,3],[ps.year,1]],tl=Gu.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Ae]]),el={range:function(t,e,n){return ua.range(Math.ceil(t/n)*n,+e,n).map(oa)},floor:y,ceil:y};Qu.year=ps.year,ps.scale=function(){return ra(ua.scale.linear(),Qu,tl)};var nl=Qu.map(function(t){return[t[0].utc,t[1]]}),il=Ku.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Ae]]);nl.year=ps.year.utc,ps.scale.utc=function(){return ra(ua.scale.linear(),nl,il)},ua.text=Tt(function(t){return t.responseText}),ua.json=function(t,e){return Mt(t,"application/json",aa,e)},ua.html=function(t,e){return Mt(t,"text/html",sa,e)},ua.xml=Tt(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=ua,define(ua)):"object"==typeof module&&module.exports?module.exports=ua:this.d3=ua}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.topojson=t.topojson||{})}(this,function(t){"use strict";function e(){}function n(t){if(!t)return e;var n,i,r=t.scale[0],o=t.scale[1],a=t.translate[0],s=t.translate[1];return function(t,e){e||(n=i=0),t[0]=(n+=t[0])*r+a,t[1]=(i+=t[1])*o+s}}function i(t){if(!t)return e;var n,i,r=t.scale[0],o=t.scale[1],a=t.translate[0],s=t.translate[1];return function(t,e){e||(n=i=0);var u=Math.round((t[0]-a)/r),l=Math.round((t[1]-s)/o);t[0]=u-n,t[1]=l-i,n=u,i=l}}function r(t,e){for(var n,i=t.length,r=i-e;r<--i;)n=t[r],t[r++]=t[i],t[i]=n}function o(t,e){for(var n=0,i=t.length;n<i;){var r=n+i>>>1;t[r]<e?n=r+1:i=r}return n}function a(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return s(t,e)})}:s(t,e)}function s(t,e){var n={type:"Feature",id:e.id,properties:e.properties||{},geometry:u(t,e)};return null==e.id&&delete n.id,n}function u(t,e){function i(t,e){e.length&&e.pop();for(var n,i=f[t<0?~t:t],o=0,a=i.length;o<a;++o)e.push(n=i[o].slice()),c(n,o);t<0&&r(e,a)}function o(t){return t=t.slice(),c(t,0),t}function a(t){for(var e=[],n=0,r=t.length;n<r;++n)i(t[n],e);return e.length<2&&e.push(e[0].slice()),e}function s(t){for(var e=a(t);e.length<4;)e.push(e[0].slice());return e}function u(t){return t.map(s)}function l(t){var e=t.type;return"GeometryCollection"===e?{type:e,geometries:t.geometries.map(l)}:e in h?{type:e,coordinates:h[e](t)}:null}var c=n(t.transform),f=t.arcs,h={Point:function(t){return o(t.coordinates)},MultiPoint:function(t){return t.coordinates.map(o)},LineString:function(t){return a(t.arcs)},MultiLineString:function(t){return t.arcs.map(a)},Polygon:function(t){return u(t.arcs)},MultiPolygon:function(t){return t.arcs.map(u)}};return l(e)}function l(t,e){function n(e){var n,i=t.arcs[e<0?~e:e],r=i[0];return t.transform?(n=[0,0],i.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=i[i.length-1],e<0?[n,r]:[r,n]}function i(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach(function(t){r[t<0?~t:t]=1}),s.push(i)}}var r={},o={},a={},s=[],u=-1;return e.forEach(function(n,i){var r,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(r=e[++u],e[u]=n,e[i]=r)}),e.forEach(function(t){var e,i,r=n(t),s=r[0],u=r[1];if(e=a[s])if(delete a[e.end],e.push(t),e.end=u,i=o[u]){delete o[i.start];var l=i===e?e:e.concat(i);o[l.start=e.start]=a[l.end=i.end]=l}else o[e.start]=a[e.end]=e;else if(e=o[u])if(delete o[e.start],e.unshift(t),e.start=s,i=a[s]){delete a[i.end];var c=i===e?e:i.concat(e);o[c.start=i.start]=a[c.end=e.end]=c}else o[e.start]=a[e.end]=e;else e=[t],o[e.start=s]=a[e.end=u]=e}),i(a,o),i(o,a),e.forEach(function(t){r[t<0?~t:t]||s.push([t])}),s}function c(t){return u(t,f.apply(this,arguments))}function f(t,e,n){function i(t){var e=t<0?~t:t;(c[e]||(c[e]=[])).push({i:t,g:u})}function r(t){t.forEach(i)}function o(t){t.forEach(r)}function a(t){"GeometryCollection"===t.type?t.geometries.forEach(a):t.type in f&&(u=t,f[t.type](t.arcs))}var s=[];if(arguments.length>1){var u,c=[],f={LineString:r,MultiLineString:o,Polygon:o,MultiPolygon:function(t){t.forEach(o)}};a(e),c.forEach(arguments.length<3?function(t){s.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&s.push(t[0].i)})}else for(var h=0,d=t.arcs.length;h<d;++h)s.push(h);return{type:"MultiLineString",arcs:l(t,s)}}function h(t){var e=t[0],n=t[1],i=t[2];return Math.abs((e[0]-i[0])*(n[1]-e[1])-(e[0]-n[0])*(i[1]-e[1]))}function d(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[0]*r[1]-e[1]*r[0];return o/2}function p(t){return u(t,g.apply(this,arguments))}function g(t,e){function n(t){t.forEach(function(e){e.forEach(function(e){(r[e=e<0?~e:e]||(r[e]=[])).push(t)})}),o.push(t)}function i(e){return Math.abs(d(u(t,{type:"Polygon",arcs:[e]}).coordinates[0]))}var r={},o=[],a=[];return e.forEach(function(t){"Polygon"===t.type?n(t.arcs):"MultiPolygon"===t.type&&t.arcs.forEach(n)}),o.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,a.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){r[t<0?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),o.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:a.map(function(e){var n,o=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){r[t<0?~t:t].length<2&&o.push(t)})})}),o=l(t,o),(n=o.length)>1)for(var a,s,u=1,c=i(o[0]);u<n;++u)(a=i(o[u]))>c&&(s=o[0],o[0]=o[u],o[u]=s,c=a);return o})}}function m(t){function e(t,e){t.forEach(function(t){t<0&&(t=~t);var n=r[t];n?n.push(e):r[t]=[e]})}function n(t,n){t.forEach(function(t){e(t,n)})}function i(t,e){"GeometryCollection"===t.type?t.geometries.forEach(function(t){i(t,e)}):t.type in s&&s[t.type](t.arcs,e)}var r={},a=t.map(function(){return[]}),s={LineString:e,MultiLineString:n,Polygon:n,MultiPolygon:function(t,e){t.forEach(function(t){n(t,e)})}};t.forEach(i);for(var u in r)for(var l=r[u],c=l.length,f=0;f<c;++f)for(var h=f+1;h<c;++h){var d,p=l[f],g=l[h];(d=a[p])[u=o(d,g)]!==g&&d.splice(u,0,g),(d=a[g])[u=o(d,p)]!==p&&d.splice(u,0,p)}return a}function v(t,e){return t[1][2]-e[1][2]}function y(){function t(t,e){for(;e>0;){var n=(e+1>>1)-1,r=i[n];if(v(t,r)>=0)break;i[r._=e]=r,i[t._=e=n]=t}}function e(t,e){for(;;){var n=e+1<<1,o=n-1,a=e,s=i[a];if(o<r&&v(i[o],s)<0&&(s=i[a=o]),n<r&&v(i[n],s)<0&&(s=i[a=n]),a===e)break;i[s._=e]=s,i[t._=e=a]=t}}var n={},i=[],r=0;return n.push=function(e){return t(i[e._=r]=e,r++),r},n.pop=function(){if(!(r<=0)){var t,n=i[0];return--r>0&&(t=i[r],e(i[t._=0]=t,0)),n}},n.remove=function(n){var o,a=n._;if(i[a]===n)return a!==--r&&(o=i[r],(v(o,n)<0?t:e)(i[o._=a]=o,a)),a},n}function b(t,e){function r(t){s.remove(t),t[1][2]=e(t),s.push(t)}var o=n(t.transform),a=i(t.transform),s=y();return e||(e=h),t.arcs.forEach(function(t){var n,i,u,l,c=[],f=0;for(i=0,u=t.length;i<u;++i)l=t[i],o(t[i]=[l[0],l[1],1/0],i);for(i=1,u=t.length-1;i<u;++i)n=t.slice(i-1,i+2),n[1][2]=e(n),c.push(n),s.push(n);for(i=0,u=c.length;i<u;++i)n=c[i],n.previous=c[i-1],n.next=c[i+1];for(;n=s.pop();){var h=n.previous,d=n.next;n[1][2]<f?n[1][2]=f:f=n[1][2],h&&(h.next=d,h[2]=n[2],r(h)),d&&(d.previous=h,d[0]=n[0],r(d))}t.forEach(a)}),t}var _="1.6.27";t.version=_,t.mesh=c,t.meshArcs=f,t.merge=p,t.mergeArcs=g,t.feature=a,t.neighbors=m,t.presimplify=b,Object.defineProperty(t,"__esModule",{value:!0})}),function(){"use strict";function t(t){return t instanceof RegExp}function e(t){return t&&t.window===t}function n(t){return t&&t.$evalAsync&&t.$watch}function i(r,o){if(r===o)return{isEqual:!0,unequalVariable:"",stringDiff:!1,o1:r,o2:o};if(null===r||null===o)return{isEqual:!1,unequalVariable:"",stringDiff:!1,o1:r,o2:o};if(r!==r&&o!==o)return{isEqual:!0,unequalVariable:"",stringDiff:!1,o1:r,o2:o};var a,s,c,f=typeof r,d=typeof o;if(f==d){if("string"==f&&r!=o)return{isEqual:!1,unequalVariable:"",stringDiff:!0,o1:r,o2:o};if("object"==f){if(!l(r)){if(h(r))return{isEqual:h(o)&&r.getTime()==o.getTime(),unequalVariable:"",stringDiff:!1,o1:r,o2:o};if(t(r)&&t(o))return{isEqual:r.toString()==o.toString(),unequalVariable:"",stringDiff:!1,o1:r,o2:o};if(n(r)||n(o)||e(r)||e(o)||l(o))return{isEqual:!1,unequalVariable:"",stringDiff:!1,o1:r,o2:o};c={};var p={isEqual:!0,unequalVariable:"",stringDiff:!1,o1:r,o2:o};for(s in r)if("$"!==s.charAt(0)&&!u(r[s])){var g=i(r[s],o[s]);if(!g.isEqual){if(g.unequalVariable="."+String(s)+g.unequalVariable,!g.stringDiff)return g;p=g}c[s]=!0}for(s in o)if(!c.hasOwnProperty(s)&&"$"!==s.charAt(0)&&void 0!==o[s]&&!u(o[s]))return{isEqual:!1,unequalVariable:"",stringDiff:!1,o1:r,o2:o};return p}if(!l(o))return{isEqual:!1,unequalVariable:"",stringDiff:!1,o1:r,o2:o};if((a=r.length)==o.length){var p={isEqual:!0,unequalVariable:"",stringDiff:!1,o1:r,o2:o};for(s=0;s<a;s++){var g=i(r[s],o[s]);if(!g.isEqual){if(g.unequalVariable="["+String(s)+"]"+g.unequalVariable,!g.stringDiff)return g;p=g}}return p}}}return{isEqual:!1,unequalVariable:"",stringDiff:!1,o1:r,o2:o}}function r(t,e){if(t&&e){var n,i;t.length>e.length?(i=t.split(""),n=e.split("")):(n=t.split(""),i=e.split(""));for(var r,o=0,a=[],s=0;s<n.length&&o<i.length;s++){for(r="";n[s]!=i[o]&&o<i.length;)r+=i[o],o++;r&&a.push(r),n[s]==i[o]&&o++}var u=s==n.length;if(o<i.length){for(r="";o<i.length;)r+=i[o],o++;a.push(r)}}else var u=!1,a=[];return{areSimilar:u,differences:a}}function o(t){var e=/\s/g;if(1!=t.length)return!1;for(var n in t[0])if(t[0][n].match(e))return!1;return!0}var a=15,s=(angular.isDefined,angular.isUndefined),u=angular.isFunction,l=angular.isArray,c=angular.isString,f=angular.isObject,h=angular.isDate,d=(angular.forEach,angular.copy),p=angular.bind;angular.module("Chronicle",[]).service("Chronicle",["$rootScope","$parse",function(t,e){this.record=function(t,e,n,i){var r=new h(t,e,n,i);return r};var h=function(t,i,r,o){if(!c(t))throw new Error("Watch variable that is not a string was passed to Chronicle.");if(this.watchVar=t,this.parsedWatchVar=e(t),s(this.parsedWatchVar(i)))throw new Error(t+", the watch variable passed to Chronicle, is not defined in the given scope.");if(s(i))throw new Error("Undefined scope passed to Chronicle.");if(n(i))this.isScope=!0;else{if(!f(i))throw new Error("Incorrect scope type passed to Chronicle.");this.isScope=!1}if(this.scope=i,r!==!0&&"true"!==r?this.stringHandling=!1:this.stringHandling=!0,this.parsedNoWatchVars=[],l(o))for(var a in o){if(!c(o[a]))throw new Error("Not all passed 'no watch' variables are in string format");if(this.parsedNoWatchVars.push(e(o[a])),s(this.parsedNoWatchVars[a](i)))throw new Error(o[a]+", a 'no watch' variable passed to Chronicle, is not defined in the given scope");
}else if(c(o)){if(this.parsedNoWatchVars.push(e(o)),s(this.parsedNoWatchVars[0](i)))throw new Error(o+", the 'no watch' variable passed to Chronicle, is not defined in the given scope")}else if(!s(o))throw new Error("Incorect type for 'no watch' variables");this.archive=[],this.onAdjustFunctions=[],this.onRedoFunctions=[],this.onUndoFunctions=[],this.currArchivePos=null,this.addWatch()};h.prototype.addOnAdjustFunction=function(t){if(!u(t))throw new Error("Function added to run on adjustment is not a function");this.onAdjustFunctions.push(t)},h.prototype.removeOnAdjustFunction=function(t){this.onAdjustFunctions.splice(this.onAdjustFunctions.indexOf(t),1)},h.prototype.addOnUndoFunction=function(t){if(!u(t))throw new Error("Function added to run on undo is not a function");this.onUndoFunctions.push(t)},h.prototype.removeOnUndoFunction=function(t){this.onUndoFunctions.splice(this.onUndoFunctions.indexOf(t),1)},h.prototype.addOnRedoFunction=function(t){if(!u(t))throw new Error("Function added to run on redo is not a function");this.onRedoFunctions.push(t)},h.prototype.removeOnRedoFunction=function(t){this.onRedoFunctions.splice(this.onRedoFunctions.indexOf(t),1)},h.prototype.undo=function(){if(this.canUndo()){this.currArchivePos-=1,this.revert(this.currArchivePos);for(var t=0;t<this.onUndoFunctions.length;t++)this.onUndoFunctions[t]();return!0}return!1},h.prototype.redo=function(){if(this.canRedo()){this.currArchivePos+=1,this.revert(this.currArchivePos);for(var t=0;t<this.onRedoFunctions.length;t++)this.onRedoFunctions[t]();return!0}return!1},h.prototype.revert=function(t){this.parsedWatchVar.assign(this.scope,d(this.archive[t].watchVar));for(var e=0;e<this.parsedNoWatchVars.length;e++)this.parsedNoWatchVars[e].assign(this.scope,d(this.archive[t].noWatchVars[e]))},h.prototype.canRedo=function(){return this.currArchivePos<this.archive.length-1},h.prototype.canUndo=function(){return this.currArchivePos>0},h.prototype.addToArchive=function(){var t=!1;if(this.archive.length){var n=i(this.parsedWatchVar(this.scope),this.archive[this.currArchivePos].watchVar);if(!n.isEqual){t=!0;var s=e(this.watchVar+n.unequalVariable);if(this.stringHandling&&n.stringDiff){var u=!1,l=r(n.o1,n.o2);if(l.areSimilar&&this.archive[this.currArchivePos].parsedUnequalVariable==s){var u=o(l.differences);"string"!=typeof e("watchVar"+n.unequalVariable)(this.archive[this.currArchivePos-1])?u=!1:u&&Math.abs(e("watchVar"+n.unequalVariable)(this.archive[this.currArchivePos-1]).length-e("watchVar"+n.unequalVariable)(this.archive[this.currArchivePos]).length)>=a&&(u=!1)}}}}else t=!0;t&&this.newEntry(u,s)},h.prototype.newEntry=function(t,e){var n={};n.noWatchVars=[],n.parsedUnequalVariable=e,n.watchVar=d(this.parsedWatchVar(this.scope));for(var i=0;i<this.parsedNoWatchVars.length;i++)n.noWatchVars.push(d(this.parsedNoWatchVars[i](this.scope)));if(this.archive.length-1>this.currArchivePos){var r=this.archive.length-this.currArchivePos-1;this.archive.splice(this.currArchivePos+1,r)}for(t&&this.archive.splice(this.currArchivePos,1),this.archive.push(n),this.currArchivePos=this.archive.length-1,i=0;i<this.onAdjustFunctions.length;i++)this.onAdjustFunctions[i]()},h.prototype.addWatch=function(){var e=this;e.isScope?e.cancelWatch=e.scope.$watch(e.watchVar,function(){e.addToArchive.apply(e)},!0):e.cancelWatch=t.$watch(p(e,function(){return e.parsedWatchVar(e.scope)}),function(){e.addToArchive.apply(e)},!0)}}])}(),/*
 * angular-tooltips
 * 1.0.10
 * 
 * Angular.js tooltips module.
 * http://720kb.github.io/angular-tooltips
 * 
 * MIT license
 * Sat Apr 30 2016
 */
!function(t,e){"use strict";var n="tooltips",i=function(){var t=[],n=0,i=function(i){i-n>=15?(t.forEach(function(t){t()}),n=i):e.console.log("Skipped!")},r=function(){e.requestAnimationFrame(i)},o=function(e){e&&t.push(e)};return{add:function(n){t.length||e.addEventListener("resize",r),o(n)}}}(),r=function(t){var e={};return t.removeAttr(n),void 0!==t.attr("tooltip-template")&&(e["tooltip-template"]=t.attr("tooltip-template"),t.removeAttr("tooltip-template")),void 0!==t.attr("tooltip-template-url")&&(e["tooltip-template-url"]=t.attr("tooltip-template-url"),t.removeAttr("tooltip-template-url")),void 0!==t.attr("tooltip-controller")&&(e["tooltip-controller"]=t.attr("tooltip-controller"),t.removeAttr("tooltip-controller")),void 0!==t.attr("tooltip-side")&&(e["tooltip-side"]=t.attr("tooltip-side"),t.removeAttr("tooltip-side")),void 0!==t.attr("tooltip-show-trigger")&&(e["tooltip-show-trigger"]=t.attr("tooltip-show-trigger"),t.removeAttr("tooltip-show-trigger")),void 0!==t.attr("tooltip-hide-trigger")&&(e["tooltip-hide-trigger"]=t.attr("tooltip-hide-trigger"),t.removeAttr("tooltip-hide-trigger")),void 0!==t.attr("tooltip-smart")&&(e["tooltip-smart"]=t.attr("tooltip-smart"),t.removeAttr("tooltip-smart")),void 0!==t.attr("tooltip-class")&&(e["tooltip-class"]=t.attr("tooltip-class"),t.removeAttr("tooltip-class")),void 0!==t.attr("tooltip-close-button")&&(e["tooltip-close-button"]=t.attr("tooltip-close-button"),t.removeAttr("tooltip-close-button")),void 0!==t.attr("tooltip-size")&&(e["tooltip-size"]=t.attr("tooltip-size"),t.removeAttr("tooltip-size")),void 0!==t.attr("tooltip-speed")&&(e["tooltip-speed"]=t.attr("tooltip-speed"),t.removeAttr("tooltip-speed")),e},o=function(t){return e.getComputedStyle?e.getComputedStyle(t,""):t.currentStyle?t.currentStyle:void 0},a=function(n){for(var i,r,o=e.document.querySelectorAll("._exradicated-tooltip"),a=0,s=o.length;s>a;a+=1)if(i=o.item(a),i&&(r=t.element(i),r.data("_tooltip-parent")&&r.data("_tooltip-parent")===n))return r},s=function(t){var e=a(t);e&&e.remove()},u=function(t){if(t){var n=t[0].getBoundingClientRect();return(n.top<0||n.top>e.document.body.offsetHeight||n.left<0||n.left>e.document.body.offsetWidth||n.bottom<0||n.bottom>e.document.body.offsetHeight||n.right<0||n.right>e.document.body.offsetWidth)&&(t.css({top:"",left:"",bottom:"",right:""}),!0)}throw new Error("You must provide a position")},l=function(){var t={side:"top",showTrigger:"mouseover",hideTrigger:"mouseleave","class":"",smart:!1,closeButton:!1,size:"",speed:"steady"};return{configure:function(e){var n,i=Object.keys(t),r=0;if(e)for(;r<i.length;r+=1)n=i[r],n&&e[n]&&(t[n]=e[n])},$get:function(){return t}}},c=["$log","$http","$compile","$timeout","$controller","$injector","tooltipsConf",function(n,l,c,f,h,d,p){var g=function(n,d,g,m,v){if(g.tooltipTemplate&&g.tooltipTemplateUrl)throw new Error("You can not define tooltip-template and tooltip-template-url together");if(!g.tooltipTemplateUrl&&!g.tooltipTemplate&&g.tooltipController)throw new Error("You can not have a controller without a template or templateUrl defined");var y,b="_"+p.side,_=p.showTrigger,x=p.hideTrigger,w=p.size,k="_"+p.speed;g.tooltipSide=g.tooltipSide||p.side,g.tooltipShowTrigger=g.tooltipShowTrigger||p.showTrigger,g.tooltipHideTrigger=g.tooltipHideTrigger||p.hideTrigger,g.tooltipClass=g.tooltipClass||p["class"],g.tooltipSmart="true"===g.tooltipSmart||p.smart,g.tooltipCloseButton=g.tooltipCloseButton||p.closeButton.toString(),g.tooltipSize=g.tooltipSize||p.size,g.tooltipSpeed=g.tooltipSpeed||p.speed,g.tooltipAppendToBody="true"===g.tooltipAppendToBody,v(n,function(n,p){var m=r(n),v=t.element(e.document.createElement("tooltip")),E=t.element(e.document.createElement("tip-cont")),S=t.element(e.document.createElement("tip")),C=t.element(e.document.createElement("tip-tip")),T=t.element(e.document.createElement("span")),M=t.element(e.document.createElement("tip-arrow")),A=function(){return E.html()},$=function(t){void 0!==t&&E[0].getClientRects().length>1?v.addClass("_multiline"):v.removeClass("_multiline")},O=function(n){if(S.addClass("_hidden"),g.tooltipSmart)switch(g.tooltipSide){case"top":u(S)&&(v.removeClass("_top"),v.addClass("_left"),u(S)&&(v.removeClass("_left"),v.addClass("_bottom"),u(S)&&(v.removeClass("_bottom"),v.addClass("_right"),u(S)&&(v.removeClass("_right"),v.addClass("_top")))));break;case"left":u(S)&&(v.removeClass("_left"),v.addClass("_bottom"),u(S)&&(v.removeClass("_bottom"),v.addClass("_right"),u(S)&&(v.removeClass("_right"),v.addClass("_top"),u(S)&&(v.removeClass("_top"),v.addClass("_left")))));break;case"bottom":u(S)&&(v.removeClass("_bottom"),v.addClass("_left"),u(S)&&(v.removeClass("_left"),v.addClass("_top"),u(S)&&(v.removeClass("_top"),v.addClass("_right"),u(S)&&(v.removeClass("_right"),v.addClass("_bottom")))));break;case"right":u(S)&&(v.removeClass("_right"),v.addClass("_top"),u(S)&&(v.removeClass("_top"),v.addClass("_left"),u(S)&&(v.removeClass("_left"),v.addClass("_bottom"),u(S)&&(v.removeClass("_bottom"),v.addClass("_right")))));break;default:throw new Error("Position not supported")}if(g.tooltipAppendToBody){var i,r,a,l,c,f=o(C[0]),h=o(M[0]),d=o(S[0]),p=S[0].getBoundingClientRect(),m=t.copy(S),y=0,b=f.length,_=0,x=h.length,w=0,k=d.length,E={},T={},A={};for(S.removeClass("_hidden"),m.removeClass("_hidden"),m.data("_tooltip-parent",v),s(v);b>y;y+=1)i=f[y],i&&f.getPropertyValue(i)&&(E[i]=f.getPropertyValue(i));for(;x>_;_+=1)i=h[_],i&&h.getPropertyValue(i)&&(A[i]=h.getPropertyValue(i));for(;k>w;w+=1)i=d[w],i&&"position"!==i&&"display"!==i&&"opacity"!==i&&"z-index"!==i&&"bottom"!==i&&"height"!==i&&"left"!==i&&"right"!==i&&"top"!==i&&"width"!==i&&d.getPropertyValue(i)&&(T[i]=d.getPropertyValue(i));r=e.parseInt(d.getPropertyValue("padding-top"),10),a=e.parseInt(d.getPropertyValue("padding-bottom"),10),l=e.parseInt(d.getPropertyValue("padding-left"),10),c=e.parseInt(d.getPropertyValue("padding-right"),10),T.top=p.top+e.scrollY+"px",T.left=p.left+e.scrollX+"px",T.height=p.height-(r+a)+"px",T.width=p.width-(l+c)+"px",m.css(T),m.children().css(E),m.children().next().css(A),n&&"true"!==g.tooltipHidden&&(m.addClass("_exradicated-tooltip"),t.element(e.document.body).append(m))}else S.removeClass("_hidden"),n&&"true"!==g.tooltipHidden&&v.addClass("active")},D=function(){g.tooltipAppendToBody?s(v):v.removeClass("active")},N=function it(t){var e,n=t.parent();t[0]&&(t[0].scrollHeight>t[0].clientHeight||t[0].scrollWidth>t[0].clientWidth)&&t.on("scroll",function(){var t=this;e&&f.cancel(e),e=f(function(){var e=a(v),n=v[0].getBoundingClientRect(),i=t.getBoundingClientRect();n.top<i.top||n.bottom>i.bottom||n.left<i.left||n.right>i.right?s(v):e&&O(!0)})}),n&&n.length&&it(n)},I=function(t){t?(v.removeClass("_force-hidden"),C.empty(),C.append(T),C.append(t),f(function(){O()})):(C.empty(),v.addClass("_force-hidden"))},L=function(t){t?l.get(t).then(function(t){t&&t.data&&(v.removeClass("_force-hidden"),C.empty(),C.append(T),C.append(c(t.data)(p)),f(function(){O()}))}):(C.empty(),v.addClass("_force-hidden"))},P=function(t){t&&(b&&v.removeAttr("_"+b),v.addClass("_"+t),b=t)},R=function(t){t&&(_&&v.off(_),v.on(t,O),_=t)},F=function(t){t&&(x&&v.off(x),v.on(t,D),x=t)},j=function(t){t&&(y&&S.removeClass(y),S.addClass(t),y=t)},U=function(){"boolean"!=typeof g.tooltipSmart&&(g.tooltipSmart="true"===g.tooltipSmart)},z=function(t){var e="true"===t;e?(T.on("click",D),T.css("display","block")):(T.off("click"),T.css("display","none"))},H=function(e){if(e){var n,i=h(e,{$scope:p}),r=p.$new(!1,p),o=e.indexOf("as");o>=0?(n=e.substr(o+3),r[n]=i):t.extend(r,i),C.replaceWith(c(C)(r)),Q()}},q=function(t){t&&(w&&C.removeClass("_"+w),C.addClass("_"+t),w=t)},W=function(t){t&&(k&&v.removeClass("_"+k),v.addClass("_"+t),k=t)},Y=g.$observe("tooltipTemplate",I),B=g.$observe("tooltipTemplateUrl",L),V=g.$observe("tooltipSide",P),X=g.$observe("tooltipShowTrigger",R),G=g.$observe("tooltipHideTrigger",F),K=g.$observe("tooltipClass",j),J=g.$observe("tooltipSmart",U),Z=g.$observe("tooltipCloseButton",z),Q=g.$observe("tooltipController",H),tt=g.$observe("tooltipSize",q),et=g.$observe("tooltipSpeed",W),nt=p.$watch(A,$);T.attr({id:"close-button"}),T.html("&times;"),S.addClass("_hidden"),C.append(T),C.append(g.tooltipTemplate),S.append(C),S.append(M),E.append(n),v.attr(m),v.addClass("tooltips"),v.append(E),v.append(S),d.after(v),g.tooltipAppendToBody&&(i.add(function(){N(v)}),N(v)),i.add(function(){$(),O()}),f(function(){O(),S.removeClass("_hidden"),v.addClass("_ready")}),p.$on("$destroy",function(){Y(),B(),V(),X(),G(),K(),J(),Z(),tt(),et(),nt(),n.off(g.tooltipShowTrigger+" "+g.tooltipHideTrigger)})})};return{restrict:"A",transclude:"element",priority:1,terminal:!0,link:g}}];t.module("720kb.tooltips",[]).provider(n+"Conf",l).directive(n,c)}(angular,window),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.ZSchema=t()}}(function(){var t;return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){function i(){}var r=e.exports={};r.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.MutationObserver,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};var i=[];if(e){var r=document.createElement("div"),o=new MutationObserver(function(){var t=i.slice();i.length=0,t.forEach(function(t){t()})});return o.observe(r,{attributes:!0}),function(t){i.length||r.setAttribute("yes","no"),i.push(t)}}return n?(window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),i.length>0)){var n=i.shift();n()}},!0),function(t){i.push(t),window.postMessage("process-tick","*")}):function(t){setTimeout(t,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=i,r.addListener=i,r.once=i,r.off=i,r.removeListener=i,r.removeAllListeners=i,r.emit=i,r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")}},{}],2:[function(t,e,n){function i(t,e,n){var i=null==t?void 0:r(t,o(e),e+"");return void 0===i?n:i}var r=t("lodash._baseget"),o=t("lodash._topath");e.exports=i},{"lodash._baseget":3,"lodash._topath":4}],3:[function(t,e,n){function i(t,e,n){if(null!=t){void 0!==n&&n in r(t)&&(e=[n]);for(var i=0,o=e.length;null!=t&&o>i;)t=t[e[i++]];return i&&i==o?t:void 0}}function r(t){return o(t)?t:Object(t)}function o(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}e.exports=i},{}],4:[function(t,e,n){function i(t){return null==t?"":t+""}function r(t){if(o(t))return t;var e=[];return i(t).replace(a,function(t,n,i,r){e.push(i?r.replace(s,"$1"):n||t)}),e}var o=t("lodash.isarray"),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,s=/\\(\\)?/g;e.exports=r},{"lodash.isarray":5}],5:[function(t,e,n){function i(t){return!!t&&"object"==typeof t}function r(t,e){var n=null==t?void 0:t[e];return u(n)?n:void 0}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&y>=t}function a(t){return s(t)&&g.call(t)==c}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function u(t){return null!=t&&(a(t)?m.test(d.call(t)):i(t)&&f.test(t))}var l="[object Array]",c="[object Function]",f=/^\[object .+?Constructor\]$/,h=Object.prototype,d=Function.prototype.toString,p=h.hasOwnProperty,g=h.toString,m=RegExp("^"+d.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),v=r(Array,"isArray"),y=9007199254740991,b=v||function(t){return i(t)&&o(t.length)&&g.call(t)==l};e.exports=b},{}],6:[function(e,n,i){!function(e,r){"undefined"!=typeof i&&"undefined"!=typeof n?n.exports=r():"function"==typeof t&&"object"==typeof t.amd?t(r):this[e]=r()}("validator",function(t){"use strict";function e(t,e){t=t||{};for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);return t}function n(t){var e="(\\"+t.symbol.replace(/\./g,"\\.")+")"+(t.require_symbol?"":"?"),n="-?",i="[1-9]\\d*",r="[1-9]\\d{0,2}(\\"+t.thousands_separator+"\\d{3})*",o=["0",i,r],a="("+o.join("|")+")?",s="(\\"+t.decimal_separator+"\\d{2})?",u=a+s;return t.allow_negatives&&!t.parens_for_negatives&&(t.negative_sign_after_digits?u+=n:t.negative_sign_before_digits&&(u=n+u)),t.allow_negative_sign_placeholder?u="( (?!\\-))?"+u:t.allow_space_after_symbol?u=" ?"+u:t.allow_space_after_digits&&(u+="( (?!$))?"),t.symbol_after_digits?u+=e:u=e+u,t.allow_negatives&&(t.parens_for_negatives?u="(\\("+u+"\\)|"+u+")":t.negative_sign_before_digits||t.negative_sign_after_digits||(u=n+u)),new RegExp("^(?!-? )(?=.*\\d)"+u+"$")}t={version:"4.0.5"};var i=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,r=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,o=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,a=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,s=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i,u=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,l=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/,c=/^(?:[0-9]{9}X|[0-9]{10})$/,f=/^(?:[0-9]{13})$/,h=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/,d=/^[0-9A-F]{1,4}$/i,p={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i},g=/^[A-Z]+$/i,m=/^[0-9A-Z]+$/i,v=/^[-+]?[0-9]+$/,y=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,b=/^(?:[-+]?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][\+\-]?(?:[0-9]+))?$/,_=/^[0-9A-F]+$/i,x=/^[-+]?([0-9]+|\.[0-9]+|[0-9]+\.[0-9]+)$/,w=/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i,k=/^[\x00-\x7F]+$/,E=/[^\x00-\x7F]/,S=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/,C=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/,T=/[\uD800-\uDBFF][\uDC00-\uDFFF]/,M=/^(?:[A-Z0-9+\/]{4})*(?:[A-Z0-9+\/]{2}==|[A-Z0-9+\/]{3}=|[A-Z0-9+\/]{4})$/i,A={"zh-CN":/^(\+?0?86\-?)?1[345789]\d{9}$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-HK":/^(\+?852\-?)?[569]\d{3}\-?\d{4}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"pt-PT":/^(\+351)?9[1236]\d{7}$/,"el-GR":/^(\+30)?((2\d{9})|(69\d{8}))$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-US":/^(\+?1)?[2-9]\d{2}[2-9](?!11)\d{6}$/,"en-ZM":/^(\+26)?09[567]\d{7}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/},$=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;t.extend=function(e,n){t[e]=function(){var e=Array.prototype.slice.call(arguments);return e[0]=t.toString(e[0]),n.apply(t,e)}},t.init=function(){for(var e in t)"function"==typeof t[e]&&"toString"!==e&&"toDate"!==e&&"extend"!==e&&"init"!==e&&t.extend(e,t[e])},t.toString=function(t){return"object"==typeof t&&null!==t&&t.toString?t=t.toString():null===t||"undefined"==typeof t||isNaN(t)&&!t.length?t="":"string"!=typeof t&&(t+=""),t},t.toDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)?t:(t=Date.parse(t),isNaN(t)?null:new Date(t))},t.toFloat=function(t){return parseFloat(t)},t.toInt=function(t,e){return parseInt(t,e||10)},t.toBoolean=function(t,e){return e?"1"===t||"true"===t:"0"!==t&&"false"!==t&&""!==t},t.equals=function(e,n){return e===t.toString(n)},t.contains=function(e,n){return e.indexOf(t.toString(n))>=0},t.matches=function(t,e,n){return"[object RegExp]"!==Object.prototype.toString.call(e)&&(e=new RegExp(e,n)),e.test(t)};var O={allow_display_name:!1,allow_utf8_local_part:!0,require_tld:!0};t.isEmail=function(n,u){if(u=e(u,O),u.allow_display_name){var l=n.match(s);l&&(n=l[1])}var c=n.split("@"),f=c.pop(),h=c.join("@"),d=f.toLowerCase();if(("gmail.com"===d||"googlemail.com"===d)&&(h=h.replace(/\./g,"").toLowerCase()),!t.isByteLength(h,0,64)||!t.isByteLength(f,0,256))return!1;if(!t.isFQDN(f,{require_tld:u.require_tld}))return!1;if('"'===h[0])return h=h.slice(1,h.length-1),u.allow_utf8_local_part?a.test(h):r.test(h);for(var p=u.allow_utf8_local_part?o:i,g=h.split("."),m=0;m<g.length;m++)if(!p.test(g[m]))return!1;return!0};var D={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1};t.isURL=function(n,i){if(!n||n.length>=2083||/\s/.test(n))return!1;if(0===n.indexOf("mailto:"))return!1;i=e(i,D);var r,o,a,s,u,l,c;if(c=n.split("://"),c.length>1){if(r=c.shift(),i.require_valid_protocol&&-1===i.protocols.indexOf(r))return!1}else{if(i.require_protocol)return!1;i.allow_protocol_relative_urls&&"//"===n.substr(0,2)&&(c[0]=n.substr(2))}return n=c.join("://"),c=n.split("#"),n=c.shift(),c=n.split("?"),n=c.shift(),c=n.split("/"),n=c.shift(),c=n.split("@"),!(c.length>1&&(o=c.shift(),o.indexOf(":")>=0&&o.split(":").length>2))&&(s=c.join("@"),c=s.split(":"),a=c.shift(),!(c.length&&(l=c.join(":"),u=parseInt(l,10),!/^[0-9]+$/.test(l)||0>=u||u>65535))&&(!(!t.isIP(a)&&!t.isFQDN(a,i)&&"localhost"!==a)&&((!i.host_whitelist||-1!==i.host_whitelist.indexOf(a))&&(!i.host_blacklist||-1===i.host_blacklist.indexOf(a)))))},t.isIP=function(e,n){if(n=t.toString(n),!n)return t.isIP(e,4)||t.isIP(e,6);if("4"===n){if(!h.test(e))return!1;var i=e.split(".").sort(function(t,e){return t-e});return i[3]<=255}if("6"===n){var r=e.split(":"),o=!1,a=t.isIP(r[r.length-1],4),s=a?7:8;if(r.length>s)return!1;if("::"===e)return!0;"::"===e.substr(0,2)?(r.shift(),r.shift(),o=!0):"::"===e.substr(e.length-2)&&(r.pop(),r.pop(),o=!0);for(var u=0;u<r.length;++u)if(""===r[u]&&u>0&&u<r.length-1){if(o)return!1;o=!0}else if(a&&u==r.length-1);else if(!d.test(r[u]))return!1;return o?r.length>=1:r.length===s}return!1};var N={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};t.isFQDN=function(t,n){n=e(n,N),n.allow_trailing_dot&&"."===t[t.length-1]&&(t=t.substring(0,t.length-1));var i=t.split(".");if(n.require_tld){var r=i.pop();if(!i.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(r))return!1}for(var o,a=0;a<i.length;a++){if(o=i[a],n.allow_underscores){if(o.indexOf("__")>=0)return!1;o=o.replace(/_/g,"")}if(!/^[a-z\u00a1-\uffff0-9-]+$/i.test(o))return!1;if(/[\uff01-\uff5e]/.test(o))return!1;if("-"===o[0]||"-"===o[o.length-1]||o.indexOf("---")>=0)return!1}return!0},t.isBoolean=function(t){return["true","false","1","0"].indexOf(t)>=0},t.isAlpha=function(t){return g.test(t)},t.isAlphanumeric=function(t){return m.test(t)},t.isNumeric=function(t){return v.test(t)},t.isDecimal=function(t){return""!==t&&x.test(t)},t.isHexadecimal=function(t){return _.test(t)},t.isHexColor=function(t){return w.test(t)},t.isLowercase=function(t){return t===t.toLowerCase()},t.isUppercase=function(t){return t===t.toUpperCase()},t.isInt=function(t,e){return e=e||{},y.test(t)&&(!e.hasOwnProperty("min")||t>=e.min)&&(!e.hasOwnProperty("max")||t<=e.max)},t.isFloat=function(t,e){return e=e||{},""!==t&&b.test(t)&&(!e.hasOwnProperty("min")||t>=e.min)&&(!e.hasOwnProperty("max")||t<=e.max)},t.isDivisibleBy=function(e,n){return t.toFloat(e)%t.toInt(n)===0},t.isNull=function(t){return 0===t.length},t.isLength=function(t,e,n){var i=t.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],r=t.length-i.length;return r>=e&&("undefined"==typeof n||n>=r)},t.isByteLength=function(t,e,n){var i=encodeURI(t).split(/%..|./).length-1;return i>=e&&("undefined"==typeof n||n>=i)},t.isUUID=function(t,e){var n=p[e?e:"all"];return n&&n.test(t)},t.isDate=function(t){return!isNaN(Date.parse(t))},t.isAfter=function(e,n){var i=t.toDate(n||new Date),r=t.toDate(e);return!!(r&&i&&r>i)},t.isBefore=function(e,n){var i=t.toDate(n||new Date),r=t.toDate(e);return r&&i&&i>r},t.isIn=function(e,n){var i;if("[object Array]"===Object.prototype.toString.call(n)){var r=[];for(i in n)r[i]=t.toString(n[i]);return r.indexOf(e)>=0}return"object"==typeof n?n.hasOwnProperty(e):!(!n||"function"!=typeof n.indexOf)&&n.indexOf(e)>=0},t.isCreditCard=function(t){var e=t.replace(/[^0-9]+/g,"");if(!u.test(e))return!1;for(var n,i,r,o=0,a=e.length-1;a>=0;a--)n=e.substring(a,a+1),i=parseInt(n,10),r?(i*=2,o+=i>=10?i%10+1:i):o+=i,r=!r;return!(o%10!==0||!e)},t.isISIN=function(t){if(!l.test(t))return!1;for(var e,n,i=t.replace(/[A-Z]/g,function(t){return parseInt(t,36)}),r=0,o=!0,a=i.length-2;a>=0;a--)e=i.substring(a,a+1),n=parseInt(e,10),o?(n*=2,r+=n>=10?n+1:n):r+=n,o=!o;return parseInt(t.substr(t.length-1),10)===(1e4-r)%10},t.isISBN=function(e,n){if(n=t.toString(n),!n)return t.isISBN(e,10)||t.isISBN(e,13);var i,r=e.replace(/[\s-]+/g,""),o=0;if("10"===n){if(!c.test(r))return!1;for(i=0;9>i;i++)o+=(i+1)*r.charAt(i);if(o+="X"===r.charAt(9)?100:10*r.charAt(9),o%11===0)return!!r}else if("13"===n){if(!f.test(r))return!1;var a=[1,3];for(i=0;12>i;i++)o+=a[i%2]*r.charAt(i);if(r.charAt(12)-(10-o%10)%10===0)return!!r}return!1},t.isMobilePhone=function(t,e){return e in A&&A[e].test(t)};var I={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_space_after_digits:!1};t.isCurrency=function(t,i){return i=e(i,I),n(i).test(t)},t.isJSON=function(t){try{var e=JSON.parse(t);return!!e&&"object"==typeof e}catch(n){}return!1},t.isMultibyte=function(t){return E.test(t)},t.isAscii=function(t){return k.test(t)},t.isFullWidth=function(t){return S.test(t)},t.isHalfWidth=function(t){return C.test(t)},t.isVariableWidth=function(t){return S.test(t)&&C.test(t)},t.isSurrogatePair=function(t){return T.test(t)},t.isBase64=function(t){return M.test(t)},t.isMongoId=function(e){return t.isHexadecimal(e)&&24===e.length},t.isISO8601=function(t){return $.test(t)},t.ltrim=function(t,e){var n=e?new RegExp("^["+e+"]+","g"):/^\s+/g;return t.replace(n,"")},t.rtrim=function(t,e){var n=e?new RegExp("["+e+"]+$","g"):/\s+$/g;return t.replace(n,"")},t.trim=function(t,e){var n=e?new RegExp("^["+e+"]+|["+e+"]+$","g"):/^\s+|\s+$/g;return t.replace(n,"")},t.escape=function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\`/g,"&#96;")},t.stripLow=function(e,n){var i=n?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return t.blacklist(e,i)},t.whitelist=function(t,e){return t.replace(new RegExp("[^"+e+"]+","g"),"")},t.blacklist=function(t,e){return t.replace(new RegExp("["+e+"]+","g"),"")};var L={lowercase:!0};return t.normalizeEmail=function(n,i){if(i=e(i,L),!t.isEmail(n))return!1;var r=n.split("@",2);if(r[1]=r[1].toLowerCase(),"gmail.com"===r[1]||"googlemail.com"===r[1]){if(r[0]=r[0].toLowerCase().replace(/\./g,""),"+"===r[0][0])return!1;r[0]=r[0].split("+")[0],r[1]="gmail.com"}else i.lowercase&&(r[0]=r[0].toLowerCase());return r.join("@")},t.init(),t})},{}],7:[function(t,e,n){"use strict";e.exports={INVALID_TYPE:"Expected type {0} but found type {1}",INVALID_FORMAT:"Object didn't pass validation for format {0}: {1}",ENUM_MISMATCH:"No enum match for: {0}",ANY_OF_MISSING:"Data does not match any schemas from 'anyOf'",ONE_OF_MISSING:"Data does not match any schemas from 'oneOf'",ONE_OF_MULTIPLE:"Data is valid against more than one schema from 'oneOf'",NOT_PASSED:"Data matches schema from 'not'",ARRAY_LENGTH_SHORT:"Array is too short ({0}), minimum {1}",ARRAY_LENGTH_LONG:"Array is too long ({0}), maximum {1}",ARRAY_UNIQUE:"Array items are not unique (indexes {0} and {1})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",MULTIPLE_OF:"Value {0} is not a multiple of {1}",MINIMUM:"Value {0} is less than minimum {1}",MINIMUM_EXCLUSIVE:"Value {0} is equal or less than exclusive minimum {1}",MAXIMUM:"Value {0} is greater than maximum {1}",MAXIMUM_EXCLUSIVE:"Value {0} is equal or greater than exclusive maximum {1}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({0}), minimum {1}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({0}), maximum {1}",OBJECT_MISSING_REQUIRED_PROPERTY:"Missing required property: {0}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed: {0}",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {0} (due to key: {1})",MIN_LENGTH:"String is too short ({0} chars), minimum {1}",MAX_LENGTH:"String is too long ({0} chars), maximum {1}",PATTERN:"String does not match pattern {0}: {1}",KEYWORD_TYPE_EXPECTED:"Keyword '{0}' is expected to be of type '{1}'",KEYWORD_UNDEFINED_STRICT:"Keyword '{0}' must be defined in strict mode",KEYWORD_UNEXPECTED:"Keyword '{0}' is not expected to appear in the schema",KEYWORD_MUST_BE:"Keyword '{0}' must be {1}",KEYWORD_DEPENDENCY:"Keyword '{0}' requires keyword '{1}'",KEYWORD_PATTERN:"Keyword '{0}' is not a valid RegExp pattern: {1}",KEYWORD_VALUE_TYPE:"Each element of keyword '{0}' array must be a '{1}'",UNKNOWN_FORMAT:"There is no validation function for format '{0}'",CUSTOM_MODE_FORCE_PROPERTIES:"{0} must define at least one property if present",REF_UNRESOLVED:"Reference has not been resolved during compilation: {0}",UNRESOLVABLE_REFERENCE:"Reference could not be resolved: {0}",SCHEMA_NOT_REACHABLE:"Validator was not able to read schema with uri: {0}",SCHEMA_TYPE_EXPECTED:"Schema is expected to be of type 'object'",SCHEMA_NOT_AN_OBJECT:"Schema is not an object: {0}",ASYNC_TIMEOUT:"{0} asynchronous task(s) have timed out after {1} ms",PARENT_SCHEMA_VALIDATION_FAILED:"Schema failed to validate against its parent schema, see inner errors for details.",REMOTE_NOT_VALID:"Remote reference didn't compile successfully: {0}"}},{}],8:[function(t,e,n){var i=t("validator"),r={date:function(t){if("string"!=typeof t)return!0;var e=/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/.exec(t);return null!==e&&!(e[2]<"01"||e[2]>"12"||e[3]<"01"||e[3]>"31")},"date-time":function(t){if("string"!=typeof t)return!0;var e=t.toLowerCase().split("t");if(!r.date(e[0]))return!1;var n=/^([0-9]{2}):([0-9]{2}):([0-9]{2})(.[0-9]+)?(z|([+-][0-9]{2}:[0-9]{2}))$/.exec(e[1]);return null!==n&&!(n[1]>"23"||n[2]>"59"||n[3]>"59")},email:function(t){return"string"!=typeof t||i.isEmail(t,{require_tld:!0})},hostname:function(t){if("string"!=typeof t)return!0;var e=/^[a-zA-Z](([-0-9a-zA-Z]+)?[0-9a-zA-Z])?(\.[a-zA-Z](([-0-9a-zA-Z]+)?[0-9a-zA-Z])?)*$/.test(t);if(e){if(t.length>255)return!1;for(var n=t.split("."),i=0;i<n.length;i++)if(n[i].length>63)return!1}return e},"host-name":function(t){return r.hostname.call(this,t)},ipv4:function(t){return"string"!=typeof t||i.isIP(t,4)},ipv6:function(t){return"string"!=typeof t||i.isIP(t,6)},regex:function(t){try{return RegExp(t),!0}catch(e){return!1}},uri:function(t){return this.options.strictUris?r["strict-uri"].apply(this,arguments):"string"!=typeof t||RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?").test(t)},"strict-uri":function(t){return"string"!=typeof t||i.isURL(t)}};e.exports=r},{validator:6}],9:[function(t,e,n){"use strict";var i=t("./FormatValidators"),r=t("./Report"),o=t("./Utils"),a={multipleOf:function(t,e,n){"number"==typeof n&&"integer"!==o.whatIs(n/e.multipleOf)&&t.addError("MULTIPLE_OF",[n,e.multipleOf],null,e.description)},maximum:function(t,e,n){"number"==typeof n&&(e.exclusiveMaximum!==!0?n>e.maximum&&t.addError("MAXIMUM",[n,e.maximum],null,e.description):n>=e.maximum&&t.addError("MAXIMUM_EXCLUSIVE",[n,e.maximum],null,e.description))},exclusiveMaximum:function(){},minimum:function(t,e,n){"number"==typeof n&&(e.exclusiveMinimum!==!0?n<e.minimum&&t.addError("MINIMUM",[n,e.minimum],null,e.description):n<=e.minimum&&t.addError("MINIMUM_EXCLUSIVE",[n,e.minimum],null,e.description))},exclusiveMinimum:function(){},maxLength:function(t,e,n){"string"==typeof n&&o.ucs2decode(n).length>e.maxLength&&t.addError("MAX_LENGTH",[n.length,e.maxLength],null,e.description)},minLength:function(t,e,n){"string"==typeof n&&o.ucs2decode(n).length<e.minLength&&t.addError("MIN_LENGTH",[n.length,e.minLength],null,e.description)},pattern:function(t,e,n){"string"==typeof n&&RegExp(e.pattern).test(n)===!1&&t.addError("PATTERN",[e.pattern,n],null,e.description)},additionalItems:function(t,e,n){Array.isArray(n)&&e.additionalItems===!1&&Array.isArray(e.items)&&n.length>e.items.length&&t.addError("ARRAY_ADDITIONAL_ITEMS",null,null,e.description)},items:function(){},maxItems:function(t,e,n){Array.isArray(n)&&n.length>e.maxItems&&t.addError("ARRAY_LENGTH_LONG",[n.length,e.maxItems],null,e.description)},minItems:function(t,e,n){Array.isArray(n)&&n.length<e.minItems&&t.addError("ARRAY_LENGTH_SHORT",[n.length,e.minItems],null,e.description)},uniqueItems:function(t,e,n){if(Array.isArray(n)&&e.uniqueItems===!0){var i=[];o.isUniqueArray(n,i)===!1&&t.addError("ARRAY_UNIQUE",i,null,e.description)}},maxProperties:function(t,e,n){if("object"===o.whatIs(n)){var i=Object.keys(n).length;i>e.maxProperties&&t.addError("OBJECT_PROPERTIES_MAXIMUM",[i,e.maxProperties],null,e.description)}},minProperties:function(t,e,n){if("object"===o.whatIs(n)){var i=Object.keys(n).length;i<e.minProperties&&t.addError("OBJECT_PROPERTIES_MINIMUM",[i,e.minProperties],null,e.description)}},required:function(t,e,n){if("object"===o.whatIs(n))for(var i=e.required.length;i--;){var r=e.required[i];void 0===n[r]&&t.addError("OBJECT_MISSING_REQUIRED_PROPERTY",[r],null,e.description)}},additionalProperties:function(t,e,n){return void 0===e.properties&&void 0===e.patternProperties?a.properties.call(this,t,e,n):void 0},patternProperties:function(t,e,n){return void 0===e.properties?a.properties.call(this,t,e,n):void 0},properties:function(t,e,n){if("object"===o.whatIs(n)){var i=void 0!==e.properties?e.properties:{},r=void 0!==e.patternProperties?e.patternProperties:{};if(e.additionalProperties===!1){var a=Object.keys(n),s=Object.keys(i),u=Object.keys(r);a=o.difference(a,s);for(var l=u.length;l--;)for(var c=RegExp(u[l]),f=a.length;f--;)c.test(a[f])===!0&&a.splice(f,1);if(a.length>0){var h=this.options.assumeAdditional.length;if(h)for(;h--;){var d=a.indexOf(this.options.assumeAdditional[h]);-1!==d&&a.splice(d,1)}a.length>0&&t.addError("OBJECT_ADDITIONAL_PROPERTIES",[a],null,e.description)}}}},dependencies:function(t,e,i){if("object"===o.whatIs(i))for(var r=Object.keys(e.dependencies),a=r.length;a--;){var s=r[a];if(i[s]){var u=e.dependencies[s];if("object"===o.whatIs(u))n.validate.call(this,t,u,i);else for(var l=u.length;l--;){var c=u[l];void 0===i[c]&&t.addError("OBJECT_DEPENDENCY_KEY",[c,s],null,e.description)}}}},"enum":function(t,e,n){for(var i=!1,r=e["enum"].length;r--;)if(o.areEqual(n,e["enum"][r])){i=!0;break}i===!1&&t.addError("ENUM_MISMATCH",[n],null,e.description)},allOf:function(t,e,i){for(var r=e.allOf.length;r--;){var o=n.validate.call(this,t,e.allOf[r],i);if(this.options.breakOnFirstError&&o===!1)break}},anyOf:function(t,e,i){for(var o=[],a=!1,s=e.anyOf.length;s--&&a===!1;){var u=new r(t);o.push(u),a=n.validate.call(this,u,e.anyOf[s],i)}a===!1&&t.addError("ANY_OF_MISSING",void 0,o,e.description)},oneOf:function(t,e,i){for(var o=0,a=[],s=e.oneOf.length;s--;){var u=new r(t,{maxErrors:1});a.push(u),n.validate.call(this,u,e.oneOf[s],i)===!0&&o++;
}0===o?t.addError("ONE_OF_MISSING",void 0,a,e.description):o>1&&t.addError("ONE_OF_MULTIPLE",null,null,e.description)},not:function(t,e,i){var o=new r(t);n.validate.call(this,o,e.not,i)===!0&&t.addError("NOT_PASSED",null,null,e.description)},definitions:function(){},format:function(t,e,n){var r=i[e.format];"function"==typeof r?2===r.length?t.addAsyncTask(r,[n],function(i){i!==!0&&t.addError("INVALID_FORMAT",[e.format,n],null,e.description)}):r.call(this,n)!==!0&&t.addError("INVALID_FORMAT",[e.format,n],null,e.description):this.options.ignoreUnknownFormats!==!0&&t.addError("UNKNOWN_FORMAT",[e.format],null,e.description)}},s=function(t,e,i){var r=i.length;if(Array.isArray(e.items))for(;r--;)r<e.items.length?(t.path.push(r.toString()),n.validate.call(this,t,e.items[r],i[r]),t.path.pop()):"object"==typeof e.additionalItems&&(t.path.push(r.toString()),n.validate.call(this,t,e.additionalItems,i[r]),t.path.pop());else if("object"==typeof e.items)for(;r--;)t.path.push(r.toString()),n.validate.call(this,t,e.items,i[r]),t.path.pop()},u=function(t,e,i){var r=e.additionalProperties;(r===!0||void 0===r)&&(r={});for(var o=e.properties?Object.keys(e.properties):[],a=e.patternProperties?Object.keys(e.patternProperties):[],s=Object.keys(i),u=s.length;u--;){var l=s[u],c=i[l],f=[];-1!==o.indexOf(l)&&f.push(e.properties[l]);for(var h=a.length;h--;){var d=a[h];RegExp(d).test(l)===!0&&f.push(e.patternProperties[d])}for(0===f.length&&r!==!1&&f.push(r),h=f.length;h--;)t.path.push(l),n.validate.call(this,t,f[h],c),t.path.pop()}};n.validate=function(t,e,n){t.commonErrorMessage="JSON_OBJECT_VALIDATION_FAILED";var i=o.whatIs(e);if("object"!==i)return t.addError("SCHEMA_NOT_AN_OBJECT",[i],null,e.description),!1;var r=Object.keys(e);if(0===r.length)return!0;var l=!1;if(t.rootSchema||(t.rootSchema=e,l=!0),void 0!==e.$ref){for(var c=99;e.$ref&&c>0;){if(!e.__$refResolved){t.addError("REF_UNRESOLVED",[e.$ref],null,e.description);break}if(e.__$refResolved===e)break;e=e.__$refResolved,r=Object.keys(e),c--}if(0===c)throw new Error("Circular dependency by $ref references!")}var f=o.whatIs(n);if(e.type)if("string"==typeof e.type){if(f!==e.type&&("integer"!==f||"number"!==e.type)&&(t.addError("INVALID_TYPE",[e.type,f],null,e.description),this.options.breakOnFirstError))return!1}else if(-1===e.type.indexOf(f)&&("integer"!==f||-1===e.type.indexOf("number"))&&(t.addError("INVALID_TYPE",[e.type,f],null,e.description),this.options.breakOnFirstError))return!1;for(var h=r.length;h--&&!(a[r[h]]&&(a[r[h]].call(this,t,e,n),t.errors.length&&this.options.breakOnFirstError)););return(0===t.errors.length||this.options.breakOnFirstError===!1)&&("array"===f?s.call(this,t,e,n):"object"===f&&u.call(this,t,e,n)),l&&(t.rootSchema=void 0),0===t.errors.length}},{"./FormatValidators":8,"./Report":11,"./Utils":15}],10:[function(t,e,n){"function"!=typeof Number.isFinite&&(Number.isFinite=function(t){return"number"==typeof t&&(t===t&&t!==1/0&&t!==-(1/0))})},{}],11:[function(t,e,n){(function(n){"use strict";function i(t,e){this.parentReport=t instanceof i?t:void 0,this.options=t instanceof i?t.options:t||{},this.reportOptions=e||{},this.errors=[],this.path=[],this.asyncTasks=[]}var r=t("lodash.get"),o=t("./Errors"),a=t("./Utils");i.prototype.isValid=function(){if(this.asyncTasks.length>0)throw new Error("Async tasks pending, can't answer isValid");return 0===this.errors.length},i.prototype.addAsyncTask=function(t,e,n){this.asyncTasks.push([t,e,n])},i.prototype.processAsyncTasks=function(t,e){function i(){n.nextTick(function(){var t=0===l.errors.length,n=t?void 0:l.errors;e(n,t)})}function r(t){return function(e){u||(t(e),0===--a&&i())}}var o=t||2e3,a=this.asyncTasks.length,s=a,u=!1,l=this;if(0===a||this.errors.length>0)return void i();for(;s--;){var c=this.asyncTasks[s];c[0].apply(null,c[1].concat(r(c[2])))}setTimeout(function(){a>0&&(u=!0,l.addError("ASYNC_TIMEOUT",[a,o]),e(l.errors,!1))},o)},i.prototype.getPath=function(){var t=[];return this.parentReport&&(t=t.concat(this.parentReport.path)),t=t.concat(this.path),this.options.reportPathAsArray!==!0&&(t="#/"+t.map(function(t){return a.isAbsoluteUri(t)?"uri("+t+")":t.replace(/\~/g,"~0").replace(/\//g,"~1")}).join("/")),t},i.prototype.getSchemaId=function(){if(!this.rootSchema)return null;var t=[];for(this.parentReport&&(t=t.concat(this.parentReport.path)),t=t.concat(this.path);t.length>0;){var e=r(this.rootSchema,t);if(e&&e.id)return e.id;t.pop()}return this.rootSchema.id},i.prototype.hasError=function(t,e){for(var n=this.errors.length;n--;)if(this.errors[n].code===t){for(var i=!0,r=this.errors[n].params.length;r--;)this.errors[n].params[r]!==e[r]&&(i=!1);if(i)return i}return!1},i.prototype.addError=function(t,e,n,i){if(!(this.errors.length>=this.reportOptions.maxErrors)){if(!t)throw new Error("No errorCode passed into addError()");if(!o[t])throw new Error("No errorMessage known for code "+t);e=e||[];for(var r=e.length,s=o[t];r--;){var u=a.whatIs(e[r]),l="object"===u||"null"===u?JSON.stringify(e[r]):e[r];s=s.replace("{"+r+"}",l)}var c={code:t,params:e,message:s,path:this.getPath(),schemaId:this.getSchemaId()};if(i&&(c.description=i),null!=n){for(Array.isArray(n)||(n=[n]),c.inner=[],r=n.length;r--;)for(var f=n[r],h=f.errors.length;h--;)c.inner.push(f.errors[h]);0===c.inner.length&&(c.inner=void 0)}this.errors.push(c)}},e.exports=i}).call(this,t("_process"))},{"./Errors":7,"./Utils":15,_process:1,"lodash.get":2}],12:[function(t,e,n){"use strict";function i(t){return decodeURIComponent(t).replace(/~[0-1]/g,function(t){return"~1"===t?"/":"~"})}function r(t){var e=t.indexOf("#");return-1===e?t:t.slice(0,e)}function o(t){var e=t.indexOf("#"),n=-1===e?void 0:t.slice(e+1);return n}function a(t,e){if("object"==typeof t&&null!==t){if(!e)return t;if(t.id&&(t.id===e||"#"===t.id[0]&&t.id.substring(1)===e))return t;var n,i;if(Array.isArray(t)){for(n=t.length;n--;)if(i=a(t[n],e))return i}else{var r=Object.keys(t);for(n=r.length;n--;){var o=r[n];if(0!==o.indexOf("__$")&&(i=a(t[o],e)))return i}}}}var s=t("./Report"),u=t("./SchemaCompilation"),l=t("./SchemaValidation"),c=t("./Utils");n.cacheSchemaByUri=function(t,e){var n=r(t);n&&(this.cache[n]=e)},n.removeFromCacheByUri=function(t){var e=r(t);e&&delete this.cache[e]},n.checkCacheForUri=function(t){var e=r(t);return!!e&&null!=this.cache[e]},n.getSchema=function(t,e){return"object"==typeof e&&(e=n.getSchemaByReference.call(this,t,e)),"string"==typeof e&&(e=n.getSchemaByUri.call(this,t,e)),e},n.getSchemaByReference=function(t,e){for(var n=this.referenceCache.length;n--;)if(this.referenceCache[n][0]===e)return this.referenceCache[n][1];var i=c.cloneDeep(e);return this.referenceCache.push([e,i]),i},n.getSchemaByUri=function(t,e,n){var c=r(e),f=o(e),h=c?this.cache[c]:n;if(h&&c){var d=h!==n;if(d){t.path.push(c);var p=new s(t);u.compileSchema.call(this,p,h)&&l.validateSchema.call(this,p,h);var g=p.isValid();if(g||t.addError("REMOTE_NOT_VALID",[e],p),t.path.pop(),!g)return}}if(h&&f)for(var m=f.split("/"),v=0,y=m.length;h&&y>v;v++){var b=i(m[v]);h=0===v?a(h,b):h[b]}return h},n.getRemotePath=r},{"./Report":11,"./SchemaCompilation":13,"./SchemaValidation":14,"./Utils":15}],13:[function(t,e,n){"use strict";function i(t,e){if(u.isAbsoluteUri(e))return e;var n,i=t.join(""),r=u.isAbsoluteUri(i),o=u.isRelativeUri(i),a=u.isRelativeUri(e);r&&a?(n=i.match(/\/[^\/]*$/),n&&(i=i.slice(0,n.index+1))):o&&a?i="":(n=i.match(/[^#\/]+$/),n&&(i=i.slice(0,n.index)));var s=i+e;return s=s.replace(/##/,"#")}function r(t,e,n,o){if(e=e||[],n=n||[],o=o||[],"object"!=typeof t||null===t)return e;"string"==typeof t.id&&n.push(t.id),"string"==typeof t.$ref&&"undefined"==typeof t.__$refResolved&&e.push({ref:i(n,t.$ref),key:"$ref",obj:t,path:o.slice(0)}),"string"==typeof t.$schema&&"undefined"==typeof t.__$schemaResolved&&e.push({ref:i(n,t.$schema),key:"$schema",obj:t,path:o.slice(0)});var a;if(Array.isArray(t))for(a=t.length;a--;)o.push(a.toString()),r(t[a],e,n,o),o.pop();else{var s=Object.keys(t);for(a=s.length;a--;)0!==s[a].indexOf("__$")&&(o.push(s[a]),r(t[s[a]],e,n,o),o.pop())}return"string"==typeof t.id&&n.pop(),e}function o(t,e){for(var n=t.length;n--;)if(t[n].id===e)return t[n];return null}var a=t("./Report"),s=t("./SchemaCache"),u=t("./Utils"),l=function(t,e){for(var i=e.length,r=0;i--;){var o=new a(t),s=n.compileSchema.call(this,o,e[i]);s&&r++,t.errors=t.errors.concat(o.errors)}return r},c=function(t,e){var n,i=0;do{for(var r=t.errors.length;r--;)"UNRESOLVABLE_REFERENCE"===t.errors[r].code&&t.errors.splice(r,1);for(n=i,i=l.call(this,t,e),r=e.length;r--;){var a=e[r];if(a.__$missingReferences){for(var s=a.__$missingReferences.length;s--;){var u=a.__$missingReferences[s],c=o(e,u.ref);c&&(u.obj["__"+u.key+"Resolved"]=c,a.__$missingReferences.splice(s,1))}0===a.__$missingReferences.length&&delete a.__$missingReferences}}}while(i!==e.length&&i!==n);return t.isValid()};n.compileSchema=function(t,e){if(t.commonErrorMessage="SCHEMA_COMPILATION_FAILED","string"==typeof e){var i=s.getSchemaByUri.call(this,t,e);if(!i)return t.addError("SCHEMA_NOT_REACHABLE",[e]),!1;e=i}if(Array.isArray(e))return c.call(this,t,e);if(e.__$compiled&&e.id&&s.checkCacheForUri.call(this,e.id)===!1&&(e.__$compiled=void 0),e.__$compiled)return!0;e.id&&"string"==typeof e.id&&s.cacheSchemaByUri.call(this,e.id,e);var o=!1;t.rootSchema||(t.rootSchema=e,o=!0);var l=t.isValid();delete e.__$missingReferences;for(var f=r.call(this,e),h=f.length;h--;){var d=f[h],p=s.getSchemaByUri.call(this,t,d.ref,e);if(!p){var g=this.getSchemaReader();if(g){var m=g(d.ref);if(m){m.id=d.ref;var v=new a(t);n.compileSchema.call(this,v,m)?p=s.getSchemaByUri.call(this,t,d.ref,e):t.errors=t.errors.concat(v.errors)}}}if(!p){var y=t.hasError("REMOTE_NOT_VALID",[d.ref]),b=u.isAbsoluteUri(d.ref),_=!1,x=this.options.ignoreUnresolvableReferences===!0;b&&(_=s.checkCacheForUri.call(this,d.ref)),y||x&&b||_||(Array.prototype.push.apply(t.path,d.path),t.addError("UNRESOLVABLE_REFERENCE",[d.ref]),t.path=t.path.slice(0,-d.path.length),l&&(e.__$missingReferences=e.__$missingReferences||[],e.__$missingReferences.push(d)))}d.obj["__"+d.key+"Resolved"]=p}var w=t.isValid();return w?e.__$compiled=!0:e.id&&"string"==typeof e.id&&s.removeFromCacheByUri.call(this,e.id),o&&(t.rootSchema=void 0),w}},{"./Report":11,"./SchemaCache":12,"./Utils":15}],14:[function(t,e,n){"use strict";var i=t("./FormatValidators"),r=t("./JsonValidation"),o=t("./Report"),a=t("./Utils"),s={$ref:function(t,e){"string"!=typeof e.$ref&&t.addError("KEYWORD_TYPE_EXPECTED",["$ref","string"])},$schema:function(t,e){"string"!=typeof e.$schema&&t.addError("KEYWORD_TYPE_EXPECTED",["$schema","string"])},multipleOf:function(t,e){"number"!=typeof e.multipleOf?t.addError("KEYWORD_TYPE_EXPECTED",["multipleOf","number"]):e.multipleOf<=0&&t.addError("KEYWORD_MUST_BE",["multipleOf","strictly greater than 0"])},maximum:function(t,e){"number"!=typeof e.maximum&&t.addError("KEYWORD_TYPE_EXPECTED",["maximum","number"])},exclusiveMaximum:function(t,e){"boolean"!=typeof e.exclusiveMaximum?t.addError("KEYWORD_TYPE_EXPECTED",["exclusiveMaximum","boolean"]):void 0===e.maximum&&t.addError("KEYWORD_DEPENDENCY",["exclusiveMaximum","maximum"])},minimum:function(t,e){"number"!=typeof e.minimum&&t.addError("KEYWORD_TYPE_EXPECTED",["minimum","number"])},exclusiveMinimum:function(t,e){"boolean"!=typeof e.exclusiveMinimum?t.addError("KEYWORD_TYPE_EXPECTED",["exclusiveMinimum","boolean"]):void 0===e.minimum&&t.addError("KEYWORD_DEPENDENCY",["exclusiveMinimum","minimum"])},maxLength:function(t,e){"integer"!==a.whatIs(e.maxLength)?t.addError("KEYWORD_TYPE_EXPECTED",["maxLength","integer"]):e.maxLength<0&&t.addError("KEYWORD_MUST_BE",["maxLength","greater than, or equal to 0"])},minLength:function(t,e){"integer"!==a.whatIs(e.minLength)?t.addError("KEYWORD_TYPE_EXPECTED",["minLength","integer"]):e.minLength<0&&t.addError("KEYWORD_MUST_BE",["minLength","greater than, or equal to 0"])},pattern:function(t,e){if("string"!=typeof e.pattern)t.addError("KEYWORD_TYPE_EXPECTED",["pattern","string"]);else try{RegExp(e.pattern)}catch(n){t.addError("KEYWORD_PATTERN",["pattern",e.pattern])}},additionalItems:function(t,e){var i=a.whatIs(e.additionalItems);"boolean"!==i&&"object"!==i?t.addError("KEYWORD_TYPE_EXPECTED",["additionalItems",["boolean","object"]]):"object"===i&&(t.path.push("additionalItems"),n.validateSchema.call(this,t,e.additionalItems),t.path.pop())},items:function(t,e){var i=a.whatIs(e.items);if("object"===i)t.path.push("items"),n.validateSchema.call(this,t,e.items),t.path.pop();else if("array"===i)for(var r=e.items.length;r--;)t.path.push("items"),t.path.push(r.toString()),n.validateSchema.call(this,t,e.items[r]),t.path.pop(),t.path.pop();else t.addError("KEYWORD_TYPE_EXPECTED",["items",["array","object"]]);this.options.forceAdditional===!0&&void 0===e.additionalItems&&Array.isArray(e.items)&&t.addError("KEYWORD_UNDEFINED_STRICT",["additionalItems"]),this.options.assumeAdditional&&void 0===e.additionalItems&&Array.isArray(e.items)&&(e.additionalItems=!1)},maxItems:function(t,e){"number"!=typeof e.maxItems?t.addError("KEYWORD_TYPE_EXPECTED",["maxItems","integer"]):e.maxItems<0&&t.addError("KEYWORD_MUST_BE",["maxItems","greater than, or equal to 0"])},minItems:function(t,e){"integer"!==a.whatIs(e.minItems)?t.addError("KEYWORD_TYPE_EXPECTED",["minItems","integer"]):e.minItems<0&&t.addError("KEYWORD_MUST_BE",["minItems","greater than, or equal to 0"])},uniqueItems:function(t,e){"boolean"!=typeof e.uniqueItems&&t.addError("KEYWORD_TYPE_EXPECTED",["uniqueItems","boolean"])},maxProperties:function(t,e){"integer"!==a.whatIs(e.maxProperties)?t.addError("KEYWORD_TYPE_EXPECTED",["maxProperties","integer"]):e.maxProperties<0&&t.addError("KEYWORD_MUST_BE",["maxProperties","greater than, or equal to 0"])},minProperties:function(t,e){"integer"!==a.whatIs(e.minProperties)?t.addError("KEYWORD_TYPE_EXPECTED",["minProperties","integer"]):e.minProperties<0&&t.addError("KEYWORD_MUST_BE",["minProperties","greater than, or equal to 0"])},required:function(t,e){if("array"!==a.whatIs(e.required))t.addError("KEYWORD_TYPE_EXPECTED",["required","array"]);else if(0===e.required.length)t.addError("KEYWORD_MUST_BE",["required","an array with at least one element"]);else{for(var n=e.required.length;n--;)"string"!=typeof e.required[n]&&t.addError("KEYWORD_VALUE_TYPE",["required","string"]);a.isUniqueArray(e.required)===!1&&t.addError("KEYWORD_MUST_BE",["required","an array with unique items"])}},additionalProperties:function(t,e){var i=a.whatIs(e.additionalProperties);"boolean"!==i&&"object"!==i?t.addError("KEYWORD_TYPE_EXPECTED",["additionalProperties",["boolean","object"]]):"object"===i&&(t.path.push("additionalProperties"),n.validateSchema.call(this,t,e.additionalProperties),t.path.pop())},properties:function(t,e){if("object"!==a.whatIs(e.properties))return void t.addError("KEYWORD_TYPE_EXPECTED",["properties","object"]);for(var i=Object.keys(e.properties),r=i.length;r--;){var o=i[r],s=e.properties[o];t.path.push("properties"),t.path.push(o),n.validateSchema.call(this,t,s),t.path.pop(),t.path.pop()}this.options.forceAdditional===!0&&void 0===e.additionalProperties&&t.addError("KEYWORD_UNDEFINED_STRICT",["additionalProperties"]),this.options.assumeAdditional&&void 0===e.additionalProperties&&(e.additionalProperties=!1),this.options.forceProperties===!0&&0===i.length&&t.addError("CUSTOM_MODE_FORCE_PROPERTIES",["properties"])},patternProperties:function(t,e){if("object"!==a.whatIs(e.patternProperties))return void t.addError("KEYWORD_TYPE_EXPECTED",["patternProperties","object"]);for(var i=Object.keys(e.patternProperties),r=i.length;r--;){var o=i[r],s=e.patternProperties[o];try{RegExp(o)}catch(u){t.addError("KEYWORD_PATTERN",["patternProperties",o])}t.path.push("patternProperties"),t.path.push(o.toString()),n.validateSchema.call(this,t,s),t.path.pop(),t.path.pop()}this.options.forceProperties===!0&&0===i.length&&t.addError("CUSTOM_MODE_FORCE_PROPERTIES",["patternProperties"])},dependencies:function(t,e){if("object"!==a.whatIs(e.dependencies))t.addError("KEYWORD_TYPE_EXPECTED",["dependencies","object"]);else for(var i=Object.keys(e.dependencies),r=i.length;r--;){var o=i[r],s=e.dependencies[o],u=a.whatIs(s);if("object"===u)t.path.push("dependencies"),t.path.push(o),n.validateSchema.call(this,t,s),t.path.pop(),t.path.pop();else if("array"===u){var l=s.length;for(0===l&&t.addError("KEYWORD_MUST_BE",["dependencies","not empty array"]);l--;)"string"!=typeof s[l]&&t.addError("KEYWORD_VALUE_TYPE",["dependensices","string"]);a.isUniqueArray(s)===!1&&t.addError("KEYWORD_MUST_BE",["dependencies","an array with unique items"])}else t.addError("KEYWORD_VALUE_TYPE",["dependencies","object or array"])}},"enum":function(t,e){Array.isArray(e["enum"])===!1?t.addError("KEYWORD_TYPE_EXPECTED",["enum","array"]):0===e["enum"].length?t.addError("KEYWORD_MUST_BE",["enum","an array with at least one element"]):a.isUniqueArray(e["enum"])===!1&&t.addError("KEYWORD_MUST_BE",["enum","an array with unique elements"])},type:function(t,e){var n=["array","boolean","integer","number","null","object","string"],i=n.join(","),r=Array.isArray(e.type);if(r){for(var o=e.type.length;o--;)-1===n.indexOf(e.type[o])&&t.addError("KEYWORD_TYPE_EXPECTED",["type",i]);a.isUniqueArray(e.type)===!1&&t.addError("KEYWORD_MUST_BE",["type","an object with unique properties"])}else"string"==typeof e.type?-1===n.indexOf(e.type)&&t.addError("KEYWORD_TYPE_EXPECTED",["type",i]):t.addError("KEYWORD_TYPE_EXPECTED",["type",["string","array"]]);this.options.noEmptyStrings===!0&&("string"===e.type||r&&-1!==e.type.indexOf("string"))&&void 0===e.minLength&&void 0===e["enum"]&&void 0===e.format&&(e.minLength=1),this.options.noEmptyArrays===!0&&("array"===e.type||r&&-1!==e.type.indexOf("array"))&&void 0===e.minItems&&(e.minItems=1),this.options.forceProperties===!0&&("object"===e.type||r&&-1!==e.type.indexOf("object"))&&void 0===e.properties&&void 0===e.patternProperties&&t.addError("KEYWORD_UNDEFINED_STRICT",["properties"]),this.options.forceItems===!0&&("array"===e.type||r&&-1!==e.type.indexOf("array"))&&void 0===e.items&&t.addError("KEYWORD_UNDEFINED_STRICT",["items"]),this.options.forceMinItems===!0&&("array"===e.type||r&&-1!==e.type.indexOf("array"))&&void 0===e.minItems&&t.addError("KEYWORD_UNDEFINED_STRICT",["minItems"]),this.options.forceMaxItems===!0&&("array"===e.type||r&&-1!==e.type.indexOf("array"))&&void 0===e.maxItems&&t.addError("KEYWORD_UNDEFINED_STRICT",["maxItems"]),this.options.forceMinLength===!0&&("string"===e.type||r&&-1!==e.type.indexOf("string"))&&void 0===e.minLength&&void 0===e.format&&void 0===e["enum"]&&void 0===e.pattern&&t.addError("KEYWORD_UNDEFINED_STRICT",["minLength"]),this.options.forceMaxLength===!0&&("string"===e.type||r&&-1!==e.type.indexOf("string"))&&void 0===e.maxLength&&void 0===e.format&&void 0===e["enum"]&&void 0===e.pattern&&t.addError("KEYWORD_UNDEFINED_STRICT",["maxLength"])},allOf:function(t,e){if(Array.isArray(e.allOf)===!1)t.addError("KEYWORD_TYPE_EXPECTED",["allOf","array"]);else if(0===e.allOf.length)t.addError("KEYWORD_MUST_BE",["allOf","an array with at least one element"]);else for(var i=e.allOf.length;i--;)t.path.push("allOf"),t.path.push(i.toString()),n.validateSchema.call(this,t,e.allOf[i]),t.path.pop(),t.path.pop()},anyOf:function(t,e){if(Array.isArray(e.anyOf)===!1)t.addError("KEYWORD_TYPE_EXPECTED",["anyOf","array"]);else if(0===e.anyOf.length)t.addError("KEYWORD_MUST_BE",["anyOf","an array with at least one element"]);else for(var i=e.anyOf.length;i--;)t.path.push("anyOf"),t.path.push(i.toString()),n.validateSchema.call(this,t,e.anyOf[i]),t.path.pop(),t.path.pop()},oneOf:function(t,e){if(Array.isArray(e.oneOf)===!1)t.addError("KEYWORD_TYPE_EXPECTED",["oneOf","array"]);else if(0===e.oneOf.length)t.addError("KEYWORD_MUST_BE",["oneOf","an array with at least one element"]);else for(var i=e.oneOf.length;i--;)t.path.push("oneOf"),t.path.push(i.toString()),n.validateSchema.call(this,t,e.oneOf[i]),t.path.pop(),t.path.pop()},not:function(t,e){"object"!==a.whatIs(e.not)?t.addError("KEYWORD_TYPE_EXPECTED",["not","object"]):(t.path.push("not"),n.validateSchema.call(this,t,e.not),t.path.pop())},definitions:function(t,e){if("object"!==a.whatIs(e.definitions))t.addError("KEYWORD_TYPE_EXPECTED",["definitions","object"]);else for(var i=Object.keys(e.definitions),r=i.length;r--;){var o=i[r],s=e.definitions[o];t.path.push("definitions"),t.path.push(o),n.validateSchema.call(this,t,s),t.path.pop(),t.path.pop()}},format:function(t,e){"string"!=typeof e.format?t.addError("KEYWORD_TYPE_EXPECTED",["format","string"]):void 0===i[e.format]&&this.options.ignoreUnknownFormats!==!0&&t.addError("UNKNOWN_FORMAT",[e.format])},id:function(t,e){"string"!=typeof e.id&&t.addError("KEYWORD_TYPE_EXPECTED",["id","string"])},title:function(t,e){"string"!=typeof e.title&&t.addError("KEYWORD_TYPE_EXPECTED",["title","string"])},description:function(t,e){"string"!=typeof e.description&&t.addError("KEYWORD_TYPE_EXPECTED",["description","string"])},"default":function(){}},u=function(t,e){for(var i=e.length;i--;)n.validateSchema.call(this,t,e[i]);return t.isValid()};n.validateSchema=function(t,e){if(t.commonErrorMessage="SCHEMA_VALIDATION_FAILED",Array.isArray(e))return u.call(this,t,e);if(e.__$validated)return!0;var n=e.$schema&&e.id!==e.$schema;if(n)if(e.__$schemaResolved&&e.__$schemaResolved!==e){var i=new o(t),l=r.validate.call(this,i,e.__$schemaResolved,e);l===!1&&t.addError("PARENT_SCHEMA_VALIDATION_FAILED",null,i)}else this.options.ignoreUnresolvableReferences!==!0&&t.addError("REF_UNRESOLVED",[e.$schema]);if(this.options.noTypeless===!0){if(void 0!==e.type){var c=[];Array.isArray(e.anyOf)&&(c=c.concat(e.anyOf)),Array.isArray(e.oneOf)&&(c=c.concat(e.oneOf)),Array.isArray(e.allOf)&&(c=c.concat(e.allOf)),c.forEach(function(t){t.type||(t.type=e.type)})}void 0===e["enum"]&&void 0===e.type&&void 0===e.anyOf&&void 0===e.oneOf&&void 0===e.not&&void 0===e.$ref&&t.addError("KEYWORD_UNDEFINED_STRICT",["type"])}for(var f=Object.keys(e),h=f.length;h--;){var d=f[h];0!==d.indexOf("__")&&(void 0!==s[d]?s[d].call(this,t,e):n||this.options.noExtraKeywords===!0&&t.addError("KEYWORD_UNEXPECTED",[d]))}if(this.options.pedanticCheck===!0){if(e["enum"]){var p=a.clone(e);for(delete p["enum"],delete p["default"],t.path.push("enum"),h=e["enum"].length;h--;)t.path.push(h.toString()),r.validate.call(this,t,p,e["enum"][h]),t.path.pop();t.path.pop()}e["default"]&&(t.path.push("default"),r.validate.call(this,t,e,e["default"]),t.path.pop())}var g=t.isValid();return g&&(e.__$validated=!0),g}},{"./FormatValidators":8,"./JsonValidation":9,"./Report":11,"./Utils":15}],15:[function(t,e,n){"use strict";n.isAbsoluteUri=function(t){return/^https?:\/\//.test(t)},n.isRelativeUri=function(t){return/.+#/.test(t)},n.whatIs=function(t){var e=typeof t;return"object"===e?null===t?"null":Array.isArray(t)?"array":"object":"number"===e?Number.isFinite(t)?t%1===0?"integer":"number":Number.isNaN(t)?"not-a-number":"unknown-number":e},n.areEqual=function i(t,e){if(t===e)return!0;var r,o;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(o=t.length,r=0;o>r;r++)if(!i(t[r],e[r]))return!1;return!0}if("object"===n.whatIs(t)&&"object"===n.whatIs(e)){var a=Object.keys(t),s=Object.keys(e);if(!i(a,s))return!1;for(o=a.length,r=0;o>r;r++)if(!i(t[a[r]],e[a[r]]))return!1;return!0}return!1},n.isUniqueArray=function(t,e){var i,r,o=t.length;for(i=0;o>i;i++)for(r=i+1;o>r;r++)if(n.areEqual(t[i],t[r]))return e&&e.push(i,r),!1;return!0},n.difference=function(t,e){for(var n=[],i=t.length;i--;)-1===e.indexOf(t[i])&&n.push(t[i]);return n},n.clone=function(t){if("undefined"!=typeof t){if("object"!=typeof t||null===t)return t;var e,n;if(Array.isArray(t))for(e=[],n=t.length;n--;)e[n]=t[n];else{e={};var i=Object.keys(t);for(n=i.length;n--;){var r=i[n];e[r]=t[r]}}return e}},n.cloneDeep=function(t){function e(t){if("object"!=typeof t||null===t)return t;var r,o,a;if(a=n.indexOf(t),-1!==a)return i[a];if(n.push(t),Array.isArray(t))for(r=[],i.push(r),o=t.length;o--;)r[o]=e(t[o]);else{r={},i.push(r);var s=Object.keys(t);for(o=s.length;o--;){var u=s[o];r[u]=e(t[u])}}return r}var n=[],i=[];return e(t)},n.ucs2decode=function(t){for(var e,n,i=[],r=0,o=t.length;o>r;)e=t.charCodeAt(r++),e>=55296&&56319>=e&&o>r?(n=t.charCodeAt(r++),56320==(64512&n)?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),r--)):i.push(e);return i}},{}],16:[function(t,e,n){(function(n){"use strict";function i(t){if(this.cache={},this.referenceCache=[],this.setRemoteReference("http://json-schema.org/draft-04/schema",h),this.setRemoteReference("http://json-schema.org/draft-04/hyper-schema",d),"object"==typeof t){for(var e,n=Object.keys(t),i=n.length;i--;)if(e=n[i],void 0===p[e])throw new Error("Unexpected option passed to constructor: "+e);for(n=Object.keys(p),i=n.length;i--;)e=n[i],void 0===t[e]&&(t[e]=f.clone(p[e]));this.options=t}else this.options=f.clone(p);this.options.strictMode===!0&&(this.options.forceAdditional=!0,this.options.forceItems=!0,this.options.forceMaxLength=!0,this.options.forceProperties=!0,this.options.noExtraKeywords=!0,this.options.noTypeless=!0,this.options.noEmptyStrings=!0,this.options.noEmptyArrays=!0)}t("./Polyfills");var r=t("lodash.get"),o=t("./Report"),a=t("./FormatValidators"),s=t("./JsonValidation"),u=t("./SchemaCache"),l=t("./SchemaCompilation"),c=t("./SchemaValidation"),f=t("./Utils"),h=t("./schemas/schema.json"),d=t("./schemas/hyper-schema.json"),p={asyncTimeout:2e3,forceAdditional:!1,assumeAdditional:!1,forceItems:!1,forceMinItems:!1,forceMaxItems:!1,forceMinLength:!1,forceMaxLength:!1,forceProperties:!1,ignoreUnresolvableReferences:!1,noExtraKeywords:!1,noTypeless:!1,noEmptyStrings:!1,noEmptyArrays:!1,strictUris:!1,strictMode:!1,reportPathAsArray:!1,breakOnFirstError:!0,pedanticCheck:!1,ignoreUnknownFormats:!1};i.prototype.compileSchema=function(t){var e=new o(this.options);return t=u.getSchema.call(this,e,t),l.compileSchema.call(this,e,t),this.lastReport=e,e.isValid()},i.prototype.validateSchema=function(t){if(Array.isArray(t)&&0===t.length)throw new Error(".validateSchema was called with an empty array");var e=new o(this.options);t=u.getSchema.call(this,e,t);var n=l.compileSchema.call(this,e,t);return n&&c.validateSchema.call(this,e,t),this.lastReport=e,e.isValid()},i.prototype.validate=function(t,e,i,a){"function"===f.whatIs(i)&&(a=i,i={}),i||(i={});var h=f.whatIs(e);if("string"!==h&&"object"!==h){var d=new Error("Invalid .validate call - schema must be an string or object but "+h+" was passed!");if(a)return void n.nextTick(function(){a(d,!1)});throw d}var p=!1,g=new o(this.options);if("string"==typeof e){var m=e;if(e=u.getSchema.call(this,g,m),!e)throw new Error("Schema with id '"+m+"' wasn't found in the validator cache!")}else e=u.getSchema.call(this,g,e);var v=!1;p||(v=l.compileSchema.call(this,g,e)),v||(this.lastReport=g,p=!0);var y=!1;if(p||(y=c.validateSchema.call(this,g,e)),y||(this.lastReport=g,p=!0),i.schemaPath&&(g.rootSchema=e,e=r(e,i.schemaPath),!e))throw new Error("Schema path '"+i.schemaPath+"' wasn't found in the schema!");if(p||s.validate.call(this,g,e,t),a)return void g.processAsyncTasks(this.options.asyncTimeout,a);if(g.asyncTasks.length>0)throw new Error("This validation has async tasks and cannot be done in sync mode, please provide callback argument.");return this.lastReport=g,g.isValid()},i.prototype.getLastError=function(){if(0===this.lastReport.errors.length)return null;var t=new Error;return t.name="z-schema validation error",t.message=this.lastReport.commonErrorMessage,t.details=this.lastReport.errors,t},i.prototype.getLastErrors=function(){return this.lastReport&&this.lastReport.errors.length>0?this.lastReport.errors:void 0},i.prototype.getMissingReferences=function(t){t=t||this.lastReport.errors;for(var e=[],n=t.length;n--;){var i=t[n];if("UNRESOLVABLE_REFERENCE"===i.code){var r=i.params[0];-1===e.indexOf(r)&&e.push(r)}i.inner&&(e=e.concat(this.getMissingReferences(i.inner)))}return e},i.prototype.getMissingRemoteReferences=function(){for(var t=this.getMissingReferences(),e=[],n=t.length;n--;){var i=u.getRemotePath(t[n]);i&&-1===e.indexOf(i)&&e.push(i)}return e},i.prototype.setRemoteReference=function(t,e){e="string"==typeof e?JSON.parse(e):f.cloneDeep(e),u.cacheSchemaByUri.call(this,t,e)},i.prototype.getResolvedSchema=function(t){var e=new o(this.options);t=u.getSchema.call(this,e,t),t=f.cloneDeep(t);var n=[],i=function(t){var e,r=f.whatIs(t);if(("object"===r||"array"===r)&&!t.___$visited){if(t.___$visited=!0,n.push(t),t.$ref&&t.__$refResolved){var o=t.__$refResolved,a=t;delete t.$ref,delete t.__$refResolved;for(e in o)o.hasOwnProperty(e)&&(a[e]=o[e])}for(e in t)t.hasOwnProperty(e)&&(0===e.indexOf("__$")?delete t[e]:i(t[e]))}};if(i(t),n.forEach(function(t){delete t.___$visited}),this.lastReport=e,e.isValid())return t;throw this.getLastError()},i.prototype.setSchemaReader=function(t){return i.setSchemaReader(t)},i.prototype.getSchemaReader=function(){return i.schemaReader},i.setSchemaReader=function(t){i.schemaReader=t},i.registerFormat=function(t,e){a[t]=e},i.unregisterFormat=function(t){delete a[t]},i.getRegisteredFormats=function(){return Object.keys(a)},i.getDefaultOptions=function(){return f.cloneDeep(p)},e.exports=i}).call(this,t("_process"))},{"./FormatValidators":8,"./JsonValidation":9,"./Polyfills":10,"./Report":11,"./SchemaCache":12,"./SchemaCompilation":13,"./SchemaValidation":14,"./Utils":15,"./schemas/hyper-schema.json":17,"./schemas/schema.json":18,_process:1,"lodash.get":2}],17:[function(t,e,n){e.exports={$schema:"http://json-schema.org/draft-04/hyper-schema#",id:"http://json-schema.org/draft-04/hyper-schema#",title:"JSON Hyper-Schema",allOf:[{$ref:"http://json-schema.org/draft-04/schema#"}],properties:{additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}]},dependencies:{additionalProperties:{anyOf:[{$ref:"#"},{type:"array"}]}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}]},definitions:{additionalProperties:{$ref:"#"}},patternProperties:{additionalProperties:{$ref:"#"}},properties:{additionalProperties:{$ref:"#"}},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"},links:{type:"array",items:{$ref:"#/definitions/linkDescription"}},fragmentResolution:{type:"string"},media:{type:"object",properties:{type:{description:"A media type, as described in RFC 2046",type:"string"},binaryEncoding:{description:"A content encoding scheme, as described in RFC 2045",type:"string"}}},pathStart:{description:"Instances' URIs must start with this value for this schema to apply to them",type:"string",format:"uri"}},definitions:{schemaArray:{type:"array",items:{$ref:"#"}},linkDescription:{title:"Link Description Object",type:"object",required:["href","rel"],properties:{href:{description:"a URI template, as defined by RFC 6570, with the addition of the $, ( and ) characters for pre-processing",type:"string"},rel:{description:"relation to the target resource of the link",type:"string"},title:{description:"a title for the link",type:"string"},targetSchema:{description:"JSON Schema describing the link target",$ref:"#"},mediaType:{description:"media type (as defined by RFC 2046) describing the link target",type:"string"},method:{description:'method for requesting the target of the link (e.g. for HTTP this might be "GET" or "DELETE")',type:"string"},encType:{description:"The media type in which to submit data along with the request",type:"string","default":"application/json"},schema:{description:"Schema describing the data to submit along with the request",$ref:"#"}}}}}},{}],18:[function(t,e,n){e.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{"default":0}]},simpleTypes:{"enum":["array","boolean","integer","null","number","object","string"]
},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},"default":{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean","default":!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean","default":!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],"default":{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],"default":{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean","default":!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],"default":{}},definitions:{type:"object",additionalProperties:{$ref:"#"},"default":{}},properties:{type:"object",additionalProperties:{$ref:"#"},"default":{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},"default":{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},"enum":{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},"default":{}}},{}]},{},[7,8,9,10,11,12,13,14,15,16])(16)}),function(t){return t.module("ngOrderObjectBy",[]).filter("orderObjectBy",function(){return function(e,n,i){function r(t){return!isNaN(parseFloat(t))&&isFinite(t)}function o(t,e){return t[e]}var a=[];return t.forEach(e,function(t,e){t.key=e,a.push(t)}),a.sort(function(t,e){var i,a=n.split(".").reduce(o,t),s=n.split(".").reduce(o,e);return r(a)&&r(s)&&(a=Number(a),s=Number(s)),i=a===s?0:a>s?1:-1}),i&&a.reverse(),a}})}(angular),/**
 * An Angular module that gives you access to the browsers local storage
 * @version v0.2.6 - 2016-03-16
 * @link https://github.com/grevory/angular-local-storage
 * @author grevory <greg@gregpike.ca>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
function(t,e){var n=e.isDefined,i=e.isUndefined,r=e.isNumber,o=e.isObject,a=e.isArray,s=e.extend,u=e.toJson;e.module("LocalStorageModule",[]).provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(t){return this.prefix=t,this},this.setStorageType=function(t){return this.storageType=t,this},this.setStorageCookie=function(t,e){return this.cookie.expiry=t,this.cookie.path=e,this},this.setStorageCookieDomain=function(t){return this.cookie.domain=t,this},this.setNotify=function(t,e){return this.notify={setItem:t,removeItem:e},this},this.$get=["$rootScope","$window","$document","$parse",function(t,e,l,c){var f,h=this,d=h.prefix,p=h.cookie,g=h.notify,m=h.storageType;l?l[0]&&(l=l[0]):l=document,"."!==d.substr(-1)&&(d=d?d+".":"");var v=function(t){return d+t},y=function(){try{var n=m in e&&null!==e[m],i=v("__"+Math.round(1e7*Math.random()));return n&&(f=e[m],f.setItem(i,""),f.removeItem(i)),n}catch(r){return m="cookie",t.$broadcast("LocalStorageModule.notification.error",r.message),!1}}(),b=function(e,n){if(n=i(n)?null:u(n),!y||"cookie"===h.storageType)return y||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.setItem&&t.$broadcast("LocalStorageModule.notification.setitem",{key:e,newvalue:n,storageType:"cookie"}),S(e,n);try{f&&f.setItem(v(e),n),g.setItem&&t.$broadcast("LocalStorageModule.notification.setitem",{key:e,newvalue:n,storageType:h.storageType})}catch(r){return t.$broadcast("LocalStorageModule.notification.error",r.message),S(e,n)}return!0},_=function(e){if(!y||"cookie"===h.storageType)return y||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),C(e);var n=f?f.getItem(v(e)):null;if(!n||"null"===n)return null;try{return JSON.parse(n)}catch(i){return n}},x=function(){var e,n;for(e=0;e<arguments.length;e++)if(n=arguments[e],y&&"cookie"!==h.storageType)try{f.removeItem(v(n)),g.removeItem&&t.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:h.storageType})}catch(i){t.$broadcast("LocalStorageModule.notification.error",i.message),T(n)}else y||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.removeItem&&t.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:"cookie"}),T(n)},w=function(){if(!y)return t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),[];var e=d.length,n=[];for(var i in f)if(i.substr(0,e)===d)try{n.push(i.substr(e))}catch(r){return t.$broadcast("LocalStorageModule.notification.error",r.Description),[]}return n},k=function(e){var n=d?new RegExp("^"+d):new RegExp,i=e?new RegExp(e):new RegExp;if(!y||"cookie"===h.storageType)return y||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),M();var r=d.length;for(var o in f)if(n.test(o)&&i.test(o.substr(r)))try{x(o.substr(r))}catch(a){return t.$broadcast("LocalStorageModule.notification.error",a.message),M()}return!0},E=function(){try{return e.navigator.cookieEnabled||"cookie"in l&&(l.cookie.length>0||(l.cookie="test").indexOf.call(l.cookie,"test")>-1)}catch(n){return t.$broadcast("LocalStorageModule.notification.error",n.message),!1}}(),S=function(e,n,s){if(i(n))return!1;if((a(n)||o(n))&&(n=u(n)),!E)return t.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var c="",f=new Date,h="";if(null===n?(f.setTime(f.getTime()+-864e5),c="; expires="+f.toGMTString(),n=""):r(s)&&0!==s?(f.setTime(f.getTime()+24*s*60*60*1e3),c="; expires="+f.toGMTString()):0!==p.expiry&&(f.setTime(f.getTime()+24*p.expiry*60*60*1e3),c="; expires="+f.toGMTString()),e){var d="; path="+p.path;p.domain&&(h="; domain="+p.domain),l.cookie=v(e)+"="+encodeURIComponent(n)+c+d+h}}catch(g){return t.$broadcast("LocalStorageModule.notification.error",g.message),!1}return!0},C=function(e){if(!E)return t.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var n=l.cookie&&l.cookie.split(";")||[],i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(v(e)+"=")){var o=decodeURIComponent(r.substring(d.length+e.length+1,r.length));try{return JSON.parse(o)}catch(a){return o}}}return null},T=function(t){S(t,null)},M=function(){for(var t=null,e=d.length,n=l.cookie.split(";"),i=0;i<n.length;i++){for(t=n[i];" "===t.charAt(0);)t=t.substring(1,t.length);var r=t.substring(e,t.indexOf("="));T(r)}},A=function(){return m},$=function(t,e,i,r){r=r||e;var a=_(r);return null===a&&n(i)?a=i:o(a)&&o(i)&&(a=s(a,i)),c(e).assign(t,a),t.$watch(e,function(t){b(r,t)},o(t[e]))},O=function(){for(var t=0,n=e[m],i=0;i<n.length;i++)0===n.key(i).indexOf(d)&&t++;return t};return{isSupported:y,getStorageType:A,set:b,add:b,get:_,keys:w,remove:x,clearAll:k,bind:$,deriveKey:v,length:O,cookie:{isSupported:E,set:S,add:S,get:C,remove:T,clearAll:M}}}]})}(window,window.angular),/**
 * @license AngularJS v1.4.14
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function i(t){var e;if(e=t.match(l)){var n=new Date(0),i=0,o=0;return e[9]&&(i=r(e[9]+e[10]),o=r(e[9]+e[11])),n.setUTCFullYear(r(e[1]),r(e[2])-1,r(e[3])),n.setUTCHours(r(e[4]||0)-i,r(e[5]||0)-o,r(e[6]||0),r(e[7]||0)),n}return t}function r(t){return parseInt(t,10)}function o(t,e,n){var i="";for(t<0&&(i="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),i+t}function a(t,i,r,o){function a(t,n,i,r){return e.isFunction(t)?t:function(){return e.isNumber(t)?[t,n,i,r]:[200,t,n,i]}}function l(t,a,s,l,c,m,v,y){function b(t){return e.isString(t)||e.isFunction(t)||t instanceof RegExp?t:e.toJson(t)}function _(e){function r(){var n=e.response(t,a,s,c);x.$$respHeaders=n[2],l(g(n[0]),g(n[1]),x.getAllResponseHeaders(),g(n[3]||""))}function u(){for(var t=0,e=d.length;t<e;t++)if(d[t]===r){d.splice(t,1),l(-1,n,"");break}}return!o&&m&&(m.then?m.then(u):i(u,m)),r}var x=new u,w=h[0],k=!1;if(w&&w.match(t,a)){if(!w.matchData(s))throw new Error("Expected "+w+" with different data\nEXPECTED: "+b(w.data)+"\nGOT:      "+s);if(!w.matchHeaders(c))throw new Error("Expected "+w+" with different headers\nEXPECTED: "+b(w.headers)+"\nGOT:      "+b(c));if(h.shift(),w.response)return void d.push(_(w));k=!0}for(var E,S=-1;E=f[++S];)if(E.match(t,a,s,c||{})){if(E.response)(o?o.defer:p)(_(E));else{if(!E.passThrough)throw new Error("No response defined !");r(t,a,s,l,c,m,v,y)}return}throw k?new Error("No response defined !"):new Error("Unexpected request: "+t+" "+a+"\n"+(w?"Expected "+w:"No more request expected"))}function c(t){e.forEach(["GET","DELETE","JSONP","HEAD"],function(e){l[t+e]=function(i,r){return l[t](e,i,n,r)}}),e.forEach(["PUT","POST","PATCH"],function(e){l[t+e]=function(n,i,r){return l[t](e,n,i,r)}})}var f=[],h=[],d=[],p=e.bind(d,d.push),g=e.copy;return l.when=function(t,e,i,r){var u=new s(t,e,i,r),l={respond:function(t,e,i,r){return u.passThrough=n,u.response=a(t,e,i,r),l}};return o&&(l.passThrough=function(){return u.response=n,u.passThrough=!0,l}),f.push(u),l},c("when"),l.expect=function(t,e,n,i){var r=new s(t,e,n,i),o={respond:function(t,e,n,i){return r.response=a(t,e,n,i),o}};return h.push(r),o},c("expect"),l.flush=function(n,i){if(i!==!1&&t.$digest(),!d.length)throw new Error("No pending request to flush !");if(e.isDefined(n)&&null!==n)for(;n--;){if(!d.length)throw new Error("No more pending request to flush !");d.shift()()}else for(;d.length;)d.shift()();l.verifyNoOutstandingExpectation(i)},l.verifyNoOutstandingExpectation=function(e){if(e!==!1&&t.$digest(),h.length)throw new Error("Unsatisfied requests: "+h.join(", "))},l.verifyNoOutstandingRequest=function(){if(d.length)throw new Error("Unflushed requests: "+d.length)},l.resetExpectations=function(){h.length=0,d.length=0},l}function s(t,n,i,r){this.data=i,this.headers=r,this.match=function(n,i,r,o){return t==n&&(!!this.matchUrl(i)&&(!(e.isDefined(r)&&!this.matchData(r))&&!(e.isDefined(o)&&!this.matchHeaders(o))))},this.matchUrl=function(t){return!n||(e.isFunction(n.test)?n.test(t):e.isFunction(n)?n(t):n==t)},this.matchHeaders=function(t){return!!e.isUndefined(r)||(e.isFunction(r)?r(t):e.equals(r,t))},this.matchData=function(t){return!!e.isUndefined(i)||(i&&e.isFunction(i.test)?i.test(t):i&&e.isFunction(i)?i(t):i&&!e.isString(i)?e.equals(e.fromJson(e.toJson(i)),e.fromJson(t)):i==t)},this.toString=function(){return t+" "+n}}function u(){u.$$lastInstance=this,this.open=function(t,e,n){this.$$method=t,this.$$url=e,this.$$async=n,this.$$reqHeaders={},this.$$respHeaders={}},this.send=function(t){this.$$data=t},this.setRequestHeader=function(t,e){this.$$reqHeaders[t]=e},this.getResponseHeader=function(t){var i=this.$$respHeaders[t];return i?i:(t=e.lowercase(t),(i=this.$$respHeaders[t])?i:(i=n,e.forEach(this.$$respHeaders,function(n,r){i||e.lowercase(r)!=t||(i=n)}),i))},this.getAllResponseHeaders=function(){var t=[];return e.forEach(this.$$respHeaders,function(e,n){t.push(n+": "+e)}),t.join("\n")},this.abort=e.noop}e.mock={},e.mock.$BrowserProvider=function(){this.$get=function(){return new e.mock.$Browser}},e.mock.$Browser=function(){var t=this;this.isMock=!0,t.$$url="http://server/",t.$$lastUrl=t.$$url,t.pollFns=[],t.$$completeOutstandingRequest=e.noop,t.$$incOutstandingRequestCount=e.noop,t.onUrlChange=function(e){return t.pollFns.push(function(){t.$$lastUrl===t.$$url&&t.$$state===t.$$lastState||(t.$$lastUrl=t.$$url,t.$$lastState=t.$$state,e(t.$$url,t.$$state))}),e},t.$$applicationDestroyed=e.noop,t.$$checkUrlChange=e.noop,t.deferredFns=[],t.deferredNextId=0,t.defer=function(e,n){return n=n||0,t.deferredFns.push({time:t.defer.now+n,fn:e,id:t.deferredNextId}),t.deferredFns.sort(function(t,e){return t.time-e.time}),t.deferredNextId++},t.defer.now=0,t.defer.cancel=function(n){var i;return e.forEach(t.deferredFns,function(t,e){t.id===n&&(i=e)}),!!e.isDefined(i)&&(t.deferredFns.splice(i,1),!0)},t.defer.flush=function(n){if(e.isDefined(n))t.defer.now+=n;else{if(!t.deferredFns.length)throw new Error("No deferred tasks to be flushed");t.defer.now=t.deferredFns[t.deferredFns.length-1].time}for(;t.deferredFns.length&&t.deferredFns[0].time<=t.defer.now;)t.deferredFns.shift().fn()},t.$$baseHref="/",t.baseHref=function(){return this.$$baseHref}},e.mock.$Browser.prototype={poll:function(){e.forEach(this.pollFns,function(t){t()})},url:function(t,n,i){return e.isUndefined(i)&&(i=null),t?(this.$$url=t,this.$$state=e.copy(i),this):this.$$url},state:function(){return this.$$state},notifyWhenNoOutstandingRequests:function(t){t()}},e.mock.$ExceptionHandlerProvider=function(){var t;this.mode=function(e){switch(e){case"log":case"rethrow":var n=[];t=function(t){if(1==arguments.length?n.push(t):n.push([].slice.call(arguments,0)),"rethrow"===e)throw t},t.errors=n;break;default:throw new Error("Unknown mode '"+e+"', only 'log'/'rethrow' modes are allowed!")}},this.$get=function(){return t},this.mode("rethrow")},e.mock.$LogProvider=function(){function t(t,e,n){return t.concat(Array.prototype.slice.call(e,n))}var n=!0;this.debugEnabled=function(t){return e.isDefined(t)?(n=t,this):n},this.$get=function(){var i={log:function(){i.log.logs.push(t([],arguments,0))},warn:function(){i.warn.logs.push(t([],arguments,0))},info:function(){i.info.logs.push(t([],arguments,0))},error:function(){i.error.logs.push(t([],arguments,0))},debug:function(){n&&i.debug.logs.push(t([],arguments,0))}};return i.reset=function(){i.log.logs=[],i.info.logs=[],i.warn.logs=[],i.error.logs=[],i.debug.logs=[]},i.assertEmpty=function(){var t=[];if(e.forEach(["error","warn","info","log","debug"],function(n){e.forEach(i[n].logs,function(i){e.forEach(i,function(e){t.push("MOCK $log ("+n+"): "+String(e)+"\n"+(e.stack||""))})})}),t.length)throw t.unshift("Expected $log to be empty! Either a message was logged unexpectedly, or an expected log message was not checked and removed:"),t.push(""),new Error(t.join("\n---------\n"))},i.reset(),i}},e.mock.$IntervalProvider=function(){this.$get=["$browser","$rootScope","$q","$$q",function(t,n,i,r){var o=[],a=0,s=0,u=function(u,l,c,f){function h(){if(v.notify(g++),c>0&&g>=c){var i;v.resolve(g),e.forEach(o,function(t,e){t.id===y.$$intervalId&&(i=e)}),e.isDefined(i)&&o.splice(i,1)}m?t.defer.flush():n.$apply()}var d=arguments.length>4,p=d?Array.prototype.slice.call(arguments,4):[],g=0,m=e.isDefined(f)&&!f,v=(m?r:i).defer(),y=v.promise;return c=e.isDefined(c)?c:0,y.then(null,null,d?function(){u.apply(null,p)}:u),y.$$intervalId=a,o.push({nextTime:s+l,delay:l,fn:h,id:a,deferred:v}),o.sort(function(t,e){return t.nextTime-e.nextTime}),a++,y};return u.cancel=function(t){if(!t)return!1;var n;return e.forEach(o,function(e,i){e.id===t.$$intervalId&&(n=i)}),!!e.isDefined(n)&&(o[n].deferred.reject("canceled"),o.splice(n,1),!0)},u.flush=function(t){for(s+=t;o.length&&o[0].nextTime<=s;){var e=o[0];e.fn(),e.nextTime+=e.delay,o.sort(function(t,e){return t.nextTime-e.nextTime})}return t},u}]};var l=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?:\:?(\d\d)(?:\:?(\d\d)(?:\.(\d{3}))?)?)?(Z|([+-])(\d\d):?(\d\d)))?$/;if(e.mock.TzDate=function(t,n){var r=new Date(0);if(e.isString(n)){var a=n;if(r.origDate=i(n),n=r.origDate.getTime(),isNaN(n))throw{name:"Illegal Argument",message:"Arg '"+a+"' passed into TzDate constructor is not a valid date string"}}else r.origDate=new Date(n);var s=new Date(n).getTimezoneOffset();r.offsetDiff=60*s*1e3-1e3*t*60*60,r.date=new Date(n+r.offsetDiff),r.getTime=function(){return r.date.getTime()-r.offsetDiff},r.toLocaleDateString=function(){return r.date.toLocaleDateString()},r.getFullYear=function(){return r.date.getFullYear()},r.getMonth=function(){return r.date.getMonth()},r.getDate=function(){return r.date.getDate()},r.getHours=function(){return r.date.getHours()},r.getMinutes=function(){return r.date.getMinutes()},r.getSeconds=function(){return r.date.getSeconds()},r.getMilliseconds=function(){return r.date.getMilliseconds()},r.getTimezoneOffset=function(){return 60*t},r.getUTCFullYear=function(){return r.origDate.getUTCFullYear()},r.getUTCMonth=function(){return r.origDate.getUTCMonth()},r.getUTCDate=function(){return r.origDate.getUTCDate()},r.getUTCHours=function(){return r.origDate.getUTCHours()},r.getUTCMinutes=function(){return r.origDate.getUTCMinutes()},r.getUTCSeconds=function(){return r.origDate.getUTCSeconds()},r.getUTCMilliseconds=function(){return r.origDate.getUTCMilliseconds()},r.getDay=function(){return r.date.getDay()},r.toISOString&&(r.toISOString=function(){return o(r.origDate.getUTCFullYear(),4)+"-"+o(r.origDate.getUTCMonth()+1,2)+"-"+o(r.origDate.getUTCDate(),2)+"T"+o(r.origDate.getUTCHours(),2)+":"+o(r.origDate.getUTCMinutes(),2)+":"+o(r.origDate.getUTCSeconds(),2)+"."+o(r.origDate.getUTCMilliseconds(),3)+"Z"});var u=["getUTCDay","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toGMTString","toJSON","toLocaleFormat","toLocaleString","toLocaleTimeString","toSource","toString","toTimeString","toUTCString","valueOf"];return e.forEach(u,function(t){r[t]=function(){throw new Error("Method '"+t+"' is not implemented in the TzDate mock")}}),r},e.mock.TzDate.prototype=Date.prototype,e.mock.animate=e.module("ngAnimateMock",["ng"]).config(["$provide",function(t){t.factory("$$forceReflow",function(){function t(){t.totalReflows++}return t.totalReflows=0,t}),t.factory("$$animateAsyncRun",function(){var t=[],e=function(){return function(e){t.push(e)}};return e.flush=function(){if(0===t.length)return!1;for(var e=0;e<t.length;e++)t[e]();return t=[],!0},e}),t.decorator("$$animateJs",["$delegate",function(t){var e=[],n=function(){var n=t.apply(t,arguments);return n&&e.push(n),n};return n.$closeAndFlush=function(){e.forEach(function(t){t.end()}),e=[]},n}]),t.decorator("$animateCss",["$delegate",function(t){var e=[],n=function(n,i){var r=t(n,i);return e.push(r),r};return n.$closeAndFlush=function(){e.forEach(function(t){t.end()}),e=[]},n}]),t.decorator("$animate",["$delegate","$timeout","$browser","$$rAF","$animateCss","$$animateJs","$$forceReflow","$$animateAsyncRun","$rootScope",function(t,n,i,r,o,a,s,u,l){var c={queue:[],cancel:t.cancel,on:t.on,off:t.off,pin:t.pin,get reflows(){return s.totalReflows},enabled:t.enabled,closeAndFlush:function(){this.flush(!0),o.$closeAndFlush(),a.$closeAndFlush(),this.flush()},flush:function(t){l.$digest();var e,n=!1;do e=!1,r.queue.length&&(r.flush(),e=n=!0),u.flush()&&(e=n=!0);while(e);if(!n&&!t)throw new Error("No pending animations ready to be closed or flushed");l.$digest()}};return e.forEach(["animate","enter","leave","move","addClass","removeClass","setClass"],function(e){c[e]=function(){return c.queue.push({event:e,element:arguments[0],options:arguments[arguments.length-1],args:arguments}),t[e].apply(t,arguments)}}),c}])}]),e.mock.dump=function(t){function n(t){var r;return e.isElement(t)?(t=e.element(t),r=e.element("<div></div>"),e.forEach(t,function(t){r.append(e.element(t).clone())}),r=r.html()):e.isArray(t)?(r=[],e.forEach(t,function(t){r.push(n(t))}),r="[ "+r.join(", ")+" ]"):r=e.isObject(t)?e.isFunction(t.$eval)&&e.isFunction(t.$apply)?i(t):t instanceof Error?t.stack||""+t.name+": "+t.message:e.toJson(t,!0):String(t),r}function i(t,n){n=n||"  ";var r=[n+"Scope("+t.$id+"): {"];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&!o.match(/^(\$|this)/)&&r.push("  "+o+": "+e.toJson(t[o]));for(var a=t.$$childHead;a;)r.push(i(a,n+"  ")),a=a.$$nextSibling;return r.push("}"),r.join("\n"+n)}return n(t)},e.mock.$HttpBackendProvider=function(){this.$get=["$rootScope","$timeout",a]},e.mock.$TimeoutDecorator=["$delegate","$browser",function(t,n){function i(t){var n=[];return e.forEach(t,function(t){n.push("{id: "+t.id+", time: "+t.time+"}")}),n.join(", ")}return t.flush=function(t){n.defer.flush(t)},t.verifyNoPendingTasks=function(){if(n.deferredFns.length)throw new Error("Deferred tasks to flush ("+n.deferredFns.length+"): "+i(n.deferredFns))},t}],e.mock.$RAFDecorator=["$delegate",function(t){var e=function(t){var n=e.queue.length;return e.queue.push(t),function(){e.queue.splice(n,1)}};return e.queue=[],e.supported=t.supported,e.flush=function(){if(0===e.queue.length)throw new Error("No rAF callbacks present");for(var t=e.queue.length,n=0;n<t;n++)e.queue[n]();e.queue=e.queue.slice(n)},e}],e.mock.$RootElementProvider=function(){this.$get=function(){return e.element("<div ng-app></div>")}},e.mock.$ControllerDecorator=["$delegate",function(t){return function(n,i,r,o){if(r&&"object"==typeof r){var a=t(n,i,!0,o);return e.extend(a.instance,r),a()}return t(n,i,r,o)}}],e.module("ngMock",["ng"]).provider({$browser:e.mock.$BrowserProvider,$exceptionHandler:e.mock.$ExceptionHandlerProvider,$log:e.mock.$LogProvider,$interval:e.mock.$IntervalProvider,$httpBackend:e.mock.$HttpBackendProvider,$rootElement:e.mock.$RootElementProvider}).config(["$provide",function(t){t.decorator("$timeout",e.mock.$TimeoutDecorator),t.decorator("$$rAF",e.mock.$RAFDecorator),t.decorator("$rootScope",e.mock.$RootScopeDecorator),t.decorator("$controller",e.mock.$ControllerDecorator)}]),e.module("ngMockE2E",["ng"]).config(["$provide",function(t){t.decorator("$httpBackend",e.mock.e2e.$httpBackendDecorator)}]),e.mock.e2e={},e.mock.e2e.$httpBackendDecorator=["$rootScope","$timeout","$delegate","$browser",a],e.mock.$RootScopeDecorator=["$delegate",function(t){function e(){for(var t,e=0,n=[this.$$childHead];n.length;)for(t=n.shift();t;)e+=1,n.push(t.$$childHead),t=t.$$nextSibling;return e}function n(){for(var t,e=this.$$watchers?this.$$watchers.length:0,n=[this.$$childHead];n.length;)for(t=n.shift();t;)e+=t.$$watchers?t.$$watchers.length:0,n.push(t.$$childHead),t=t.$$nextSibling;return e}var i=Object.getPrototypeOf(t);return i.$countChildScopes=e,i.$countWatchers=n,t}],t.jasmine||t.mocha){var c=null,f=[],h=function(){return!!c};e.mock.$$annotate=e.injector.$$annotate,e.injector.$$annotate=function(t){return"function"!=typeof t||t.$inject||f.push(t),e.mock.$$annotate.apply(this,arguments)},(t.beforeEach||t.setup)(function(){f=[],c=this}),(t.afterEach||t.teardown)(function(){var t=c.$injector;f.forEach(function(t){delete t.$inject}),e.forEach(c.$modules,function(t){t&&t.$$hashKey&&(t.$$hashKey=n)}),c.$injector=null,c.$modules=null,c=null,t&&t.get("$rootElement").off(),e.forEach(e.element.fragments,function(t,n){delete e.element.fragments[n]}),u.$$lastInstance=null,e.forEach(e.callbacks,function(t,n){delete e.callbacks[n]}),e.callbacks.counter=0}),t.module=e.mock.module=function(){function t(){if(c.$injector)throw new Error("Injector already created, can not register a module!");var t=c.$modules||(c.$modules=[]);e.forEach(n,function(n){e.isObject(n)&&!e.isArray(n)?t.push(function(t){e.forEach(n,function(e,n){t.value(n,e)})}):t.push(n)})}var n=Array.prototype.slice.call(arguments,0);return h()?t():t};var d=function(t,e){this.message=t.message,this.name=t.name,t.line&&(this.line=t.line),t.sourceId&&(this.sourceId=t.sourceId),t.stack&&e&&(this.stack=t.stack+"\n"+e.stack),t.stackArray&&(this.stackArray=t.stackArray)};d.prototype.toString=Error.prototype.toString,t.inject=e.mock.inject=function(){function t(){var t=c.$modules||[],r=!!c.$injectorStrict;t.unshift("ngMock"),t.unshift("ng");var o=c.$injector;o||(r&&e.forEach(t,function(t){"function"==typeof t&&e.injector.$$annotate(t)}),o=c.$injector=e.injector(t,r),c.$injectorStrict=r);for(var a=0,s=n.length;a<s;a++){c.$injectorStrict&&o.annotate(n[a]);try{o.invoke(n[a]||e.noop,this)}catch(u){if(u.stack&&i)throw new d(u,i);throw u}finally{i=null}}}var n=Array.prototype.slice.call(arguments,0),i=new Error("Declaration Location");if(!i.stack)try{throw i}catch(r){}return h()?t.call(c):t},e.mock.inject.strictDi=function(t){function e(){if(t!==c.$injectorStrict){if(c.$injector)throw new Error("Injector already created, can not modify strict annotations");c.$injectorStrict=t}}return t=!arguments.length||!!t,h()?e():e}}}(window,window.angular),/*! tether 1.4.0 */
function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e(require,exports,module):t.Tether=e()}(this,function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){var e=t.getBoundingClientRect(),n={};for(var i in e)n[i]=e[i];if(t.ownerDocument!==document){var o=t.ownerDocument.defaultView.frameElement;if(o){var a=r(o);n.top+=a.top,n.bottom+=a.top,n.left+=a.left,n.right+=a.left}}return n}function o(t){var e=getComputedStyle(t)||{},n=e.position,i=[];if("fixed"===n)return[t];for(var r=t;(r=r.parentNode)&&r&&1===r.nodeType;){var o=void 0;try{o=getComputedStyle(r)}catch(a){}if("undefined"==typeof o||null===o)return i.push(r),i;var s=o,u=s.overflow,l=s.overflowX,c=s.overflowY;/(auto|scroll)/.test(u+c+l)&&("absolute"!==n||["relative","absolute","fixed"].indexOf(o.position)>=0)&&i.push(r)}return i.push(t.ownerDocument.body),t.ownerDocument!==document&&i.push(t.ownerDocument.defaultView),i}function a(){S&&document.body.removeChild(S),S=null}function s(t){var e=void 0;t===document?(e=document,t=document.documentElement):e=t.ownerDocument;var n=e.documentElement,i=r(t),o=M();return i.top-=o.top,i.left-=o.left,"undefined"==typeof i.width&&(i.width=document.body.scrollWidth-i.left-i.right),"undefined"==typeof i.height&&(i.height=document.body.scrollHeight-i.top-i.bottom),i.top=i.top-n.clientTop,i.left=i.left-n.clientLeft,i.right=e.body.clientWidth-i.width-i.left,i.bottom=e.body.clientHeight-i.height-i.top,i}function u(t){return t.offsetParent||document.documentElement}function l(){if(A)return A;var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");c(e.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var i=t.offsetWidth;n===i&&(i=e.clientWidth),document.body.removeChild(e);var r=n-i;return A={width:r,height:r}}function c(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=[];return Array.prototype.push.apply(e,arguments),e.slice(1).forEach(function(e){if(e)for(var n in e)({}).hasOwnProperty.call(e,n)&&(t[n]=e[n])}),t}function f(t,e){if("undefined"!=typeof t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.remove(e)});else{var n=new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi"),i=p(t).replace(n," ");g(t,i)}}function h(t,e){if("undefined"!=typeof t.classList)e.split(" ").forEach(function(e){e.trim()&&t.classList.add(e)});else{f(t,e);var n=p(t)+(" "+e);g(t,n)}}function d(t,e){if("undefined"!=typeof t.classList)return t.classList.contains(e);var n=p(t);return new RegExp("(^| )"+e+"( |$)","gi").test(n)}function p(t){return t.className instanceof t.ownerDocument.defaultView.SVGAnimatedString?t.className.baseVal:t.className}function g(t,e){t.setAttribute("class",e)}function m(t,e,n){n.forEach(function(n){e.indexOf(n)===-1&&d(t,n)&&f(t,n)}),e.forEach(function(e){d(t,e)||h(t,e)})}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function y(t,e){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return t+n>=e&&e>=t-n}function b(){return"undefined"!=typeof performance&&"undefined"!=typeof performance.now?performance.now():+new Date}function _(){for(var t={top:0,left:0},e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach(function(e){var n=e.top,i=e.left;"string"==typeof n&&(n=parseFloat(n,10)),"string"==typeof i&&(i=parseFloat(i,10)),t.top+=n,t.left+=i}),t}function x(t,e){return"string"==typeof t.left&&t.left.indexOf("%")!==-1&&(t.left=parseFloat(t.left,10)/100*e.width),"string"==typeof t.top&&t.top.indexOf("%")!==-1&&(t.top=parseFloat(t.top,10)/100*e.height),t}function w(t,e){return"scrollParent"===e?e=t.scrollParents[0]:"window"===e&&(e=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),e===document&&(e=e.documentElement),"undefined"!=typeof e.nodeType&&!function(){var t=e,n=s(e),i=n,r=getComputedStyle(e);if(e=[i.left,i.top,n.width+i.left,n.height+i.top],t.ownerDocument!==document){var o=t.ownerDocument.defaultView;e[0]+=o.pageXOffset,e[1]+=o.pageYOffset,e[2]+=o.pageXOffset,e[3]+=o.pageYOffset}G.forEach(function(t,n){t=t[0].toUpperCase()+t.substr(1),"Top"===t||"Left"===t?e[n]+=parseFloat(r["border"+t+"Width"]):e[n]-=parseFloat(r["border"+t+"Width"])})}(),e}var k=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),E=void 0;"undefined"==typeof E&&(E={modules:[]});var S=null,C=function(){var t=0;return function(){return++t}}(),T={},M=function(){var t=S;t&&document.body.contains(t)||(t=document.createElement("div"),t.setAttribute("data-tether-id",C()),c(t.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(t),S=t);var e=t.getAttribute("data-tether-id");return"undefined"==typeof T[e]&&(T[e]=r(t),O(function(){delete T[e]})),T[e]},A=null,$=[],O=function(t){$.push(t)},D=function(){for(var t=void 0;t=$.pop();)t()},N=function(){function t(){i(this,t)}return k(t,[{key:"on",value:function(t,e,n){var i=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];"undefined"==typeof this.bindings&&(this.bindings={}),"undefined"==typeof this.bindings[t]&&(this.bindings[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:i})}},{key:"once",value:function(t,e,n){this.on(t,e,n,!0)}},{key:"off",value:function(t,e){if("undefined"!=typeof this.bindings&&"undefined"!=typeof this.bindings[t])if("undefined"==typeof e)delete this.bindings[t];else for(var n=0;n<this.bindings[t].length;)this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):++n}},{key:"trigger",value:function(t){if("undefined"!=typeof this.bindings&&this.bindings[t]){for(var e=0,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(;e<this.bindings[t].length;){var o=this.bindings[t][e],a=o.handler,s=o.ctx,u=o.once,l=s;"undefined"==typeof l&&(l=this),a.apply(l,i),u?this.bindings[t].splice(e,1):++e}}}}]),t}();E.Utils={getActualBoundingClientRect:r,getScrollParents:o,getBounds:s,getOffsetParent:u,extend:c,addClass:h,removeClass:f,hasClass:d,updateClasses:m,defer:O,flush:D,uniqueId:C,Evented:N,getScrollBarSize:l,removeUtilElements:a};var I=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(u){r=!0,o=u}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),L=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=o,n=a,i=!0,s=l=void 0}};if("undefined"==typeof E)throw new Error("You must include the utils.js file before tether.js");var P=E.Utils,o=P.getScrollParents,s=P.getBounds,u=P.getOffsetParent,c=P.extend,h=P.addClass,f=P.removeClass,m=P.updateClasses,O=P.defer,D=P.flush,l=P.getScrollBarSize,a=P.removeUtilElements,R=function(){if("undefined"==typeof document)return"";for(var t=document.createElement("div"),e=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],n=0;n<e.length;++n){var i=e[n];if(void 0!==t.style[i])return i}}(),F=[],j=function(){F.forEach(function(t){t.position(!1)}),D()};!function(){var t=null,e=null,n=null,i=function r(){return"undefined"!=typeof e&&e>16?(e=Math.min(e-16,250),void(n=setTimeout(r,250))):void("undefined"!=typeof t&&b()-t<10||(null!=n&&(clearTimeout(n),n=null),t=b(),j(),e=b()-t))};"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener&&["resize","scroll","touchmove"].forEach(function(t){window.addEventListener(t,i)})}();var U={center:"center",left:"right",right:"left"},z={middle:"middle",top:"bottom",bottom:"top"},H={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},q=function(t,e){var n=t.left,i=t.top;return"auto"===n&&(n=U[e.left]),"auto"===i&&(i=z[e.top]),{left:n,top:i}},W=function(t){var e=t.left,n=t.top;return"undefined"!=typeof H[t.left]&&(e=H[t.left]),"undefined"!=typeof H[t.top]&&(n=H[t.top]),{left:e,top:n}},Y=function(t){var e=t.split(" "),n=I(e,2),i=n[0],r=n[1];return{top:i,left:r}},B=Y,V=function(t){function e(t){var n=this;i(this,e),L(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.position=this.position.bind(this),F.push(this),this.history=[],this.setOptions(t,!1),E.modules.forEach(function(t){"undefined"!=typeof t.initialize&&t.initialize.call(n)}),this.position()}return v(e,t),k(e,[{key:"getClass",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],e=this.options.classes;return"undefined"!=typeof e&&e[t]?this.options.classes[t]:this.options.classPrefix?this.options.classPrefix+"-"+t:t}},{key:"setOptions",value:function(t){var e=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1],i={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=c(i,t);var r=this.options,a=r.element,s=r.target,u=r.targetModifier;if(this.element=a,this.target=s,this.targetModifier=u,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(t){if("undefined"==typeof e[t])throw new Error("Tether Error: Both element and target must be defined");"undefined"!=typeof e[t].jquery?e[t]=e[t][0]:"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))}),h(this.element,this.getClass("element")),this.options.addTargetClasses!==!1&&h(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=B(this.options.targetAttachment),this.attachment=B(this.options.attachment),this.offset=Y(this.options.offset),this.targetOffset=Y(this.options.targetOffset),"undefined"!=typeof this.scrollParents&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParents=[this.target]:this.scrollParents=o(this.target),this.options.enabled!==!1&&this.enable(n)}},{key:"getTargetBounds",value:function(){if("undefined"==typeof this.targetModifier)return s(this.target);if("visible"===this.targetModifier){if(this.target===document.body)return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth};var t=s(this.target),e={height:t.height,width:t.width,top:t.top,left:t.left};return e.height=Math.min(e.height,t.height-(pageYOffset-t.top)),e.height=Math.min(e.height,t.height-(t.top+t.height-(pageYOffset+innerHeight))),e.height=Math.min(innerHeight,e.height),e.height-=2,e.width=Math.min(e.width,t.width-(pageXOffset-t.left)),e.width=Math.min(e.width,t.width-(t.left+t.width-(pageXOffset+innerWidth))),e.width=Math.min(innerWidth,e.width),e.width-=2,e.top<pageYOffset&&(e.top=pageYOffset),e.left<pageXOffset&&(e.left=pageXOffset),e}if("scroll-handle"===this.targetModifier){var t=void 0,n=this.target;n===document.body?(n=document.documentElement,t={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):t=s(n);var i=getComputedStyle(n),r=n.scrollWidth>n.clientWidth||[i.overflow,i.overflowX].indexOf("scroll")>=0||this.target!==document.body,o=0;r&&(o=15);var a=t.height-parseFloat(i.borderTopWidth)-parseFloat(i.borderBottomWidth)-o,e={width:15,height:.975*a*(a/n.scrollHeight),left:t.left+t.width-parseFloat(i.borderLeftWidth)-15},u=0;a<408&&this.target===document.body&&(u=-11e-5*Math.pow(a,2)-.00727*a+22.58),this.target!==document.body&&(e.height=Math.max(e.height,24));var l=this.target.scrollTop/(n.scrollHeight-a);return e.top=l*(a-e.height-u)+t.top+parseFloat(i.borderTopWidth),this.target===document.body&&(e.height=Math.max(e.height,24)),e}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(t,e){return"undefined"==typeof this._cache&&(this._cache={}),"undefined"==typeof this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]}},{key:"enable",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];this.options.addTargetClasses!==!1&&h(this.target,this.getClass("enabled")),h(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(e){e!==t.target.ownerDocument&&e.addEventListener("scroll",t.position)}),e&&this.position()}},{key:"disable",value:function(){var t=this;f(this.target,this.getClass("enabled")),f(this.element,this.getClass("enabled")),this.enabled=!1,"undefined"!=typeof this.scrollParents&&this.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.position)})}},{key:"destroy",value:function(){var t=this;this.disable(),F.forEach(function(e,n){e===t&&F.splice(n,1)}),0===F.length&&a()}},{key:"updateAttachClasses",value:function(t,e){var n=this;t=t||this.attachment,e=e||this.targetAttachment;var i=["left","top","bottom","right","middle","center"];"undefined"!=typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),"undefined"==typeof this._addAttachClasses&&(this._addAttachClasses=[]);var r=this._addAttachClasses;t.top&&r.push(this.getClass("element-attached")+"-"+t.top),t.left&&r.push(this.getClass("element-attached")+"-"+t.left),e.top&&r.push(this.getClass("target-attached")+"-"+e.top),e.left&&r.push(this.getClass("target-attached")+"-"+e.left);var o=[];i.forEach(function(t){o.push(n.getClass("element-attached")+"-"+t),o.push(n.getClass("target-attached")+"-"+t)}),O(function(){"undefined"!=typeof n._addAttachClasses&&(m(n.element,n._addAttachClasses,o),n.options.addTargetClasses!==!1&&m(n.target,n._addAttachClasses,o),delete n._addAttachClasses)})}},{key:"position",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var n=q(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,n);var i=this.cache("element-bounds",function(){return s(t.element)}),r=i.width,o=i.height;if(0===r&&0===o&&"undefined"!=typeof this.lastSize){var a=this.lastSize;r=a.width,o=a.height}else this.lastSize={width:r,height:o};var c=this.cache("target-bounds",function(){return t.getTargetBounds()}),f=c,h=x(W(this.attachment),{width:r,height:o}),d=x(W(n),f),p=x(this.offset,{width:r,height:o}),g=x(this.targetOffset,f);h=_(h,p),d=_(d,g);for(var m=c.left+d.left-h.left,v=c.top+d.top-h.top,y=0;y<E.modules.length;++y){var b=E.modules[y],w=b.position.call(this,{left:m,top:v,targetAttachment:n,targetPos:c,elementPos:i,offset:h,targetOffset:d,manualOffset:p,manualTargetOffset:g,scrollbarSize:T,attachment:this.attachment});if(w===!1)return!1;"undefined"!=typeof w&&"object"==typeof w&&(v=w.top,m=w.left)}var k={page:{top:v,left:m},viewport:{top:v-pageYOffset,bottom:pageYOffset-v-o+innerHeight,left:m-pageXOffset,right:pageXOffset-m-r+innerWidth}},S=this.target.ownerDocument,C=S.defaultView,T=void 0;return C.innerHeight>S.documentElement.clientHeight&&(T=this.cache("scrollbar-size",l),k.viewport.bottom-=T.height),C.innerWidth>S.documentElement.clientWidth&&(T=this.cache("scrollbar-size",l),k.viewport.right-=T.width),["","static"].indexOf(S.body.style.position)!==-1&&["","static"].indexOf(S.body.parentElement.style.position)!==-1||(k.page.bottom=S.body.scrollHeight-v-o,k.page.right=S.body.scrollWidth-m-r),"undefined"!=typeof this.options.optimizations&&this.options.optimizations.moveElement!==!1&&"undefined"==typeof this.targetModifier&&!function(){var e=t.cache("target-offsetparent",function(){return u(t.target)}),n=t.cache("target-offsetparent-bounds",function(){return s(e)}),i=getComputedStyle(e),r=n,o={};if(["Top","Left","Bottom","Right"].forEach(function(t){o[t.toLowerCase()]=parseFloat(i["border"+t+"Width"])}),n.right=S.body.scrollWidth-n.left-r.width+o.right,n.bottom=S.body.scrollHeight-n.top-r.height+o.bottom,k.page.top>=n.top+o.top&&k.page.bottom>=n.bottom&&k.page.left>=n.left+o.left&&k.page.right>=n.right){var a=e.scrollTop,l=e.scrollLeft;k.offset={top:k.page.top-n.top+a-o.top,left:k.page.left-n.left+l-o.left}}}(),this.move(k),this.history.unshift(k),this.history.length>3&&this.history.pop(),e&&D(),!0}}},{key:"move",value:function(t){var e=this;if("undefined"!=typeof this.element.parentNode){var n={};for(var i in t){n[i]={};for(var r in t[i]){for(var o=!1,a=0;a<this.history.length;++a){var s=this.history[a];if("undefined"!=typeof s[i]&&!y(s[i][r],t[i][r])){o=!0;break}}o||(n[i][r]=!0)}}var l={top:"",left:"",right:"",bottom:""},f=function(t,n){var i="undefined"!=typeof e.options.optimizations,r=i?e.options.optimizations.gpu:null;if(r!==!1){var o=void 0,a=void 0;if(t.top?(l.top=0,o=n.top):(l.bottom=0,o=-n.bottom),t.left?(l.left=0,a=n.left):(l.right=0,a=-n.right),window.matchMedia){var s=window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches;s||(a=Math.round(a),o=Math.round(o))}l[R]="translateX("+a+"px) translateY("+o+"px)","msTransform"!==R&&(l[R]+=" translateZ(0)")}else t.top?l.top=n.top+"px":l.bottom=n.bottom+"px",t.left?l.left=n.left+"px":l.right=n.right+"px"},h=!1;if((n.page.top||n.page.bottom)&&(n.page.left||n.page.right)?(l.position="absolute",f(n.page,t.page)):(n.viewport.top||n.viewport.bottom)&&(n.viewport.left||n.viewport.right)?(l.position="fixed",f(n.viewport,t.viewport)):"undefined"!=typeof n.offset&&n.offset.top&&n.offset.left?!function(){l.position="absolute";var i=e.cache("target-offsetparent",function(){return u(e.target)});u(e.element)!==i&&O(function(){e.element.parentNode.removeChild(e.element),i.appendChild(e.element)}),f(n.offset,t.offset),h=!0}():(l.position="absolute",f({top:!0,left:!0},t.page)),!h)if(this.options.bodyElement)this.options.bodyElement.appendChild(this.element);else{for(var d=!0,p=this.element.parentNode;p&&1===p.nodeType&&"BODY"!==p.tagName;){if("static"!==getComputedStyle(p).position){d=!1;break}p=p.parentNode}d||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var g={},m=!1;for(var r in l){var v=l[r],b=this.element.style[r];b!==v&&(m=!0,g[r]=v)}m&&O(function(){c(e.element.style,g),e.trigger("repositioned")})}}}]),e}(N);V.modules=[],E.position=j;var X=c(V,E),I=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(u){r=!0,o=u}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),P=E.Utils,s=P.getBounds,c=P.extend,m=P.updateClasses,O=P.defer,G=["left","top","right","bottom"];E.modules.push({position:function(t){var e=this,n=t.top,i=t.left,r=t.targetAttachment;if(!this.options.constraints)return!0;var o=this.cache("element-bounds",function(){return s(e.element)}),a=o.height,u=o.width;if(0===u&&0===a&&"undefined"!=typeof this.lastSize){var l=this.lastSize;u=l.width,a=l.height}var f=this.cache("target-bounds",function(){return e.getTargetBounds()}),h=f.height,d=f.width,p=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(t){var e=t.outOfBoundsClass,n=t.pinnedClass;e&&p.push(e),n&&p.push(n)}),p.forEach(function(t){["left","top","right","bottom"].forEach(function(e){p.push(t+"-"+e)})});var g=[],v=c({},r),y=c({},this.attachment);return this.options.constraints.forEach(function(t){var o=t.to,s=t.attachment,l=t.pin;"undefined"==typeof s&&(s="");var c=void 0,f=void 0;if(s.indexOf(" ")>=0){var p=s.split(" "),m=I(p,2);f=m[0],c=m[1]}else c=f=s;var b=w(e,o);"target"!==f&&"both"!==f||(n<b[1]&&"top"===v.top&&(n+=h,v.top="bottom"),n+a>b[3]&&"bottom"===v.top&&(n-=h,v.top="top")),"together"===f&&("top"===v.top&&("bottom"===y.top&&n<b[1]?(n+=h,v.top="bottom",n+=a,y.top="top"):"top"===y.top&&n+a>b[3]&&n-(a-h)>=b[1]&&(n-=a-h,v.top="bottom",y.top="bottom")),"bottom"===v.top&&("top"===y.top&&n+a>b[3]?(n-=h,v.top="top",n-=a,y.top="bottom"):"bottom"===y.top&&n<b[1]&&n+(2*a-h)<=b[3]&&(n+=a-h,v.top="top",y.top="top")),"middle"===v.top&&(n+a>b[3]&&"top"===y.top?(n-=a,y.top="bottom"):n<b[1]&&"bottom"===y.top&&(n+=a,y.top="top"))),"target"!==c&&"both"!==c||(i<b[0]&&"left"===v.left&&(i+=d,v.left="right"),i+u>b[2]&&"right"===v.left&&(i-=d,v.left="left")),"together"===c&&(i<b[0]&&"left"===v.left?"right"===y.left?(i+=d,v.left="right",i+=u,y.left="left"):"left"===y.left&&(i+=d,v.left="right",i-=u,y.left="right"):i+u>b[2]&&"right"===v.left?"left"===y.left?(i-=d,v.left="left",i-=u,y.left="right"):"right"===y.left&&(i-=d,v.left="left",i+=u,y.left="left"):"center"===v.left&&(i+u>b[2]&&"left"===y.left?(i-=u,y.left="right"):i<b[0]&&"right"===y.left&&(i+=u,y.left="left"))),"element"!==f&&"both"!==f||(n<b[1]&&"bottom"===y.top&&(n+=a,y.top="top"),n+a>b[3]&&"top"===y.top&&(n-=a,y.top="bottom")),"element"!==c&&"both"!==c||(i<b[0]&&("right"===y.left?(i+=u,y.left="left"):"center"===y.left&&(i+=u/2,y.left="left")),i+u>b[2]&&("left"===y.left?(i-=u,y.left="right"):"center"===y.left&&(i-=u/2,y.left="right"))),"string"==typeof l?l=l.split(",").map(function(t){return t.trim()}):l===!0&&(l=["top","left","right","bottom"]),l=l||[];var _=[],x=[];n<b[1]&&(l.indexOf("top")>=0?(n=b[1],_.push("top")):x.push("top")),n+a>b[3]&&(l.indexOf("bottom")>=0?(n=b[3]-a,_.push("bottom")):x.push("bottom")),i<b[0]&&(l.indexOf("left")>=0?(i=b[0],_.push("left")):x.push("left")),i+u>b[2]&&(l.indexOf("right")>=0?(i=b[2]-u,_.push("right")):x.push("right")),_.length&&!function(){var t=void 0;t="undefined"!=typeof e.options.pinnedClass?e.options.pinnedClass:e.getClass("pinned"),g.push(t),_.forEach(function(e){g.push(t+"-"+e)})}(),x.length&&!function(){var t=void 0;t="undefined"!=typeof e.options.outOfBoundsClass?e.options.outOfBoundsClass:e.getClass("out-of-bounds"),g.push(t),x.forEach(function(e){g.push(t+"-"+e)})}(),(_.indexOf("left")>=0||_.indexOf("right")>=0)&&(y.left=v.left=!1),(_.indexOf("top")>=0||_.indexOf("bottom")>=0)&&(y.top=v.top=!1),v.top===r.top&&v.left===r.left&&y.top===e.attachment.top&&y.left===e.attachment.left||(e.updateAttachClasses(y,v),e.trigger("update",{attachment:y,targetAttachment:v}))}),O(function(){e.options.addTargetClasses!==!1&&m(e.target,g,p),m(e.element,g,p)}),{top:n,left:i}}});var P=E.Utils,s=P.getBounds,m=P.updateClasses,O=P.defer;E.modules.push({position:function(t){var e=this,n=t.top,i=t.left,r=this.cache("element-bounds",function(){return s(e.element)}),o=r.height,a=r.width,u=this.getTargetBounds(),l=n+o,c=i+a,f=[];n<=u.bottom&&l>=u.top&&["left","right"].forEach(function(t){var e=u[t];e!==i&&e!==c||f.push(t)}),i<=u.right&&c>=u.left&&["top","bottom"].forEach(function(t){var e=u[t];e!==n&&e!==l||f.push(t)});var h=[],d=[],p=["left","top","right","bottom"];return h.push(this.getClass("abutted")),p.forEach(function(t){h.push(e.getClass("abutted")+"-"+t)}),f.length&&d.push(this.getClass("abutted")),f.forEach(function(t){d.push(e.getClass("abutted")+"-"+t)}),O(function(){e.options.addTargetClasses!==!1&&m(e.target,d,h),m(e.element,d,h)}),!0}});var I=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(u){r=!0,o=u}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return E.modules.push({position:function(t){var e=t.top,n=t.left;if(this.options.shift){var i=this.options.shift;"function"==typeof this.options.shift&&(i=this.options.shift.call(this,{top:e,left:n}));var r=void 0,o=void 0;if("string"==typeof i){i=i.split(" "),i[1]=i[1]||i[0];var a=i,s=I(a,2);r=s[0],o=s[1],r=parseFloat(r,10),o=parseFloat(o,10)}else r=i.top,o=i.left;return e+=r,n+=o,{top:e,left:n}}}}),X}),/*! tether-drop 1.4.1 */
function(t,e){"function"==typeof define&&define.amd?define(["tether"],e):"object"==typeof exports?module.exports=e(require("tether")):t.Drop=e(t.Tether)}(this,function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t){var e=t.split(" "),n=s(e,2),i=n[0],r=n[1];if(["left","right"].indexOf(i)>=0){var o=[r,i];i=o[0],r=o[1]}return[i,r].join(" ")}function r(t,e){for(var n=void 0,i=[];(n=t.indexOf(e))!==-1;)i.push(t.splice(n,1));return i}function o(){var s=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],c=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return new(a.apply(b,[null].concat(e)))};f(c,{createContext:o,drops:[],defaults:{}});var v={classPrefix:"drop",defaults:{position:"bottom left",openOn:"click",beforeClose:null,constrainToScrollParent:!0,constrainToWindow:!0,classes:"",remove:!1,openDelay:0,closeDelay:50,focusDelay:null,blurDelay:null,hoverOpenDelay:null,hoverCloseDelay:null,tetherOptions:{}}};f(c,v,s),f(c.defaults,v.defaults,s.defaults),"undefined"==typeof w[c.classPrefix]&&(w[c.classPrefix]=[]),c.updateBodyClasses=function(){for(var t=!1,e=w[c.classPrefix],n=e.length,i=0;i<n;++i)if(e[i].isOpened()){t=!0;break}t?h(document.body,c.classPrefix+"-open"):d(document.body,c.classPrefix+"-open")};var b=function(o){function a(t){if(e(this,a),l(Object.getPrototypeOf(a.prototype),"constructor",this).call(this),this.options=f({},c.defaults,t),this.target=this.options.target,"undefined"==typeof this.target)throw new Error("Drop Error: You must provide a target.");var n="data-"+c.classPrefix,i=this.target.getAttribute(n);i&&null==this.options.content&&(this.options.content=i);for(var r=["position","openOn"],o=0;o<r.length;++o){var s=this.target.getAttribute(n+"-"+r[o]);s&&null==this.options[r[o]]&&(this.options[r[o]]=s)}this.options.classes&&this.options.addTargetClasses!==!1&&h(this.target,this.options.classes),c.drops.push(this),w[c.classPrefix].push(this),this._boundEvents=[],this.bindMethods(),this.setupElements(),this.setupEvents(),this.setupTether()}return n(a,o),u(a,[{key:"_on",value:function(t,e,n){this._boundEvents.push({element:t,event:e,handler:n}),t.addEventListener(e,n)}},{key:"bindMethods",value:function(){this.transitionEndHandler=this._transitionEndHandler.bind(this)}},{key:"setupElements",value:function(){var t=this;if(this.drop=document.createElement("div"),h(this.drop,c.classPrefix),this.options.classes&&h(this.drop,this.options.classes),this.content=document.createElement("div"),h(this.content,c.classPrefix+"-content"),"function"==typeof this.options.content){var e=function(){var e=t.options.content.call(t,t);if("string"==typeof e)t.content.innerHTML=e;else{if("object"!=typeof e)throw new Error("Drop Error: Content function should return a string or HTMLElement.");t.content.innerHTML="",t.content.appendChild(e)}};e(),this.on("open",e.bind(this))}else"object"==typeof this.options.content?this.content.appendChild(this.options.content):this.content.innerHTML=this.options.content;this.drop.appendChild(this.content)}},{key:"setupTether",value:function(){var e=this.options.position.split(" ");e[0]=x[e[0]],e=e.join(" ");var n=[];this.options.constrainToScrollParent?n.push({to:"scrollParent",pin:"top, bottom",attachment:"together none"}):n.push({to:"scrollParent"}),this.options.constrainToWindow!==!1?n.push({to:"window",attachment:"together"}):n.push({to:"window"});var r={element:this.drop,target:this.target,attachment:i(e),targetAttachment:i(this.options.position),classPrefix:c.classPrefix,offset:"0 0",targetOffset:"0 0",enabled:!1,constraints:n,addTargetClasses:this.options.addTargetClasses};this.options.tetherOptions!==!1&&(this.tether=new t(f({},r,this.options.tetherOptions)))}},{key:"setupEvents",value:function(){var t=this;if(this.options.openOn){if("always"===this.options.openOn)return void setTimeout(this.open.bind(this));var e=this.options.openOn.split(" ");if(e.indexOf("click")>=0)for(var n=function(e){t.toggle(e),e.preventDefault()},i=function(e){t.isOpened()&&(e.target===t.drop||t.drop.contains(e.target)||e.target===t.target||t.target.contains(e.target)||t.close(e))},r=0;r<m.length;++r){var o=m[r];this._on(this.target,o,n),this._on(document,o,i)}var a=null,s=null,u=function(e){null!==s?clearTimeout(s):a=setTimeout(function(){t.open(e),a=null},("focus"===e.type?t.options.focusDelay:t.options.hoverOpenDelay)||t.options.openDelay)},l=function(e){null!==a?clearTimeout(a):s=setTimeout(function(){t.close(e),s=null},("blur"===e.type?t.options.blurDelay:t.options.hoverCloseDelay)||t.options.closeDelay)};e.indexOf("hover")>=0&&(this._on(this.target,"mouseover",u),this._on(this.drop,"mouseover",u),this._on(this.target,"mouseout",l),this._on(this.drop,"mouseout",l)),e.indexOf("focus")>=0&&(this._on(this.target,"focus",u),this._on(this.drop,"focus",u),this._on(this.target,"blur",l),this._on(this.drop,"blur",l))}}},{key:"isOpened",value:function(){if(this.drop)return p(this.drop,c.classPrefix+"-open")}},{key:"toggle",value:function(t){this.isOpened()?this.close(t):this.open(t)}},{key:"open",value:function(t){var e=this;this.isOpened()||(this.drop.parentNode||document.body.appendChild(this.drop),"undefined"!=typeof this.tether&&this.tether.enable(),h(this.drop,c.classPrefix+"-open"),h(this.drop,c.classPrefix+"-open-transitionend"),setTimeout(function(){e.drop&&h(e.drop,c.classPrefix+"-after-open")}),"undefined"!=typeof this.tether&&this.tether.position(),this.trigger("open"),c.updateBodyClasses())}},{key:"_transitionEndHandler",value:function(t){t.target===t.currentTarget&&(p(this.drop,c.classPrefix+"-open")||d(this.drop,c.classPrefix+"-open-transitionend"),this.drop.removeEventListener(y,this.transitionEndHandler))}},{key:"beforeCloseHandler",value:function(t){var e=!0;return this.isClosing||"function"!=typeof this.options.beforeClose||(this.isClosing=!0,e=this.options.beforeClose(t,this)!==!1),this.isClosing=!1,e}},{key:"close",value:function(t){this.isOpened()&&this.beforeCloseHandler(t)&&(d(this.drop,c.classPrefix+"-open"),d(this.drop,c.classPrefix+"-after-open"),this.drop.addEventListener(y,this.transitionEndHandler),this.trigger("close"),"undefined"!=typeof this.tether&&this.tether.disable(),c.updateBodyClasses(),this.options.remove&&this.remove(t))}},{key:"remove",value:function(t){this.close(t),this.drop.parentNode&&this.drop.parentNode.removeChild(this.drop)}},{key:"position",value:function(){this.isOpened()&&"undefined"!=typeof this.tether&&this.tether.position()}},{key:"destroy",value:function(){this.remove(),"undefined"!=typeof this.tether&&this.tether.destroy();for(var t=0;t<this._boundEvents.length;++t){var e=this._boundEvents[t],n=e.element,i=e.event,o=e.handler;n.removeEventListener(i,o)}this._boundEvents=[],this.tether=null,this.drop=null,this.content=null,this.target=null,r(w[c.classPrefix],this),r(c.drops,this)}}]),a}(g);return c}var a=Function.prototype.bind,s=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(u){r=!0,o=u}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function(t,e,n){for(var i=!0;i;){var r=t,o=e,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(r);if(null===l)return;t=l,e=o,n=a,i=!0,s=l=void 0}},c=t.Utils,f=c.extend,h=c.addClass,d=c.removeClass,p=c.hasClass,g=c.Evented,m=["click"];"ontouchstart"in document.documentElement&&m.push("touchstart");var v={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},y="";for(var b in v)if({}.hasOwnProperty.call(v,b)){var _=document.createElement("p");"undefined"!=typeof _.style[b]&&(y=v[b])}var x={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"},w={},k=o();return document.addEventListener("DOMContentLoaded",function(){k.updateBodyClasses()}),k}),function(){var t,e,n,i,r,o,a,s,u,l,c,f,h,d,p;n=Math.floor,l=Math.min,e=function(t,e){return t<e?-1:t>e?1:0},u=function(t,i,r,o,a){var s;if(null==r&&(r=0),null==a&&(a=e),r<0)throw new Error("lo must be non-negative");for(null==o&&(o=t.length);r<o;)s=n((r+o)/2),a(i,t[s])<0?o=s:r=s+1;return[].splice.apply(t,[r,r-r].concat(i)),i},o=function(t,n,i){return null==i&&(i=e),t.push(n),d(t,0,t.length-1,i)},r=function(t,n){var i,r;return null==n&&(n=e),i=t.pop(),t.length?(r=t[0],t[0]=i,p(t,0,n)):r=i,r},s=function(t,n,i){var r;return null==i&&(i=e),r=t[0],t[0]=n,p(t,0,i),r},a=function(t,n,i){var r;return null==i&&(i=e),t.length&&i(t[0],n)<0&&(r=[t[0],n],n=r[0],t[0]=r[1],p(t,0,i)),n},i=function(t,i){var r,o,a,s,u,l;for(null==i&&(i=e),s=function(){l=[];for(var e=0,i=n(t.length/2);0<=i?e<i:e>i;0<=i?e++:e--)l.push(e);return l}.apply(this).reverse(),u=[],o=0,a=s.length;o<a;o++)r=s[o],u.push(p(t,r,i));return u},h=function(t,n,i){var r;if(null==i&&(i=e),r=t.indexOf(n),r!==-1)return d(t,0,r,i),p(t,r,i)},c=function(t,n,r){var o,s,u,l,c;if(null==r&&(r=e),s=t.slice(0,n),!s.length)return s;for(i(s,r),c=t.slice(n),u=0,l=c.length;u<l;u++)o=c[u],a(s,o,r);return s.sort(r).reverse()},f=function(t,n,o){var a,s,c,f,h,d,p,g,m,v;if(null==o&&(o=e),10*n<=t.length){if(f=t.slice(0,n).sort(o),!f.length)return f;for(c=f[f.length-1],g=t.slice(n),h=0,p=g.length;h<p;h++)a=g[h],o(a,c)<0&&(u(f,a,0,null,o),f.pop(),c=f[f.length-1]);return f}for(i(t,o),v=[],s=d=0,m=l(n,t.length);0<=m?d<m:d>m;s=0<=m?++d:--d)v.push(r(t,o));return v},d=function(t,n,i,r){var o,a,s;for(null==r&&(r=e),o=t[i];i>n&&(s=i-1>>1,a=t[s],r(o,a)<0);)t[i]=a,i=s;return t[i]=o},p=function(t,n,i){var r,o,a,s,u;for(null==i&&(i=e),o=t.length,u=n,a=t[n],r=2*n+1;r<o;)s=r+1,s<o&&!(i(t[r],t[s])<0)&&(r=s),t[n]=t[r],n=r,r=2*n+1;return t[n]=a,d(t,u,n,i)},t=function(){function t(t){this.cmp=null!=t?t:e,this.nodes=[]}return t.push=o,t.pop=r,t.replace=s,t.pushpop=a,t.heapify=i,t.updateItem=h,t.nlargest=c,t.nsmallest=f,t.prototype.push=function(t){return o(this.nodes,t,this.cmp)},t.prototype.pop=function(){return r(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return this.nodes.indexOf(t)!==-1},t.prototype.replace=function(t){return s(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return a(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return i(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return h(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return e=new t,e.nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),function(t,e){return"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Heap=e()}(this,function(){return t})}.call(this),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.vg=t()}}(function(){var t;return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){e.exports={version:"2.5.2",dataflow:t("vega-dataflow"),parse:t("./src/parse/"),scene:{Bounder:t("./src/scene/Bounder"),Builder:t("./src/scene/Builder"),Encoder:t("./src/scene/Encoder"),GroupBuilder:t("./src/scene/GroupBuilder"),visit:t("./src/scene/visit")},transforms:t("./src/transforms"),Transform:t("./src/transforms/Transform"),BatchTransform:t("./src/transforms/BatchTransform"),Parameter:t("./src/transforms/Parameter"),schema:t("./src/core/schema"),config:t("./src/core/config"),util:t("./src/util"),logging:t("vega-logging"),debug:t("vega-logging").debug}},{"./src/core/config":91,"./src/core/schema":92,"./src/parse/":97,"./src/scene/Bounder":109,"./src/scene/Builder":110,"./src/scene/Encoder":111,"./src/scene/GroupBuilder":112,"./src/scene/visit":117,"./src/transforms":145,"./src/transforms/BatchTransform":119,"./src/transforms/Parameter":135,"./src/transforms/Transform":140,"./src/util":148,"vega-dataflow":41,"vega-logging":48}],2:[function(t,e,n){},{}],3:[function(e,n,i){!function(e,r){"object"==typeof i&&"undefined"!=typeof n?r(i):"function"==typeof t&&t.amd?t(["exports"],r):r(e.d3_dsv={})}(this,function(t){"use strict";function e(t){return new o(t)}function n(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function i(t,e){var i=n(t);return function(n,r){return e(i(n),r,t)}}function r(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var i in t)i in e||n.push(e[i]=i)}),n}function o(t){function e(e){return e.map(o).join(t)}function o(t){return a.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var a=new RegExp('["'+t+"\n]"),s=t.charCodeAt(0);this.parse=function(t,e){var r,o,a=this.parseRows(t,function(t,a){return r?r(t,a-1):(o=t,void(r=e?i(t,e):n(t)))});return a.columns=o,a},this.parseRows=function(t,e){function n(){if(c>=l)return a;if(r)return r=!1,o;var e,n=c;if(34===t.charCodeAt(n)){for(var i=n;i++<l;)if(34===t.charCodeAt(i)){if(34!==t.charCodeAt(i+1))break;++i}return c=i+2,e=t.charCodeAt(i+1),13===e?(r=!0,10===t.charCodeAt(i+2)&&++c):10===e&&(r=!0),t.slice(n+1,i).replace(/""/g,'"')}for(;c<l;){var u=1;if(e=t.charCodeAt(c++),10===e)r=!0;else if(13===e)r=!0,10===t.charCodeAt(c)&&(++c,++u);else if(e!==s)continue;return t.slice(n,c-u)}return t.slice(n)}for(var i,r,o={},a={},u=[],l=t.length,c=0,f=0;(i=n())!==a;){for(var h=[];i!==o&&i!==a;)h.push(i),i=n();e&&null==(h=e(h,f++))||u.push(h)}return u},this.format=function(e,n){return null==n&&(n=r(e)),[n.map(o).join(t)].concat(e.map(function(e){return n.map(function(t){return o(e[t])}).join(t)})).join("\n")},this.formatRows=function(t){return t.map(e).join("\n")}}e.prototype=o.prototype;var a=e(","),s=e("\t"),u="0.1.14";t.version=u,t.dsv=e,t.csv=a,t.tsv=s})},{}],4:[function(e,n,i){!function(e,r){"object"==typeof i&&"undefined"!=typeof n?r(i):"function"==typeof t&&t.amd?t("d3-format",["exports"],r):r(e.d3_format={})}(this,function(t){"use strict";function e(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function n(t){return t=e(Math.abs(t)),t?t[1]:NaN}function i(t,e){return function(n,i){for(var r=n.length,o=[],a=0,s=t[0],u=0;r>0&&s>0&&(u+s+1>i&&(s=Math.max(1,i-u)),o.push(n.substring(r-=s,r+s)),!((u+=s+1)>i));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function r(t,n){var i=e(t,n);if(!i)return t+"";var r=i[0],o=i[1],a=o-(p=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+e(t,Math.max(0,n+a-1))[0]}function o(t,n){var i=e(t,n);if(!i)return t+"";var r=i[0],o=i[1];return o<0?"0."+new Array((-o)).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}function a(t,e){t=t.toPrecision(e);t:for(var n,i=t.length,r=1,o=-1;r<i;++r)switch(t[r]){case".":o=n=r;break;case"0":0===o&&(o=r),n=r;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t}function s(t){return new u(t)}function u(t){if(!(e=m.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",i=e[2]||">",r=e[3]||"-",o=e[4]||"",a=!!e[5],s=e[6]&&+e[6],u=!!e[7],l=e[8]&&+e[8].slice(1),c=e[9]||"";"n"===c?(u=!0,c="g"):g[c]||(c=""),(a||"0"===n&&"="===i)&&(a=!0,n="0",i="="),this.fill=n,this.align=i,this.sign=r,this.symbol=o,this.zero=a,this.width=s,this.comma=u,this.precision=l,this.type=c}function l(t){return t}function c(t){function e(t){t=s(t);var e=t.fill,n=t.align,i=t.sign,r=t.symbol,l=t.zero,c=t.width,f=t.comma,h=t.precision,d=t.type,m="$"===r?a[0]:"#"===r&&/[boxX]/.test(d)?"0"+d.toLowerCase():"",y="$"===r?a[1]:/[%p]/.test(d)?"%":"",b=g[d],_=!d||/[defgprs%]/.test(d);return h=null==h?d?6:12:/[gprs]/.test(d)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),function(t){var r=m,a=y;if("c"===d)a=b(t)+a,t="";else{t=+t;var s=(t<0||1/t<0)&&(t*=-1,!0);if(t=b(t,h),s){var g,x=-1,w=t.length;for(s=!1;++x<w;)if(g=t.charCodeAt(x),48<g&&g<58||"x"===d&&96<g&&g<103||"X"===d&&64<g&&g<71){s=!0;break}}if(r=(s?"("===i?i:"-":"-"===i||"("===i?"":i)+r,a=a+("s"===d?v[8+p/3]:"")+(s&&"("===i?")":""),_)for(var g,x=-1,w=t.length;++x<w;)if(g=t.charCodeAt(x),48>g||g>57){a=(46===g?u+t.slice(x+1):t.slice(x))+a,t=t.slice(0,x);break}}f&&!l&&(t=o(t,1/0));var k=r.length+t.length+a.length,E=k<c?new Array(c-k+1).join(e):"";switch(f&&l&&(t=o(E+t,E.length?c-a.length:1/0),E=""),n){case"<":return r+t+a+E;case"=":return r+E+t+a;case"^":return E.slice(0,k=E.length>>1)+r+t+a+E.slice(k)}return E+r+t+a}}function r(t,i){var r=e((t=s(t),t.type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(n(i)/3))),a=Math.pow(10,-o),u=v[8+o/3];return function(t){return r(a*t)+u}}var o=t.grouping&&t.thousands?i(t.grouping,t.thousands):l,a=t.currency,u=t.decimal;return{format:e,formatPrefix:r}}function f(t){return Math.max(0,-n(Math.abs(t)))}function h(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n(e)/3)))-n(Math.abs(t)))}function d(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,n(e)-n(t))+1}var p,g={"":a,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return o(100*t,e)},r:o,s:r,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},m=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var v=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],y=c({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),b=c({decimal:",",thousands:".",grouping:[3],currency:[""," €"]}),_=c({decimal:",",thousands:" ",grouping:[3],currency:[""," Kč"]}),x=c({decimal:",",thousands:"'",grouping:[3],currency:[""," CHF"]}),w=c({decimal:",",thousands:".",grouping:[3],currency:[""," €"]}),k=c({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),E=c({decimal:".",thousands:",",grouping:[3],currency:["£",""]}),S=c({decimal:",",thousands:".",grouping:[3],currency:[""," €"]}),C=c({decimal:",",thousands:" ",grouping:[3],currency:[""," €"]}),T=c({decimal:",",thousands:" ",grouping:[3],currency:["","$"]}),M=c({decimal:",",thousands:".",grouping:[3],currency:[""," €"]}),A=c({decimal:".",thousands:",",grouping:[3],currency:["₪",""]}),$=c({decimal:",",thousands:" ",grouping:[3],currency:[""," Ft"]}),O=c({decimal:",",thousands:".",grouping:[3],currency:["€",""]}),D=c({decimal:".",thousands:",",grouping:[3],currency:["","円"]}),N=c({decimal:".",thousands:",",grouping:[3],currency:["₩",""]}),I=c({decimal:",",thousands:".",grouping:[3],currency:[""," ден."]}),L=c({decimal:",",thousands:".",grouping:[3],currency:["€ ",""]}),P=c({decimal:",",thousands:".",grouping:[3],currency:["","zł"]}),R=c({decimal:",",thousands:".",grouping:[3],currency:["R$",""]}),F=c({decimal:",",thousands:" ",grouping:[3],currency:[""," руб."]}),j=c({decimal:",",thousands:" ",grouping:[3],currency:["","SEK"]}),U=c({decimal:".",thousands:",",grouping:[3],currency:["¥",""]}),z=y.format,H=y.formatPrefix,q="0.4.2";t.version=q,t.format=z,t.formatPrefix=H,t.locale=c,t.localeCaEs=b,t.localeCsCz=_,t.localeDeCh=x,t.localeDeDe=w,t.localeEnCa=k,t.localeEnGb=E,t.localeEnUs=y,t.localeEsEs=S,t.localeFiFi=C,t.localeFrCa=T,t.localeFrFr=M,t.localeHeIl=A,t.localeHuHu=$,t.localeItIt=O,t.localeJaJp=D,t.localeKoKr=N,t.localeMkMk=I,t.localeNlNl=L,t.localePlPl=P,t.localePtBr=R,t.localeRuRu=F,t.localeSvSe=j,t.localeZhCn=U,t.formatSpecifier=s,t.precisionFixed=f,t.precisionPrefix=h,t.precisionRound=d})},{}],5:[function(e,n,i){!function(r,o){"object"==typeof i&&"undefined"!=typeof n?o(i,e("d3-time")):"function"==typeof t&&t.amd?t("d3-time-format",["exports","d3-time"],o):o(r.d3_time_format={},r.d3_time)}(this,function(t,e){"use strict";function n(t){if(0<=t.y&&t.y<100){var e=new Date((-1),t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function i(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function r(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function o(t){function e(t,e){return function(n){var i,r,o,a=[],s=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date((+n)));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(r=tt[i=t.charAt(++s)])?i=t.charAt(++s):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),a.push(i),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function o(t,e){return function(n){var o=r(1900),s=a(o,t,n+="",0);if(s!=n.length)return null;if("p"in o&&(o.H=o.H%12+12*o.p),"W"in o||"U"in o){"w"in o||(o.w="W"in o?1:0);var u="Z"in o?i(r(o.y)).getUTCDay():e(r(o.y)).getDay();o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(u+5)%7:o.w+7*o.U-(u+6)%7}return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,i(o)):e(o)}}function a(t,e,n,i){for(var r,o,a=0,s=e.length,u=n.length;a<s;){if(i>=u)return-1;if(r=e.charCodeAt(a++),37===r){if(r=e.charAt(a++),o=Rt[r in tt?e.charAt(a++):r],!o||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function s(t,e,n){var i=St.exec(e.slice(n));return i?(t.p=Ct[i[0].toLowerCase()],n+i[0].length):-1}function Q(t,e,n){var i=At.exec(e.slice(n));return i?(t.w=$t[i[0].toLowerCase()],n+i[0].length):-1}function et(t,e,n){var i=Tt.exec(e.slice(n));return i?(t.w=Mt[i[0].toLowerCase()],n+i[0].length):-1}function nt(t,e,n){var i=Nt.exec(e.slice(n));return i?(t.m=It[i[0].toLowerCase()],n+i[0].length):-1}function it(t,e,n){var i=Ot.exec(e.slice(n));return i?(t.m=Dt[i[0].toLowerCase()],n+i[0].length):-1}function rt(t,e,n){return a(t,vt,e,n)}function ot(t,e,n){return a(t,yt,e,n)}function at(t,e,n){return a(t,bt,e,n)}function st(t){return wt[t.getDay()]}function ut(t){return xt[t.getDay()]}function lt(t){return Et[t.getMonth()]}function ct(t){return kt[t.getMonth()]}function ft(t){return _t[+(t.getHours()>=12)]}function ht(t){return wt[t.getUTCDay()]}function dt(t){return xt[t.getUTCDay()]}function pt(t){return Et[t.getUTCMonth()]}function gt(t){return kt[t.getUTCMonth()]}function mt(t){return _t[+(t.getUTCHours()>=12)]}var vt=t.dateTime,yt=t.date,bt=t.time,_t=t.periods,xt=t.days,wt=t.shortDays,kt=t.months,Et=t.shortMonths,St=u(_t),Ct=l(_t),Tt=u(xt),Mt=l(xt),At=u(wt),$t=l(wt),Ot=u(kt),Dt=l(kt),Nt=u(Et),It=l(Et),Lt={a:st,A:ut,b:lt,B:ct,c:null,d:E,e:E,H:S,I:C,j:T,L:M,m:A,M:$,p:ft,S:O,U:D,w:N,W:I,x:null,X:null,y:L,Y:P,Z:R,"%":Z},Pt={a:ht,A:dt,b:pt,B:gt,c:null,d:F,e:F,H:j,I:U,j:z,L:H,m:q,M:W,p:mt,S:Y,U:B,w:V,W:X,x:null,X:null,y:G,Y:K,Z:J,"%":Z},Rt={a:Q,A:et,b:nt,B:it,c:rt,d:v,e:v,H:b,I:b,j:y,L:w,m:m,M:_,p:s,S:x,U:f,w:c,W:h,x:ot,X:at,y:p,Y:d,Z:g,"%":k};return Lt.x=e(yt,Lt),Lt.X=e(bt,Lt),Lt.c=e(vt,Lt),Pt.x=e(yt,Pt),Pt.X=e(bt,Pt),Pt.c=e(vt,Pt),{format:function(t){var i=e(t+="",Lt);return i.parse=o(t,n),i.toString=function(){return t},i},utcFormat:function(t){var n=e(t+="",Pt);return n.parse=o(t,i),n.toString=function(){return t},n}}}function a(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function s(t){return t.replace(it,"\\$&")}function u(t){return new RegExp("^(?:"+t.map(s).join("|")+")","i")}function l(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function c(t,e,n){var i=et.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function f(t,e,n){var i=et.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function h(t,e,n){var i=et.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function d(t,e,n){var i=et.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function p(t,e,n){var i=et.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function g(t,e,n){var i=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function m(t,e,n){var i=et.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function v(t,e,n){var i=et.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function y(t,e,n){var i=et.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function b(t,e,n){var i=et.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function _(t,e,n){var i=et.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function x(t,e,n){var i=et.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function w(t,e,n){var i=et.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function k(t,e,n){var i=nt.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function E(t,e){return a(t.getDate(),e,2)}function S(t,e){return a(t.getHours(),e,2)}function C(t,e){return a(t.getHours()%12||12,e,2)}function T(t,n){return a(1+e.day.count(e.year(t),t),n,3)}function M(t,e){return a(t.getMilliseconds(),e,3)}function A(t,e){return a(t.getMonth()+1,e,2)}function $(t,e){return a(t.getMinutes(),e,2)}function O(t,e){return a(t.getSeconds(),e,2)}function D(t,n){return a(e.sunday.count(e.year(t),t),n,2)}function N(t){return t.getDay()}function I(t,n){return a(e.monday.count(e.year(t),t),n,2)}function L(t,e){return a(t.getFullYear()%100,e,2)}function P(t,e){return a(t.getFullYear()%1e4,e,4)}function R(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+a(e/60|0,"0",2)+a(e%60,"0",2)}function F(t,e){return a(t.getUTCDate(),e,2)}function j(t,e){return a(t.getUTCHours(),e,2)}function U(t,e){return a(t.getUTCHours()%12||12,e,2)}function z(t,n){return a(1+e.utcDay.count(e.utcYear(t),t),n,3)}function H(t,e){return a(t.getUTCMilliseconds(),e,3)}function q(t,e){return a(t.getUTCMonth()+1,e,2)}function W(t,e){return a(t.getUTCMinutes(),e,2)}function Y(t,e){return a(t.getUTCSeconds(),e,2)}function B(t,n){return a(e.utcSunday.count(e.utcYear(t),t),n,2)}function V(t){return t.getUTCDay()}function X(t,n){return a(e.utcMonday.count(e.utcYear(t),t),n,2)}function G(t,e){return a(t.getUTCFullYear()%100,e,2)}function K(t,e){return a(t.getUTCFullYear()%1e4,e,4)}function J(){return"+0000"}function Z(){return"%"}function Q(t){return t.toISOString()}var tt={"-":"",_:" ",0:"0"},et=/^\s*\d+/,nt=/^%/,it=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,rt=o({dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),ot=o({dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],shortDays:["dg.","dl.","dt.","dc.","dj.","dv.","ds."],months:["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"],shortMonths:["gen.","febr.","març","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des."]}),at=o({dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]}),st=o({dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]}),ut=o({dateTime:"%a %b %e %X %Y",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),lt=o({dateTime:"%a %e %b %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),ct=o({dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],shortDays:["dom","lun","mar","mié","jue","vie","sáb"],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortMonths:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"]}),ft=o({dateTime:"%A, %-d. %Bta %Y klo %X",date:"%-d.%-m.%Y",time:"%H:%M:%S",periods:["a.m.","p.m."],days:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],shortDays:["Su","Ma","Ti","Ke","To","Pe","La"],months:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],shortMonths:["Tammi","Helmi","Maalis","Huhti","Touko","Kesä","Heinä","Elo","Syys","Loka","Marras","Joulu"]}),ht=o({dateTime:"%a %e %b %Y %X",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["",""],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim","lun","mar","mer","jeu","ven","sam"],months:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortMonths:["jan","fév","mar","avr","mai","jui","jul","aoû","sep","oct","nov","déc"]}),dt=o({dateTime:"%A, le %e %B %Y, %X",
date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],months:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortMonths:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."]}),pt=o({dateTime:"%A, %e ב%B %Y %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],shortDays:["א׳","ב׳","ג׳","ד׳","ה׳","ו׳","ש׳"],months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],shortMonths:["ינו׳","פבר׳","מרץ","אפר׳","מאי","יוני","יולי","אוג׳","ספט׳","אוק׳","נוב׳","דצמ׳"]}),gt=o({dateTime:"%Y. %B %-e., %A %X",date:"%Y. %m. %d.",time:"%H:%M:%S",periods:["de.","du."],days:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"],shortDays:["V","H","K","Sze","Cs","P","Szo"],months:["január","február","március","április","május","június","július","augusztus","szeptember","október","november","december"],shortMonths:["jan.","feb.","már.","ápr.","máj.","jún.","júl.","aug.","szept.","okt.","nov.","dec."]}),mt=o({dateTime:"%A %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],shortDays:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],shortMonths:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"]}),vt=o({dateTime:"%Y %b %e %a %X",date:"%Y/%m/%d",time:"%H:%M:%S",periods:["AM","PM"],days:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],shortDays:["日","月","火","水","木","金","土"],months:["睦月","如月","弥生","卯月","皐月","水無月","文月","葉月","長月","神無月","霜月","師走"],shortMonths:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]}),yt=o({dateTime:"%Y/%m/%d %a %X",date:"%Y/%m/%d",time:"%H:%M:%S",periods:["오전","오후"],days:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],shortDays:["일","월","화","수","목","금","토"],months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],shortMonths:["1월","2월","3월","4���","5월","6월","7월","8월","9월","10월","11월","12월"]}),bt=o({dateTime:"%A, %e %B %Y г. %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["недела","понеделник","вторник","среда","четврток","петок","сабота"],shortDays:["нед","пон","вто","сре","чет","пет","саб"],months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],shortMonths:["јан","фев","мар","апр","мај","јун","јул","авг","сеп","окт","ное","дек"]}),_t=o({dateTime:"%a %e %B %Y %T",date:"%d-%m-%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],shortDays:["zo","ma","di","wo","do","vr","za"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],shortMonths:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"]}),xt=o({dateTime:"%A, %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Pi��tek","Sobota"],shortDays:["Niedz.","Pon.","Wt.","Śr.","Czw.","Pt.","Sob."],months:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],shortMonths:["Stycz.","Luty","Marz.","Kwie.","Maj","Czerw.","Lipc.","Sierp.","Wrz.","Paźdz.","Listop.","Grudz."]}),wt=o({dateTime:"%A, %e de %B de %Y. %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],shortDays:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],shortMonths:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]}),kt=o({dateTime:"%A, %e %B %Y г. %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],shortDays:["вс","пн","вт","ср","чт","пт","сб"],months:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],shortMonths:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"]}),Et=o({dateTime:"%A den %d %B %Y %X",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["fm","em"],days:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],shortDays:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],shortMonths:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"]}),St=o({dateTime:"%a %b %e %X %Y",date:"%Y/%-m/%-d",time:"%H:%M:%S",periods:["上午","下午"],days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],shortDays:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],shortMonths:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]}),Ct="%Y-%m-%dT%H:%M:%S.%LZ";Q.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Q.toString=function(){return Ct};var Tt=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Q:rt.utcFormat(Ct),Mt=rt.format,At=rt.utcFormat,$t="0.2.1";t.version=$t,t.format=Mt,t.utcFormat=At,t.locale=o,t.localeCaEs=ot,t.localeDeCh=at,t.localeDeDe=st,t.localeEnCa=ut,t.localeEnGb=lt,t.localeEnUs=rt,t.localeEsEs=ct,t.localeFiFi=ft,t.localeFrCa=ht,t.localeFrFr=dt,t.localeHeIl=pt,t.localeHuHu=gt,t.localeItIt=mt,t.localeJaJp=vt,t.localeKoKr=yt,t.localeMkMk=bt,t.localeNlNl=_t,t.localePlPl=xt,t.localePtBr=wt,t.localeRuRu=kt,t.localeSvSe=Et,t.localeZhCn=St,t.isoFormat=Tt})},{"d3-time":6}],6:[function(e,n,i){!function(e,r){"object"==typeof i&&"undefined"!=typeof n?r(i):"function"==typeof t&&t.amd?t("d3-time",["exports"],r):r(e.d3_time={})}(this,function(t){"use strict";function e(t,n,i,a){function s(e){return t(e=new Date((+e))),e}return s.floor=s,s.round=function(e){var i=new Date((+e)),r=new Date(e-1);return t(i),t(r),n(r,1),e-i<r-e?i:r},s.ceil=function(e){return t(e=new Date(e-1)),n(e,1),e},s.offset=function(t,e){return n(t=new Date((+t)),null==e?1:Math.floor(e)),t},s.range=function(e,i,r){var o=[];if(e=new Date(e-1),i=new Date((+i)),r=null==r?1:Math.floor(r),!(e<i&&r>0))return o;for(n(e,1),t(e),e<i&&o.push(new Date((+e)));n(e,r),t(e),e<i;)o.push(new Date((+e)));return o},s.filter=function(i){return e(function(e){for(;t(e),!i(e);)e.setTime(e-1)},function(t,e){for(;--e>=0;)for(;n(t,1),!i(t););})},i&&(s.count=function(e,n){return r.setTime(+e),o.setTime(+n),t(r),t(o),Math.floor(i(r,o))},s.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?s.filter(a?function(e){return a(e)%t===0}:function(e){return s.count(0,e)%t===0}):s:null}),s}function n(t){return e(function(e){e.setHours(0,0,0,0),e.setDate(e.getDate()-(e.getDay()+7-t)%7)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5})}function i(t){return e(function(e){e.setUTCHours(0,0,0,0),e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/6048e5})}var r=new Date,o=new Date,a=e(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?e(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):a:null};var s=e(function(t){t.setMilliseconds(0)},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getSeconds()}),u=e(function(t){t.setSeconds(0,0)},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getMinutes()}),l=e(function(t){t.setMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),c=e(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5},function(t){return t.getDate()-1}),f=n(0),h=n(1),d=n(2),p=n(3),g=n(4),m=n(5),v=n(6),y=e(function(t){t.setHours(0,0,0,0),t.setDate(1)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),b=e(function(t){t.setHours(0,0,0,0),t.setMonth(0,1)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}),_=e(function(t){t.setUTCMilliseconds(0)},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),x=e(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getUTCMinutes()}),w=e(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),k=e(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),E=i(0),S=i(1),C=i(2),T=i(3),M=i(4),A=i(5),$=i(6),O=e(function(t){t.setUTCHours(0,0,0,0),t.setUTCDate(1)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),D=e(function(t){t.setUTCHours(0,0,0,0),t.setUTCMonth(0,1)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}),N=a.range,I=s.range,L=u.range,P=l.range,R=c.range,F=f.range,j=h.range,U=d.range,z=p.range,H=g.range,q=m.range,W=v.range,Y=f.range,B=y.range,V=b.range,X=a,G=N,K=_.range,J=x.range,Z=w.range,Q=k.range,tt=E.range,et=S.range,nt=C.range,it=T.range,rt=M.range,ot=A.range,at=$.range,st=E.range,ut=O.range,lt=D.range,ct="0.1.1";t.version=ct,t.milliseconds=N,t.seconds=I,t.minutes=L,t.hours=P,t.days=R,t.sundays=F,t.mondays=j,t.tuesdays=U,t.wednesdays=z,t.thursdays=H,t.fridays=q,t.saturdays=W,t.weeks=Y,t.months=B,t.years=V,t.utcMillisecond=X,t.utcMilliseconds=G,t.utcSeconds=K,t.utcMinutes=J,t.utcHours=Z,t.utcDays=Q,t.utcSundays=tt,t.utcMondays=et,t.utcTuesdays=nt,t.utcWednesdays=it,t.utcThursdays=rt,t.utcFridays=ot,t.utcSaturdays=at,t.utcWeeks=st,t.utcMonths=ut,t.utcYears=lt,t.millisecond=a,t.second=s,t.minute=u,t.hour=l,t.day=c,t.sunday=f,t.monday=h,t.tuesday=d,t.wednesday=p,t.thursday=g,t.friday=m,t.saturday=v,t.week=f,t.month=y,t.year=b,t.utcSecond=_,t.utcMinute=x,t.utcHour=w,t.utcDay=k,t.utcSunday=E,t.utcMonday=S,t.utcTuesday=C,t.utcWednesday=T,t.utcThursday=M,t.utcFriday=A,t.utcSaturday=$,t.utcWeek=E,t.utcMonth=O,t.utcYear=D,t.interval=e})},{}],7:[function(t,e,n){var i=t("./util"),r=t("./time"),o=r.utc,a=e.exports;a.$year=i.$func("year",r.year.unit),a.$month=i.$func("month",r.months.unit),a.$date=i.$func("date",r.dates.unit),a.$day=i.$func("day",r.weekdays.unit),a.$hour=i.$func("hour",r.hours.unit),a.$minute=i.$func("minute",r.minutes.unit),a.$second=i.$func("second",r.seconds.unit),a.$utcYear=i.$func("utcYear",o.year.unit),a.$utcMonth=i.$func("utcMonth",o.months.unit),a.$utcDate=i.$func("utcDate",o.dates.unit),a.$utcDay=i.$func("utcDay",o.weekdays.unit),a.$utcHour=i.$func("utcHour",o.hours.unit),a.$utcMinute=i.$func("utcMinute",o.minutes.unit),a.$utcSecond=i.$func("utcSecond",o.seconds.unit)},{"./time":29,"./util":30}],8:[function(t,e,n){function i(){this._cells={},this._aggr=[],this._stream=!1}function r(t){if(o.isArray(t))return t;if(null==t)return[];var e,n,i=[];for(e in t)n=o.array(t[e]),i.push({name:e,ops:n});return i}var o=t("../util"),a=t("./measures"),s=t("./collector"),u=i.Flags={ADD_CELL:1,MOD_CELL:2},l=i.prototype;l.stream=function(t){return null==t?this._stream:(this._stream=!!t,this._aggr=[],this)},l.key=function(t){return null==t?this._key:(this._key=o.$(t),this)},l.groupby=function(t){return this._dims=o.array(t).map(function(t,e){if(t=o.isString(t)?{name:t,get:o.$(t)}:o.isFunction(t)?{name:o.name(t)||t.name||"_"+e,get:t}:t.name&&o.isFunction(t.get)?t:null,null==t)throw"Invalid groupby argument: "+t;return t}),this.clear()},l.summarize=function(t){t=r(t),this._count=!0;var e,n,i,s,u,l,c,f=this._aggr=[];for(i=0;i<t.length;++i){for(s=0,e=[],n=t[i];s<n.ops.length;++s)u=n.ops[s],"count"!==u&&(this._count=!1),l=n.as&&n.as[s]||u+("*"===n.name?"":"_"+n.name),e.push(a[u](l));c=n.get&&o.$(n.get)||("*"===n.name?o.identity:o.$(n.name)),f.push({name:n.name,measures:a.create(e,this._stream,c,this._assign)})}return this.clear()},l.count=function(){return this.summarize({"*":"count"})},l._assign=function(t,e,n){t[e]=n},l.clear=function(){return this._cells={},this},l._cellkey=function(t){var e,n=this._dims,i=n.length,r=String(n[0].get(t));for(e=1;e<i;++e)r+="|"+n[e].get(t);return r},l._cell=function(t){var e=this._dims.length?this._cellkey(t):"";return this._cells[e]||(this._cells[e]=this._newcell(t,e))},l._newcell=function(t,e){var n,i={num:0,tuple:this._newtuple(t,e),flag:u.ADD_CELL,aggs:{}},r=this._aggr;for(n=0;n<r.length;++n)i.aggs[r[n].name]=new r[n].measures(i,i.tuple);return i.collect&&(i.data=new s(this._key)),i},l._newtuple=function(t){var e,n,i=this._dims,r={};for(e=0,n=i.length;e<n;++e)r[i[e].name]=i[e].get(t);return this._ingest(r)},l._ingest=o.identity,l._add=function(t){var e,n=this._cell(t),i=this._aggr;if(n.num+=1,!this._count)for(n.collect&&n.data.add(t),e=0;e<i.length;++e)n.aggs[i[e].name].add(t);n.flag|=u.MOD_CELL,this._on_add&&this._on_add(t,n)},l._rem=function(t){var e,n=this._cell(t),i=this._aggr;if(n.num-=1,!this._count)for(n.collect&&n.data.rem(t),e=0;e<i.length;++e)n.aggs[i[e].name].rem(t);n.flag|=u.MOD_CELL,this._on_rem&&this._on_rem(t,n)},l._mod=function(t,e){var n,i=this._cell(e),r=this._cell(t),a=this._aggr;for(i!==r?(i.num-=1,r.num+=1,i.collect&&i.data.rem(e),r.collect&&r.data.add(t)):i.collect&&!o.isObject(t)&&(i.data.rem(e),i.data.add(t)),n=0;n<a.length;++n)i.aggs[a[n].name].rem(e),r.aggs[a[n].name].add(t);i.flag|=u.MOD_CELL,r.flag|=u.MOD_CELL,this._on_mod&&this._on_mod(t,e,i,r)},l._markMod=function(t){var e=this._cell(t);e.flag|=u.MOD_CELL},l.result=function(){var t,e,n,i=[],r=this._aggr;for(n in this._cells){if(t=this._cells[n],t.num>0){for(t.collect&&t.data.values(),e=0;e<r.length;++e)t.aggs[r[e].name].set();i.push(t.tuple)}else delete this._cells[n];t.flag=0}return this._rems=!1,i},l.changes=function(t){var e,n,i,r,o=t||{add:[],rem:[],mod:[]},a=this._aggr;for(r in this._cells){for(e=this._cells[r],n=e.flag,e.collect&&e.data.values(),i=0;i<a.length;++i)e.aggs[a[i].name].set();e.num<=0?(o.rem.push(e.tuple),delete this._cells[r],this._on_drop&&this._on_drop(e)):(this._on_keep&&this._on_keep(e),n&u.ADD_CELL?o.add.push(e.tuple):n&u.MOD_CELL&&o.mod.push(e.tuple)),e.flag=0}return this._rems=!1,o},l.execute=function(t){return this.clear().insert(t).result()},l.insert=function(t){this._consolidate();for(var e=0;e<t.length;++e)this._add(t[e]);return this},l.remove=function(t){if(!this._stream)throw"Aggregator not configured for streaming removes. Call stream(true) prior to calling summarize.";for(var e=0;e<t.length;++e)this._rem(t[e]);return this._rems=!0,this},l._consolidate=function(){if(this._rems){for(var t in this._cells)this._cells[t].collect&&this._cells[t].data.values();this._rems=!1}},e.exports=i},{"../util":30,"./collector":9,"./measures":11}],9:[function(t,e,n){function i(t){this._add=[],this._rem=[],this._key=t||null,this._last=null}var r=t("../util"),o=t("../stats"),a="__dl_rem__",s=i.prototype;s.add=function(t){this._add.push(t)},s.rem=function(t){this._rem.push(t)},s.values=function(){if(this._get=null,0===this._rem.length)return this._add;var t,e,n,i,s=this._add,u=this._rem,l=this._key,c=Array(s.length-u.length);if(r.isObject(u[0]))if(l)for(i=r.toMap(u,l),t=0,e=0,n=s.length;t<n;++t)i.hasOwnProperty(l(s[t]))||(c[e++]=s[t]);else{for(t=0,n=u.length;t<n;++t)u[t][a]=1;for(t=0,e=0,n=s.length;t<n;++t)s[t][a]||(c[e++]=s[t]);for(t=0,n=u.length;t<n;++t)delete u[t][a]}else for(i=o.count.map(u),t=0,e=0,n=s.length;t<n;++t)i[s[t]]>0?i[s[t]]-=1:c[e++]=s[t];return this._rem=[],this._add=c},s.extent=function(t){if(this._get!==t||!this._ext){var e=this.values(),n=o.extent.index(e,t);this._ext=[e[n[0]],e[n[1]]],this._get=t}return this._ext},s.argmin=function(t){return this.extent(t)[0]},s.argmax=function(t){return this.extent(t)[1]},s.min=function(t){var e=this.extent(t)[0];return null!=e?t(e):+(1/0)},s.max=function(t){var e=this.extent(t)[1];return null!=e?t(e):-(1/0)},s.quartile=function(t){return this._get===t&&this._q||(this._q=o.quartile(this.values(),t),this._get=t),this._q},s.q1=function(t){return this.quartile(t)[0]},s.q2=function(t){return this.quartile(t)[1]},s.q3=function(t){return this.quartile(t)[2]},e.exports=i},{"../stats":27,"../util":30}],10:[function(t,e,n){var i=t("../util"),r=t("./aggregator");e.exports=function(){var t=[].reduce.call(arguments,function(t,e){return t.concat(i.array(e))},[]);return(new r).groupby(t).summarize({"*":"values"})}},{"../util":30,"./aggregator":8}],11:[function(t,e,n){function i(t){return function(e){var n=a.extend({init:"",add:"",rem:"",idx:0},t);return n.out=e||t.name,n}}function r(t,e){function n(t,i){function r(e){t[e]||n(t,t[e]=s[e]())}return i.req&&i.req.forEach(r),e&&i.str&&i.str.forEach(r),t}var i=t.reduce(n,t.reduce(function(t,e){return t[e.name]=e,t},{}));return a.vals(i).sort(function(t,e){return t.idx-e.idx})}function o(e,n,i,o){var s=r(e,n),u="this.cell = cell; this.tuple = t; this.valid = 0; this.missing = 0;",l="if (v==null) this.missing++; if (!this.isValid(v)) return; ++this.valid;",c="if (v==null) this.missing--; if (!this.isValid(v)) return; --this.valid;",f="var t = this.tuple; var cell = this.cell;";return s.forEach(function(t){t.idx<0?(u=t.init+u,l=t.add+l,c=t.rem+c):(u+=t.init,l+=t.add,c+=t.rem)}),e.slice().sort(function(t,e){return t.idx-e.idx}).forEach(function(t){f+="this.assign(t,'"+t.out+"',"+t.set+");"}),f+="return t;",u=Function("cell","t",u),u.prototype.assign=o,u.prototype.add=Function("t","var v = this.get(t);"+l),u.prototype.rem=Function("t","var v = this.get(t);"+c),u.prototype.set=Function(f),u.prototype.get=i,u.prototype.distinct=t("../stats").count.distinct,u.prototype.isValid=a.isValid,u.fields=e.map(a.$("out")),u}var a=t("../util"),s={values:i({name:"values",init:"cell.collect = true;",set:"cell.data.values()",idx:-1}),count:i({name:"count",set:"cell.num"}),missing:i({name:"missing",set:"this.missing"}),valid:i({name:"valid",set:"this.valid"}),sum:i({name:"sum",init:"this.sum = 0;",add:"this.sum += v;",rem:"this.sum -= v;",set:"this.sum"}),mean:i({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.mean"}),average:i({name:"average",set:"this.mean",req:["mean"],idx:1}),variance:i({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : 0",req:["mean"],idx:1}),variancep:i({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : 0",req:["variance"],idx:2}),stdev:i({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : 0",req:["variance"],idx:2}),stdevp:i({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : 0",req:["variance"],idx:2}),median:i({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:i({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:i({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),distinct:i({name:"distinct",set:"this.distinct(cell.data.values(), this.get)",req:["values"],idx:3}),argmin:i({name:"argmin",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = null;",set:"this.argmin = this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:i({name:"argmax",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = null;",set:"this.argmax = this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:i({name:"min",init:"this.min = +Infinity;",add:"if (v < this.min) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:i({name:"max",init:"this.max = -Infinity;",add:"if (v > this.max) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4}),modeskew:i({name:"modeskew",set:"this.dev===0 ? 0 : (this.mean - cell.data.q2(this.get)) / Math.sqrt(this.dev/(this.valid-1))",req:["mean","stdev","median"],idx:5})};s.create=o,e.exports=s},{"../stats":27,"../util":30}],12:[function(t,e,n){function i(t){if(!t)throw Error("Missing binning options.");var e,n,i,s,u,l,c,f=t.maxbins||15,h=t.base||10,d=Math.log(h),p=t.div||[5,2],g=t.min,m=t.max,v=m-g;if(t.step)e=t.step;else if(t.steps)e=t.steps[Math.min(t.steps.length-1,r(t.steps,v/f,0,t.steps.length))];else{for(n=Math.ceil(Math.log(f)/d),i=t.minstep||0,e=Math.max(i,Math.pow(h,Math.round(Math.log(v)/d)-n));Math.ceil(v/e)>f;)e*=h;for(l=0;l<p.length;++l)u=e/p[l],u>=i&&v/u<=f&&(e=u)}return u=Math.log(e),s=u>=0?0:~~(-u/d)+1,c=Math.pow(h,-s-1),g=Math.min(g,Math.floor(g/e+c)*e),m=Math.ceil(m/e)*e,{start:g,stop:m,step:e,unit:{precision:s},value:o,index:a}}function r(t,e,n,i){for(;n<i;){var r=n+i>>>1;l.cmp(t[r],e)<0?n=r+1:i=r}return n}function o(t){return this.step*Math.floor(t/this.step+f)}function a(t){return Math.floor((t-this.start)/this.step+f)}function s(t){return this.unit.date(o.call(this,t))}function u(t){return a.call(this,this.unit.unit(t))}var l=t("../util"),c=t("../time"),f=1e-15;i.date=function(t){if(!t)throw Error("Missing date binning options.");var e=t.utc?c.utc:c,n=t.min,r=t.max,o=t.maxbins||20,a=t.minbins||4,l=+r-+n,f=t.unit?e[t.unit]:e.find(l,a,o),h=i({min:null!=f.min?f.min:f.unit(n),max:null!=f.max?f.max:f.unit(r),maxbins:o,minstep:f.minstep,steps:f.step});return h.unit=f,h.index=u,t.raw||(h.value=s),h},e.exports=i},{"../time":29,"../util":30}],13:[function(t,e,n){function i(t,e,n){n=a(t,e,n);var i=o(n);return i?h.$func("bin",i.unit.unit?function(t){return i.value(i.unit.unit(t))}:function(t){return i.value(t)})(n.accessor):n.accessor||h.identity}function r(t,e,n){n=a(t,e,n);var i=o(n);return i?s(t,n.accessor,i):u(t,n.accessor,n&&n.sort)}function o(t){var e=t.type,n=null;return(null==e||p[e])&&("integer"===e&&null==t.minstep&&(t.minstep=1),n="date"===e?l.date(t):l(t)),n}function a(){var t=arguments,e=0,n=h.isArray(t[e])?t[e++]:null,i=h.isFunction(t[e])||h.isString(t[e])?h.$(t[e++]):null,r=h.extend({},t[e]);if(n&&(r.type=r.type||f(n,i),p[r.type])){var o=d.extent(n,i);r=h.extend({min:o[0],max:o[1]},r)}return i&&(r.accessor=i),r}function s(t,e,n){for(var i,r,o=c.range(n.start,n.stop+n.step/2,n.step).map(function(t){return{value:n.value(t),count:0}}),a=0;a<t.length;++a)if(i=e?e(t[a]):t[a],h.isValid(i)){if(r=n.index(i),r<0||r>=o.length||!isFinite(r))continue;o[r].count+=1}return o.bins=n,o}function u(t,e,n){var i=d.unique(t,e),r=d.count.map(t,e);return i.map(function(t){return{value:t,count:r[t]}}).sort(h.comparator(n?"-count":"+value"))}var l=t("./bins"),c=t("../generate"),f=t("../import/type"),h=t("../util"),d=t("../stats"),p={integer:1,number:1,date:1};e.exports={$bin:i,histogram:r}},{"../generate":16,"../import/type":25,"../stats":27,"../util":30,"./bins":12}],14:[function(t,e,n){function i(t,e){e=s.extend({separator:" ",minwidth:8,maxwidth:15},e);var n=e.fields||s.keys(t[0]),i=u.all(t);if(e.start||e.limit){var r=e.start||0,o=e.limit?r+e.limit:t.length;t=t.slice(r,o)}var a=n.map(function(n){var r=f[i[n]]||"",o=c("{{"+n+r+"}}"),a=l.max(t,function(t){return o(t).length});return a=Math.max(Math.min(n.length,e.minwidth),a),e.maxwidth>0?Math.min(a,e.maxwidth):a}),d=n.map(function(t,e){return s.truncate(s.pad(t,a[e],"center"),a[e])}).join(e.separator),p=c(n.map(function(t,e){return"{{"+t+(f[i[t]]||"")+("|pad:"+a[e]+","+(h[i[t]]||"right"))+("|truncate:"+a[e])+"}}"}).join(e.separator));return d+"\n"+t.map(p).join("\n")}function r(t){t=t?t.__summary__?t:l.summary(t):this;var e,n,i=[];for(e=0,n=t.length;e<n;++e)i.push("-- "+t[e].field+" --"),"string"===t[e].type||t[e].distinct<10?i.push(a(t[e])):i.push(o(t[e])),i.push("");return i.join("\n")}function o(t){return["valid:    "+t.valid,"missing:  "+t.missing,"distinct: "+t.distinct,"min:      "+t.min,"max:      "+t.max,"median:   "+t.median,"mean:     "+t.mean,"stdev:    "+t.stdev,"modeskew: "+t.modeskew].join("\n")}function a(t){var e=["valid:    "+t.valid,"missing:  "+t.missing,"distinct: "+t.distinct,"top values: "],n=t.unique,i=s.keys(n).sort(function(t,e){return n[e]-n[t]}).slice(0,6).map(function(t){return" '"+t+"' ("+n[t]+")"});return e.concat(i).join("\n")}var s=t("./util"),u=t("./import/type"),l=t("./stats"),c=t("./template");e.exports={table:i,summary:r};var f={date:'|time:"%m/%d/%Y %H:%M:%S"',number:'|number:".4f"',integer:'|number:"d"'},h={number:"left",integer:"left"}},{"./import/type":25,"./stats":27,"./template":28,"./util":30}],15:[function(t,e,n){function i(t){return t.length>4&&"locale"+(t[0].toUpperCase()+t[1].toLowerCase()+t[3].toUpperCase()+t[4].toLowerCase())}function r(t){var e=b.isString(t)?w[i(t)]:w.locale(t);if(null==e)throw Error("Unrecognized locale: "+t);k=e}function o(t){var e=b.isString(t)?x[i(t)]:x.locale(t);if(null==e)throw Error("Unrecognized locale: "+t);E=e,g=m=v=y=null}function a(t,e){t.length||(t=[0]),null==e&&(e=10);var n=t[0],i=t[t.length-1];i<n&&(a=i,i=n,n=a);var r=i-n||(e=1,n||i||1),o=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),a=r/e/o;return a>=C?o*=10:a>=T?o*=5:a>=M&&(o*=2),[Math.ceil(n/o)*o,Math.floor(i/o)*o+o/2,o]}function s(t,e){return function(n){var i=t(n),r=i.indexOf(e);if(r<0)return i;for(var o=u(i,r),a=o<i.length?i.slice(o):"";--o>r;)if("0"!==i[o]){++o;break}return i.slice(0,o)+a}}function u(t,e){var n,i=t.lastIndexOf("e");if(i>0)return i;for(i=t.length;--i>e;)if(n=t.charCodeAt(i),n>=48&&n<=57)return i+1}function l(t){var e=k.format(".1f")(1)[1];switch(null==t&&(t=","),t=w.formatSpecifier(t),null==t.precision&&(t.precision=12),t.type){case"%":t.precision-=2;break;case"e":t.precision-=1}return s(k.format(t),e)}function c(t,e,n){var i=a(t,e);switch(null==n&&(n=",f"),n=w.formatSpecifier(n),n.type){case"s":var r=Math.max(Math.abs(i[0]),Math.abs(i[1]));return null==n.precision&&(n.precision=w.precisionPrefix(i[2],r)),k.formatPrefix(n,r);case"":case"e":case"g":case"p":case"r":null==n.precision&&(n.precision=w.precisionRound(i[2],Math.max(Math.abs(i[0]),Math.abs(i[1])))-("e"===n.type));break;case"f":case"%":null==n.precision&&(n.precision=w.precisionFixed(i[2])-2*("%"===n.type))}return k.format(n)}function f(){var t=E.format,e=t(".%L"),n=t(":%S"),i=t("%I:%M"),r=t("%I %p"),o=t("%a %d"),a=t("%b %d"),s=t("%B"),u=t("%Y");return function(t){var l=+t;return(_.second(t)<l?e:_.minute(t)<l?n:_.hour(t)<l?i:_.day(t)<l?r:_.month(t)<l?_.week(t)<l?o:a:_.year(t)<l?s:u)(t)}}function h(){var t=E.utcFormat,e=t(".%L"),n=t(":%S"),i=t("%I:%M"),r=t("%I %p"),o=t("%a %d"),a=t("%b %d"),s=t("%B"),u=t("%Y");return function(t){var l=+t;return(_.utcSecond(t)<l?e:_.utcMinute(t)<l?n:_.utcHour(t)<l?i:_.utcDay(t)<l?r:_.utcMonth(t)<l?_.utcWeek(t)<l?o:a:_.utcYear(t)<l?s:u)(t)}}function d(t,e){var n=e?m||(m=E.format("%b")):g||(g=E.format("%B"));return S.setMonth(t),n(S)}function p(t,e){var n=e?y||(y=E.format("%a")):v||(v=E.format("%A"));return S.setMonth(0),S.setDate(2+t),n(S)}var g,m,v,y,b=t("./util"),_=t("d3-time"),x=t("d3-time-format"),w=t("d3-format"),k=w,E=x,S=new Date(2e3,0,1);e.exports={numberLocale:r,number:function(t){return k.format(t)},numberPrefix:function(t,e){return k.formatPrefix(t,e)},timeLocale:o,time:function(t){return E.format(t)},utc:function(t){return E.utcFormat(t)},locale:function(t){r(t),o(t)},auto:{number:l,linear:c,time:function(){return f()},utc:function(){return h()}},month:d,day:p};var C=Math.sqrt(50),T=Math.sqrt(10),M=Math.sqrt(2)},{"./util":30,"d3-format":4,"d3-time":6,"d3-time-format":5}],16:[function(t,e,n){var i=t("./util"),r=e.exports;r.repeat=function(t,e){var n,i=Array(e);for(n=0;n<e;++n)i[n]=t;return i},r.zeros=function(t){return r.repeat(0,t)},r.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("Infinite range");var i,r=[],o=-1;if(n<0)for(;(i=t+n*++o)>e;)r.push(i);else for(;(i=t+n*++o)<e;)r.push(i);return r},r.random={},r.random.uniform=function(t,e){void 0===e&&(e=void 0===t?1:t,t=0);var n=e-t,i=function(){return t+n*Math.random()};return i.samples=function(t){return r.zeros(t).map(i)},i.pdf=function(i){return i>=t&&i<=e?1/n:0},i.cdf=function(i){return i<t?0:i>e?1:(i-t)/n},i.icdf=function(e){return e>=0&&e<=1?t+e*n:NaN},i},r.random.integer=function(t,e){void 0===e&&(e=t,t=0);var n=e-t,i=function(){return t+Math.floor(n*Math.random())};return i.samples=function(t){return r.zeros(t).map(i)},i.pdf=function(i){return i===Math.floor(i)&&i>=t&&i<e?1/n:0},i.cdf=function(i){var r=Math.floor(i);return r<t?0:r>=e?1:(r-t+1)/n},i.icdf=function(e){return e>=0&&e<=1?t-1+Math.floor(e*n):NaN},i},r.random.normal=function(t,e){t=t||0,e=e||1;var n,i=function(){var i,r,o=0,a=0;if(void 0!==n)return o=n,n=void 0,o;do o=2*Math.random()-1,a=2*Math.random()-1,i=o*o+a*a;while(0===i||i>1);return r=Math.sqrt(-2*Math.log(i)/i),n=t+a*r*e,t+o*r*e};return i.samples=function(t){return r.zeros(t).map(i)},i.pdf=function(n){var i=Math.exp(Math.pow(n-t,2)/(-2*Math.pow(e,2)));return 1/(e*Math.sqrt(2*Math.PI))*i},i.cdf=function(n){var i,r=(n-t)/e,o=Math.abs(r);if(o>37)i=0;else{var a,s=Math.exp(-o*o/2);o<7.07106781186547?(a=.0352624965998911*o+.700383064443688,a=a*o+6.37396220353165,a=a*o+33.912866078383,a=a*o+112.079291497871,a=a*o+221.213596169931,a=a*o+220.206867912376,i=s*a,a=.0883883476483184*o+1.75566716318264,a=a*o+16.064177579207,a=a*o+86.7807322029461,a=a*o+296.564248779674,a=a*o+637.333633378831,a=a*o+793.826512519948,a=a*o+440.413735824752,i/=a):(a=o+.65,a=o+4/a,a=o+3/a,a=o+2/a,a=o+1/a,i=s/a/2.506628274631)}return r>0?1-i:i},i.icdf=function(n){if(n<=0||n>=1)return NaN;var i=2*n-1,r=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),o=2/(Math.PI*r)+Math.log(1-Math.pow(i,2))/2,a=Math.log(1-i*i)/r,s=(i>0?1:-1)*Math.sqrt(Math.sqrt(o*o-a)-o);return t+e*Math.SQRT2*s},i},r.random.bootstrap=function(t,e){var n=t.filter(i.isValid),o=n.length,a=e?r.random.normal(0,e):null,s=function(){return n[~~(Math.random()*o)]+(a?a():0)};return s.samples=function(t){return r.zeros(t).map(s)},s}},{"./util":30}],17:[function(t,e,n){function i(t,e){if(t){var n=e.header;t=(n?n.join(e.delimiter)+"\n":"")+t}return o.dsv(e.delimiter).parse(t)}var r=t("../../util"),o=t("d3-dsv");i.delimiter=function(t){var e={delimiter:t};return function(t,n){return i(t,n?r.extend(n,e):e)}},e.exports=i},{"../../util":30,"d3-dsv":3}],18:[function(t,e,n){var i=t("./dsv");e.exports={json:t("./json"),topojson:t("./topojson"),treejson:t("./treejson"),dsv:i,csv:i.delimiter(","),tsv:i.delimiter("\t")}},{"./dsv":17,"./json":19,"./topojson":20,"./treejson":21}],19:[function(t,e,n){var i=t("../../util");e.exports=function(t,e){var n=i.isObject(t)&&!i.isBuffer(t)?t:JSON.parse(t);return e&&e.property&&(n=i.accessor(e.property)(n)),n}},{"../../util":30}],20:[function(t,e,n){var i=t("./json"),r=function(t,e){var n=r.topojson;if(null==n)throw Error("TopoJSON library not loaded.");var o,a=i(t,e);if(e&&e.feature){if(o=a.objects[e.feature])return n.feature(a,o).features;throw Error("Invalid TopoJSON object: "+e.feature)}if(e&&e.mesh){if(o=a.objects[e.mesh])return[n.mesh(a,a.objects[e.mesh])];throw Error("Invalid TopoJSON object: "+e.mesh)}throw Error("Missing TopoJSON feature or mesh parameter.")};r.topojson=t("topojson"),
e.exports=r},{"./json":19,topojson:31}],21:[function(t,e,n){function i(t,e){function n(t,e){t[r]=e,o.push(t);var a=t[i];if(a)for(var s=0;s<a.length;++s)n(a[s],t)}var i=e&&e.children||"children",r=e&&e.parent||"parent",o=[];return n(t,null),o.root=t,o}var r=t("./json");e.exports=function(t,e){return i(r(t,e),e)}},{"./json":19}],22:[function(t,e,n){function i(e){var n=e.url;if(!n&&e.file)return d+e.file;if(e.baseURL&&!h.test(n)&&(c(n,"/")||"/"===e.baseURL[e.baseURL.length-1]||(n="/"+n),n=e.baseURL+n),!r.useXHR&&c(n,"//")&&(n=(e.defaultProtocol||"http")+":"+n),e.domainWhiteList){var i,o;if(r.useXHR){var a=document.createElement("a");a.href=n,""===a.host&&(a.href=a.href),i=a.hostname.toLowerCase(),o=window.location.hostname}else{var s=t("url").parse(n);i=s.hostname,o=null}if(o!==i){var u=e.domainWhiteList.some(function(t){var e=i.length-t.length;return t===i||e>1&&"."===i[e-1]&&i.lastIndexOf(t)===e});if(!u)throw"URL is not whitelisted: "+n}}return n}function r(t,e){return r.loader(t,e)}function o(t,e){var n,i=e||function(t){throw t};try{n=r.sanitizeUrl(t)}catch(o){return void i(o)}return n?r.useXHR?r.xhr(n,t,e):c(n,d)?r.file(n.slice(d.length),t,e):n.indexOf("://")<0?r.file(n,t,e):r.http(n,t,e):void i("Invalid URL: "+t.url)}function a(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function s(t,e,n){function i(){var t=s.status;!t&&a(s)||t>=200&&t<300||304===t?n(null,s.responseText):n(s,null)}var o=!!n,s=new XMLHttpRequest;if("undefined"==typeof XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(t)||(s=new XDomainRequest),o&&("onload"in s?s.onload=s.onerror=i:s.onreadystatechange=function(){s.readyState>3&&i()}),s.open("GET",t,o),s.setRequestHeader){var u=f.extend({},r.headers,e.headers);for(var l in u)s.setRequestHeader(l,u[l])}if(s.send(),!o&&a(s))return s.responseText}function u(e,n,i){var r=t("fs");return i?void r.readFile(e,i):r.readFileSync(e,"utf8")}function l(e,n,i){var o=f.extend({},r.headers,n.headers);if(!i)return t("sync-request")("GET",e,{headers:o}).getBody();var a={url:e,encoding:null,gzip:!0,headers:o};t("request")(a,function(t,e,n){t||200!==e.statusCode?(t=t||"Load failed with response code "+e.statusCode+".",i(t,null)):i(null,n)})}function c(t,e){return null!=t&&0===t.lastIndexOf(e,0)}var f=t("../util"),h=/^([A-Za-z]+:)?\/\//,d="file://";r.loader=o,r.sanitizeUrl=i,r.xhr=s,r.file=u,r.http=l,r.useXHR="undefined"!=typeof XMLHttpRequest,r.headers={},e.exports=r},{"../util":30,fs:2,request:2,"sync-request":2,url:2}],23:[function(t,e,n){function i(t,e){var n=e&&e.type||"json";return t=s[n](t,e),e&&e.parse&&r(t,e.parse),t}function r(t,e){var n,i,r,s,l,c,f=t.length;for(e="auto"===e?a.inferAll(t):o.duplicate(e),n=o.keys(e),i=n.map(function(t){var n=e[t];if(n&&0===n.indexOf("date:")){var i=n.split(":",2),r=i[1];if(!("'"===r[0]&&"'"===r[r.length-1]||'"'===r[0]&&'"'===r[r.length-1]))throw Error("Format pattern must be quoted: "+r);return r=r.slice(1,-1),r=u(r),function(t){return r.parse(t)}}if(!a.parsers[n])throw Error("Illegal format pattern: "+t+":"+n);return a.parsers[n]}),s=0,c=n.length;s<f;++s)for(r=t[s],l=0;l<c;++l)r[n[l]]=i[l](r[n[l]]);a.annotation(t,e)}var o=t("../util"),a=t("./type"),s=t("./formats"),u=t("../format").time;i.formats=s,e.exports=i},{"../format":15,"../util":30,"./formats":18,"./type":25}],24:[function(t,e,n){var i=t("../util"),r=t("./load"),o=t("./read");e.exports=i.keys(o.formats).reduce(function(t,e){return t[e]=function(t,n,a){i.isString(t)&&(t={url:t}),2===arguments.length&&i.isFunction(n)&&(a=n,n=void 0),n=i.extend({parse:"auto"},n),n.type=e;var s=r(t,a?function(t,e){if(t)return void a(t,null);try{e=o(e,n),a(null,e)}catch(i){a(i,null)}}:void 0);if(!a)return o(s,n)},t},{})},{"../util":30,"./load":22,"./read":23}],25:[function(t,e,n){function i(t,e){return e?void(t[l]=e):t&&t[l]||null}function r(t,e){t=u.array(t),e=u.$(e);var n,i,r;if(t[l]&&(n=e(t[l]),u.isString(n)))return n;for(i=0,r=t.length;!u.isValid(n)&&i<r;++i)n=e?e(t[i]):t[i];return u.isDate(n)?"date":u.isNumber(n)?"number":u.isBoolean(n)?"boolean":u.isString(n)?"string":null}function o(t,e){if(t.length)return e=e||u.keys(t[0]),e.reduce(function(e,n){return e[n]=r(t,n),e},{})}function a(t,e){t=u.array(t),e=u.$(e);var n,i,r,o=["boolean","integer","number","date"];for(n=0;n<t.length;++n){for(r=e?e(t[n]):t[n],i=0;i<o.length;++i)u.isValid(r)&&!f[o[i]](r)&&(o.splice(i,1),i-=1);if(0===o.length)return"string"}return o[0]}function s(t,e){return e=e||u.keys(t[0]),e.reduce(function(e,n){return e[n]=a(t,n),e},{})}var u=t("../util"),l="__types__",c={"boolean":u["boolean"],integer:u.number,number:u.number,date:u.date,string:function(t){return""===t?null:t}},f={"boolean":function(t){return"true"===t||"false"===t||u.isBoolean(t)},integer:function(t){return f.number(t)&&(t=+t)===~~t},number:function(t){return!isNaN(+t)&&!u.isDate(t)},date:function(t){return!isNaN(Date.parse(t))}};r.annotation=i,r.all=o,r.infer=a,r.inferAll=s,r.parsers=c,e.exports=r},{"../util":30}],26:[function(t,e,n){var i=t("./util"),r={version:"1.6.3",load:t("./import/load"),read:t("./import/read"),type:t("./import/type"),Aggregator:t("./aggregate/aggregator"),groupby:t("./aggregate/groupby"),bins:t("./bins/bins"),$bin:t("./bins/histogram").$bin,histogram:t("./bins/histogram").histogram,format:t("./format"),template:t("./template"),time:t("./time")};i.extend(r,i),i.extend(r,t("./accessor")),i.extend(r,t("./generate")),i.extend(r,t("./stats")),i.extend(r,t("./import/readers")),i.extend(r.format,t("./format-tables")),r.print={table:r.format.table,summary:r.format.summary},e.exports=r},{"./accessor":7,"./aggregate/aggregator":8,"./aggregate/groupby":10,"./bins/bins":12,"./bins/histogram":13,"./format":15,"./format-tables":14,"./generate":16,"./import/load":22,"./import/read":23,"./import/readers":24,"./import/type":25,"./stats":27,"./template":28,"./time":29,"./util":30}],27:[function(t,e,n){function i(t,e,n){var i=t&&t.nullh||0,r=u.random.normal(0,1),o=l.mean(e,n),a=l.stdev(e,n)/Math.sqrt(l.count.valid(e,n));if(0===a)return o-i===0?1:0;var s=(o-i)/a;return 2*r.cdf(-Math.abs(s))}function r(t,e,n,i){var r,o=i?e.map(a.$(n)):e,s=i?e.map(a.$(i)):n,u=l.count(o),c=l.count(s),f=Array();if(u!==c)throw Error("Array lengths must match.");for(r=0;r<u;++r)a.isValid(o[r])&&a.isValid(s[r])&&f.push(o[r]-s[r]);return l.z.test(f,t&&t.nullh||0)}function o(t,e,n,i){var r=i?e.map(a.$(n)):e,o=i?e.map(a.$(i)):n,s=l.count.valid(r),c=l.count.valid(o),f=u.random.normal(0,1),h=l.mean(r)-l.mean(o)-(t&&t.nullh||0),d=Math.sqrt(l.variance(r)/s+l.variance(o)/c);if(0===d)return 0===h?1:0;var p=h/d;return 2*f.cdf(-Math.abs(p))}var a=t("./util"),s=t("./import/type"),u=t("./generate"),l=e.exports;l.unique=function(t,e,n){e=a.$(e),n=n||[];var i,r,o,s={};for(r=0,o=t.length;r<o;++r)i=e?e(t[r]):t[r],i in s||(s[i]=1,n.push(i));return n},l.count=function(t){return t&&t.length||0},l.count.valid=function(t,e){e=a.$(e);var n,i,r,o=0;for(i=0,r=t.length;i<r;++i)n=e?e(t[i]):t[i],a.isValid(n)&&(o+=1);return o},l.count.missing=function(t,e){e=a.$(e);var n,i,r,o=0;for(i=0,r=t.length;i<r;++i)n=e?e(t[i]):t[i],null==n&&(o+=1);return o},l.count.distinct=function(t,e){e=a.$(e);var n,i,r,o={},s=0;for(i=0,r=t.length;i<r;++i)n=e?e(t[i]):t[i],n in o||(o[n]=1,s+=1);return s},l.count.map=function(t,e){e=a.$(e);var n,i,r,o={};for(i=0,r=t.length;i<r;++i)n=e?e(t[i]):t[i],o[n]=n in o?o[n]+1:1;return o},l.median=function(t,e){return e&&(t=t.map(a.$(e))),t=t.filter(a.isValid).sort(a.cmp),l.quantile(t,.5)},l.quartile=function(t,e){e&&(t=t.map(a.$(e))),t=t.filter(a.isValid).sort(a.cmp);var n=l.quantile;return[n(t,.25),n(t,.5),n(t,.75)]},l.quantile=function(t,e,n){void 0===n&&(n=e,e=a.identity),e=a.$(e);var i=(t.length-1)*n+1,r=Math.floor(i),o=+e(t[r-1]),s=i-r;return s?o+s*(e(t[r])-o):o},l.sum=function(t,e){e=a.$(e);for(var n,i=0,r=0,o=t.length;r<o;++r)n=e?e(t[r]):t[r],a.isValid(n)&&(i+=n);return i},l.mean=function(t,e){e=a.$(e);var n,i,r,o,s,u=0;for(i=0,o=0,r=t.length;i<r;++i)s=e?e(t[i]):t[i],a.isValid(s)&&(n=s-u,u+=n/++o);return u},l.mean.geometric=function(t,e){e=a.$(e);var n,i,r,o,s=1;for(o=0,n=0,i=t.length;o<i;++o)if(r=e?e(t[o]):t[o],a.isValid(r)){if(r<=0)throw Error("Geometric mean only defined for positive values.");s*=r,++n}return s=n>0?Math.pow(s,1/n):0},l.mean.harmonic=function(t,e){e=a.$(e);var n,i,r,o,s=0;for(o=0,n=0,i=t.length;o<i;++o)r=e?e(t[o]):t[o],a.isValid(r)&&(s+=1/r,++n);return n/s},l.variance=function(t,e){if(e=a.$(e),!a.isArray(t)||t.length<2)return 0;var n,i,r,o,s=0,u=0;for(i=0,r=0;i<t.length;++i)o=e?e(t[i]):t[i],a.isValid(o)&&(n=o-s,s+=n/++r,u+=n*(o-s));return u/=r-1},l.stdev=function(t,e){return Math.sqrt(l.variance(t,e))},l.modeskew=function(t,e){var n=l.mean(t,e),i=l.median(t,e),r=l.stdev(t,e);return 0===r?0:(n-i)/r},l.min=function(t,e){return l.extent(t,e)[0]},l.max=function(t,e){return l.extent(t,e)[1]},l.extent=function(t,e){e=a.$(e);var n,i,r,o,s=t.length;for(o=0;o<s;++o)if(r=e?e(t[o]):t[o],a.isValid(r)){n=i=r;break}for(;o<s;++o)r=e?e(t[o]):t[o],a.isValid(r)&&(r<n&&(n=r),r>i&&(i=r));return[n,i]},l.extent.index=function(t,e){e=a.$(e);var n,i,r,o,s=-1,u=-1,l=t.length;for(o=0;o<l;++o)if(r=e?e(t[o]):t[o],a.isValid(r)){n=i=r,s=u=o;break}for(;o<l;++o)r=e?e(t[o]):t[o],a.isValid(r)&&(r<n&&(n=r,s=o),r>i&&(i=r,u=o));return[s,u]},l.dot=function(t,e,n){var i,r,o=0;if(n)for(e=a.$(e),n=a.$(n),i=0;i<t.length;++i)r=e(t[i])*n(t[i]),r===r&&(o+=r);else{if(t.length!==e.length)throw Error("Array lengths must match.");for(i=0;i<t.length;++i)r=t[i]*e[i],r===r&&(o+=r)}return o},l.dist=function(t,e,n,i){var r,o,s=a.isFunction(n)||a.isString(n),u=t,l=s?t:e,c=s?i:n,f=2===c||null==c,h=t.length,d=0;for(s&&(e=a.$(e),n=a.$(n)),o=0;o<h;++o)r=s?e(u[o])-n(l[o]):u[o]-l[o],d+=f?r*r:Math.pow(Math.abs(r),c);return f?Math.sqrt(d):Math.pow(d,1/c)},l.cohensd=function(t,e,n){var i=n?t.map(a.$(e)):t,r=n?t.map(a.$(n)):e,o=l.mean(i),s=l.mean(r),u=l.count.valid(i),c=l.count.valid(r);if(u+c-2<=0)return 0;var f=l.variance(i),h=l.variance(r),d=Math.sqrt(((u-1)*f+(c-1)*h)/(u+c-2));return 0===d?0:(o-s)/d},l.covariance=function(t,e,n){var i,r,o,s,u,c=n?t.map(a.$(e)):t,f=n?t.map(a.$(n)):e,h=c.length,d=l.mean(c),p=l.mean(f),g=0,m=0;if(h!==f.length)throw Error("Input lengths must match.");for(i=0;i<h;++i)if(r=c[i],s=a.isValid(r),o=f[i],u=a.isValid(o),s&&u)g+=(r-d)*(o-p),++m;else if(s||u)throw Error("Valid values must align.");return g/(m-1)},l.rank=function(t,e){e=a.$(e)||a.identity;var n,i,r,o=t.map(function(t,n){return{idx:n,val:e(t)}}).sort(a.comparator("val")),s=t.length,u=Array(s),l=-1,c={};for(n=0;n<s;++n){if(i=o[n].val,l<0&&c===i)l=n-1;else if(l>-1&&c!==i){for(r=1+(n-1+l)/2;l<n;++l)u[o[l].idx]=r;l=-1}u[o[n].idx]=n+1,c=i}if(l>-1)for(r=1+(s-1+l)/2;l<s;++l)u[o[l].idx]=r;return u},l.cor=function(t,e,n){var i=n;n=i?t.map(a.$(n)):e,e=i?t.map(a.$(e)):t;var r=l.dot(e,n),o=l.mean(e),s=l.mean(n),u=l.stdev(e),c=l.stdev(n),f=t.length;return(r-f*o*s)/((f-1)*u*c)},l.cor.rank=function(t,e,n){var i,r,o,a=n?l.rank(t,e):l.rank(t),s=n?l.rank(t,n):l.rank(e),u=t.length;for(i=0,r=0;i<u;++i)o=a[i]-s[i],r+=o*o;return 1-6*r/(u*(u*u-1))},l.cor.dist=function(t,e,n){var i,r,o,s,u=n?t.map(a.$(e)):t,c=n?t.map(a.$(n)):e,f=l.dist.mat(u),h=l.dist.mat(c),d=f.length;for(i=0,r=0,o=0,s=0;i<d;++i)r+=f[i]*f[i],o+=h[i]*h[i],s+=f[i]*h[i];return Math.sqrt(s/Math.sqrt(r*o))},l.linearRegression=function(t,e,n){var i,r,o=n?t.map(a.$(e)):t,s=n?t.map(a.$(n)):e,u=o.length,c=l.covariance(o,s),f=l.stdev(o),h=l.stdev(s),d=c/(f*f),p=l.mean(s)-d*l.mean(o),g={slope:d,intercept:p,R:c/(f*h),rss:0};for(r=0;r<u;++r)a.isValid(o[r])&&a.isValid(s[r])&&(i=d*o[r]+p-s[r],g.rss+=i*i);return g},l.bootstrap={},l.bootstrap.ci=function(t,e,n,i,r){var o,s,c,f,h,d,p;for(a.isFunction(e)||a.isString(e)?(o=t.map(a.$(e)),s=n,c=i,f=r):(o=t,s=e,c=n,f=i),s=s?+s:1e3,c=c||.05,h=u.random.bootstrap(o,f),p=0,d=Array(s);p<s;++p)d[p]=l.mean(h.samples(o.length));return d.sort(a.numcmp),[l.quantile(d,c/2),l.quantile(d,1-c/2)]},l.z={},l.z.ci=function(t,e,n){var i=t,r=e;(a.isFunction(e)||a.isString(e))&&(i=t.map(a.$(e)),r=n),r=r||.05;var o=.05===r?1.96:u.random.normal(0,1).icdf(1-r/2),s=l.mean(i),c=l.stdev(i)/Math.sqrt(l.count.valid(i));return[s-o*c,s+o*c]},l.z.test=function(t,e,n,s){return a.isFunction(n)||a.isString(n)?(s&&s.paired?r:o)(s,t,e,n):a.isArray(e)?(n&&n.paired?r:o)(n,t,e):a.isFunction(e)||a.isString(e)?i(n,t,e):i(e,t)},l.dist.mat=function(t){var e,n,i,r=t.length,o=r*r,a=Array(o),s=u.zeros(r),l=0;for(n=0;n<r;++n)for(a[n*r+n]=0,i=n+1;i<r;++i)a[n*r+i]=e=Math.abs(t[n]-t[i]),a[i*r+n]=e,s[n]+=e,s[i]+=e;for(n=0;n<r;++n)l+=s[n],s[n]/=r;for(l/=o,n=0;n<r;++n)for(i=n;i<r;++i)a[n*r+i]+=l-s[n]-s[i],a[i*r+n]=a[n*r+i];return a},l.entropy=function(t,e){e=a.$(e);var n,i,r=0,o=0,s=t.length;for(n=0;n<s;++n)r+=e?e(t[n]):t[n];if(0===r)return 0;for(n=0;n<s;++n)i=(e?e(t[n]):t[n])/r,i&&(o+=i*Math.log(i));return-o/Math.LN2},l.mutual=function(t,e,n,i){var r,o,s,u=i?t.map(a.$(e)):t,l=i?t.map(a.$(n)):e,c=i?t.map(a.$(i)):n,f={},h={},d=c.length,p=0,g=0,m=0;for(s=0;s<d;++s)f[u[s]]=0,h[l[s]]=0;for(s=0;s<d;++s)f[u[s]]+=c[s],h[l[s]]+=c[s],p+=c[s];for(o=1/(p*Math.LN2),s=0;s<d;++s)0!==c[s]&&(r=p*c[s]/(f[u[s]]*h[l[s]]),g+=c[s]*o*Math.log(r),m+=c[s]*o*Math.log(c[s]/p));return[g,1+g/m]},l.mutual.info=function(t,e,n,i){return l.mutual(t,e,n,i)[0]},l.mutual.dist=function(t,e,n,i){return l.mutual(t,e,n,i)[1]},l.profile=function(t,e){var n,i,r,o,u,c=0,f=0,h=0,d=0,p=null,g=null,m=0,v=[],y={};for(r=0;r<t.length;++r)o=e?e(t[r]):t[r],y[o]=o in y?y[o]+1:(d+=1,1),null==o?++h:a.isValid(o)&&(u="string"==typeof o?o.length:o,(null===p||u<p)&&(p=u),(null===g||u>g)&&(g=u),n=u-c,c+=n/++f,m+=n*(u-c),v.push(u));return m/=f-1,i=Math.sqrt(m),v.sort(a.cmp),{type:s(t,e),unique:y,count:t.length,valid:f,missing:h,distinct:d,min:p,max:g,mean:c,stdev:i,median:o=l.quantile(v,.5),q1:l.quantile(v,.25),q3:l.quantile(v,.75),modeskew:0===i?0:(c-o)/i}},l.summary=function(t,e){e=e||a.keys(t[0]);var n=e.map(function(e){var n=l.profile(t,a.$(e));return n.field=e,n});return n.__summary__=!0,n}},{"./generate":16,"./import/type":25,"./util":30}],28:[function(t,e,n){function i(t){var e=r(t,"d");return e="var __t; return "+e+";",new Function("d",e).bind(f)}function r(t,e,n){e=e||"obj";var i=0,r="'",s=h;return t.replace(s,function(s,u,l){return r+=t.slice(i,l).replace(m,a),i=l+s.length,u&&(r+="'\n+((__t=("+o(u,e,n)+"))==null?'':__t)+\n'"),s}),r+"'"}function o(t,e,n){function r(t){return t=t||"",f?(f=!1,h="String("+h+")"+t):h+=t,h}function o(){return"(typeof "+h+'==="number"?new Date('+h+"):"+h+")"}function a(t){var e=_[0];if(!("'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1]))throw Error("Format pattern must be quoted: "+e);e=e.slice(1,-1),v=s(e,t),f=!1;var n="number"===t?h:o();h="this.formats["+v+"]("+n+")"}var u=t.match(d),c=u.shift().trim(),f=!0;n&&(n[c]=1);for(var h=i.property(e,c),g=0;g<u.length;++g){var m,v,y,b=u[g],_=null;switch((m=b.indexOf(":"))>0&&(b=b.slice(0,m),_=u[g].slice(m+1).match(p).map(function(t){return t.trim()})),b=b.trim()){case"length":r(".length");break;case"lower":r(".toLowerCase()");break;case"upper":r(".toUpperCase()");break;case"lower-locale":r(".toLocaleLowerCase()");break;case"upper-locale":r(".toLocaleUpperCase()");break;case"trim":r(".trim()");break;case"left":v=l.number(_[0]),r(".slice(0,"+v+")");break;case"right":v=l.number(_[0]),r(".slice(-"+v+")");break;case"mid":v=l.number(_[0]),y=v+l.number(_[1]),r(".slice(+"+v+","+y+")");break;case"slice":v=l.number(_[0]),r(".slice("+v+(_.length>1?","+l.number(_[1]):"")+")");break;case"truncate":v=l.number(_[0]),y=_[1],y="left"!==y&&"middle"!==y&&"center"!==y?"right":y,h="this.truncate("+r()+","+v+",'"+y+"')";break;case"pad":v=l.number(_[0]),y=_[1],y="left"!==y&&"middle"!==y&&"center"!==y?"right":y,h="this.pad("+r()+","+v+",'"+y+"')";break;case"number":a("number");break;case"time":a("time");break;case"time-utc":a("utc");break;case"month":h="this.month("+h+")";break;case"month-abbrev":h="this.month("+h+",true)";break;case"day":h="this.day("+h+")";break;case"day-abbrev":h="this.day("+h+",true)";break;default:throw Error("Unrecognized template filter: "+b)}}return h}function a(t){return"\\"+g[t]}function s(t,e){var n=e+":"+t;if(null==f.format_map[n]){var i=c[e](t),r=f.formats.length;return f.formats.push(i),f.format_map[n]=r,r}return f.format_map[n]}function u(t,e){return f.formats[s(t,e)]}var l=t("./util"),c=t("./format"),f={formats:[],format_map:{},truncate:l.truncate,pad:l.pad,day:c.day,month:c.month};i.source=r,i.context=f,i.format=u,e.exports=i,i.clearFormatCache=function(){f.formats=[],f.format_map={}},i.property=function(t,e){var n=l.field(e).map(l.str).join("][");return t+"["+n+"]"};var h=/\{\{(.+?)\}\}|$/g,d=/(?:"[^"]*"|\'[^\']*\'|[^\|"]+|[^\|\']+)+/g,p=/(?:"[^"]*"|\'[^\']*\'|[^,"]+|[^,\']+)+/g,g={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},m=/\\|'|\r|\n|\u2028|\u2029/g},{"./format":15,"./util":30}],29:[function(t,e,n){function i(t){return l.setTime(+t),l}function r(t,e,n,i,r,o){var a={type:t,date:e,unit:n};return i?a.step=i:a.minstep=1,null!=r&&(a.min=r),null!=o&&(a.max=o),a}function o(t,e,n,i,o,a){return r(t,function(t){return e.offset(n,t)},function(t){return e.count(n,t)},i,o,a)}function a(t,e,n,i){var r,o,a,s=p[0];for(r=1,o=p.length;r<o;++r)if(s=p[r],e>s[0]){if(a=e/s[0],a>i)return t[p[r-1][1]];if(a>=n)return t[s[1]]}return t[p[o-1][1]]}function s(t){var e,n,i={};for(e=0,n=t.length;e<n;++e)i[t[e].type]=t[e];return i.find=function(e,n,i){return a(t,e,n,i)},i}var u=t("d3-time"),l=new Date,c=new Date(0,0,1).setFullYear(0),f=new Date(Date.UTC(0,0,1)).setUTCFullYear(0),h=[o("second",u.second,c),o("minute",u.minute,c),o("hour",u.hour,c),o("day",u.day,c,[1,7]),o("month",u.month,c,[1,3,6]),o("year",u.year,c),r("seconds",function(t){return new Date(1970,0,1,0,0,t)},function(t){return i(t).getSeconds()},null,0,59),r("minutes",function(t){return new Date(1970,0,1,0,t)},function(t){return i(t).getMinutes()},null,0,59),r("hours",function(t){return new Date(1970,0,1,t)},function(t){return i(t).getHours()},null,0,23),r("weekdays",function(t){return new Date(1970,0,4+t)},function(t){return i(t).getDay()},[1],0,6),r("dates",function(t){return new Date(1970,0,t)},function(t){return i(t).getDate()},[1],1,31),r("months",function(t){return new Date(1970,t%12,1)},function(t){return i(t).getMonth()},[1],0,11)],d=[o("second",u.utcSecond,f),o("minute",u.utcMinute,f),o("hour",u.utcHour,f),o("day",u.utcDay,f,[1,7]),o("month",u.utcMonth,f,[1,3,6]),o("year",u.utcYear,f),r("seconds",function(t){return new Date(Date.UTC(1970,0,1,0,0,t))},function(t){return i(t).getUTCSeconds()},null,0,59),r("minutes",function(t){return new Date(Date.UTC(1970,0,1,0,t))},function(t){return i(t).getUTCMinutes()},null,0,59),r("hours",function(t){return new Date(Date.UTC(1970,0,1,t))},function(t){return i(t).getUTCHours()},null,0,23),r("weekdays",function(t){return new Date(Date.UTC(1970,0,4+t))},function(t){return i(t).getUTCDay()},[1],0,6),r("dates",function(t){return new Date(Date.UTC(1970,0,t))},function(t){return i(t).getUTCDate()},[1],1,31),r("months",function(t){return new Date(Date.UTC(1970,t%12,1))},function(t){return i(t).getUTCMonth()},[1],0,11)],p=[[31536e6,5],[7776e6,4],[2592e6,4],[12096e5,3],[6048e5,3],[1728e5,3],[864e5,3],[432e5,2],[216e5,2],[108e5,2],[36e5,2],[18e5,1],[9e5,1],[3e5,1],[6e4,1],[3e4,0],[15e3,0],[5e3,0],[1e3,0]];e.exports=s(h),e.exports.utc=s(d)},{"d3-time":6}],30:[function(t,e,n){(function(t){function n(t,e){var n,i="";for(n=0;n<t;++n)i+=e;return i}function i(t,e,n){var i=0,r=t.split(u);return t=n?(r=r.reverse()).filter(function(t){return i+=t.length,i<=e}).reverse():r.filter(function(t){return i+=t.length,i<=e}),t.length?t.join("").trim():r[0].slice(0,e)}var r=e.exports,o="__name__";r.namedfunc=function(t,e){return e[o]=t,e},r.name=function(t){return null==t?null:t[o]},r.identity=function(t){return t},r["true"]=r.namedfunc("true",function(){return!0}),r["false"]=r.namedfunc("false",function(){return!1}),r.duplicate=function(t){return JSON.parse(JSON.stringify(t))},r.equal=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},r.extend=function(t){for(var e,n,i=1,r=arguments.length;i<r;++i){e=arguments[i];for(n in e)t[n]=e[n]}return t},r.length=function(t){return null!=t&&null!=t.length?t.length:null},r.keys=function(t){var e,n=[];for(e in t)n.push(e);return n},r.vals=function(t){var e,n=[];for(e in t)n.push(t[e]);return n},r.toMap=function(t,e){return(e=r.$(e))?t.reduce(function(t,n){return t[e(n)]=1,t},{}):t.reduce(function(t,e){return t[e]=1,t},{})},r.keystr=function(t){var e=t.length;if(!e)return"";for(var n=String(t[0]),i=1;i<e;++i)n+="|"+String(t[i]);return n};var a=Object.prototype.toString;r.isObject=function(t){return t===Object(t)},r.isFunction=function(t){return"[object Function]"===a.call(t)},r.isString=function(t){return"string"==typeof value||"[object String]"===a.call(t)},r.isArray=Array.isArray||function(t){return"[object Array]"===a.call(t)},r.isNumber=function(t){return"number"==typeof t||"[object Number]"===a.call(t)},r.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==a.call(t)},r.isDate=function(t){return"[object Date]"===a.call(t)},r.isValid=function(t){return null!=t&&t===t},r.isBuffer="function"==typeof t&&t.isBuffer||r["false"],r.number=function(t){return null==t||""===t?null:+t},r["boolean"]=function(t){return null==t||""===t?null:"false"!==t&&!!t},r.date=function(t,e){var n=e?e:Date;return null==t||""===t?null:n.parse(t)},r.array=function(t){return null!=t?r.isArray(t)?t:[t]:[]},r.str=function(t){return r.isArray(t)?"["+t.map(r.str)+"]":r.isObject(t)||r.isString(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t};var s=/\[(.*?)\]|[^.\[]+/g;r.field=function(t){return String(t).match(s).map(function(t){return"["!==t[0]?t:"'"!==t[1]&&'"'!==t[1]?t.slice(1,-1):t.slice(2,-2).replace(/\\(["'])/g,"$1")})},r.accessor=function(t){return null==t||r.isFunction(t)?t:r.namedfunc(t,Function("x","return x["+r.field(t).map(r.str).join("][")+"];"))},r.$=r.accessor,r.mutator=function(t){var e;return r.isString(t)&&(e=r.field(t)).length>1?function(t,n){for(var i=0;i<e.length-1;++i)t=t[e[i]];t[e[i]]=n}:function(e,n){e[t]=n}},r.$func=function(t,e){return function(n){n=r.$(n)||r.identity;var i=t+(r.name(n)?"_"+r.name(n):"");return r.namedfunc(i,function(t){return e(n(t))})}},r.$valid=r.$func("valid",r.isValid),r.$length=r.$func("length",r.length),r.$in=function(t,e){t=r.$(t);var n=r.isArray(e)?r.toMap(e):e;return function(e){return!!n[t(e)]}},r.comparator=function(t){var e=[];return void 0===t&&(t=[]),t=r.array(t).map(function(t){var n=1;return"-"===t[0]?(n=-1,t=t.slice(1)):"+"===t[0]&&(n=1,t=t.slice(1)),e.push(n),r.accessor(t)}),function(n,i){var r,o,a,s,u;for(r=0,o=t.length;r<o;++r){if(a=t[r],s=a(n),u=a(i),s<u)return-1*e[r];if(s>u)return e[r]}return 0}},r.cmp=function(t,e){return t<e?-1:t>e?1:t>=e?0:null===t?-1:null===e?1:NaN},r.numcmp=function(t,e){return t-e},r.stablesort=function(t,e,n){var i=t.reduce(function(t,e,i){return t[n(e)]=i,t},{});return t.sort(function(t,r){var o=e(t),a=e(r);return o<a?-1:o>a?1:i[n(t)]-i[n(r)]}),t},r.pad=function(t,e,i,r){r=r||" ";var o=e-t.length;if(o<=0)return t;switch(i){case"left":return n(o,r)+t;case"middle":case"center":return n(Math.floor(o/2),r)+t+n(Math.ceil(o/2),r);default:return t+n(o,r)}},r.truncate=function(t,e,n,r,o){var a=t.length;if(a<=e)return t;o=void 0!==o?String(o):"…";var s=Math.max(0,e-o.length);switch(n){case"left":return o+(r?i(t,s,1):t.slice(a-s));case"middle":case"center":var u=Math.ceil(s/2),l=Math.floor(s/2);return(r?i(t,u):t.slice(0,u))+o+(r?i(t,l,1):t.slice(a-l));default:return(r?i(t,s):t.slice(0,s))+o}};var u=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/}).call(this,t("buffer").Buffer)},{buffer:2}],31:[function(e,n,i){!function(e,r){"object"==typeof i&&"undefined"!=typeof n?r(i):"function"==typeof t&&t.amd?t(["exports"],r):r(e.topojson={})}(this,function(t){"use strict";function e(){}function n(t){if(!t)return e;var n,i,r=t.scale[0],o=t.scale[1],a=t.translate[0],s=t.translate[1];return function(t,e){e||(n=i=0),t[0]=(n+=t[0])*r+a,t[1]=(i+=t[1])*o+s}}function i(t){if(!t)return e;var n,i,r=t.scale[0],o=t.scale[1],a=t.translate[0],s=t.translate[1];return function(t,e){e||(n=i=0);var u=(t[0]-a)/r|0,l=(t[1]-s)/o|0;t[0]=u-n,t[1]=l-i,n=u,i=l}}function r(t,e){for(var n,i=t.length,r=i-e;r<--i;)n=t[r],t[r++]=t[i],t[i]=n}function o(t,e){for(var n=0,i=t.length;n<i;){var r=n+i>>>1;t[r]<e?n=r+1:i=r}return n}function a(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return s(t,e)})}:s(t,e)}function s(t,e){var n={type:"Feature",id:e.id,properties:e.properties||{},geometry:u(t,e)};return null==e.id&&delete n.id,n}function u(t,e){function i(t,e){e.length&&e.pop();for(var n,i=f[t<0?~t:t],o=0,a=i.length;o<a;++o)e.push(n=i[o].slice()),c(n,o);t<0&&r(e,a)}function o(t){return t=t.slice(),c(t,0),t}function a(t){for(var e=[],n=0,r=t.length;n<r;++n)i(t[n],e);return e.length<2&&e.push(e[0].slice()),e}function s(t){for(var e=a(t);e.length<4;)e.push(e[0].slice());return e}function u(t){return t.map(s)}function l(t){var e=t.type;return"GeometryCollection"===e?{type:e,geometries:t.geometries.map(l)}:e in h?{type:e,coordinates:h[e](t)}:null}var c=n(t.transform),f=t.arcs,h={Point:function(t){return o(t.coordinates)},MultiPoint:function(t){return t.coordinates.map(o)},LineString:function(t){return a(t.arcs)},MultiLineString:function(t){return t.arcs.map(a)},Polygon:function(t){return u(t.arcs)},MultiPolygon:function(t){return t.arcs.map(u)}};return l(e)}function l(t,e){function n(e){var n,i=t.arcs[e<0?~e:e],r=i[0];return t.transform?(n=[0,0],i.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=i[i.length-1],e<0?[n,r]:[r,n]}function i(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach(function(t){r[t<0?~t:t]=1}),s.push(i)}}var r={},o={},a={},s=[],u=-1;return e.forEach(function(n,i){var r,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(r=e[++u],e[u]=n,e[i]=r)}),e.forEach(function(t){var e,i,r=n(t),s=r[0],u=r[1];if(e=a[s])if(delete a[e.end],e.push(t),e.end=u,i=o[u]){delete o[i.start];var l=i===e?e:e.concat(i);o[l.start=e.start]=a[l.end=i.end]=l}else o[e.start]=a[e.end]=e;else if(e=o[u])if(delete o[e.start],e.unshift(t),e.start=s,i=a[s]){delete a[i.end];var c=i===e?e:i.concat(e);o[c.start=i.start]=a[c.end=e.end]=c}else o[e.start]=a[e.end]=e;else e=[t],o[e.start=s]=a[e.end=u]=e}),i(a,o),i(o,a),e.forEach(function(t){r[t<0?~t:t]||s.push([t])}),s}function c(t){return u(t,f.apply(this,arguments))}function f(t,e,n){function i(t){var e=t<0?~t:t;(c[e]||(c[e]=[])).push({i:t,g:u})}function r(t){t.forEach(i)}function o(t){t.forEach(r)}function a(t){"GeometryCollection"===t.type?t.geometries.forEach(a):t.type in f&&(u=t,f[t.type](t.arcs))}var s=[];if(arguments.length>1){var u,c=[],f={LineString:r,MultiLineString:o,Polygon:o,MultiPolygon:function(t){t.forEach(o)}};a(e),c.forEach(arguments.length<3?function(t){s.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&s.push(t[0].i)})}else for(var h=0,d=t.arcs.length;h<d;++h)s.push(h);return{type:"MultiLineString",arcs:l(t,s)}}function h(t){var e=t[0],n=t[1],i=t[2];return Math.abs((e[0]-i[0])*(n[1]-e[1])-(e[0]-n[0])*(i[1]-e[1]))}function d(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[0]*r[1]-e[1]*r[0];return o/2}function p(t){return u(t,g.apply(this,arguments))}function g(t,e){function n(t){t.forEach(function(e){e.forEach(function(e){(r[e=e<0?~e:e]||(r[e]=[])).push(t)})}),o.push(t)}function i(e){return d(u(t,{type:"Polygon",arcs:[e]}).coordinates[0])>0}var r={},o=[],a=[];return e.forEach(function(t){"Polygon"===t.type?n(t.arcs):"MultiPolygon"===t.type&&t.arcs.forEach(n)}),o.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,a.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){r[t<0?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),o.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:a.map(function(e){var n,o=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){r[t<0?~t:t].length<2&&o.push(t)})})}),o=l(t,o),(n=o.length)>1)for(var a,s=i(e[0][0]),u=0;u<n;++u)if(s===i(o[u])){a=o[0],o[0]=o[u],o[u]=a;break}return o})}}function m(t){function e(t,e){t.forEach(function(t){t<0&&(t=~t);var n=r[t];n?n.push(e):r[t]=[e]})}function n(t,n){t.forEach(function(t){e(t,n)})}function i(t,e){"GeometryCollection"===t.type?t.geometries.forEach(function(t){i(t,e)}):t.type in s&&s[t.type](t.arcs,e)}var r={},a=t.map(function(){return[]}),s={LineString:e,MultiLineString:n,Polygon:n,MultiPolygon:function(t,e){t.forEach(function(t){n(t,e)})}};t.forEach(i);for(var u in r)for(var l=r[u],c=l.length,f=0;f<c;++f)for(var h=f+1;h<c;++h){var d,p=l[f],g=l[h];(d=a[p])[u=o(d,g)]!==g&&d.splice(u,0,g),(d=a[g])[u=o(d,p)]!==p&&d.splice(u,0,p)}return a}function v(t,e){return t[1][2]-e[1][2]}function y(){function t(t,e){for(;e>0;){var n=(e+1>>1)-1,r=i[n];if(v(t,r)>=0)break;i[r._=e]=r,i[t._=e=n]=t}}function e(t,e){for(;;){var n=e+1<<1,o=n-1,a=e,s=i[a];if(o<r&&v(i[o],s)<0&&(s=i[a=o]),n<r&&v(i[n],s)<0&&(s=i[a=n]),a===e)break;i[s._=e]=s,i[t._=e=a]=t}}var n={},i=[],r=0;return n.push=function(e){return t(i[e._=r]=e,r++),r},n.pop=function(){if(!(r<=0)){var t,n=i[0];return--r>0&&(t=i[r],e(i[t._=0]=t,0)),n}},n.remove=function(n){var o,a=n._;if(i[a]===n)return a!==--r&&(o=i[r],(v(o,n)<0?t:e)(i[o._=a]=o,a)),a},n}function b(t,e){function r(t){s.remove(t),t[1][2]=e(t),s.push(t)}var o=n(t.transform),a=i(t.transform),s=y();return e||(e=h),t.arcs.forEach(function(t){var n,i,u,l,c=[],f=0;for(i=0,u=t.length;i<u;++i)l=t[i],o(t[i]=[l[0],l[1],1/0],i);for(i=1,u=t.length-1;i<u;++i)n=t.slice(i-1,i+2),n[1][2]=e(n),c.push(n),s.push(n);for(i=0,u=c.length;i<u;++i)n=c[i],n.previous=c[i-1],n.next=c[i+1];for(;n=s.pop();){var h=n.previous,d=n.next;n[1][2]<f?n[1][2]=f:f=n[1][2],h&&(h.next=d,h[2]=n[2],r(h)),d&&(d.previous=h,d[0]=n[0],r(d))}t.forEach(a)}),t}var _="1.6.24";t.version=_,t.mesh=c,t.meshArcs=f,t.merge=p,t.mergeArcs=g,t.feature=a,t.neighbors=m,t.presimplify=b})},{}],32:[function(t,e,n){function i(t,e){var n={};return r(t,n),n.add=[],n.mod=[],n.rem=[],n.reflow=e,n}function r(t,e){e.stamp=t?t.stamp:0,e.sort=t?t.sort:null,e.facet=t?t.facet:null,e.trans=t?t.trans:null,e.dirty=t?t.dirty:[],e.request=t?t.request:null;for(var n,i=0,r=o.length;i<r;++i)e[n=o[i]]=t?t[n]:{}}var o=t("./Dependencies").ALL;e.exports={create:i,copy:r}},{"./Dependencies":35}],33:[function(t,e,n){function i(t){a.init.call(this,t),this._data=[],this.router(!0).collector(!0)}var r=t("vega-logging"),o=t("./Tuple"),a=t("./Node").prototype,s=t("./ChangeSet"),u=i.prototype=Object.create(a);u.constructor=i,u.data=function(){return this._data},u.evaluate=function(t){r.debug(t,["collecting"]);var e=s.create(t);return t.rem.length&&(this._data=o.idFilter(this._data,t.rem),e.rem=t.rem.slice(0)),t.add.length&&(this._data=this._data.concat(t.add),e.add=t.add.slice(0)),t.mod.length&&(e.mod=t.mod.slice(0)),t.sort&&this._data.sort(t.sort),t.reflow&&(e.mod=e.mod.concat(o.idFilter(this._data,e.add,e.mod,e.rem)),e.reflow=!1),e},e.exports=i},{"./ChangeSet":32,"./Node":38,"./Tuple":40,"vega-logging":48}],34:[function(t,e,n){function i(t,e,n){this._graph=t,this._name=e,this._data=[],this._source=null,this._facet=n,this._input=l.create(),this._output=null,this._indexes={},this._indexFields=[],this._inputNode=null,this._outputNode=null,this._pipeline=null,this._collector=null,this._mutates=!1}function r(t){var e=new h(t._graph).router(!0).collector(!0);return e.data=function(){return t._data},e.evaluate=function(e){u.debug(e,["input",t._name]);var n,i=t._input,r=l.create(e);for(n in i.fields)r.fields[n]=1;return i.rem.length&&(t._data=f.idFilter(t._data,i.rem)),i.add.length&&(t._data=t._data.concat(i.add)),i.sort&&t._data.sort(i.sort),e.reflow&&(i.mod=i.mod.concat(f.idFilter(t._data,i.add,i.mod,i.rem))),t._input=l.create(),r.add=i.add,r.mod=i.mod,r.rem=i.rem,r.facet=t._facet,r},e}function o(t){function e(e){var n,i,r,o,a,u,l=t._indexFields;for(n=0;n<l.length;++n){for(o=l[n],a=t._indexes[o],
r=s.$(o),i=0;i<e.add.length;++i)u=r(e.add[i]),f.prev_init(e.add[i]),a[u]=(a[u]||0)+1;for(i=0;i<e.rem.length;++i)u=r(e.rem[i]),a[u]=(a[u]||0)-1;for(i=0;i<e.mod.length;++i)u=r(e.mod[i]._prev),a[u]=(a[u]||0)-1,u=r(e.mod[i]),a[u]=(a[u]||0)+1}}var n=new h(t._graph).router(!0).reflows(!0).collector(!0);return n.data=function(){return t._collector?t._collector.data():t._data},n.evaluate=function(n){u.debug(n,["output",t._name]),e(n);var i=l.create(n,!0);return t._facet&&(t._facet.values=t.values(),n.facet=null),t._output=n,i.data[t._name]=1,i},n}function a(t){var e=new h(t._graph).router(!0);return e.evaluate=function(e){if(t.mutates()){var n=t._srcMap||(t._srcMap={}),i=l.create(e);return i.add=e.add.map(function(t){return n[t._id]=f.derive(t)}),i.mod=e.mod.map(function(t){return f.rederive(t,n[t._id])}),i.rem=e.rem.map(function(t){var e=n[t._id];return n[t._id]=null,e}),t._input=i}return t._input=e},e}var s=t("datalib"),u=t("vega-logging"),l=t("./ChangeSet"),c=t("./Collector"),f=t("./Tuple"),h=t("./Node"),d=i.prototype;d.name=function(t){return arguments.length?(this._name=t,this):this._name},d.source=function(t){return arguments.length?this._source=this._graph.data(t):this._source},d.insert=function(t){return this._input.add=this._input.add.concat(t.map(f.ingest)),this},d.remove=function(t){var e=this._data.filter(t);return this._input.rem=this._input.rem.concat(e),this},d.update=function(t,e,n){var i=this._input.mod,r=f.idMap(i);return this._input.fields[e]=1,this._data.filter(t).forEach(function(t){var o=t[e],a=n(t);o!==a&&(f.set(t,e,a),1!==r[t._id]&&(i.push(t),r[t._id]=1))}),this},d.values=function(t){return arguments.length?(this._input.rem=this._data.slice(),t&&this.insert(t),this):this._collector.data()},d.mutates=function(t){return arguments.length?(this._mutates=this._mutates||t,this):this._mutates},d.last=function(){return this._output},d.fire=function(t){return t&&(this._input=t),this._graph.propagate(this._input,this._pipeline[0]),this},d.pipeline=function(t){if(!arguments.length)return this._pipeline;var e,n=this._graph;return t.unshift(this._inputNode=r(this)),e=n.preprocess(t),e.router&&t.push(e.collector=new c(n)),t.push(this._outputNode=o(this)),this._collector=e.collector,this._mutates=!!e.mutates,n.connect(this._pipeline=t),this},d.synchronize=function(){return this._graph.synchronize(this._pipeline),this},d.getIndex=function(t){var e,n,i,r,o=this.values(),a=this._indexes,u=this._indexFields,l=s.$(t);if(!a[t])for(a[t]=e={},u.push(t),n=0,i=o.length;n<i;++n)r=l(o[n]),e[r]=(e[r]||0)+1,f.prev_init(o[n]);return a[t]},d.listener=function(){return a(this).addListener(this._inputNode)},d.addListener=function(t){return t instanceof i?this._collector.addListener(t.listener()):this._outputNode.addListener(t),this},d.removeListener=function(t){this._outputNode.removeListener(t)},d.listeners=function(t){return(t?this._collector:this._outputNode).listeners()},e.exports=i},{"./ChangeSet":32,"./Collector":33,"./Node":38,"./Tuple":40,datalib:26,"vega-logging":48}],35:[function(t,e,n){var i=e.exports={ALL:["data","fields","scales","signals"]};i.ALL.forEach(function(t){i[t.toUpperCase()]=t})},{}],36:[function(t,e,n){function i(){}var r=t("datalib"),o=t("vega-logging"),a=t("./Heap"),s=t("./ChangeSet"),u=t("./DataSource"),l=t("./Collector"),c=t("./Tuple"),f=t("./Signal"),h=t("./Dependencies"),d=i.prototype;d.init=function(){this._stamp=0,this._rank=0,this._data={},this._signals={},this._requestedIndexes={},this.doNotPropagate={}},d.rank=function(){return++this._rank},d.values=function(t,e,n){var i,o,a=t===h.SIGNALS?this._signals:this._data,s=void 0!==e?e:r.keys(a);if(Array.isArray(s)){for(i=n||{},o=0;o<s.length;++o)i[s[o]]=a[s[o]].values();return i}return a[s].values()},d.dataValues=function(t){return this.values(h.DATA,t)},d.signalValues=function(t){return this.values(h.SIGNALS,t)},d.data=function(t,e,n){var i=this._data;if(arguments.length)return 1===arguments.length?i[t]:i[t]=new u(this,t,n).pipeline(e);var r,o=[];for(r in i)o.push(i[r]);return o},d.signal=function(t,e){if(1===arguments.length){var n=this;return Array.isArray(t)?t.map(function(t){return n._signals[t]}):this._signals[t]}return this._signals[t]=new f(this,t,e)},d.signalRef=function(t){Array.isArray(t)||(t=r.field(t));var e=this.signal(t[0]).value();if(t.length>1)for(var n=1,i=t.length;n<i;++n)e=e[t[n]];return e},d.requestIndex=function(t,e){var n=this._requestedIndexes,i=n[t]||(n[t]={});return i[e]=!0,this},d.buildIndexes=function(){var t,e,n,i,o,a,s,u,l=this._requestedIndexes,c=r.keys(l);for(t=0,e=c.length;t<e;++t){if(a=this.data(o=c[t]),!a)throw Error("Data source "+r.str(o)+" does not exist.");for(s=r.keys(l[o]),n=0,i=s.length;n<i;++n)null!==(u=s[n])&&(a.getIndex(u),l[o][u]=null)}return this},d.propagate=function(t,e,n,i){var r,o,u,l,c,h,d,p,g={},m=new a(function(t,e){return t._qrank-e._qrank});if(t.stamp)throw Error("Pulse already has a non-zero stamp.");for(t.stamp=n||++this._stamp,g[e._id]=t,m.push(e.qrank(!0));m.size()>0;)if(e=m.peek(),p=e instanceof f,t=g[e._id],e.rank()!==e.qrank())m.replace(e.qrank(!0));else if(m.pop(),g[e._id]=null,r=e._listeners,(!p||p&&!i)&&(t=this.evaluate(t,e)),t!==this.doNotPropagate)for(!t.reflow&&e.reflows()&&(t=s.create(t,!0)),h=0,d=r.length;h<d;++h)if(o=r[h],void 0!==(u=g[o._id])){if(null===u)throw Error("Already propagated to node.");if(u===t)continue;if(l=t.add.length||t.mod.length||t.rem.length,c=u.add.length||u.mod.length||u.rem.length,l&&c)throw Error("Multiple changeset pulses to same node");g[o._id]=l?t:u,g[o._id].reflow=t.reflow||u.reflow}else m.push(o.qrank(!0)),g[o._id]=t;return this.done(t)},d.done=function(t){o.debug(t,["bookkeeping"]);for(var e in t.data)this.data(e).synchronize();return this},d.preprocess=function(t){for(var e,n,i,r,o=this,a=0,s=0;s<t.length;++s)e=t[s],e.batch()&&!e._collector&&(n||!i?(e=new l(o),t.splice(s,0,e),n=!1):e._collector=i),(r=e.collector())&&(i=e),n=n||e.router()&&!r,a=a||e.mutates(),e.produces()&&(t.splice(s+1,0,new l(o)),n=!1);return{router:n,collector:i,mutates:a}},d.connect=function(t){var e,n,i,o,a,s,u,l,c,f;for(a=0,s=t.length;a<s;++a){for(n=t[a],n.collector()&&(e=n),i=n.dependency(h.DATA),u=0,l=i.length;u<l;++u){if(!(c=this.data(f=i[u])))throw new Error("Unknown data source "+r.str(f));c.addListener(e)}for(o=n.dependency(h.SIGNALS),u=0,l=o.length;u<l;++u){if(!(c=this.signal(f=o[u])))throw new Error("Unknown signal "+r.str(f));c.addListener(e)}a>0&&t[a-1].addListener(n)}return t},d.disconnect=function(t){var e,n,i,r,o,a,s,u;for(o=0,a=t.length;o<a;++o){for(n=t[o],n.collector()&&(e=n),i=n.dependency(h.DATA),s=0,u=i.length;s<u;++s)this.data(i[s]).removeListener(e);for(r=n.dependency(h.SIGNALS),s=0,u=r.length;s<u;++s)this.signal(r[s]).removeListener(e);n.disconnect()}return t},d.synchronize=function(t){var e,n,i,r,o,a,s,u,l={};for(i=0,r=t.length;i<r;++i)if(e=t[i],e.collector())for(o=0,n=e.data(),a=n.length;o<a;++o)u=(s=n[o])._id,l[u]||(c.prev_update(s),l[u]=1);return this},d.reevaluate=function(t,e){var n=t.reflow&&e.last()>=t.stamp,i=e.router()||t.add.length||t.rem.length;return i||!n||e.reevaluate(t)},d.evaluate=function(t,e){return this.reevaluate(t,e)?(t=e.evaluate(t),e.last(t.stamp),t):t},e.exports=i},{"./ChangeSet":32,"./Collector":33,"./DataSource":34,"./Dependencies":35,"./Heap":37,"./Signal":39,"./Tuple":40,datalib:26,"vega-logging":48}],37:[function(t,e,n){function i(t){this.cmp=t,this.nodes=[]}function r(t,e,n,i){var r,o,a;for(r=t[n];n>e&&(a=n-1>>1,o=t[a],i(r,o)<0);)t[n]=o,n=a;return t[n]=r}function o(t,e,n){for(var i,o=e,a=t.length,s=t[e],u=2*e+1;u<a;)i=u+1,i<a&&n(t[u],t[i])>=0&&(u=i),t[e]=t[u],e=u,u=2*e+1;return t[e]=s,r(t,o,e,n)}var a=i.prototype;a.size=function(){return this.nodes.length},a.clear=function(){return this.nodes=[],this},a.peek=function(){return this.nodes[0]},a.push=function(t){var e=this.nodes;return e.push(t),r(e,0,e.length-1,this.cmp)},a.pop=function(){var t,e=this.nodes,n=e.pop();return e.length?(t=e[0],e[0]=n,o(e,0,this.cmp)):t=n,t},a.replace=function(t){var e=this.nodes,n=e[0];return e[0]=t,o(e,0,this.cmp),n},a.pushpop=function(t){var e=this.nodes,n=e[0];return e.length&&this.cmp(n,t)<0&&(e[0]=t,t=n,o(e,0,this.cmp)),t},e.exports=i},{}],38:[function(t,e,n){function i(t){t&&this.init(t)}var r=t("./Dependencies").ALL,o=0,a=i.Flags={Router:1,Collector:2,Produces:4,Mutates:8,Reflows:16,Batch:32},s=i.prototype;s.init=function(t){this._id=++o,this._graph=t,this._rank=t.rank(),this._qrank=null,this._stamp=0,this._listeners=[],this._listeners._ids={},this._deps={};for(var e=0,n=r.length;e<n;++e)this._deps[r[e]]=[];return this._flags=0,this},s.rank=function(){return this._rank},s.rerank=function(){for(var t,e=this._graph,n=[this];n.length;)t=n.shift(),t._rank=e.rank(),n.unshift.apply(n,t.listeners());return this},s.qrank=function(){return arguments.length?(this._qrank=this._rank,this):this._qrank},s.last=function(t){return arguments.length?(this._stamp=t,this):this._stamp},s._setf=function(t,e){return e?this._flags|=t:this._flags&=~t,this},s.router=function(t){return arguments.length?this._setf(a.Router,t):this._flags&a.Router},s.collector=function(t){return arguments.length?this._setf(a.Collector,t):this._flags&a.Collector},s.produces=function(t){return arguments.length?this._setf(a.Produces,t):this._flags&a.Produces},s.mutates=function(t){return arguments.length?this._setf(a.Mutates,t):this._flags&a.Mutates},s.reflows=function(t){return arguments.length?this._setf(a.Reflows,t):this._flags&a.Reflows},s.batch=function(t){return arguments.length?this._setf(a.Batch,t):this._flags&a.Batch},s.dependency=function(t,e){var n=this._deps[t],i=n._names||(n._names={});if(1===arguments.length)return n;if(null===e)n.splice(0,n.length),n._names={};else if(Array.isArray(e))for(var r,o=0,a=e.length;o<a;++o)r=e[o],i[r]||(n.push(r),i[r]=1);else{if(i[e])return this;n.push(e),i[e]=1}return this},s.listeners=function(){return this._listeners},s.addListener=function(t){if(!(t instanceof i))throw Error("Listener is not a Node");return this._listeners._ids[t._id]?this:(this._listeners.push(t),this._listeners._ids[t._id]=1,this._rank>t._rank&&t.rerank(),this)},s.removeListener=function(t){if(!this._listeners._ids[t._id])return!1;var e=this._listeners.indexOf(t),n=e>=0;return n&&(this._listeners.splice(e,1),this._listeners._ids[t._id]=null),n},s.disconnect=function(){this._listeners=[],this._listeners._ids={}},s.evaluate=function(t){return t},s.reevaluate=function(t){var e,n,i,o,a,s;for(i=0,o=r.length;i<o;++i)for(e=r[i],n=this._deps[e],a=0,s=n.length;a<s;++a)if(t[e][n[a]])return!0;return!1},i.reset=function(){o=0},e.exports=i},{"./Dependencies":35}],39:[function(t,e,n){function i(t,e,n){return a.init.call(this,t),this._name=e,this._value=n,this._verbose=!1,this._handlers=[],this}var r=t("./ChangeSet"),o=t("./Node"),a=o.prototype,s=i.prototype=Object.create(a);s.constructor=i,s.name=function(){return this._name},s.value=function(t){return arguments.length?(this._value=t,this):this._value},s.values=s.value,s.verbose=function(t){return arguments.length?(this._verbose=!!t,this):this._verbose},s.evaluate=function(t){return t.signals[this._name]?t:this._graph.doNotPropagate},s.fire=function(t){t||(t=r.create(null,!0)),t.signals[this._name]=1,this._graph.propagate(t,this)},s.on=function(t){var e=this,n=new o(this._graph);return n.evaluate=function(n){return t(e.name(),e.value()),n},this._handlers.push({handler:t,node:n}),this.addListener(n)},s.off=function(t){var e,n,i=this._handlers;for(e=i.length;--e>=0;)t&&i[e].handler!==t||(n=i.splice(e,1)[0],this.removeListener(n.node));return this},e.exports=i},{"./ChangeSet":32,"./Node":38}],40:[function(t,e,n){function i(t){return t=t===Object(t)?t:{data:t},t._id=++a,t._prev&&(t._prev=null),t}function r(t,e){e=e||{};for(var n=0,i=t.length;n<i;++n)e[t[n]._id]=1;return e}function o(t,e){e=e||{};for(var n in t)"_prev"!==n&&"_id"!==n&&(e[n]=t[n]);return e}var a=0;e.exports={ingest:i,idMap:r,derive:function(t){return i(o(t))},rederive:function(t,e){return o(t,e)},set:function(t,e,n){return t[e]===n?0:(t[e]=n,1)},prev:function(t){return t._prev||t},prev_init:function(t){t._prev||(t._prev={_id:t._id})},prev_update:function(t){var e,n,i=t._prev;if(i)for(e in t)"_prev"!==e&&"_id"!==e&&(i[e]=(n=t[e])instanceof Object&&n._prev?n._prev:n)},reset:function(){a=0},idFilter:function(t){for(var e={},n=arguments.length;--n>0;)r(arguments[n],e);return t.filter(function(t){return!e[t._id]})}}},{}],41:[function(t,e,n){e.exports={ChangeSet:t("./ChangeSet"),Collector:t("./Collector"),DataSource:t("./DataSource"),Dependencies:t("./Dependencies"),Graph:t("./Graph"),Node:t("./Node"),Signal:t("./Signal"),Tuple:t("./Tuple"),debug:t("vega-logging").debug}},{"./ChangeSet":32,"./Collector":33,"./DataSource":34,"./Dependencies":35,"./Graph":36,"./Node":38,"./Signal":39,"./Tuple":40,"vega-logging":48}],42:[function(t,e,n){e.exports=function(){"use strict";function t(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function e(t,n,i,r){this.message=t,this.expected=n,this.found=i,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}function n(t){function n(e){var n,i,r=pe[e];if(r)return r;for(n=e-1;!pe[n];)n--;for(r=pe[n],r={line:r.line,column:r.column,seenCR:r.seenCR};n<e;)i=t.charAt(n),"\n"===i?(r.seenCR||r.line++,r.column=1,r.seenCR=!1):"\r"===i||"\u2028"===i||"\u2029"===i?(r.line++,r.column=1,r.seenCR=!0):(r.column++,r.seenCR=!1),n++;return pe[e]=r,r}function i(t,e){var i=n(t),r=n(e);return{start:{offset:t,line:i.line,column:i.column},end:{offset:e,line:r.line,column:r.column}}}function r(t){he<ge||(he>ge&&(ge=he,me=[]),me.push(t))}function o(t,n,i,r){function o(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}function a(t,e){function n(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0100-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1000-\uFFFF]/g,function(t){return"\\u"+e(t)})}var i,r,o,a=new Array(t.length);for(o=0;o<t.length;o++)a[o]=t[o].description;return i=t.length>1?a.slice(0,-1).join(", ")+" or "+a[t.length-1]:a[0],r=e?'"'+n(e)+'"':"end of input","Expected "+i+" but "+r+" found."}return null!==n&&o(n),new e(null!==t?t:a(n,i),n,i,r)}function a(){var t;return t=s()}function s(){var e,n,i,o,a,l;return e=he,n=u(),n!==_?(i=v(),i!==_?(44===t.charCodeAt(he)?(o=k,he++):(o=_,0===ve&&r(E)),o!==_?(a=v(),a!==_?(l=s(),l!==_?(de=e,n=S(n,l),e=n):(he=e,e=_)):(he=e,e=_)):(he=e,e=_)):(he=e,e=_)):(he=e,e=_),e===_&&(e=he,n=u(),n!==_&&(de=e,n=C(n)),e=n),e}function u(){var e,n,i,o,a,s,c,f,h,d,p,g,m,y;return e=he,91===t.charCodeAt(he)?(n=T,he++):(n=_,0===ve&&r(M)),n!==_?(i=v(),i!==_?(o=l(),o!==_?(a=v(),a!==_?(44===t.charCodeAt(he)?(s=k,he++):(s=_,0===ve&&r(E)),s!==_?(c=v(),c!==_?(f=l(),f!==_?(h=v(),h!==_?(93===t.charCodeAt(he)?(d=A,he++):(d=_,0===ve&&r($)),d!==_?(p=v(),p!==_?(62===t.charCodeAt(he)?(g=O,he++):(g=_,0===ve&&r(D)),g!==_?(m=v(),m!==_?(y=u(),y!==_?(de=e,n=N(o,f,y),e=n):(he=e,e=_)):(he=e,e=_)):(he=e,e=_)):(he=e,e=_)):(he=e,e=_)):(he=e,e=_)):(he=e,e=_)):(he=e,e=_)):(he=e,e=_)):(he=e,e=_)):(he=e,e=_)):(he=e,e=_)):(he=e,e=_),e===_&&(e=l()),e}function l(){var t,e,n,i;if(t=he,e=c(),e!==_){if(n=[],i=d(),i!==_)for(;i!==_;)n.push(i),i=d();else n=_;n!==_?(de=t,e=I(e,n),t=e):(he=t,t=_)}else he=t,t=_;return t===_&&(t=he,e=c(),e!==_&&(de=t,e=L(e)),t=e),t}function c(){var e,n,i,o,a;return e=he,40===t.charCodeAt(he)?(n=P,he++):(n=_,0===ve&&r(R)),n!==_?(i=s(),i!==_?(41===t.charCodeAt(he)?(o=F,he++):(o=_,0===ve&&r(j)),o!==_?(de=e,n=U(i),e=n):(he=e,e=_)):(he=e,e=_)):(he=e,e=_),e===_&&(e=he,64===t.charCodeAt(he)?(n=z,he++):(n=_,0===ve&&r(H)),n!==_?(i=p(),i!==_?(58===t.charCodeAt(he)?(o=q,he++):(o=_,0===ve&&r(W)),o!==_?(a=h(),a!==_?(de=e,n=Y(i,a),e=n):(he=e,e=_)):(he=e,e=_)):(he=e,e=_)):(he=e,e=_),e===_&&(e=he,n=f(),n!==_?(58===t.charCodeAt(he)?(i=q,he++):(i=_,0===ve&&r(W)),i!==_?(o=h(),o!==_?(de=e,n=B(n,o),e=n):(he=e,e=_)):(he=e,e=_)):(he=e,e=_),e===_&&(e=he,n=g(),n!==_?(58===t.charCodeAt(he)?(i=q,he++):(i=_,0===ve&&r(W)),i!==_?(o=h(),o!==_?(de=e,n=V(n,o),e=n):(he=e,e=_)):(he=e,e=_)):(he=e,e=_),e===_&&(e=he,n=h(),n!==_&&(de=e,n=X(n)),e=n,e===_&&(e=he,n=p(),n!==_&&(de=e,n=G(n)),e=n))))),e}function f(){var e;return t.substr(he,4)===K?(e=K,he+=4):(e=_,0===ve&&r(J)),e===_&&(t.substr(he,6)===Z?(e=Z,he+=6):(e=_,0===ve&&r(Q)),e===_&&(t.substr(he,4)===tt?(e=tt,he+=4):(e=_,0===ve&&r(et)),e===_&&(t.substr(he,3)===nt?(e=nt,he+=3):(e=_,0===ve&&r(it)),e===_&&(t.substr(he,4)===rt?(e=rt,he+=4):(e=_,0===ve&&r(ot)),e===_&&(t.substr(he,4)===at?(e=at,he+=4):(e=_,0===ve&&r(st)),e===_&&(t.substr(he,4)===ut?(e=ut,he+=4):(e=_,0===ve&&r(lt)),e===_&&(t.substr(he,5)===ct?(e=ct,he+=5):(e=_,0===ve&&r(ft)),e===_&&(t.substr(he,4)===ht?(e=ht,he+=4):(e=_,0===ve&&r(dt)),e===_&&(t.substr(he,5)===pt?(e=pt,he+=5):(e=_,0===ve&&r(gt))))))))))),e}function h(){var e;return t.substr(he,9)===mt?(e=mt,he+=9):(e=_,0===ve&&r(vt)),e===_&&(t.substr(he,7)===yt?(e=yt,he+=7):(e=_,0===ve&&r(bt)),e===_&&(t.substr(he,5)===_t?(e=_t,he+=5):(e=_,0===ve&&r(xt)),e===_&&(t.substr(he,8)===wt?(e=wt,he+=8):(e=_,0===ve&&r(kt)),e===_&&(t.substr(he,5)===Et?(e=Et,he+=5):(e=_,0===ve&&r(St)),e===_&&(t.substr(he,7)===Ct?(e=Ct,he+=7):(e=_,0===ve&&r(Tt)),e===_&&(t.substr(he,8)===Mt?(e=Mt,he+=8):(e=_,0===ve&&r(At)),e===_&&(t.substr(he,5)===$t?(e=$t,he+=5):(e=_,0===ve&&r(Ot)),e===_&&(t.substr(he,10)===Dt?(e=Dt,he+=10):(e=_,0===ve&&r(Nt)),e===_&&(t.substr(he,9)===It?(e=It,he+=9):(e=_,0===ve&&r(Lt)),e===_&&(t.substr(he,8)===Pt?(e=Pt,he+=8):(e=_,0===ve&&r(Rt)),e===_&&(t.substr(he,9)===Ft?(e=Ft,he+=9):(e=_,0===ve&&r(jt)),e===_&&(t.substr(he,10)===Ut?(e=Ut,he+=10):(e=_,0===ve&&r(zt)),e===_&&(t.substr(he,10)===Ht?(e=Ht,he+=10):(e=_,0===ve&&r(qt)),e===_&&(t.substr(he,9)===Wt?(e=Wt,he+=9):(e=_,0===ve&&r(Yt)),e===_&&(t.substr(he,8)===Bt?(e=Bt,he+=8):(e=_,0===ve&&r(Vt)),e===_&&(t.substr(he,9)===Xt?(e=Xt,he+=9):(e=_,0===ve&&r(Gt)),e===_&&(t.substr(he,8)===Kt?(e=Kt,he+=8):(e=_,0===ve&&r(Jt)),e===_&&(t.substr(he,9)===Zt?(e=Zt,he+=9):(e=_,0===ve&&r(Qt)))))))))))))))))))),e}function d(){var e,n,i,o;return e=he,91===t.charCodeAt(he)?(n=T,he++):(n=_,0===ve&&r(M)),n!==_?(i=m(),i!==_?(93===t.charCodeAt(he)?(o=A,he++):(o=_,0===ve&&r($)),o!==_?(de=e,n=te(i),e=n):(he=e,e=_)):(he=e,e=_)):(he=e,e=_),e}function p(){var e,n,i;if(e=he,n=[],ee.test(t.charAt(he))?(i=t.charAt(he),he++):(i=_,0===ve&&r(ne)),i!==_)for(;i!==_;)n.push(i),ee.test(t.charAt(he))?(i=t.charAt(he),he++):(i=_,0===ve&&r(ne));else n=_;return n!==_&&(de=e,n=ie(n)),e=n}function g(){var e,n,i;if(e=he,n=[],re.test(t.charAt(he))?(i=t.charAt(he),he++):(i=_,0===ve&&r(oe)),i!==_)for(;i!==_;)n.push(i),re.test(t.charAt(he))?(i=t.charAt(he),he++):(i=_,0===ve&&r(oe));else n=_;return n!==_&&(de=e,n=ae(n)),e=n}function m(){var e,n,i;if(e=he,n=[],se.test(t.charAt(he))?(i=t.charAt(he),he++):(i=_,0===ve&&r(ue)),i!==_)for(;i!==_;)n.push(i),se.test(t.charAt(he))?(i=t.charAt(he),he++):(i=_,0===ve&&r(ue));else n=_;return n!==_&&(de=e,n=le(n)),e=n}function v(){var e,n;for(e=[],ce.test(t.charAt(he))?(n=t.charAt(he),he++):(n=_,0===ve&&r(fe));n!==_;)e.push(n),ce.test(t.charAt(he))?(n=t.charAt(he),he++):(n=_,0===ve&&r(fe));return e}var y,b=arguments.length>1?arguments[1]:{},_={},x={start:a},w=a,k=",",E={type:"literal",value:",",description:'","'},S=function(t,e){return[t].concat(e)},C=function(t){return[t]},T="[",M={type:"literal",value:"[",description:'"["'},A="]",$={type:"literal",value:"]",description:'"]"'},O=">",D={type:"literal",value:">",description:'">"'},N=function(t,e,n){return{start:t,end:e,middle:n}},I=function(t,e){return t.filters=e,t},L=function(t){return t},P="(",R={type:"literal",value:"(",description:'"("'},F=")",j={type:"literal",value:")",description:'")"'},U=function(t){return{stream:t}},z="@",H={type:"literal",value:"@",description:'"@"'},q=":",W={type:"literal",value:":",description:'":"'},Y=function(t,e){return{event:e,name:t}},B=function(t,e){return{event:e,mark:t}},V=function(t,e){return{event:e,target:t}},X=function(t){return{event:t}},G=function(t){return{signal:t}},K="rect",J={type:"literal",value:"rect",description:'"rect"'},Z="symbol",Q={type:"literal",value:"symbol",description:'"symbol"'},tt="path",et={type:"literal",value:"path",description:'"path"'},nt="arc",it={type:"literal",value:"arc",description:'"arc"'},rt="area",ot={type:"literal",value:"area",description:'"area"'},at="line",st={type:"literal",value:"line",description:'"line"'},ut="rule",lt={type:"literal",value:"rule",description:'"rule"'},ct="image",ft={type:"literal",value:"image",description:'"image"'},ht="text",dt={type:"literal",value:"text",description:'"text"'},pt="group",gt={type:"literal",value:"group",description:'"group"'},mt="mousedown",vt={type:"literal",value:"mousedown",description:'"mousedown"'},yt="mouseup",bt={type:"literal",value:"mouseup",description:'"mouseup"'},_t="click",xt={type:"literal",value:"click",description:'"click"'},wt="dblclick",kt={type:"literal",value:"dblclick",description:'"dblclick"'},Et="wheel",St={type:"literal",value:"wheel",description:'"wheel"'},Ct="keydown",Tt={type:"literal",value:"keydown",description:'"keydown"'},Mt="keypress",At={type:"literal",value:"keypress",description:'"keypress"'},$t="keyup",Ot={type:"literal",value:"keyup",description:'"keyup"'},Dt="mousewheel",Nt={type:"literal",value:"mousewheel",description:'"mousewheel"'},It="mousemove",Lt={type:"literal",value:"mousemove",description:'"mousemove"'},Pt="mouseout",Rt={type:"literal",value:"mouseout",description:'"mouseout"'},Ft="mouseover",jt={type:"literal",value:"mouseover",description:'"mouseover"'},Ut="mouseenter",zt={type:"literal",value:"mouseenter",description:'"mouseenter"'},Ht="touchstart",qt={type:"literal",value:"touchstart",description:'"touchstart"'},Wt="touchmove",Yt={type:"literal",value:"touchmove",description:'"touchmove"'},Bt="touchend",Vt={type:"literal",value:"touchend",description:'"touchend"'},Xt="dragenter",Gt={type:"literal",value:"dragenter",description:'"dragenter"'},Kt="dragover",Jt={type:"literal",value:"dragover",description:'"dragover"'},Zt="dragleave",Qt={type:"literal",value:"dragleave",description:'"dragleave"'},te=function(t){return t},ee=/^[a-zA-Z0-9_\-]/,ne={type:"class",value:"[a-zA-Z0-9_-]",description:"[a-zA-Z0-9_-]"},ie=function(t){return t.join("")},re=/^[a-zA-Z0-9\-_  #.>+~[\]=|\^$*]/,oe={type:"class",value:"[a-zA-Z0-9-_  #\\.\\>\\+~\\[\\]=|\\^\\$\\*]",description:"[a-zA-Z0-9-_  #\\.\\>\\+~\\[\\]=|\\^\\$\\*]"},ae=function(t){return t.join("")},se=/^['"a-zA-Z0-9_().><=! \t-&|~]/,ue={type:"class",value:"['\"a-zA-Z0-9_\\(\\)\\.\\>\\<\\=\\! \\t-&|~]",description:"['\"a-zA-Z0-9_\\(\\)\\.\\>\\<\\=\\! \\t-&|~]"},le=function(t){return t.join("")},ce=/^[ \t\r\n]/,fe={type:"class",value:"[ \\t\\r\\n]",description:"[ \\t\\r\\n]"},he=0,de=0,pe=[{line:1,column:1,seenCR:!1}],ge=0,me=[],ve=0;if("startRule"in b){if(!(b.startRule in x))throw new Error("Can't start parsing from rule \""+b.startRule+'".');w=x[b.startRule]}if(y=w(),y!==_&&he===t.length)return y;throw y!==_&&he<t.length&&r({type:"end",description:"end of input"}),o(null,me,ge<t.length?t.charAt(ge):null,ge<t.length?i(ge,ge+1):i(ge,ge))}return t(e,Error),{SyntaxError:e,parse:n}}()},{}],43:[function(t,e,n){function i(t){var e,n,i={};for(e=0,n=t.length;e<n;++e)i[t[e]]=1;return i}function r(t){var e,n=[];for(e in t)n.push(e);return n}e.exports=function(e){function n(t){var e={code:o(t),globals:r(p),fields:r(g),dataSources:r(m),defs:u};return p={},g={},m={},e}function o(t){if("string"==typeof t)return t;var e=y[t.type];if(null==e)throw new Error("Unsupported type: "+t.type);return e(t)}e=e||{};var a=e.constants||t("./constants"),s=(e.functions||t("./functions"))(o),u=e.functionDefs?e.functionDefs(o):{},l=e.idWhiteList?i(e.idWhiteList):null,c=e.idBlackList?i(e.idBlackList):null,f=0,h=e.fieldVar||"datum",d=e.globalVar||"signals",p={},g={},m={},v="function"==typeof d?d:function(t){return d+'["'+t+'"]'},y={Literal:function(t){return t.raw},Identifier:function(t){var e=t.name;if(f>0)return e;if(a.hasOwnProperty(e))return a[e];if(l)return l.hasOwnProperty(e)?e:(p[e]=1,v(e));if(c&&c.hasOwnProperty(e))throw new Error("Illegal identifier: "+e);return e},Program:function(t){return t.body.map(o).join("\n")},MemberExpression:function(t){var e=!t.computed,n=o(t.object);e&&(f+=1);var i=o(t.property);return n===h&&(g[i]=1),e&&(f-=1),n+(e?"."+i:"["+i+"]")},CallExpression:function(t){if("Identifier"!==t.callee.type)throw new Error("Illegal callee type: "+t.callee.type);var e=t.callee.name,n=t.arguments,i=s.hasOwnProperty(e)&&s[e];if(!i)throw new Error("Unrecognized function: "+e);return i instanceof Function?i(n,p,g,m):i+"("+n.map(o).join(",")+")"},ArrayExpression:function(t){return"["+t.elements.map(o).join(",")+"]"},BinaryExpression:function(t){return"("+o(t.left)+t.operator+o(t.right)+")"},UnaryExpression:function(t){return"("+t.operator+o(t.argument)+")"},ConditionalExpression:function(t){return"("+o(t.test)+"?"+o(t.consequent)+":"+o(t.alternate)+")"},LogicalExpression:function(t){return"("+o(t.left)+t.operator+o(t.right)+")"},ObjectExpression:function(t){return"{"+t.properties.map(o).join(",")+"}"},Property:function(t){f+=1;var e=o(t.key);return f-=1,e+":"+o(t.value)},ExpressionStatement:function(t){return o(t.expression)}};return n.functions=s,n.functionDefs=u,n.constants=a,n}},{"./constants":44,"./functions":45}],44:[function(t,e,n){e.exports={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2"}},{}],45:[function(t,e,n){e.exports=function(t){function e(e,n,i,r){var o=t(n[0]);return i&&(o=i+"("+o+")",0===i.lastIndexOf("new ",0)&&(o="("+o+")")),o+"."+e+(r<0?"":0===r?"()":"("+n.slice(1).map(t).join(",")+")")}function n(t,n,i){return function(r){return e(t,r,n,i)}}var i="new Date",r="String",o="RegExp";return{isNaN:"isNaN",isFinite:"isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(e){if(e.length<3)throw new Error("Missing arguments to clamp function.");if(e.length>3)throw new Error("Too many arguments to clamp function.");var n=e.map(t);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:i,date:n("getDate",i,0),day:n("getDay",i,0),year:n("getFullYear",i,0),month:n("getMonth",i,0),hours:n("getHours",i,0),minutes:n("getMinutes",i,0),seconds:n("getSeconds",i,0),milliseconds:n("getMilliseconds",i,0),time:n("getTime",i,0),timezoneoffset:n("getTimezoneOffset",i,0),utcdate:n("getUTCDate",i,0),utcday:n("getUTCDay",i,0),utcyear:n("getUTCFullYear",i,0),utcmonth:n("getUTCMonth",i,0),utchours:n("getUTCHours",i,0),utcminutes:n("getUTCMinutes",i,0),utcseconds:n("getUTCSeconds",i,0),utcmilliseconds:n("getUTCMilliseconds",i,0),length:n("length",null,-1),indexof:n("indexOf",null),lastindexof:n("lastIndexOf",null),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",r,0),lower:n("toLowerCase",r,0),slice:n("slice",r),substring:n("substring",r),replace:n("replace",r),regexp:o,test:n("test",o),"if":function(e){if(e.length<3)throw new Error("Missing arguments to if function.");if(e.length>3)throw new Error("Too many arguments to if function.");var n=e.map(t);return n[0]+"?"+n[1]+":"+n[2]}}}},{}],46:[function(t,e,n){var i=t("./parser"),r=t("./codegen"),o=e.exports={parse:function(t,e){return i.parse("("+t+")",e)},code:function(t){return r(t)},compiler:function(t,e){t=t.slice();var n=r(e),i=t.length,a=function(e){var r=n(o.parse(e));t[i]='"use strict"; return ('+r.code+");";var a=Function.apply(null,t);return r.fn=t.length>8?function(){return a.apply(r,arguments)}:function(t,e,n,i,o,s,u){return a.call(r,t,e,n,i,o,s,u)},r};return a.codegen=n,a},functions:t("./functions"),constants:t("./constants")}},{"./codegen":43,"./constants":44,"./functions":45,"./parser":47}],47:[function(t,e,n){/*
  The following expression parser is based on Esprima (http://esprima.org/).
  Original header comment and license for Esprima is included here:

  Copyright (C) 2013 Ariya Hidayat <ariya.hidayat@gmail.com>
  Copyright (C) 2013 Thaddee Tyl <thaddee.tyl@gmail.com>
  Copyright (C) 2013 Mathias Bynens <mathias@qiwi.be>
  Copyright (C) 2012 Ariya Hidayat <ariya.hidayat@gmail.com>
  Copyright (C) 2012 Mathias Bynens <mathias@qiwi.be>
  Copyright (C) 2012 Joost-Wim Boekesteijn <joost-wim@boekesteijn.nl>
  Copyright (C) 2012 Kris Kowal <kris.kowal@cixar.com>
  Copyright (C) 2012 Yusuke Suzuki <utatane.tea@gmail.com>
  Copyright (C) 2012 Arpad Borsos <arpad.borsos@googlemail.com>
  Copyright (C) 2011 Ariya Hidayat <ariya.hidayat@gmail.com>

  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY
  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
e.exports=function(){"use strict";function t(t,e){if(!t)throw new Error("ASSERT: "+e)}function e(t){return t>=48&&t<=57}function n(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function i(t){return"01234567".indexOf(t)>=0}function r(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function o(t){return 10===t||13===t||8232===t||8233===t}function a(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||t>=128&&Et.NonAsciiIdentifierStart.test(String.fromCharCode(t))}function s(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||t>=128&&Et.NonAsciiIdentifierPart.test(String.fromCharCode(t))}function u(t){switch(t){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function l(t){switch(t){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function c(t){if(Ct&&l(t))return!0;switch(t.length){case 2:return"if"===t||"in"===t||"do"===t;case 3:return"var"===t||"for"===t||"new"===t||"try"===t||"let"===t;case 4:return"this"===t||"else"===t||"case"===t||"void"===t||"with"===t||"enum"===t;case 5:return"while"===t||"break"===t||"catch"===t||"throw"===t||"const"===t||"yield"===t||"class"===t||"super"===t;case 6:return"return"===t||"typeof"===t||"delete"===t||"switch"===t||"export"===t||"import"===t;case 7:return"default"===t||"finally"===t||"extends"===t;case 8:return"function"===t||"continue"===t||"debugger"===t;case 10:return"instanceof"===t;default:return!1}}function f(){var t,e;for(e=0===Tt;Tt<$t;)if(t=St.charCodeAt(Tt),r(t))++Tt;else{if(!o(t))break;++Tt,13===t&&10===St.charCodeAt(Tt)&&++Tt,++Mt,At=Tt,e=!0}}function h(t){var e,i,r,o=0;for(i="u"===t?4:2,e=0;e<i;++e){if(!(Tt<$t&&n(St[Tt])))return"";r=St[Tt++],o=16*o+"0123456789abcdef".indexOf(r.toLowerCase())}return String.fromCharCode(o)}function d(){var t,e,i,r;for(t=St[Tt],e=0,"}"===t&&j({},kt.UnexpectedToken,"ILLEGAL");Tt<$t&&(t=St[Tt++],n(t));)e=16*e+"0123456789abcdef".indexOf(t.toLowerCase());return(e>1114111||"}"!==t)&&j({},kt.UnexpectedToken,"ILLEGAL"),e<=65535?String.fromCharCode(e):(i=(e-65536>>10)+55296,r=(e-65536&1023)+56320,String.fromCharCode(i,r))}function p(){var t,e;for(t=St.charCodeAt(Tt++),e=String.fromCharCode(t),92===t&&(117!==St.charCodeAt(Tt)&&j({},kt.UnexpectedToken,"ILLEGAL"),++Tt,t=h("u"),t&&"\\"!==t&&a(t.charCodeAt(0))||j({},kt.UnexpectedToken,"ILLEGAL"),e=t);Tt<$t&&(t=St.charCodeAt(Tt),s(t));)++Tt,e+=String.fromCharCode(t),92===t&&(e=e.substr(0,e.length-1),117!==St.charCodeAt(Tt)&&j({},kt.UnexpectedToken,"ILLEGAL"),++Tt,t=h("u"),t&&"\\"!==t&&s(t.charCodeAt(0))||j({},kt.UnexpectedToken,"ILLEGAL"),e+=t);return e}function g(){var t,e;for(t=Tt++;Tt<$t;){if(e=St.charCodeAt(Tt),92===e)return Tt=t,p();if(!s(e))break;++Tt}return St.slice(t,Tt)}function m(){var t,e,n;return t=Tt,e=92===St.charCodeAt(Tt)?p():g(),n=1===e.length?bt.Identifier:c(e)?bt.Keyword:"null"===e?bt.NullLiteral:"true"===e||"false"===e?bt.BooleanLiteral:bt.Identifier,{type:n,value:e,lineNumber:Mt,lineStart:At,start:t,end:Tt}}function v(){var t,e,n,i,r=Tt,o=St.charCodeAt(Tt),a=St[Tt];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Tt,Nt.tokenize&&(40===o?Nt.openParenToken=Nt.tokens.length:123===o&&(Nt.openCurlyToken=Nt.tokens.length)),{type:bt.Punctuator,value:String.fromCharCode(o),lineNumber:Mt,lineStart:At,start:r,end:Tt};default:if(t=St.charCodeAt(Tt+1),61===t)switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Tt+=2,{type:bt.Punctuator,value:String.fromCharCode(o)+String.fromCharCode(t),lineNumber:Mt,lineStart:At,start:r,end:Tt};case 33:case 61:return Tt+=2,61===St.charCodeAt(Tt)&&++Tt,{type:bt.Punctuator,value:St.slice(r,Tt),lineNumber:Mt,lineStart:At,start:r,end:Tt}}}return i=St.substr(Tt,4),">>>="===i?(Tt+=4,{type:bt.Punctuator,value:i,lineNumber:Mt,lineStart:At,start:r,end:Tt}):(n=i.substr(0,3),">>>"===n||"<<="===n||">>="===n?(Tt+=3,{type:bt.Punctuator,value:n,lineNumber:Mt,lineStart:At,start:r,end:Tt}):(e=n.substr(0,2),a===e[1]&&"+-<>&|".indexOf(a)>=0||"=>"===e?(Tt+=2,{type:bt.Punctuator,value:e,lineNumber:Mt,lineStart:At,start:r,end:Tt}):"<>=!+-*%&|^/".indexOf(a)>=0?(++Tt,{type:bt.Punctuator,value:a,lineNumber:Mt,lineStart:At,start:r,end:Tt}):void j({},kt.UnexpectedToken,"ILLEGAL")))}function y(t){for(var e="";Tt<$t&&n(St[Tt]);)e+=St[Tt++];return 0===e.length&&j({},kt.UnexpectedToken,"ILLEGAL"),a(St.charCodeAt(Tt))&&j({},kt.UnexpectedToken,"ILLEGAL"),{type:bt.NumericLiteral,value:parseInt("0x"+e,16),lineNumber:Mt,lineStart:At,start:t,end:Tt}}function b(t){for(var n="0"+St[Tt++];Tt<$t&&i(St[Tt]);)n+=St[Tt++];return(a(St.charCodeAt(Tt))||e(St.charCodeAt(Tt)))&&j({},kt.UnexpectedToken,"ILLEGAL"),{type:bt.NumericLiteral,value:parseInt(n,8),octal:!0,lineNumber:Mt,lineStart:At,start:t,end:Tt}}function _(){var n,r,o;if(o=St[Tt],t(e(o.charCodeAt(0))||"."===o,"Numeric literal must start with a decimal digit or a decimal point"),r=Tt,n="","."!==o){if(n=St[Tt++],o=St[Tt],"0"===n){if("x"===o||"X"===o)return++Tt,y(r);if(i(o))return b(r);o&&e(o.charCodeAt(0))&&j({},kt.UnexpectedToken,"ILLEGAL")}for(;e(St.charCodeAt(Tt));)n+=St[Tt++];o=St[Tt]}if("."===o){for(n+=St[Tt++];e(St.charCodeAt(Tt));)n+=St[Tt++];o=St[Tt]}if("e"===o||"E"===o)if(n+=St[Tt++],o=St[Tt],"+"!==o&&"-"!==o||(n+=St[Tt++]),e(St.charCodeAt(Tt)))for(;e(St.charCodeAt(Tt));)n+=St[Tt++];else j({},kt.UnexpectedToken,"ILLEGAL");return a(St.charCodeAt(Tt))&&j({},kt.UnexpectedToken,"ILLEGAL"),{type:bt.NumericLiteral,value:parseFloat(n),lineNumber:Mt,lineStart:At,start:r,end:Tt}}function x(){var e,n,r,a,s,u,l,c,f="",p=!1;for(l=Mt,c=At,e=St[Tt],t("'"===e||'"'===e,"String literal must starts with a quote"),n=Tt,++Tt;Tt<$t;){if(r=St[Tt++],r===e){e="";break}if("\\"===r)if(r=St[Tt++],r&&o(r.charCodeAt(0)))++Mt,"\r"===r&&"\n"===St[Tt]&&++Tt,At=Tt;else switch(r){case"u":case"x":"{"===St[Tt]?(++Tt,f+=d()):(u=Tt,s=h(r),s?f+=s:(Tt=u,f+=r));break;case"n":f+="\n";break;case"r":f+="\r";break;case"t":f+="\t";break;case"b":f+="\b";break;case"f":f+="\f";break;case"v":f+="\x0B";break;default:i(r)?(a="01234567".indexOf(r),0!==a&&(p=!0),Tt<$t&&i(St[Tt])&&(p=!0,a=8*a+"01234567".indexOf(St[Tt++]),"0123".indexOf(r)>=0&&Tt<$t&&i(St[Tt])&&(a=8*a+"01234567".indexOf(St[Tt++]))),f+=String.fromCharCode(a)):f+=r}else{if(o(r.charCodeAt(0)))break;f+=r}}return""!==e&&j({},kt.UnexpectedToken,"ILLEGAL"),{type:bt.StringLiteral,value:f,octal:p,startLineNumber:l,startLineStart:c,lineNumber:Mt,lineStart:At,start:n,end:Tt}}function w(t,e){var n,i=t;e.indexOf("u")>=0&&(i=i.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(t,e){return parseInt(e,16)<=1114111?"x":void j({},kt.InvalidRegExp)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{n=new RegExp(i)}catch(r){j({},kt.InvalidRegExp)}try{return new RegExp(t,e)}catch(o){return null}}function k(){var e,n,i,r,a;for(e=St[Tt],t("/"===e,"Regular expression literal must start with a slash"),n=St[Tt++],i=!1,r=!1;Tt<$t;)if(e=St[Tt++],n+=e,"\\"===e)e=St[Tt++],o(e.charCodeAt(0))&&j({},kt.UnterminatedRegExp),n+=e;else if(o(e.charCodeAt(0)))j({},kt.UnterminatedRegExp);else if(i)"]"===e&&(i=!1);else{if("/"===e){r=!0;break}"["===e&&(i=!0)}return r||j({},kt.UnterminatedRegExp),a=n.substr(1,n.length-2),{value:a,literal:n}}function E(){var t,e,n,i;for(e="",n="";Tt<$t&&(t=St[Tt],s(t.charCodeAt(0)));)if(++Tt,"\\"===t&&Tt<$t)if(t=St[Tt],"u"===t){if(++Tt,i=Tt,t=h("u"))for(n+=t,e+="\\u";i<Tt;++i)e+=St[i];else Tt=i,n+="u",e+="\\u";U({},kt.UnexpectedToken,"ILLEGAL")}else e+="\\",U({},kt.UnexpectedToken,"ILLEGAL");else n+=t,e+=t;return{value:n,literal:e}}function S(){var t,e,n,i;return Ot=null,f(),t=Tt,e=k(),n=E(),i=w(e.value,n.value),Nt.tokenize?{type:bt.RegularExpression,value:i,regex:{pattern:e.value,flags:n.value},lineNumber:Mt,lineStart:At,start:t,end:Tt}:{literal:e.literal+n.literal,value:i,regex:{pattern:e.value,flags:n.value},start:t,end:Tt}}function C(){var t,e,n,i;return f(),t=Tt,e={start:{line:Mt,column:Tt-At}},n=S(),e.end={line:Mt,column:Tt-At},Nt.tokenize||(Nt.tokens.length>0&&(i=Nt.tokens[Nt.tokens.length-1],i.range[0]===t&&"Punctuator"===i.type&&("/"!==i.value&&"/="!==i.value||Nt.tokens.pop())),Nt.tokens.push({type:"RegularExpression",value:n.literal,regex:n.regex,range:[t,Tt],loc:e})),n}function T(t){return t.type===bt.Identifier||t.type===bt.Keyword||t.type===bt.BooleanLiteral||t.type===bt.NullLiteral}function M(){var t,e;if(t=Nt.tokens[Nt.tokens.length-1],!t)return C();if("Punctuator"===t.type){if("]"===t.value)return v();if(")"===t.value)return e=Nt.tokens[Nt.openParenToken-1],!e||"Keyword"!==e.type||"if"!==e.value&&"while"!==e.value&&"for"!==e.value&&"with"!==e.value?v():C();if("}"===t.value){if(Nt.tokens[Nt.openCurlyToken-3]&&"Keyword"===Nt.tokens[Nt.openCurlyToken-3].type){if(e=Nt.tokens[Nt.openCurlyToken-4],!e)return v()}else{if(!Nt.tokens[Nt.openCurlyToken-4]||"Keyword"!==Nt.tokens[Nt.openCurlyToken-4].type)return v();if(e=Nt.tokens[Nt.openCurlyToken-5],!e)return C()}return v()}return C()}return"Keyword"===t.type&&"this"!==t.value?C():v()}function A(){var t;return f(),Tt>=$t?{type:bt.EOF,lineNumber:Mt,lineStart:At,start:Tt,end:Tt}:(t=St.charCodeAt(Tt),a(t)?m():40===t||41===t||59===t?v():39===t||34===t?x():46===t?e(St.charCodeAt(Tt+1))?_():v():e(t)?_():Nt.tokenize&&47===t?M():v())}function $(){var t,e,n,i;return f(),t={start:{line:Mt,column:Tt-At}},e=A(),t.end={line:Mt,column:Tt-At},e.type!==bt.EOF&&(n=St.slice(e.start,e.end),i={type:_t[e.type],value:n,range:[e.start,e.end],loc:t},e.regex&&(i.regex={pattern:e.regex.pattern,flags:e.regex.flags}),Nt.tokens.push(i)),e}function O(){var t;return t=Ot,Tt=t.end,Mt=t.lineNumber,At=t.lineStart,Ot="undefined"!=typeof Nt.tokens?$():A(),Tt=t.end,Mt=t.lineNumber,At=t.lineStart,t}function D(){var t,e,n;t=Tt,e=Mt,n=At,Ot="undefined"!=typeof Nt.tokens?$():A(),Tt=t,Mt=e,At=n}function N(){this.line=Mt,this.column=Tt-At}function I(){this.start=new N,this.end=null}function L(t){t.type===bt.StringLiteral?this.start={line:t.startLineNumber,column:t.start-t.startLineStart}:this.start={line:t.lineNumber,column:t.start-t.lineStart},this.end=null}function P(){Tt=Ot.start,Ot.type===bt.StringLiteral?(Mt=Ot.startLineNumber,At=Ot.startLineStart):(Mt=Ot.lineNumber,At=Ot.lineStart),Nt.range&&(this.range=[Tt,0]),Nt.loc&&(this.loc=new I)}function R(t){Nt.range&&(this.range=[t.start,0]),Nt.loc&&(this.loc=new L(t))}function F(){var t,e,n,i;return t=Tt,e=Mt,n=At,f(),i=Mt!==e,Tt=t,Mt=e,At=n,i}function j(e,n){var i,r=Array.prototype.slice.call(arguments,2),o=n.replace(/%(\d)/g,function(e,n){return t(n<r.length,"Message reference must be in range"),r[n]});throw"number"==typeof e.lineNumber?(i=new Error("Line "+e.lineNumber+": "+o),i.index=e.start,i.lineNumber=e.lineNumber,i.column=e.start-At+1):(i=new Error("Line "+Mt+": "+o),i.index=Tt,i.lineNumber=Mt,i.column=Tt-At+1),i.description=o,i}function U(){try{j.apply(null,arguments)}catch(t){if(!Nt.errors)throw t;Nt.errors.push(t)}}function z(t){if(t.type===bt.EOF&&j(t,kt.UnexpectedEOS),t.type===bt.NumericLiteral&&j(t,kt.UnexpectedNumber),t.type===bt.StringLiteral&&j(t,kt.UnexpectedString),t.type===bt.Identifier&&j(t,kt.UnexpectedIdentifier),t.type===bt.Keyword){if(u(t.value))j(t,kt.UnexpectedReserved);else if(Ct&&l(t.value))return void U(t,kt.StrictReservedWord);j(t,kt.UnexpectedToken,t.value)}j(t,kt.UnexpectedToken,t.value)}function H(t){var e=O();e.type===bt.Punctuator&&e.value===t||z(e)}function q(t){if(Nt.errors){var e=Ot;e.type!==bt.Punctuator&&e.value!==t?U(e,kt.UnexpectedToken,e.value):O()}else H(t)}function W(t){return Ot.type===bt.Punctuator&&Ot.value===t}function Y(t){return Ot.type===bt.Keyword&&Ot.value===t}function B(){var t;return 59===St.charCodeAt(Tt)||W(";")?void O():(t=Mt,f(),void(Mt===t&&(Ot.type===bt.EOF||W("}")||z(Ot))))}function V(){var t=[],e=new P;for(H("[");!W("]");)W(",")?(O(),t.push(null)):(t.push(lt()),W("]")||H(","));return O(),e.finishArrayExpression(t)}function X(){var t,e=new P;return t=O(),t.type===bt.StringLiteral||t.type===bt.NumericLiteral?(Ct&&t.octal&&U(t,kt.StrictOctalLiteral),e.finishLiteral(t)):e.finishIdentifier(t.value)}function G(){var t,e,n,i,r=new P;return t=Ot,t.type===bt.Identifier?(n=X(),H(":"),i=lt(),r.finishProperty("init",n,i)):t.type!==bt.EOF&&t.type!==bt.Punctuator?(e=X(),H(":"),i=lt(),r.finishProperty("init",e,i)):void z(t)}function K(){var t,e,n,i,r=[],o={},a=String,s=new P;for(H("{");!W("}");)t=G(),e=t.key.type===xt.Identifier?t.key.name:a(t.key.value),i="init"===t.kind?wt.Data:"get"===t.kind?wt.Get:wt.Set,n="$"+e,Object.prototype.hasOwnProperty.call(o,n)?(o[n]===wt.Data?Ct&&i===wt.Data?U({},kt.StrictDuplicateProperty):i!==wt.Data&&U({},kt.AccessorDataProperty):i===wt.Data?U({},kt.AccessorDataProperty):o[n]&i&&U({},kt.AccessorGetSet),o[n]|=i):o[n]=i,r.push(t),W("}")||q(",");return H("}"),s.finishObjectExpression(r)}function J(){var t;return H("("),++Dt.parenthesisCount,t=ct(),H(")"),t}function Z(){var t,e,n,i;if(W("("))return J();if(W("["))return V();if(W("{"))return K();if(t=Ot.type,i=new P,t===bt.Identifier||It[Ot.value])n=i.finishIdentifier(O().value);else if(t===bt.StringLiteral||t===bt.NumericLiteral)Ct&&Ot.octal&&U(Ot,kt.StrictOctalLiteral),n=i.finishLiteral(O());else{if(t===bt.Keyword)throw new Error("Disabled.");t===bt.BooleanLiteral?(e=O(),e.value="true"===e.value,n=i.finishLiteral(e)):t===bt.NullLiteral?(e=O(),e.value=null,n=i.finishLiteral(e)):W("/")||W("/=")?(n="undefined"!=typeof Nt.tokens?i.finishLiteral(C()):i.finishLiteral(S()),D()):z(O())}return n}function Q(){var t=[];if(H("("),!W(")"))for(;Tt<$t&&(t.push(lt()),!W(")"));)q(",");return H(")"),t}function tt(){var t,e=new P;return t=O(),T(t)||z(t),e.finishIdentifier(t.value)}function et(){return H("."),tt()}function nt(){var t;return H("["),t=ct(),H("]"),t}function it(){var t,e,n,i,r=Dt.allowIn;for(i=Ot,Dt.allowIn=!0,t=Z();;)if(W("."))n=et(),t=new R(i).finishMemberExpression(".",t,n);else if(W("("))e=Q(),t=new R(i).finishCallExpression(t,e);else{if(!W("["))break;n=nt(),t=new R(i).finishMemberExpression("[",t,n)}return Dt.allowIn=r,t}function rt(){var t=it();if(Ot.type===bt.Punctuator&&(W("++")||W("--"))&&!F())throw new Error("Disabled.");return t}function ot(){var t,e,n;if(Ot.type!==bt.Punctuator&&Ot.type!==bt.Keyword)e=rt();else{if(W("++")||W("--"))throw new Error("Disabled.");if(W("+")||W("-")||W("~")||W("!"))n=Ot,t=O(),e=ot(),e=new R(n).finishUnaryExpression(t.value,e);else{if(Y("delete")||Y("void")||Y("typeof"))throw new Error("Disabled.");e=rt()}}return e}function at(t,e){var n=0;if(t.type!==bt.Punctuator&&t.type!==bt.Keyword)return 0;switch(t.value){case"||":n=1;break;case"&&":n=2;break;case"|":n=3;break;case"^":n=4;break;case"&":n=5;break;case"==":case"!=":case"===":case"!==":n=6;break;case"<":case">":case"<=":case">=":case"instanceof":n=7;break;case"in":n=e?7:0;break;case"<<":case">>":case">>>":n=8;break;case"+":case"-":n=9;break;case"*":case"/":case"%":n=11}return n}function st(){var t,e,n,i,r,o,a,s,u,l;if(t=Ot,u=ot(),i=Ot,r=at(i,Dt.allowIn),0===r)return u;for(i.prec=r,O(),e=[t,Ot],a=ot(),o=[u,i,a];(r=at(Ot,Dt.allowIn))>0;){for(;o.length>2&&r<=o[o.length-2].prec;)a=o.pop(),s=o.pop().value,u=o.pop(),e.pop(),n=new R(e[e.length-1]).finishBinaryExpression(s,u,a),o.push(n);i=O(),i.prec=r,o.push(i),e.push(Ot),n=ot(),o.push(n)}for(l=o.length-1,n=o[l],e.pop();l>1;)n=new R(e.pop()).finishBinaryExpression(o[l-1].value,o[l-2],n),l-=2;return n}function ut(){var t,e,n,i,r;return r=Ot,t=st(),W("?")&&(O(),e=Dt.allowIn,Dt.allowIn=!0,n=lt(),Dt.allowIn=e,H(":"),i=lt(),t=new R(r).finishConditionalExpression(t,n,i)),t}function lt(){var t,e,n,i;return t=Dt.parenthesisCount,i=Ot,e=Ot,n=ut()}function ct(){var t=lt();if(W(","))throw new Error("Disabled.");return t}function ft(t){var e=ct();return B(),t.finishExpressionStatement(e)}function ht(){var t,e,n=Ot.type;if(n===bt.EOF&&z(Ot),n===bt.Punctuator&&"{"===Ot.value)throw new Error("Disabled.");if(e=new P,n===bt.Punctuator)switch(Ot.value){case";":throw new Error("Disabled.");case"(":return ft(e)}else if(n===bt.Keyword)throw new Error("Disabled.");return t=ct(),B(),e.finishExpressionStatement(t)}function dt(){if(Ot.type===bt.Keyword)switch(Ot.value){case"const":case"let":throw new Error("Disabled.");case"function":throw new Error("Disabled.");default:return ht()}if(Ot.type!==bt.EOF)return ht()}function pt(){for(var t,e,n,i,r=[];Tt<$t&&(e=Ot,e.type===bt.StringLiteral)&&(t=dt(),r.push(t),t.expression.type===xt.Literal);)n=St.slice(e.start+1,e.end-1),"use strict"===n?(Ct=!0,i&&U(i,kt.StrictOctalLiteral)):!i&&e.octal&&(i=e);for(;Tt<$t&&(t=dt(),"undefined"!=typeof t);)r.push(t);return r}function gt(){var t,e;return f(),D(),e=new P,Ct=!0,t=pt(),e.finishProgram(t)}function mt(){var t,e,n,i=[];for(t=0;t<Nt.tokens.length;++t)e=Nt.tokens[t],n={type:e.type,value:e.value},e.regex&&(n.regex={pattern:e.regex.pattern,flags:e.regex.flags}),Nt.range&&(n.range=e.range),Nt.loc&&(n.loc=e.loc),i.push(n);Nt.tokens=i}function vt(t,e){var n,i;n=String,"string"==typeof t||t instanceof String||(t=n(t)),St=t,Tt=0,Mt=St.length>0?1:0,At=0,$t=St.length,Ot=null,Dt={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},Nt={},e=e||{},e.tokens=!0,Nt.tokens=[],Nt.tokenize=!0,Nt.openParenToken=-1,Nt.openCurlyToken=-1,Nt.range="boolean"==typeof e.range&&e.range,Nt.loc="boolean"==typeof e.loc&&e.loc,"boolean"==typeof e.tolerant&&e.tolerant&&(Nt.errors=[]);try{if(D(),Ot.type===bt.EOF)return Nt.tokens;for(O();Ot.type!==bt.EOF;)try{O()}catch(r){if(Nt.errors){Nt.errors.push(r);break}throw r}mt(),i=Nt.tokens,"undefined"!=typeof Nt.errors&&(i.errors=Nt.errors)}catch(o){throw o}finally{Nt={}}return i}function yt(t,e){var n,i;i=String,"string"==typeof t||t instanceof String||(t=i(t)),St=t,Tt=0,Mt=St.length>0?1:0,At=0,$t=St.length,Ot=null,Dt={allowIn:!0,labelSet:{},parenthesisCount:0,inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},Nt={},"undefined"!=typeof e&&(Nt.range="boolean"==typeof e.range&&e.range,Nt.loc="boolean"==typeof e.loc&&e.loc,Nt.loc&&null!==e.source&&void 0!==e.source&&(Nt.source=i(e.source)),"boolean"==typeof e.tokens&&e.tokens&&(Nt.tokens=[]),"boolean"==typeof e.tolerant&&e.tolerant&&(Nt.errors=[]));try{n=gt(),"undefined"!=typeof Nt.tokens&&(mt(),n.tokens=Nt.tokens),"undefined"!=typeof Nt.errors&&(n.errors=Nt.errors)}catch(r){throw r}finally{Nt={}}return n}var bt,_t,xt,wt,kt,Et,St,Ct,Tt,Mt,At,$t,Ot,Dt,Nt;bt={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},_t={},_t[bt.BooleanLiteral]="Boolean",_t[bt.EOF]="<end>",_t[bt.Identifier]="Identifier",_t[bt.Keyword]="Keyword",_t[bt.NullLiteral]="Null",_t[bt.NumericLiteral]="Numeric",_t[bt.Punctuator]="Punctuator",_t[bt.StringLiteral]="String",_t[bt.RegularExpression]="RegularExpression",xt={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BinaryExpression:"BinaryExpression",CallExpression:"CallExpression",ConditionalExpression:"ConditionalExpression",ExpressionStatement:"ExpressionStatement",Identifier:"Identifier",Literal:"Literal",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",UnaryExpression:"UnaryExpression"},wt={Data:1,Get:2,Set:4},kt={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},Et={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢲऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԯԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠ-ࢲࣤ-ॣ०-९ॱ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಁ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲഁ-ഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧ᪰-᪽ᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶ᳸᳹ᴀ-᷵᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚝꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꧠ-ꧾꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︭︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")},R.prototype=P.prototype={finish:function(){Nt.range&&(this.range[1]=Tt),Nt.loc&&(this.loc.end=new N,Nt.source&&(this.loc.source=Nt.source))},finishArrayExpression:function(t){return this.type=xt.ArrayExpression,this.elements=t,this.finish(),this},finishAssignmentExpression:function(t,e,n){return this.type=xt.AssignmentExpression,this.operator=t,this.left=e,this.right=n,this.finish(),this},finishBinaryExpression:function(t,e,n){return this.type="||"===t||"&&"===t?xt.LogicalExpression:xt.BinaryExpression,this.operator=t,this.left=e,this.right=n,this.finish(),this},finishCallExpression:function(t,e){return this.type=xt.CallExpression,this.callee=t,this.arguments=e,this.finish(),this},finishConditionalExpression:function(t,e,n){return this.type=xt.ConditionalExpression,this.test=t,this.consequent=e,this.alternate=n,this.finish(),this},finishExpressionStatement:function(t){return this.type=xt.ExpressionStatement,this.expression=t,this.finish(),this},finishIdentifier:function(t){return this.type=xt.Identifier,this.name=t,this.finish(),this},finishLiteral:function(t){return this.type=xt.Literal,this.value=t.value,this.raw=St.slice(t.start,t.end),t.regex&&("//"==this.raw&&(this.raw="/(?:)/"),this.regex=t.regex),this.finish(),this},finishMemberExpression:function(t,e,n){return this.type=xt.MemberExpression,this.computed="["===t,this.object=e,this.property=n,this.finish(),this},finishObjectExpression:function(t){return this.type=xt.ObjectExpression,this.properties=t,this.finish(),this},finishProgram:function(t){return this.type=xt.Program,this.body=t,this.finish(),this},finishProperty:function(t,e,n){return this.type=xt.Property,this.key=e,this.value=n,this.kind=t,this.finish(),this},finishUnaryExpression:function(t,e){return this.type=xt.UnaryExpression,this.operator=t,this.argument=e,this.prefix=!0,this.finish(),this}};var It={"if":1,"this":1};return{tokenize:vt,parse:yt}}()},{}],48:[function(t,e,n){function i(t){console.log("[Vega Log]",t)}function r(t){console.error("[Vega Err]",t)}function o(t,e){if(o.enable){var n=Function.prototype.bind.call(console.log,console),i={prevTime:Date.now()-a,stamp:t.stamp};t.add&&(i.add=t.add.length,i.mod=t.mod.length,i.rem=t.rem.length,i.reflow=!!t.reflow),n.apply(console,(e.push(JSON.stringify(i)),e)),a=Date.now()}}var a=Date.now();e.exports={log:i,error:r,debug:(o.enable=!1,o)}},{}],49:[function(t,e,n){e.exports={path:t("./path"),render:t("./render"),Item:t("./util/Item"),bound:t("./util/bound"),Bounds:t("./util/Bounds"),canvas:t("./util/canvas"),Gradient:t("./util/Gradient"),toJSON:t("./util/scene").toJSON,fromJSON:t("./util/scene").fromJSON}},{"./path":51,"./render":71,"./util/Bounds":77,"./util/Gradient":79,"./util/Item":81,"./util/bound":82,"./util/canvas":83,"./util/scene":85}],50:[function(t,e,n){function i(t,e,n,i,r,a,u,l,c){var f=s.call(arguments);if(o[f])return o[f];var h=u*(Math.PI/180),d=Math.sin(h),p=Math.cos(h);n=Math.abs(n),i=Math.abs(i);var g=p*(l-t)*.5+d*(c-e)*.5,m=p*(c-e)*.5-d*(l-t)*.5,v=g*g/(n*n)+m*m/(i*i);v>1&&(v=Math.sqrt(v),n*=v,i*=v);var y=p/n,b=d/n,_=-d/i,x=p/i,w=y*l+b*c,k=_*l+x*c,E=y*t+b*e,S=_*t+x*e,C=(E-w)*(E-w)+(S-k)*(S-k),T=1/C-.25;T<0&&(T=0);var M=Math.sqrt(T);a==r&&(M=-M);var A=.5*(w+E)-M*(S-k),$=.5*(k+S)+M*(E-w),O=Math.atan2(k-$,w-A),D=Math.atan2(S-$,E-A),N=D-O;N<0&&1===a?N+=2*Math.PI:N>0&&0===a&&(N-=2*Math.PI);for(var I=Math.ceil(Math.abs(N/(.5*Math.PI+.001))),L=[],P=0;P<I;++P){var R=O+P*N/I,F=O+(P+1)*N/I;L[P]=[A,$,R,F,n,i,d,p]}return o[f]=L}function r(t){var e=s.call(t);if(a[e])return a[e];var n=t[0],i=t[1],r=t[2],o=t[3],u=t[4],l=t[5],c=t[6],f=t[7],h=f*u,d=-c*l,p=c*u,g=f*l,m=Math.cos(r),v=Math.sin(r),y=Math.cos(o),b=Math.sin(o),_=.5*(o-r),x=Math.sin(.5*_),w=8/3*x*x/Math.sin(_),k=n+m-w*v,E=i+v+w*m,S=n+y,C=i+b,T=S+w*b,M=C-w*y;return a[e]=[h*k+d*E,p*k+g*E,h*T+d*M,p*T+g*M,h*S+d*C,p*S+g*C]}var o={},a={},s=[].join;e.exports={segments:i,bezier:r,cache:{segments:o,bezier:a}}},{}],51:[function(t,e,n){e.exports={parse:t("./parse"),render:t("./render")}},{"./parse":52,"./render":53}],52:[function(t,e,n){var i={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},r=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/];e.exports=function(t){var e,n,o,a,s,u,l,c,f,h,d,p=[];for(e=t.slice().replace(r[0],"###$1").split(r[1]).slice(1),c=0,h=e.length;c<h;++c){for(n=e[c],o=n.slice(1).trim().replace(r[2],"$1###$2").split(r[3]),u=n.charAt(0),a=[u],f=0,d=o.length;f<d;++f)(s=+o[f])===s&&a.push(s);if(l=i[u.toLowerCase()],a.length-1>l)for(f=1,d=a.length;f<d;f+=l)p.push([u].concat(a.slice(f,f+l)));else p.push(a)}return p}},{}],53:[function(t,e,n){function i(t,e,n,i){for(var o=r.segments(i[5],i[6],i[0],i[1],i[3],i[4],i[2],e,n),a=0;a<o.length;++a){var s=r.bezier(o[a]);t.bezierCurveTo.apply(t,s)}}var r=t("./arc");e.exports=function(t,e,n,r){var o,a,s,u,l,c=null,f=0,h=0,d=0,p=0;null==n&&(n=0),null==r&&(r=0),t.beginPath();for(var g=0,m=e.length;g<m;++g){switch(o=e[g],o[0]){case"l":f+=o[1],h+=o[2],t.lineTo(f+n,h+r);break;case"L":f=o[1],h=o[2],t.lineTo(f+n,h+r);break;case"h":f+=o[1],t.lineTo(f+n,h+r);break;case"H":f=o[1],t.lineTo(f+n,h+r);break;case"v":h+=o[1],t.lineTo(f+n,h+r);break;case"V":h=o[1],t.lineTo(f+n,h+r);break;case"m":f+=o[1],h+=o[2],t.moveTo(f+n,h+r);break;case"M":f=o[1],h=o[2],t.moveTo(f+n,h+r);break;case"c":a=f+o[5],s=h+o[6],d=f+o[3],p=h+o[4],t.bezierCurveTo(f+o[1]+n,h+o[2]+r,d+n,p+r,a+n,s+r),f=a,h=s;break;case"C":f=o[5],h=o[6],d=o[3],p=o[4],t.bezierCurveTo(o[1]+n,o[2]+r,d+n,p+r,f+n,h+r);break;case"s":a=f+o[3],s=h+o[4],d=2*f-d,p=2*h-p,t.bezierCurveTo(d+n,p+r,f+o[1]+n,h+o[2]+r,a+n,s+r),d=f+o[1],p=h+o[2],f=a,h=s;break;case"S":a=o[3],s=o[4],d=2*f-d,p=2*h-p,t.bezierCurveTo(d+n,p+r,o[1]+n,o[2]+r,a+n,s+r),f=a,h=s,d=o[1],p=o[2];break;case"q":a=f+o[3],s=h+o[4],d=f+o[1],p=h+o[2],t.quadraticCurveTo(d+n,p+r,a+n,s+r),f=a,h=s;break;case"Q":a=o[3],s=o[4],t.quadraticCurveTo(o[1]+n,o[2]+r,a+n,s+r),f=a,h=s,d=o[1],p=o[2];break;case"t":a=f+o[1],s=h+o[2],null===c[0].match(/[QqTt]/)?(d=f,p=h):"t"===c[0]?(d=2*f-u,p=2*h-l):"q"===c[0]&&(d=2*f-d,p=2*h-p),u=d,l=p,t.quadraticCurveTo(d+n,p+r,a+n,s+r),f=a,h=s,d=f+o[1],p=h+o[2];break;case"T":a=o[1],s=o[2],d=2*f-d,p=2*h-p,t.quadraticCurveTo(d+n,p+r,a+n,s+r),f=a,h=s;break;case"a":i(t,f+n,h+r,[o[1],o[2],o[3],o[4],o[5],o[6]+f+n,o[7]+h+r]),f+=o[6],h+=o[7];break;case"A":i(t,f+n,h+r,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+r]),f=o[6],h=o[7];break;case"z":case"Z":t.closePath()}c=o}}},{"./arc":50}],54:[function(t,e,n){function i(){this._active=null,this._handlers={}}var r=i.prototype;r.initialize=function(t,e,n){return this._el=t,this._obj=n||null,this.padding(e)},r.element=function(){return this._el},r.padding=function(t){return this._padding=t||{top:0,left:0,bottom:0,right:0},this},r.scene=function(t){return arguments.length?(this._scene=t,this):this._scene},r.on=function(){},r.off=function(){},r.handlers=function(){var t,e=this._handlers,n=[];for(t in e)n.push.apply(n,e[t]);return n},r.eventName=function(t){var e=t.indexOf(".");return e<0?t:t.slice(0,e)},e.exports=i},{}],55:[function(t,e,n){function i(){this._el=null,this._bgcolor=null}var r=i.prototype;r.initialize=function(t,e,n,i){return this._el=t,this.resize(e,n,i)},r.element=function(){return this._el},r.scene=function(){return this._el&&this._el.firstChild},r.background=function(t){return 0===arguments.length?this._bgcolor:(this._bgcolor=t,this)},r.resize=function(t,e,n){return this._width=t,this._height=e,this._padding=n||{top:0,left:0,bottom:0,right:0},this},r.render=function(){return this},e.exports=i},{}],56:[function(t,e,n){function i(){s.call(this),this._down=null,this._touch=null,this._first=!0}function r(t,e,n){return function(i){var r=this._active,o=this.pickEvent(i);o===r?this.fire(t,i):(this.fire(n,i),this._active=o,this.fire(e,i),this.fire(t,i))}}function o(t){return function(e){this.fire(t,e),this._active=null}}var a=t("../../util/dom"),s=t("../Handler"),u=t("./marks"),l=s.prototype,c=i.prototype=Object.create(l);c.constructor=i,c.initialize=function(t,e,n){var i=this._canvas=a.find(t,"canvas");if(i){var r=this;this.events.forEach(function(t){i.addEventListener(t,function(e){c[t]?c[t].call(r,e):r.fire(t,e)})})}return l.initialize.call(this,t,e,n)},c.canvas=function(){return this._canvas},c.context=function(){return this._canvas.getContext("2d")},c.events=["keydown","keypress","keyup","dragenter","dragleave","dragover","mousedown","mouseup","mousemove","mouseout","mouseover","click","dblclick","wheel","mousewheel","touchstart","touchmove","touchend"],c.DOMMouseScroll=function(t){
this.fire("mousewheel",t)},c.mousemove=r("mousemove","mouseover","mouseout"),c.dragover=r("dragover","dragenter","dragleave"),c.mouseout=o("mouseout"),c.dragleave=o("dragleave"),c.mousedown=function(t){this._down=this._active,this.fire("mousedown",t)},c.click=function(t){this._down===this._active&&(this.fire("click",t),this._down=null)},c.touchstart=function(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire("touchstart",t,!0)},c.touchmove=function(t){this.fire("touchmove",t,!0)},c.touchend=function(t){this.fire("touchend",t,!0),this._touch=null},c.fire=function(t,e,n){var i,r,o=n?this._touch:this._active,a=this._handlers[t];if(a)for(e.vegaType=t,i=0,r=a.length;i<r;++i)a[i].handler.call(this._obj,e,o)},c.on=function(t,e){var n=this.eventName(t),i=this._handlers;return(i[n]||(i[n]=[])).push({type:t,handler:e}),this},c.off=function(t,e){var n,i=this.eventName(t),r=this._handlers[i];if(r){for(n=r.length;--n>=0;)r[n].type===t&&(e&&r[n].handler!==e||r.splice(n,1));return this}},c.pickEvent=function(t){var e,n,i=this._canvas.getBoundingClientRect(),r=this._padding;return this.pick(this._scene,e=t.clientX-i.left,n=t.clientY-i.top,e-r.left,n-r.top)},c.pick=function(t,e,n,i,r){var o=this.context(),a=u[t.marktype];return a.pick.call(this,o,t,e,n,i,r)},e.exports=i},{"../../util/dom":84,"../Handler":54,"./marks":63}],57:[function(t,e,n){function i(t){c.call(this),this._loader=new u(t)}function r(t,e){if(!e)return null;var n,i,r,a,u,l=new s;for(n=0,i=e.length;n<i;++n)r=e[n],a=r.mark,u=a.group,r=f[a.marktype].nested?a:r,l.union(o(r.bounds,u)),r["bounds:prev"]&&l.union(o(r["bounds:prev"],u));return l.round(),t.beginPath(),t.rect(l.x1,l.y1,l.width(),l.height()),t.clip(),l}function o(t,e){if(null==e)return t;for(var n=t.clone();null!=e;e=e.mark.group)n.translate(e.x||0,e.y||0);return n}var a=t("../../util/dom"),s=t("../../util/Bounds"),u=t("../../util/ImageLoader"),l=t("../../util/canvas"),c=t("../Renderer"),f=t("./marks");i.RETINA=!0;var h=c.prototype,d=i.prototype=Object.create(h);d.constructor=i,d.initialize=function(t,e,n,i){return this._canvas=l.instance(e,n),t&&(a.clear(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),h.initialize.call(this,t,e,n,i)},d.resize=function(t,e,n){return h.resize.call(this,t,e,n),l.resize(this._canvas,this._width,this._height,this._padding,i.RETINA),this},d.canvas=function(){return this._canvas},d.context=function(){return this._canvas?this._canvas.getContext("2d"):null},d.pendingImages=function(){return this._loader.pending()},d.render=function(t,e){var n,i=this.context(),o=this._padding,a=this._width+o.left+o.right,s=this._height+o.top+o.bottom;return this._scene=t,i.save(),n=r(i,e),this.clear(-o.left,-o.top,a,s),this.draw(i,t,n),i.restore(),this._scene=null,this},d.draw=function(t,e,n){var i=f[e.marktype];i.draw.call(this,t,e,n)},d.clear=function(t,e,n,i){var r=this.context();r.clearRect(t,e,n,i),null!=this._bgcolor&&(r.fillStyle=this._bgcolor,r.fillRect(t,e,n,i))},d.loadImage=function(t){var e=this,n=this._scene;return this._loader.loadImage(t,function(){e.renderAsync(n)})},d.renderAsync=function(t){var e=this;e._async_id&&clearTimeout(e._async_id),e._async_id=setTimeout(function(){e.render(t),delete e._async_id},10)},e.exports=i},{"../../util/Bounds":77,"../../util/ImageLoader":80,"../../util/canvas":83,"../../util/dom":84,"../Renderer":55,"./marks":63}],58:[function(t,e,n){e.exports={Handler:t("./CanvasHandler"),Renderer:t("./CanvasRenderer")}},{"./CanvasHandler":56,"./CanvasRenderer":57}],59:[function(t,e,n){function i(t,e){var n=e.x||0,i=e.y||0,r=e.innerRadius||0,a=e.outerRadius||0,s=(e.startAngle||0)-o,u=(e.endAngle||0)-o;t.beginPath(),0===r?t.moveTo(n,i):t.arc(n,i,r,s,u,0),t.arc(n,i,a,u,s,1),t.closePath()}var r=t("./util"),o=Math.PI/2;e.exports={draw:r.drawAll(i),pick:r.pickPath(i)}},{"./util":70}],60:[function(t,e,n){function i(t,e){var n=e[0],i=n.pathCache||(n.pathCache=a(u(e)));s(t,i)}function r(t,e,n,i,r,o){var a=e.items,s=e.bounds;return!a||!a.length||s&&!s.contains(r,o)?null:(null!=t.pixelratio&&1!==t.pixelratio&&(n*=t.pixelratio,i*=t.pixelratio),l(t,a,n,i)?a[0]:null)}var o=t("./util"),a=t("../../../path/parse"),s=t("../../../path/render"),u=t("../../../util/svg").path.area,l=o.testPath(i);e.exports={draw:o.drawOne(i),pick:r,nested:!0}},{"../../../path/parse":52,"../../../path/render":53,"../../../util/svg":86,"./util":70}],61:[function(t,e,n){function i(t,e,n){if(e.items&&e.items.length){var i,r,s,u,l,c,f,h,d,p,g,m,v,y=e.items,b=this;for(p=0,g=y.length;p<g;++p){for(i=y[p],s=i.axisItems||a,r=i.items||a,u=i.legendItems||a,l=i.x||0,c=i.y||0,f=i.width||0,h=i.height||0,(i.stroke||i.fill)&&(d=null==i.opacity?1:i.opacity,d>0&&(i.fill&&o.fill(t,i,d)&&t.fillRect(l,c,f,h),i.stroke&&o.stroke(t,i,d)&&t.strokeRect(l,c,f,h))),t.save(),t.translate(l,c),i.clip&&(t.beginPath(),t.rect(0,0,f,h),t.clip()),n&&n.translate(-l,-c),m=0,v=s.length;m<v;++m)"back"===s[m].layer&&b.draw(t,s[m],n);for(m=0,v=r.length;m<v;++m)b.draw(t,r[m],n);for(m=0,v=s.length;m<v;++m)"back"!==s[m].layer&&b.draw(t,s[m],n);for(m=0,v=u.length;m<v;++m)b.draw(t,u[m],n);n&&n.translate(l,c),t.restore()}}}function r(t,e,n,i,r,o){if(e.bounds&&!e.bounds.contains(r,o))return null;var s,u,l,c,f,h,d,p,g,m,v,y=e.items||a;for(g=y.length;--g>=0;)if(u=y[g],v=u.bounds,!v||v.contains(r,o)){for(l=u.axisItems||a,c=u.items||a,f=u.legendItems||a,d=u.x||0,p=u.y||0,t.save(),t.translate(d,p),d=r-d,p=o-p,m=f.length;--m>=0;)if(s=f[m],s.interactive!==!1&&(h=this.pick(s,n,i,d,p)))return t.restore(),h;for(m=l.length;--m>=0;)if(s=l[m],s.interactive!==!1&&"back"!==s.layer&&(h=this.pick(s,n,i,d,p)))return t.restore(),h;for(m=c.length;--m>=0;)if(s=c[m],s.interactive!==!1&&(h=this.pick(s,n,i,d,p)))return t.restore(),h;for(m=l.length;--m>=0;)if(s=l[m],s.interative!==!1&&"back"===s.layer&&(h=this.pick(s,n,i,d,p)))return t.restore(),h;if(t.restore(),e.interactive!==!1&&(u.fill||u.stroke)&&d>=0&&d<=u.width&&p>=0&&p<=u.height)return u}return null}var o=t("./util"),a=[];e.exports={draw:i,pick:r}},{"./util":70}],62:[function(t,e,n){function i(t,e,n){if(e.items&&e.items.length)for(var i,r=this,o=e.items,a=0,s=o.length;a<s;++a)if(i=o[a],!n||n.intersects(i.bounds)){i.image&&i.image.url===i.url||(i.image=r.loadImage(i.url),i.image.url=i.url);var u,l=i.x||0,c=i.y||0,f=i.width||i.image&&i.image.width||0,h=i.height||i.image&&i.image.height||0;l-="center"===i.align?f/2:"right"===i.align?f:0,c-="middle"===i.baseline?h/2:"bottom"===i.baseline?h:0,i.image.loaded&&(t.globalAlpha=null!=(u=i.opacity)?u:1,t.drawImage(i.image,l,c,f,h))}}var r=t("./util");e.exports={draw:i,pick:r.pick()}},{"./util":70}],63:[function(t,e,n){e.exports={arc:t("./arc"),area:t("./area"),group:t("./group"),image:t("./image"),line:t("./line"),path:t("./path"),rect:t("./rect"),rule:t("./rule"),symbol:t("./symbol"),text:t("./text")}},{"./arc":59,"./area":60,"./group":61,"./image":62,"./line":64,"./path":65,"./rect":66,"./rule":67,"./symbol":68,"./text":69}],64:[function(t,e,n){function i(t,e){var n=e[0],i=n.pathCache||(n.pathCache=a(u(e)));s(t,i)}function r(t,e,n,i,r,o){var a=e.items,s=e.bounds;return!a||!a.length||s&&!s.contains(r,o)?null:(null!=t.pixelratio&&1!==t.pixelratio&&(n*=t.pixelratio,i*=t.pixelratio),l(t,a,n,i)?a[0]:null)}var o=t("./util"),a=t("../../../path/parse"),s=t("../../../path/render"),u=t("../../../util/svg").path.line,l=o.testPath(i,!1);e.exports={draw:o.drawOne(i),pick:r,nested:!0}},{"../../../path/parse":52,"../../../path/render":53,"../../../util/svg":86,"./util":70}],65:[function(t,e,n){function i(t,e){if(null==e.path)return!0;var n=e.pathCache||(e.pathCache=o(e.path));a(t,n,e.x,e.y)}var r=t("./util"),o=t("../../../path/parse"),a=t("../../../path/render");e.exports={draw:r.drawAll(i),pick:r.pickPath(i)}},{"../../../path/parse":52,"../../../path/render":53,"./util":70}],66:[function(t,e,n){function i(t,e,n){if(e.items&&e.items.length)for(var i,o,a,s,u,l,c=e.items,f=0,h=c.length;f<h;++f)i=c[f],n&&!n.intersects(i.bounds)||(o=null==i.opacity?1:i.opacity,0!==o&&(a=i.x||0,s=i.y||0,u=i.width||0,l=i.height||0,i.fill&&r.fill(t,i,o)&&t.fillRect(a,s,u,l),i.stroke&&r.stroke(t,i,o)&&t.strokeRect(a,s,u,l)))}var r=t("./util");e.exports={draw:i,pick:r.pick()}},{"./util":70}],67:[function(t,e,n){function i(t,e,n){if(e.items&&e.items.length)for(var i,r,o,s,u,l,c=e.items,f=0,h=c.length;f<h;++f)i=c[f],n&&!n.intersects(i.bounds)||(r=null==i.opacity?1:i.opacity,0!==r&&(o=i.x||0,s=i.y||0,u=null!=i.x2?i.x2:o,l=null!=i.y2?i.y2:s,i.stroke&&a.stroke(t,i,r)&&(t.beginPath(),t.moveTo(o,s),t.lineTo(u,l),t.stroke())))}function r(t,e){var n=e.x||0,i=e.y||0,r=null!=e.x2?e.x2:n,o=null!=e.y2?e.y2:i,a=e.strokeWidth,s=e.strokeCap;t.lineWidth=null!=a?a:1,t.lineCap=null!=s?s:"butt",t.beginPath(),t.moveTo(n,i),t.lineTo(r,o)}function o(t,e,n,i){return!!t.isPointInStroke&&(r(t,e),t.isPointInStroke(n,i))}var a=t("./util");e.exports={draw:i,pick:a.pick(o)}},{"./util":70}],68:[function(t,e,n){function i(t,e){var n,i,r,s,u=null!=e.size?e.size:100,l=e.x,c=e.y;if(t.beginPath(),null==e.shape||"circle"===e.shape)return n=Math.sqrt(u/Math.PI),t.arc(l,c,n,0,2*Math.PI,0),void t.closePath();switch(e.shape){case"cross":n=Math.sqrt(u/5)/2,i=3*n,t.moveTo(l-i,c-n),t.lineTo(l-n,c-n),t.lineTo(l-n,c-i),t.lineTo(l+n,c-i),t.lineTo(l+n,c-n),t.lineTo(l+i,c-n),t.lineTo(l+i,c+n),t.lineTo(l+n,c+n),t.lineTo(l+n,c+i),t.lineTo(l-n,c+i),t.lineTo(l-n,c+n),t.lineTo(l-i,c+n);break;case"diamond":s=Math.sqrt(u/(2*a)),r=s*a,t.moveTo(l,c-s),t.lineTo(l+r,c),t.lineTo(l,c+s),t.lineTo(l-r,c);break;case"square":i=Math.sqrt(u),n=i/2,t.rect(l-n,c-n,i,i);break;case"triangle-down":r=Math.sqrt(u/o),s=r*o/2,t.moveTo(l,c+s),t.lineTo(l+r,c-s),t.lineTo(l-r,c-s);break;case"triangle-up":r=Math.sqrt(u/o),s=r*o/2,t.moveTo(l,c-s),t.lineTo(l+r,c+s),t.lineTo(l-r,c+s)}t.closePath()}var r=t("./util"),o=Math.sqrt(3),a=Math.tan(30*Math.PI/180);e.exports={draw:r.drawAll(i),pick:r.pickPath(i)}},{"./util":70}],69:[function(t,e,n){function i(t,e,n){if(e.items&&e.items.length)for(var i,r,o,a,l,c,f,h=e.items,d=0,p=h.length;d<p;++d)i=h[d],n&&!n.intersects(i.bounds)||(f=s.value(i.text),f&&(r=null==i.opacity?1:i.opacity,0!==r&&(t.font=s.font(i),t.textAlign=i.align||"left",o=i.x||0,a=i.y||0,(l=i.radius)&&(c=(i.theta||0)-Math.PI/2,o+=l*Math.cos(c),a+=l*Math.sin(c)),i.angle&&(t.save(),t.translate(o,a),t.rotate(i.angle*Math.PI/180),o=a=0),o+=i.dx||0,a+=(i.dy||0)+s.offset(i),i.fill&&u.fill(t,i,r)&&t.fillText(f,o,a),i.stroke&&u.stroke(t,i,r)&&t.strokeText(f,o,a),i.angle&&t.restore())))}function r(t,e,n,i,r,o){if(e.fontSize<=0)return!1;if(!e.angle)return!0;var s=a(e,l,!0),u=-e.angle*Math.PI/180,c=Math.cos(u),f=Math.sin(u),h=e.x,d=e.y,p=c*r-f*o+(h-h*c+d*f),g=f*r+c*o+(d-h*f-d*c);return s.contains(p,g)}var o=t("../../../util/Bounds"),a=t("../../../util/bound").text,s=t("../../../util/text"),u=t("./util"),l=new o;e.exports={draw:i,pick:u.pick(r)}},{"../../../util/Bounds":77,"../../../util/bound":82,"../../../util/text":87,"./util":70}],70:[function(t,e,n){function i(t,e,n,i){if(!t(e,i)){var r=null==n.opacity?1:n.opacity;0!==r&&(n.fill&&c(e,n,r)&&e.fill(),n.stroke&&f(e,n,r)&&e.stroke())}}function r(t,e,n,r){var o,a,s;for(o=0,a=n.items.length;o<a;++o)s=n.items[o],r&&!r.intersects(s.bounds)||i(t,e,s,s)}function o(t){return function(e,n,i){r(t,e,n,i)}}function a(t){return function(e,n,r){n.items.length&&(r&&!r.intersects(n.bounds)||i(t,e,n.items[0],n.items))}}function s(t){return t||(t=p),function(e,n,i,r,o,a){if(!n.items.length)return null;var s,u,l;for(null!=e.pixelratio&&1!==e.pixelratio&&(i*=e.pixelratio,r*=e.pixelratio),l=n.items.length;--l>=0;)if(s=n.items[l],u=s.bounds,(!u||u.contains(o,a))&&u&&t(e,s,i,r,o,a))return s;return null}}function u(t,e){return function(n,i,r,o){var a,s,u=Array.isArray(i)?i[0]:i,l=null==e?u.fill:e,c=u.stroke&&n.isPointInStroke;return c&&(a=u.strokeWidth,s=u.strokeCap,n.lineWidth=null!=a?a:1,n.lineCap=null!=s?s:"butt"),!t(n,i)&&(l&&n.isPointInPath(r,o)||c&&n.isPointInStroke(r,o))}}function l(t){return s(u(t))}function c(t,e,n){return n*=null==e.fillOpacity?1:e.fillOpacity,n>0&&(t.globalAlpha=n,t.fillStyle=h(t,e,e.fill),!0)}function f(t,e,n){var i,r=null!=(r=e.strokeWidth)?r:1;return!(r<=0)&&(n*=null==e.strokeOpacity?1:e.strokeOpacity,n>0&&(t.globalAlpha=n,t.strokeStyle=h(t,e,e.stroke),t.lineWidth=r,t.lineCap=null!=(i=e.strokeCap)?i:"butt",t.vgLineDash(e.strokeDash||null),t.vgLineDashOffset(e.strokeDashOffset||0),!0))}function h(t,e,n){return n.id?d(t,n,e.bounds):n}function d(t,e,n){var i,r,o=n.width(),a=n.height(),s=n.x1+e.x1*o,u=n.y1+e.y1*a,l=n.x1+e.x2*o,c=n.y1+e.y2*a,f=t.createLinearGradient(s,u,l,c),h=e.stops;for(i=0,r=h.length;i<r;++i)f.addColorStop(h[i].offset,h[i].color);return f}var p=function(){return!0};e.exports={drawOne:a,drawAll:o,pick:s,pickPath:l,testPath:u,stroke:f,fill:c,color:h,gradient:d}},{}],71:[function(t,e,n){e.exports={canvas:t("./canvas"),svg:t("./svg")}},{"./canvas":58,"./svg":75}],72:[function(t,e,n){function i(){o.call(this)}var r=t("../../util/dom"),o=t("../Handler"),a=o.prototype,s=i.prototype=Object.create(a);s.constructor=i,s.initialize=function(t,e,n){return this._svg=r.find(t,"svg"),a.initialize.call(this,t,e,n)},s.svg=function(){return this._svg},s.listener=function(t){var e=this;return function(n){var i=n.target,r=i.__data__;n.vegaType=n.type,r=Array.isArray(r)?r[0]:r,t.call(e._obj,n,r)}},s.on=function(t,e){var n=this.eventName(t),i=this._svg,r=this._handlers,o={type:t,handler:e,listener:this.listener(e)};return(r[n]||(r[n]=[])).push(o),i.addEventListener(n,o.listener),this},s.off=function(t,e){var n,i=this.eventName(t),r=this._svg,o=this._handlers[i];if(o){for(n=o.length;--n>=0;)(o[n].type===t&&!e||o[n].handler===e)&&(r.removeEventListener(i,o[n].listener),o.splice(n,1));return this}},e.exports=i},{"../../util/dom":84,"../Handler":54}],73:[function(t,e,n){function i(t){f.call(this),this._loader=new c(t),this._dirtyID=0}function r(t,e,n){var i,r,o;for(t=d.child(t,n,"linearGradient",g),t.setAttribute("id",e.id),t.setAttribute("x1",e.x1),t.setAttribute("x2",e.x2),t.setAttribute("y1",e.y1),t.setAttribute("y2",e.y2),i=0,r=e.stops.length;i<r;++i)o=d.child(t,i,"stop",g),o.setAttribute("offset",e.stops[i].offset),o.setAttribute("stop-color",e.stops[i].color);d.clear(t,i)}function o(t,e,n){var i;t=d.child(t,n,"clipPath",g),t.setAttribute("id",e.id),i=d.child(t,0,"rect",g),i.setAttribute("x",0),i.setAttribute("y",0),i.setAttribute("width",e.width),i.setAttribute("height",e.height)}function a(t,e){for(;t&&t.dirty!==e;t=t.mark.group){if(t.dirty=e,!t.mark||t.mark.dirty===e)return;t.mark.dirty=e}}function s(t,e,n,i,r){var o=d.child(t,i,e.tag,g,null,r);if(o.__data__=n,o.__values__={fill:"default"},"g"===e.tag){var a=d.child(o,0,"rect",g,"background");a.__data__=n}return n._svg=o}function u(t,e,n){e!==_[t]&&(null!=e?n?b.setAttributeNS(n,t,e):b.setAttribute(t,e):n?b.removeAttributeNS(n,t):b.removeAttribute(t),_[t]=e)}function l(){return"undefined"!=typeof window?window.location.href:""}var c=t("../../util/ImageLoader"),f=t("../Renderer"),h=t("../../util/text"),d=t("../../util/dom"),p=t("../../util/svg"),g=p.metadata.xmlns,m=t("./marks"),v=f.prototype,y=i.prototype=Object.create(v);y.constructor=i,y.initialize=function(t,e,n,i){return t&&(this._svg=d.child(t,0,"svg",g,"marks"),d.clear(t,1),this._root=d.child(this._svg,0,"g",g),d.clear(this._svg,1)),this._defs={clip_id:1,gradient:{},clipping:{}},this.background(this._bgcolor),v.initialize.call(this,t,e,n,i)},y.background=function(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),v.background.apply(this,arguments)},y.resize=function(t,e,n){if(v.resize.call(this,t,e,n),this._svg){var i=this._width,r=this._height,o=this._padding;this._svg.setAttribute("width",i+o.left+o.right),this._svg.setAttribute("height",r+o.top+o.bottom),this._root.setAttribute("transform","translate("+o.left+","+o.top+")")}return this},y.svg=function(){if(!this._svg)return null;var t={"class":"marks",width:this._width+this._padding.left+this._padding.right,height:this._height+this._padding.top+this._padding.bottom};for(var e in p.metadata)t[e]=p.metadata[e];return d.openTag("svg",t)+this._svg.innerHTML+d.closeTag("svg")},y.imageURL=function(t){return this._loader.imageURL(t)},y.render=function(t,e){return this._dirtyCheck(e)&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,t,-1),d.clear(this._root,1)),this.updateDefs(),this},y.draw=function(t,e,n){this.drawMark(t,e,n,m[e.marktype])},y.updateDefs=function(){var t,e=this._svg,n=this._defs,i=n.el,a=0;for(t in n.gradient)i||(i=n.el=d.child(e,0,"defs",g)),r(i,n.gradient[t],a++);for(t in n.clipping)i||(i=n.el=d.child(e,0,"defs",g)),o(i,n.clipping[t],a++);i&&(0===a?(e.removeChild(i),n.el=null):d.clear(i,a))},y._resetDefs=function(){var t=this._defs;t.clip_id=1,t.gradient={},t.clipping={}},y.isDirty=function(t){return this._dirtyAll||t.dirty===this._dirtyID},y._dirtyCheck=function(t){if(this._dirtyAll=!0,!t)return!0;var e,n,i,r,o,s,u,l=++this._dirtyID;for(o=0,s=t.length;o<s;++o)e=t[o],n=e.mark,n.marktype!==i&&(i=n.marktype,r=m[i]),"exit"!==e.status?(e=r.nest?n.items[0]:e,e._update!==l&&(e._svg?this._update(r,e._svg,e):(this._dirtyAll=!1,a(e,l)),e._update=l)):e._svg&&(r.nest&&e.mark.items.length?(this._update(r,e._svg,e.mark.items[0]),u=e.mark.items[0],u._svg=e._svg,u._update=l):d.remove(e._svg),e._svg=null);return!this._dirtyAll},y.drawMark=function(t,e,n,i){if(this.isDirty(e)){var r,o,a,u,l,c,f=i.nest?e.items&&e.items.length?[e.items[0]]:[]:e.items||[],h=e.interactive===!1?"none":null,p="g"===i.tag,m=d.cssClass(e);for(r=d.child(t,n+1,"g",g,m),r.setAttribute("class",m),e._svg=r,!p&&h&&r.style.setProperty("pointer-events",h),o=0,a=f.length;o<a;++o)this.isDirty(l=f[o])&&(c=!(this._dirtyAll||l._svg),u=s(r,i,l,o,c),this._update(i,u,l),p&&(c&&(this._dirtyAll=!0),this._recurse(u,l),c&&(this._dirtyAll=!1)));return d.clear(r,o),r}},y._recurse=function(t,e){var n,i,r=e.items||[],o=e.legendItems||[],a=e.axisItems||[],s=0;for(n=0,i=a.length;n<i;++n)"back"===a[n].layer&&this.drawMark(t,a[n],s++,m.group);for(n=0,i=r.length;n<i;++n)this.draw(t,r[n],s++);for(n=0,i=a.length;n<i;++n)"back"!==a[n].layer&&this.drawMark(t,a[n],s++,m.group);for(n=0,i=o.length;n<i;++n)this.drawMark(t,o[n],s++,m.group);d.clear(t,1+s)};var b=null,_=null,x={group:function(t,e,n){b=e.childNodes[0],_=e.__values__,t.background(u,n,this);var i=n.mark.interactive===!1?"none":null;i!==_.events&&(b.style.setProperty("pointer-events",i),_.events=i)},text:function(t,e,n){var i=h.value(n.text);i!==_.text&&(e.textContent=i,_.text=i),i=h.font(n),i!==_.font&&(e.style.setProperty("font",i),_.font=i)}};y._update=function(t,e,n){b=e,_=e.__values__,t.attr(u,n,this);var i=x[t.type];i&&i(t,e,n),this.style(b,n)},y.style=function(t,e){if(null!=e){var n,i,r,o,a;for(n=0,i=p.styleProperties.length;n<i;++n)r=p.styleProperties[n],a=e[r],a!==_[r]&&(o=p.styles[r],null==a?"fill"===o?t.style.setProperty(o,"none"):t.style.removeProperty(o):(a.id&&(this._defs.gradient[a.id]=a,a="url("+l()+"#"+a.id+")"),t.style.setProperty(o,a+"")),_[r]=a)}},e.exports=i},{"../../util/ImageLoader":80,"../../util/dom":84,"../../util/svg":86,"../../util/text":87,"../Renderer":55,"./marks":76}],74:[function(t,e,n){function i(t){s.call(this),this._loader=new u(t),this._text={head:"",root:"",foot:"",defs:"",body:""},this._defs={clip_id:1,gradient:{},clipping:{}}}function r(t,e,n,i){v[i||t]=e}function o(t,e,n,i){if(null==t)return"";var r,o,a,s,u,f="";for("bgrect"===n&&e.interactive===!1&&(f+="pointer-events: none;"),"text"===n&&(f+="font: "+c.font(t)+";"),r=0,o=l.styleProperties.length;r<o;++r)a=l.styleProperties[r],s=l.styles[a],u=t[a],null==u?"fill"===s&&(f+=(f.length?" ":"")+"fill: none;"):(u.id&&(i.gradient[u.id]=u,u="url(#"+u.id+")"),f+=(f.length?" ":"")+s+": "+u+";");return f?'style="'+f+'"':null}function a(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var s=t("../Renderer"),u=t("../../util/ImageLoader"),l=t("../../util/svg"),c=t("../../util/text"),f=t("../../util/dom"),h=f.openTag,d=f.closeTag,p=t("./marks"),g=s.prototype,m=i.prototype=Object.create(g);m.constructor=i,m.resize=function(t,e,n){g.resize.call(this,t,e,n);var i=this._padding,r=this._text,o={"class":"marks",width:this._width+i.left+i.right,height:this._height+i.top+i.bottom};for(var a in l.metadata)o[a]=l.metadata[a];return r.head=h("svg",o),r.root=h("g",{transform:"translate("+i.left+","+i.top+")"}),r.foot=d("g")+d("svg"),this},m.svg=function(){var t=this._text;return t.head+t.defs+t.root+t.body+t.foot},m.render=function(t){return this._text.body=this.mark(t),this._text.defs=this.buildDefs(),this},m.reset=function(){return this._defs.clip_id=0,this},m.buildDefs=function(){var t,e,n,i,r=this._defs,o="";for(e in r.gradient){for(n=r.gradient[e],i=n.stops,o+=h("linearGradient",{id:e,x1:n.x1,x2:n.x2,y1:n.y1,y2:n.y2}),t=0;t<i.length;++t)o+=h("stop",{offset:i[t].offset,"stop-color":i[t].color})+d("stop");o+=d("linearGradient")}for(e in r.clipping)n=r.clipping[e],o+=h("clipPath",{id:e}),o+=h("rect",{x:0,y:0,width:n.width,height:n.height})+d("rect"),o+=d("clipPath");return o.length>0?h("defs")+o+d("defs"):""},m.imageURL=function(t){return this._loader.imageURL(t)};var v;m.attributes=function(t,e){return v={},t(r,e,this),v},m.mark=function(t){var e,n,i,r=p[t.marktype],s=r.tag,u=r.attr,l=r.nest||!1,g=l?t.items&&t.items.length?[t.items[0]]:[]:t.items||[],m=this._defs,v="";for("g"!==s&&t.interactive===!1&&(e='style="pointer-events: none;"'),v+=h("g",{"class":f.cssClass(t)},e),n=0;n<g.length;++n)i=g[n],e="g"!==s?o(i,t,s,m):null,v+=h(s,this.attributes(u,i),e),"text"===s?v+=a(c.value(i.text)):"g"===s&&(v+=h("rect",this.attributes(r.background,i),o(i,t,"bgrect",m))+d("rect"),v+=this.markGroup(i)),v+=d(s);return v+d("g")},m.markGroup=function(t){var e,n,i="",r=t.axisItems||[],o=t.items||[],a=t.legendItems||[];for(e=0,n=r.length;e<n;++e)"back"===r[e].layer&&(i+=this.mark(r[e]));for(e=0,n=o.length;e<n;++e)i+=this.mark(o[e]);for(e=0,n=r.length;e<n;++e)"back"!==r[e].layer&&(i+=this.mark(r[e]));for(e=0,n=a.length;e<n;++e)i+=this.mark(a[e]);return i},e.exports=i},{"../../util/ImageLoader":80,"../../util/dom":84,"../../util/svg":86,"../../util/text":87,"../Renderer":55,"./marks":76}],75:[function(t,e,n){e.exports={Handler:t("./SVGHandler"),Renderer:t("./SVGRenderer"),string:{Renderer:t("./SVGStringRenderer")}}},{"./SVGHandler":72,"./SVGRenderer":73,"./SVGStringRenderer":74}],76:[function(t,e,n){function i(t){return r(t.x||0,t.y||0)}function r(t,e){return"translate("+t+","+e+")"}var o=t("../../util/text"),a=t("../../util/svg"),s=a.textAlign,u=a.path;e.exports={arc:{tag:"path",type:"arc",attr:function(t,e){t("transform",i(e)),t("d",u.arc(e))}},area:{tag:"path",type:"area",nest:!0,attr:function(t,e){var n=e.mark.items;n.length&&t("d",u.area(n))}},group:{tag:"g",type:"group",attr:function(t,e,n){var r,o,a=null;t("transform",i(e)),e.clip&&(r=n._defs,a=e.clip_id||(e.clip_id="clip"+r.clip_id++),o=r.clipping[a]||(r.clipping[a]={id:a}),o.width=e.width||0,o.height=e.height||0),t("clip-path",a?"url(#"+a+")":null)},background:function(t,e){t("class","background"),t("width",e.width||0),t("height",e.height||0)}},image:{tag:"image",type:"image",attr:function(t,e,n){var i=e.x||0,o=e.y||0,a=e.width||0,s=e.height||0,u=n.imageURL(e.url);i-="center"===e.align?a/2:"right"===e.align?a:0,o-="middle"===e.baseline?s/2:"bottom"===e.baseline?s:0,t("href",u,"http://www.w3.org/1999/xlink","xlink:href"),t("transform",r(i,o)),t("width",a),t("height",s)}},line:{tag:"path",type:"line",nest:!0,attr:function(t,e){var n=e.mark.items;n.length&&t("d",u.line(n))}},path:{tag:"path",type:"path",attr:function(t,e){t("transform",i(e)),t("d",e.path)}},rect:{tag:"rect",type:"rect",nest:!1,attr:function(t,e){t("transform",i(e)),t("width",e.width||0),t("height",e.height||0)}},rule:{tag:"line",type:"rule",attr:function(t,e){t("transform",i(e)),t("x2",null!=e.x2?e.x2-(e.x||0):0),t("y2",null!=e.y2?e.y2-(e.y||0):0)}},symbol:{tag:"path",type:"symbol",attr:function(t,e){t("transform",i(e)),t("d",u.symbol(e))}},text:{tag:"text",type:"text",nest:!1,attr:function(t,e){var n,i=e.dx||0,a=(e.dy||0)+o.offset(e),u=e.x||0,l=e.y||0,c=e.angle||0,f=e.radius||0;f&&(n=(e.theta||0)-Math.PI/2,u+=f*Math.cos(n),l+=f*Math.sin(n)),t("text-anchor",s[e.align]||"start"),c?(n=r(u,l)+" rotate("+c+")",(i||a)&&(n+=" "+r(i,a))):n=r(u+i,l+a),t("transform",n)}}}},{"../../util/svg":86,"../../util/text":87}],77:[function(t,e,n){function i(t){this.clear(),t&&this.union(t)}var r=i.prototype;r.clone=function(){return new i(this)},r.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},r.set=function(t,e,n,i){return this.x1=t,this.y1=e,this.x2=n,this.y2=i,this},r.add=function(t,e){return t<this.x1&&(this.x1=t),e<this.y1&&(this.y1=e),t>this.x2&&(this.x2=t),e>this.y2&&(this.y2=e),this},r.expand=function(t){return this.x1-=t,this.y1-=t,this.x2+=t,this.y2+=t,this},r.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},r.translate=function(t,e){return this.x1+=t,this.x2+=t,this.y1+=e,this.y2+=e,this},r.rotate=function(t,e,n){var i=Math.cos(t),r=Math.sin(t),o=e-e*i+n*r,a=n-e*r-n*i,s=this.x1,u=this.x2,l=this.y1,c=this.y2;return this.clear().add(i*s-r*l+o,r*s+i*l+a).add(i*s-r*c+o,r*s+i*c+a).add(i*u-r*l+o,r*u+i*l+a).add(i*u-r*c+o,r*u+i*c+a)},r.union=function(t){return t.x1<this.x1&&(this.x1=t.x1),t.y1<this.y1&&(this.y1=t.y1),t.x2>this.x2&&(this.x2=t.x2),t.y2>this.y2&&(this.y2=t.y2),this},r.encloses=function(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=t.y2},r.alignsWith=function(t){return t&&(this.x1==t.x1||this.x2==t.x2||this.y1==t.y1||this.y2==t.y2)},r.intersects=function(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)},r.contains=function(t,e){return!(t<this.x1||t>this.x2||e<this.y1||e>this.y2)},r.width=function(){return this.x2-this.x1},r.height=function(){return this.y2-this.y1},e.exports=i},{}],78:[function(t,e,n){e.exports=function(t){function e(){}function n(e,n){t.add(e,n)}return{bounds:function(e){return arguments.length?(t=e,this):t},beginPath:e,closePath:e,moveTo:n,lineTo:n,quadraticCurveTo:function(e,n,i,r){t.add(e,n),t.add(i,r)},bezierCurveTo:function(e,n,i,r,o,a){t.add(e,n),t.add(i,r),t.add(o,a)}}}},{}],79:[function(t,e,n){function i(t){this.id="gradient_"+r++,this.type=t||"linear",this.stops=[],this.x1=0,this.x2=1,this.y1=0,this.y2=0}var r=0,o=i.prototype;o.stop=function(t,e){return this.stops.push({offset:t,color:e}),this},e.exports=i},{}],80:[function(t,e,n){(function(n){function i(t){this._pending=0,this._config=t||i.Config}function r(t,e){var n=a.sanitizeUrl(this.params(t));if(!n)return e&&e(t,null),null;var i=this,r=new Image;return i._pending+=1,r.onload=function(){i._pending-=1,r.loaded=!0,e&&e(null,r)},r.src=n,r}function o(t,e){var i=this,r=new("undefined"!=typeof window?window.canvas:"undefined"!=typeof n?n.canvas:null).Image;return i._pending+=1,a(this.params(t),function(t,n){return i._pending-=1,t?(e&&e(t,null),null):(r.src=n,r.loaded=!0,void(e&&e(null,r)))}),r}var a=t("datalib/src/import/load");i.Config=null;var s=i.prototype;s.pending=function(){return this._pending},s.params=function(t){var e,n={url:t};for(e in this._config)n[e]=this._config[e];return n},s.imageURL=function(t){return a.sanitizeUrl(this.params(t))},s.loadImage=function(t,e){return a.useXHR?r.call(this,t,e):o.call(this,t,e)},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"datalib/src/import/load":22}],81:[function(t,e,n){function i(t){this.mark=t}var r=i.prototype;r.hasPropertySet=function(t){var e=this.mark.def.properties;return e&&null!=e[t]},r.cousin=function(t,e){if(0===t)return this;t=t||-1;var n=this.mark,i=n.group,r=null==e?n.items.indexOf(this):e,o=i.items.indexOf(n)+t;return i.items[o].items[r]},r.sibling=function(t){if(0===t)return this;t=t||-1;var e=this.mark,n=e.items.indexOf(this)+t;return e.items[n]},r.remove=function(){var t=this,e=t.mark.items,n=e.indexOf(t);return n>=0&&(n===e.length-1?e.pop():e.splice(n,1)),t},r.touch=function(){this.pathCache&&(this.pathCache=null)},e.exports=i},{}],82:[function(t,e,n){function i(){return O||(O=_.instance(1,1).getContext("2d"))}function r(t,e){return t.stroke&&0!==t.opacity&&0!==t.stokeOpacity&&e.expand(null!=t.strokeWidth?t.strokeWidth:1),e}function o(t,e,n,i,o){return null==e?n.set(0,0,0,0):(S(D.bounds(n),e,i,o),r(t,n)),n}function a(t,e){var n=t.path?t.pathCache||(t.pathCache=E(t.path)):null;return o(t,n,e,t.x,t.y)}function s(t,e){if(0===t.items.length)return e;var n=t.items,i=n[0],r=i.pathCache||(i.pathCache=E(C(n)));return o(i,r,e)}function u(t,e){if(0===t.items.length)return e;var n=t.items,i=n[0],r=i.pathCache||(i.pathCache=E(T(n)));return o(i,r,e)}function l(t,e){var n,i;return r(t,e.set(n=t.x||0,i=t.y||0,n+t.width||0,i+t.height||0))}function c(t,e){var n=t.x||0,i=t.y||0,r=t.width||0,o=t.height||0;return n-="center"===t.align?r/2:"right"===t.align?r:0,i-="middle"===t.baseline?o/2:"bottom"===t.baseline?o:0,e.set(n,i,n+r,i+o)}function f(t,e){var n,i;return r(t,e.set(n=t.x||0,i=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:i))}function h(t,e){var n,i,o,a,s,u,l,c,f,h=t.x||0,d=t.y||0,p=t.innerRadius||0,g=t.outerRadius||0,m=(t.startAngle||0)-M,v=(t.endAngle||0)-M,y=1/0,b=-(1/0),_=1/0,x=-(1/0),w=[m,v],k=m-m%M;for(i=0;i<4&&k<v;++i,k+=M)w.push(k);for(i=0,o=w.length;i<o;++i)n=w[i],a=Math.cos(n),u=p*a,c=g*a,s=Math.sin(n),l=p*s,f=g*s,y=Math.min(y,u,c),b=Math.max(b,u,c),_=Math.min(_,l,f),x=Math.max(x,l,f);return r(t,e.set(h+y,d+_,h+b,d+x))}function d(t,e){var n,i,o,a,s=null!=t.size?t.size:100,u=t.x||0,l=t.y||0;switch(t.shape){case"cross":i=3*Math.sqrt(s/5)/2,e.set(u-i,l-i,u+i,l+i);break;case"diamond":a=Math.sqrt(s/(2*$)),o=a*$,e.set(u-o,l-a,u+o,l+a);break;case"square":i=Math.sqrt(s),n=i/2,e.set(u-n,l-n,u+n,l+n);break;case"triangle-down":o=Math.sqrt(s/A),a=o*A/2,e.set(u-o,l-a,u+o,l+a);break;case"triangle-up":o=Math.sqrt(s/A),a=o*A/2,e.set(u-o,l-a,u+o,l+a);break;default:n=Math.sqrt(s/Math.PI),e.set(u-n,l-n,u+n,l+n)}return r(t,e)}function p(t,e,n){var r,o,a=i(),s=w.size(t),u=t.align,l=t.radius||0,c=t.x||0,f=t.y||0,h=t.dx||0,d=(t.dy||0)+w.offset(t)-Math.round(.8*s);return l&&(o=(t.theta||0)-Math.PI/2,c+=l*Math.cos(o),f+=l*Math.sin(o)),a.font=w.font(t),r=a.measureText(w.value(t.text)).width,"center"===u?h-=r/2:"right"===u&&(h-=r),e.set(h+=c,d+=f,h+r,d+s),t.angle&&!n&&e.rotate(t.angle*Math.PI/180,c,f),e.expand(n?0:1)}function g(t,e,n){var i,o,a=t.axisItems||[],s=t.items||[],u=t.legendItems||[];if(!t.clip){for(i=0,o=a.length;i<o;++i)e.union(a[i].bounds);for(i=0,o=s.length;i<o;++i)e.union(s[i].bounds);if(n)for(i=0,o=u.length;i<o;++i)e.union(u[i].bounds)}return(t.clip||t.width||t.height)&&r(t,e.add(0,0).add(t.width||0,t.height||0)),e.translate(t.x||0,t.y||0)}function m(t,e,n){var i=t.mark.marktype;e=e||N[i],e.nest&&(t=t.mark);var r=t.bounds,o=t["bounds:prev"]||(t["bounds:prev"]=new b);return r?(o.clear().union(r),r.clear()):t.bounds=new b,e(t,t.bounds,n),r||o.clear().union(t.bounds),t.bounds}function v(t,e,n){var i,r,o,a,s=t.marktype,u=N[s],l=t.items,c=l&&l.length;if(u.nest)return o=c?l[0]:(I.mark=t,I),a=m(o,u,n),e=e&&e.union(a)||a;if(e=e||t.bounds&&t.bounds.clear()||new b,c)for(i=0,r=l.length;i<r;++i)e.union(m(l[i],u,n));return t.bounds=e}var y=t("./BoundsContext"),b=t("./Bounds"),_=t("./canvas"),x=t("./svg"),w=t("./text"),k=t("../path"),E=k.parse,S=k.render,C=x.path.area,T=x.path.line,M=Math.PI/2,A=Math.sqrt(3),$=Math.tan(30*Math.PI/180),O=null,D=y(),N={group:g,symbol:d,image:c,rect:l,rule:f,arc:h,text:p,path:a,area:s,line:u};N.area.nest=!0,N.line.nest=!0;var I={mark:null};e.exports={mark:v,item:m,text:p,group:g}},{"../path":51,"./Bounds":77,"./BoundsContext":78,"./canvas":83,"./svg":86,"./text":87}],83:[function(t,e,n){(function(t){function n(e,n){e=e||1,n=n||1;var i;if("undefined"!=typeof document&&document.createElement)i=document.createElement("canvas"),i.width=e,i.height=n;else{var r="undefined"!=typeof window?window.canvas:"undefined"!=typeof t?t.canvas:null;
if(!r.prototype)return null;i=new r(e,n)}return o(i)}function i(t,e,n,i,o){var a=this._ctx=t.getContext("2d"),s=1;return t.width=e+i.left+i.right,t.height=n+i.top+i.bottom,o&&"undefined"!=typeof HTMLElement&&t instanceof HTMLElement&&(a.pixelratio=s=r(t)||1),a.setTransform(s,0,0,s,s*i.left,s*i.top),t}function r(t){var e=t.getContext("2d"),n=window&&window.devicePixelRatio||1,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,r=n/i;if(n!==i){var o=t.width,a=t.height;t.width=o*r,t.height=a*r,t.style.width=o+"px",t.style.height=a+"px"}return r}function o(t){var e=t.getContext("2d");if(!e.vgLineDash){var n=function(){},i=[];return e.setLineDash?(e.vgLineDash=function(t){this.setLineDash(t||i)},e.vgLineDashOffset=function(t){this.lineDashOffset=t}):void 0!==e.webkitLineDash?(e.vgLineDash=function(t){this.webkitLineDash=t||i},e.vgLineDashOffset=function(t){this.webkitLineDashOffset=t}):void 0!==e.mozDash?(e.vgLineDash=function(t){this.mozDash=t},e.vgLineDashOffset=n):(e.vgLineDash=n,e.vgLineDashOffset=n),t}}e.exports={instance:n,resize:i,lineDash:o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],84:[function(t,e,n){function i(t,e,n){return n?t.createElementNS(n,e):t.createElement(e)}function r(t){if(t){var e=t.parentNode;e&&(e.removeChild(t),e.childNodes&&e.childNodes.length||r(e))}}e.exports={find:function(t,e){e=e.toLowerCase();for(var n=0,i=t.childNodes.length;n<i;++n)if(t.childNodes[n].tagName.toLowerCase()===e)return t.childNodes[n]},child:function(t,e,n,r,o,a){var s,u;return s=u=t.childNodes[e],(!s||a||s.tagName.toLowerCase()!==n.toLowerCase()||o&&s.getAttribute("class")!=o)&&(s=i(t.ownerDocument,n,r),t.insertBefore(s,u),o&&s.setAttribute("class",o)),s},clear:function(t,e){for(var n=t.childNodes.length;n>e;)t.removeChild(t.childNodes[--n]);return t},remove:r,cssClass:function(t){return"mark-"+t.marktype+(t.name?" "+t.name:"")},openTag:function(t,e,n){var i,r,o="<"+t;if(e)for(i in e)r=e[i],null!=r&&(o+=" "+i+'="'+r+'"');return n&&(o+=" "+n),o+">"},closeTag:function(t){return"</"+t+">"}}},{}],85:[function(t,e,n){function i(t,e){return JSON.stringify(t,u,e)}function r(t){var e="string"==typeof t?JSON.parse(t):t;return o(e)}function o(t){var e,n,i,r,u,l=t.marktype;for(i=0,r=s.length;i<r;++i)if(u=t[s[i]])for(e=0,n=u.length;e<n;++e)u[e][l?"mark":"group"]=t,l&&"group"!==l||o(u[e]);return l&&a.mark(t),t}var a=t("../util/bound"),s=["items","axisItems","legendItems"],u=["marktype","name","interactive","clip","items","axisItems","legendItems","layer","x","y","width","height","align","baseline","fill","fillOpacity","opacity","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","startAngle","endAngle","innerRadius","outerRadius","interpolate","tension","orient","url","path","x2","y2","size","shape","text","angle","theta","radius","dx","dy","font","fontSize","fontWeight","fontStyle","fontVariant"];e.exports={toJSON:i,fromJSON:r}},{"../util/bound":82}],86:[function(t,e,n){(function(t){function n(t){return t.x||0}function i(t){return t.y||0}function r(t){return(t.x||0)+(t.width||0)}function o(t){return(t.y||0)+(t.height||0)}function a(t){return null==t.size?100:t.size}function s(t){return t.shape||"circle"}var u=("undefined"!=typeof window?window.d3:"undefined"!=typeof t?t.d3:null).svg,l=u.area().x(n).y1(i).y0(o),c=u.area().y(i).x1(n).x0(r),f=u.line().x(n).y(i);e.exports={metadata:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},path:{arc:u.arc(),symbol:u.symbol().type(s).size(a),area:function(t){var e=t[0];return("horizontal"===e.orient?c:l).interpolate(e.interpolate||"linear").tension(e.tension||.7)(t)},line:function(t){var e=t[0];return f.interpolate(e.interpolate||"linear").tension(e.tension||.7)(t)}},textAlign:{left:"start",center:"middle",right:"end"},textBaseline:{top:"before-edge",bottom:"after-edge",middle:"central"},styles:{fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeWidth:"stroke-width",strokeOpacity:"stroke-opacity",strokeCap:"stroke-linecap",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",opacity:"opacity"},styleProperties:["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","strokeCap","strokeDash","strokeDashOffset","opacity"]}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],87:[function(t,e,n){function i(t){return null!=t.fontSize?t.fontSize:11}e.exports={size:i,value:function(t){return null!=t?String(t):""},font:function(t,e){var n=t.font;return e&&n&&(n=String(n).replace(/\"/g,"'")),""+(t.fontStyle?t.fontStyle+" ":"")+(t.fontVariant?t.fontVariant+" ":"")+(t.fontWeight?t.fontWeight+" ":"")+i(t)+"px "+(n||"sans-serif")},offset:function(t){var e=t.baseline,n=i(t);return Math.round("top"===e?.93*n:"middle"===e?.3*n:"bottom"===e?-.21*n:0)}}},{}],88:[function(t,e,n){function i(t,e,n){s.call(this,t,e,n),this._type="canvas",this._renderers={canvas:o,svg:a}}var r=t("vega-scenegraph").render,o=r.canvas,a=r.svg.string,s=t("./View"),u=i.prototype=new s;u.renderer=function(t){return t&&(this._type=t),s.prototype.renderer.apply(this,arguments)},u.canvas=function(){return"canvas"===this._type?this._renderer.canvas():null},u.canvasAsync=function(t){function e(){0===n.pendingImages()?(i.render(),t(i.canvas())):setTimeout(e,10)}var n=this._renderer,i=this;return"canvas"!==this._type?null:void(n.pendingImages()>0?e():t(this.canvas()))},u.svg=function(){return"svg"===this._type?this._renderer.svg():null},u.initialize=function(){var t=this._width,e=this._height,n=this._bgcolor,i=this._padding,r=this.model().config();return this._viewport&&(t=this._viewport[0]-(i?i.left+i.right:0),e=this._viewport[1]-(i?i.top+i.bottom:0)),this._renderer=(this._renderer||new this._io.Renderer(r.load)).initialize(null,t,e,i).background(n),this},e.exports=i},{"./View":90,"vega-scenegraph":49}],89:[function(t,e,n){function i(t){this._defs={},this._predicates={},this._scene=null,this._groups=null,this._node=null,this._builder=null,this._reset={axes:!1,legends:!1},this.config(t),this.expr=h(this),u.init.call(this)}function r(t){var e=this,n={};return o.isArray(t)?(t.forEach(function(t){n[t]=e._predicates[t]}),n):this._predicates[t]}var o=t("datalib"),a=t("vega-dataflow"),s=a.ChangeSet,u=a.Graph.prototype,l=a.Node,c=t("../scene/GroupBuilder"),f=t("../scene/visit"),h=t("../parse/expr"),d=t("./config"),p=i.prototype=Object.create(u);p.constructor=i,p.defs=function(t){return arguments.length?(this._defs=t,this):this._defs},p.config=function(t){if(!arguments.length)return this._config;this._config=Object.create(d);for(var e in t){var n=t[e],i=this._config[e];o.isObject(n)&&o.isObject(i)?this._config[e]=o.extend({},i,n):this._config[e]=n}return this},p.width=function(t){return this._defs&&(this._defs.width=t),this._defs&&this._defs.marks&&(this._defs.marks.width=t),this._scene&&(this._scene.items[0].width=t,this._scene.items[0]._dirty=!0),this._reset.axes=!0,this},p.height=function(t){return this._defs&&(this._defs.height=t),this._defs&&this._defs.marks&&(this._defs.marks.height=t),this._scene&&(this._scene.items[0].height=t,this._scene.items[0]._dirty=!0),this._reset.axes=!0,this},p.node=function(){return this._node||(this._node=new l(this))},p.data=function(){var t=u.data.apply(this,arguments);return arguments.length>1&&this.node().addListener(t.pipeline()[0]),t},p.predicate=function(t,e){return 1===arguments.length?r.call(this,t):this._predicates[t]=e},p.predicates=function(){return this._predicates},p.scene=function(t){if(!arguments.length)return this._scene;this._builder&&(this.node().removeListener(this._builder),this._builder._groupBuilder.disconnect());var e=this,n=this._builder=new l(this);return n.evaluate=function(i){if(n._groupBuilder)return i;var r=n._groupBuilder=new c(e,e._defs.marks,e._scene={}),o=r.pipeline();return e._groups={},this.addListener(r.connect()),o[o.length-1].addListener(t),i},this.addListener(n),this},p.group=function(t,e){var n=this._groups;return 1===arguments.length?n[t]:(n[t]=e,this)},p.reset=function(){return this._scene&&this._reset.axes&&(f(this._scene,function(t){t.axes&&t.axes.forEach(function(t){t.reset()})}),this._reset.axes=!1),this._scene&&this._reset.legends&&(f(this._scene,function(t){t.legends&&t.legends.forEach(function(t){t.reset()})}),this._reset.legends=!1),this},p.addListener=function(t){this.node().addListener(t)},p.removeListener=function(t){this.node().removeListener(t)},p.fire=function(t){t||(t=s.create()),this.propagate(t,this.node())},e.exports=i},{"../parse/expr":96,"../scene/GroupBuilder":112,"../scene/visit":117,"./config":91,datalib:26,"vega-dataflow":41}],90:[function(t,e,n){(function(n){function i(t,e,n){this._el=null,this._model=null,this._width=this.__width=e||500,this._height=this.__height=n||300,this._bgcolor=null,this._cursor=!0,this._autopad=1,this._padding={top:0,left:0,bottom:0,right:0},this._viewport=null,this._renderer=null,this._handler=null,this._streamer=null,this._skipSignals=!1,this._changeset=null,this._repaint=!0,this._renderers=c,this._io=null,this._api={}}function r(t){var e=this,n=this._model.data(t);if(!n)return f.error('Data source "'+t+'" is not defined.');var i=n.pipeline()[0],r=this._streamer,o={};return this._api[t]?this._api[t]:(o.insert=function(a){return n.insert(u.duplicate(a)),r.addListener(i),e._changeset.data[t]=1,o},o.update=function(){return r.addListener(i),e._changeset.data[t]=1,n.update.apply(n,arguments),o},o.remove=function(){return r.addListener(i),e._changeset.data[t]=1,n.remove.apply(n,arguments),o},o.values=function(){return n.values()},this._api[t]=o)}function o(t,e){var n=this._changeset,i=this._model.signal(t);return i?(this._streamer.addListener(i.value(e)),n.signals[t]=1,void(n.reflow=!0)):f.error('Signal "'+t+'" is not defined.')}function a(){var t=this;return t._renderNode=new l.Node(t._model).router(!0),t._renderNode.evaluate=function(e){f.debug(e,["rendering"]);var n=t._model.scene(),i=t._handler;return i&&i.scene&&i.scene(n),e.trans?e.trans.start(function(e){t._renderer.render(n,e)}):t._repaint?t._renderer.render(n):e.dirty.length&&t._renderer.render(n,e.dirty),e.dirty.length&&(e.dirty.forEach(function(t){t._dirty=!1}),n.items[0]._dirty=!1),t._repaint=t._skipSignals=!1,e},t._model.scene(t._renderNode),!0}var s="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,u=t("datalib"),l=t("vega-dataflow"),c=t("vega-scenegraph").render,f=t("vega-logging"),h=l.Dependencies,d=t("../parse/streams"),p=t("../scene/Encoder"),g=t("../scene/Transition"),m=i.prototype;m.model=function(t){return arguments.length?(this._model!==t&&(this._model=t,this._streamer=new l.Node(t),this._streamer._rank=-1,this._changeset=l.ChangeSet.create(),this._handler&&this._handler.model(t)),this):this._model},m.data=function(t){var e=this;return arguments.length?u.isString(t)?r.call(e,t):(u.isObject(t)&&u.keys(t).forEach(function(n){var i=r.call(e,n);t[n](i)}),this):e._model.values()};var v=u.toMap(["width","height","padding"]);m.signal=function(t,e,n){var i,r,a=this._model;if(!arguments.length)return a.values(h.SIGNALS);if(1===arguments.length&&u.isString(t))return a.values(h.SIGNALS,t);u.isObject(t)?(r=t,n=e):(r={},r[t]=e);for(i in r)v[i]?this[i](r[i]):o.call(this,i,r[i]);return this._skipSignals=n,this},m.width=function(t){return arguments.length?(this.__width!==t&&(this._width=this.__width=t,this.model().width(t),this.initialize(),this._strict&&(this._autopad=1),o.call(this,"width",t)),this):this.__width},m.height=function(t){return arguments.length?(this.__height!==t&&(this._height=this.__height=t,this.model().height(t),this.initialize(),this._strict&&(this._autopad=1),o.call(this,"height",t)),this):this.__height},m.background=function(t){return arguments.length?(this._bgcolor!==t&&(this._bgcolor=t,this.initialize()),this):this._bgcolor},m.padding=function(t){return arguments.length?(this._padding!==t&&(u.isString(t)?(this._autopad=1,this._padding={top:0,left:0,bottom:0,right:0},this._strict="strict"===t):(this._autopad=0,this._padding=t,this._strict=!1),this._renderer&&this._renderer.resize(this._width,this._height,this._padding),this._handler&&this._handler.padding(this._padding),o.call(this,"padding",this._padding)),this._repaint=!0,this):this._padding},m.autopad=function(t){if(this._autopad<1)return this;this._autopad=0;var e=this.model().scene().bounds,n=this._padding,i=this.model().config(),r=i.autopadInset,a=e.x1<0?Math.ceil(-e.x1)+r:0,s=e.y1<0?Math.ceil(-e.y1)+r:0,u=e.x2>this._width?Math.ceil(+e.x2-this._width)+r:0;return e=e.y2>this._height?Math.ceil(+e.y2-this._height)+r:0,n={left:a,top:s,right:u,bottom:e},this._strict?(this._autopad=0,this._padding=n,this._width=Math.max(0,this.__width-(a+u)),this._height=Math.max(0,this.__height-(s+e)),this._model.width(this._width).height(this._height).reset(),o.call(this,"width",this._width),o.call(this,"height",this._height),o.call(this,"padding",n),this.initialize().update({props:"enter"}).update({props:"update"})):this.padding(n).update(t),this},m.viewport=function(t){return arguments.length?(this._viewport!==t&&(this._viewport=t,this.initialize()),this):this._viewport},m.renderer=function(t){if(!arguments.length)return this._renderer;if(this._renderers[t])t=this._renderers[t];else{if(u.isString(t))throw new Error("Unknown renderer: "+t);if(!t)throw new Error("No renderer specified")}return this._io!==t&&(this._io=t,this._renderer=null,this.initialize(),this._build&&this.render()),this},m.initialize=function(t){var e,n=this,i=n._width,r=n._height,o=n._padding,a=n._bgcolor,u=this.model().config();return arguments.length&&null!==t||(t=this._el?this._el.parentNode:null)?(s.select(t).select("div.vega").remove(),this._el=t=s.select(t).append("div").attr("class","vega").style("position","relative").node(),n._viewport&&s.select(t).style("width",(n._viewport[0]||i)+"px").style("height",(n._viewport[1]||r)+"px").style("overflow","auto"),c.canvas.Renderer.RETINA=u.render.retina,n._renderer=(n._renderer||new this._io.Renderer(u.load)).initialize(t,i,r,o).background(a),e=n._handler,n._handler=(new this._io.Handler).initialize(t,o,n),e?e.handlers().forEach(function(t){n._handler.on(t.type,t.handler)}):n._detach=d(this),this._repaint=!0,this):this},m.destroy=function(){this._detach&&this._detach()},m.update=function(t){t=t||{};var e=this,n=this._model,i=this._streamer,r=this._changeset,o=t.duration?new g(t.duration,t.ease):null;if(o&&(r.trans=o),void 0!==t.props){if(u.keys(r.data).length>0)throw Error("New data values are not reflected in the visualization. Please call view.update() before updating a specified property set.");r.reflow=!0,r.request=t.props}var s=e._build;return e._build=e._build||a.call(this),t.items&&s?(p.update(n,t.trans,t.props,t.items,r.dirty),e._renderNode.evaluate(r)):i.listeners().length&&s?(this._repaint&&i.addListener(n.node()),n.propagate(r,i,null,this._skipSignals),i.disconnect()):n.fire(r),e._changeset=l.ChangeSet.create(),e.autopad(t)},m.toImageURL=function(t){var e,n=this;switch(t||"png"){case"canvas":case"png":e=c.canvas.Renderer;break;case"svg":e=c.svg.string.Renderer;break;default:throw Error("Unrecognized renderer type: "+t)}var i=c.canvas.Renderer.RETINA;c.canvas.Renderer.RETINA=!1;var r=new e(n._model.config.load).initialize(null,n._width,n._height,n._padding).background(n._bgcolor).render(n._model.scene());if(c.canvas.Renderer.RETINA=i,"svg"===t){var o=new Blob([r.svg()],{type:"image/svg+xml"});return window.URL.createObjectURL(o)}return r.canvas().toDataURL("image/png")},m.render=function(t){return this._renderer.render(this._model.scene(),t),this},m.on=function(){return this._handler.on.apply(this._handler,arguments),this},m.onSignal=function(t,e){var n=this._model.signal(t);return n?n.on(e):f.error('Signal "'+t+'" is not defined.'),this},m.off=function(){return this._handler.off.apply(this._handler,arguments),this},m.offSignal=function(t,e){var n=this._model.signal(t);return n?n.off(e):f.error('Signal "'+t+'" is not defined.'),this},i.factory=function(e){var n=t("./HeadlessView");return function(t){t=t||{};var r=e.defs(),o=(t.el?new i:new n).model(e).renderer(t.renderer||"canvas").width(r.width).height(r.height).background(r.background).padding(r.padding).viewport(r.viewport).initialize(t.el);return t.data&&o.data(t.data),t.el&&(t.hover!==!1&&o.on("mouseover",function(t,e){e&&e.hasPropertySet("hover")&&this.update({props:"hover",items:e})}).on("mouseout",function(t,e){e&&e.hasPropertySet("hover")&&this.update({props:"update",items:e})}),t.cursor!==!1&&o.onSignal("cursor",function(t,e){var n=s.select("body");u.isString(e)?(o._cursor="default"===e,n.style("cursor",e)):u.isObject(e)&&o._cursor&&n.style("cursor",e["default"])})),o}},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../parse/streams":107,"../scene/Encoder":111,"../scene/Transition":114,"./HeadlessView":88,datalib:26,"vega-dataflow":41,"vega-logging":48,"vega-scenegraph":49}],91:[function(t,e,n){(function(t){var n="undefined"!=typeof window?window.d3:"undefined"!=typeof t?t.d3:null,i={};i.load={baseURL:"",domainWhiteList:!1},i.autopadInset=5,i.scale={time:n.time.scale,utc:n.time.scale.utc},i.render={retina:!0},i.scene={fill:void 0,fillOpacity:void 0,stroke:void 0,strokeOpacity:void 0,strokeWidth:void 0,strokeDash:void 0,strokeDashOffset:void 0},i.axis={orient:"bottom",ticks:10,padding:3,axisColor:"#000",axisWidth:1,gridColor:"#000",gridOpacity:.15,tickColor:"#000",tickLabelColor:"#000",tickWidth:1,tickSize:6,tickLabelFontSize:11,tickLabelFont:"sans-serif",titleColor:"#000",titleFont:"sans-serif",titleFontSize:11,titleFontWeight:"bold",titleOffset:"auto",titleOffsetAutoMin:30,titleOffsetAutoMax:1/0,titleOffsetAutoMargin:4},i.legend={orient:"right",offset:20,padding:3,margin:2,gradientStrokeColor:"#888",gradientStrokeWidth:1,gradientHeight:16,gradientWidth:100,labelColor:"#000",labelFontSize:10,labelFont:"sans-serif",labelAlign:"left",labelBaseline:"middle",labelOffset:8,symbolShape:"circle",symbolSize:50,symbolColor:"#888",symbolStrokeWidth:1,titleColor:"#000",titleFont:"sans-serif",titleFontSize:11,titleFontWeight:"bold"},i.color={rgb:[128,128,128],lab:[50,0,0],hcl:[0,0,50],hsl:[0,0,.5]},i.range={category10:n.scale.category10().range(),category20:n.scale.category20().range(),category20b:n.scale.category20b().range(),category20c:n.scale.category20c().range(),shapes:["circle","cross","diamond","square","triangle-down","triangle-up"]},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],92:[function(t,e,n){function i(t,e,n){var i=t.schema;i&&(i.refs&&r.extend(n.refs,i.refs),i.defs&&r.extend(n.defs,i.defs))}var r=t("datalib"),o=t("../parse"),a=t("../scene/Scale"),s=t("./config");e.exports=function(t){var e=null;return t=t||{},t.url?e=r.json(r.extend({url:t.url},s.load)):(e={$schema:"http://json-schema.org/draft-04/schema#",title:"Vega Visualization Specification Language",defs:{},refs:{},$ref:"#/defs/spec"},r.keys(o).forEach(function(n){i(o[n],t,e)}),i(a,t,e)),t.properties&&r.keys(t.properties).forEach(function(n){e.defs.propset.properties[n]={$ref:"#/refs/"+t.properties[n]+"Value"}}),t.propertySets&&r.keys(t.propertySets).forEach(function(t){e.defs.mark.properties.properties.properties[t]={$ref:"#/defs/propset"}}),e}},{"../parse":97,"../scene/Scale":113,"./config":91,datalib:26}],93:[function(t,e,n){function i(t,e,n,i){var o=t.config();(e||[]).forEach(function(e,s){n[s]=n[s]||a(t),r(o,e,s,n[s],i)})}function r(t,e,n,i,r){void 0!==e.scale&&i.scale(r.scale(e.scale)),i.orient(e.orient||s[e.type]),i.offset(e.offset||0),i.layer(e.layer||"front"),i.grid(e.grid||!1),i.title(e.title||null),i.titleOffset(null!=e.titleOffset?e.titleOffset:t.axis.titleOffset),i.tickValues(e.values||null),i.tickFormat(e.format||null),i.tickFormatType(e.formatType||null),i.tickSubdivide(e.subdivide||0),i.tickPadding(e.tickPadding||t.axis.padding);var a=[];if(void 0!==e.tickSize)for(var u=0;u<3;++u)a.push(e.tickSize);else{var l=t.axis.tickSize;a=[l,l,l]}null!=e.tickSizeMajor&&(a[0]=e.tickSizeMajor),null!=e.tickSizeMinor&&(a[1]=e.tickSizeMinor),null!=e.tickSizeEnd&&(a[2]=e.tickSizeEnd),a.length&&i.tickSize.apply(i,a),i.tickCount(e.ticks||t.axis.ticks);var c=e.properties;c&&c.ticks?(i.majorTickProperties(c.majorTicks?o.extend({},c.ticks,c.majorTicks):c.ticks),i.minorTickProperties(c.minorTicks?o.extend({},c.ticks,c.minorTicks):c.ticks)):(i.majorTickProperties(c&&c.majorTicks||{}),i.minorTickProperties(c&&c.minorTicks||{})),i.tickLabelProperties(c&&c.labels||{}),i.titleProperties(c&&c.title||{}),i.gridLineProperties(c&&c.grid||{}),i.domainProperties(c&&c.axis||{})}var o=t("datalib"),a=t("../scene/axis"),s={x:"bottom",y:"left",top:"top",bottom:"bottom",left:"left",right:"right"};e.exports=i},{"../scene/axis":115,datalib:26}],94:[function(t,e,n){(function(t){function n(t){return null==t?null:i.rgb(t)+""}var i="undefined"!=typeof window?window.d3:"undefined"!=typeof t?t.d3:null;e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],95:[function(t,e,n){function i(t,e,n){function a(t,e){o.error("PARSE DATA FAILED: "+e.name+" "+t),l=-1,n(t)}function s(e){return function(i,o){if(i)a(i,e);else if(l>0)try{t.data(e.name).values(r.read(o,e.format)),0===--l&&n()}catch(s){a(s,e)}}}var u=t.config(),l=0;return(e||[]).forEach(function(e){e.url&&(l+=1,r.load(r.extend({url:e.url},u.load),s(e)));try{i.datasource(t,e)}catch(n){a(n,e)}}),0===l&&setTimeout(n,1),e}var r=t("datalib"),o=t("vega-logging"),a=t("./transforms"),s=t("./modify");i.datasource=function(t,e){var n=(e.transform||[]).map(function(e){return a(t,e)}),i=(e.modify||[]).map(function(n){return s(t,n,e)}),o=t.data(e.name,i.concat(n));return e.values?o.values(r.read(e.values,e.format)):e.source&&(o.source(e.source).addListener(o),t.removeListener(o.pipeline()[0])),o},e.exports=i},{"./modify":101,"./transforms":108,datalib:26,"vega-logging":48}],96:[function(t,e,n){function i(t,e){return function(n){n=n.map(t);var i=n.length;if(i<2||i>3)throw Error("scale takes exactly 2 or 3 arguments.");return"this.defs.scale(this.model, "+e+", "+n[0]+","+n[1]+(i>2?","+n[2]:"")+")"}}function r(t,e,n,i,r){if(r&&r.scale||(r=r&&r.mark?r.mark.group:t.scene().items[0]),t.group(r._id)!==r)throw Error('Scope for scale "'+n+'" is not a valid group item.');var o=r.scale(n);return o?e?o.invert(i):o(i):i}function o(t,e,n,i){var r=e,o=n;return e>n&&(r=n,o=e),i?r<t&&o>t:r<=t&&o>=t}function a(t){return function(e,n,i,r){var o;if(3!==e.length)throw Error("indata takes 3 arguments.");if("Literal"!==e[0].type)throw Error("Data source name must be a literal for indata.");return o=e[0].value,r[o]=1,"Literal"===e[2].type&&a.model.requestIndex(o,e[2].value),e=e.map(t),"this.defs.indata(this.model,"+e[0]+","+e[1]+","+e[2]+")"}}function s(t,e,n,i){var r=t.data(e),o=r.getIndex(i);return o[n]>0}function u(t,e){return d.format(t,"number")(e)}function l(t,e){return d.format(t,"time")(e)}function c(t,e){return d.format(t,"utc")(e)}function f(t){return function(e){a.model=t;var n=m(e);return n.model=t,n.sig=t?t._signals:{},n}}var h=t("datalib"),d=h.template,p=t("vega-expression"),g=["datum","event","signals"],m=p.compiler(g,{idWhiteList:g,fieldVar:g[0],globalVar:function(t){return"this.sig["+h.str(t)+"]._value"},functions:function(t){var e=p.functions(t);return e.eventItem="event.vg.getItem",e.eventGroup="event.vg.getGroup",e.eventX="event.vg.getX",e.eventY="event.vg.getY",e.open="window.open",e.scale=i(t,!1),e.iscale=i(t,!0),e.inrange="this.defs.inrange",e.indata=a(t),e.format="this.defs.format",e.timeFormat="this.defs.timeFormat",e.utcFormat="this.defs.utcFormat",e},functionDefs:function(){return{scale:r,inrange:o,indata:s,format:u,timeFormat:l,utcFormat:c}}});f.scale=r,f.codegen=m.codegen,e.exports=f},{datalib:26,"vega-expression":46}],97:[function(t,e,n){e.exports={axes:t("./axes"),background:t("./background"),data:t("./data"),events:t("vega-event-selector"),expr:t("./expr"),legends:t("./legends"),mark:t("./mark"),marks:t("./marks"),modify:t("./modify"),padding:t("./padding"),predicates:t("./predicates"),properties:t("./properties"),signals:t("./signals"),spec:t("./spec"),streams:t("./streams"),transforms:t("./transforms")}},{"./axes":93,"./background":94,"./data":95,"./expr":96,"./legends":98,"./mark":99,"./marks":100,"./modify":101,"./padding":102,"./predicates":103,"./properties":104,"./signals":105,"./spec":106,"./streams":107,"./transforms":108,"vega-event-selector":42}],98:[function(t,e,n){function i(t,e,n,i){(e||[]).forEach(function(e,a){n[a]=n[a]||o(t),r(e,a,n[a],i)})}function r(t,e,n,i){n.size(t.size?i.scale(t.size):null),n.shape(t.shape?i.scale(t.shape):null),n.fill(t.fill?i.scale(t.fill):null),n.stroke(t.stroke?i.scale(t.stroke):null),t.orient&&n.orient(t.orient),null!=t.offset&&n.offset(t.offset),n.title(t.title||null),n.values(t.values||null),n.format(void 0!==t.format?t.format:null),n.formatType(t.formatType||null);var r=t.properties;n.titleProperties(r&&r.title||{}),n.labelProperties(r&&r.labels||{}),n.legendProperties(r&&r.legend||{}),n.symbolProperties(r&&r.symbols||{}),n.gradientProperties(r&&r.gradient||{})}var o=t("../scene/legend");e.exports=i},{"../scene/legend":116}],99:[function(t,e,n){function i(t,e){var n=e.properties,a=e.marks;return r.keys(n).forEach(function(i){n[i]=o(t,e.type,n[i])}),e.delay&&(e.delay=o(t,e.type,{delay:e.delay})),a&&(e.marks=a.map(function(e){return i(t,e)})),e}var r=t("datalib"),o=t("./properties");e.exports=i},{"./properties":104,datalib:26}],100:[function(t,e,n){function i(t,e,n,i){return{type:"group",width:n,height:i,properties:r(e.scene||{},t),scales:e.scales||[],axes:e.axes||[],legends:e.legends||[],marks:(e.marks||[]).map(function(e){return o(t,e)})}}function r(t,e){var n,i,r,o,u,l=e.config().scene,c={};for(n=0,i=r=s.length;n<i;++n)o=s[n],void 0!==(u=t[o])?c[o]=u.signal?u:{value:u}:l[o]?c[o]={value:l[o]}:--r;return r?{update:a(e,"group",c)}:{}}var o=t("./mark"),a=t("./properties"),s=["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","strokeDash","strokeDashOffset"];e.exports=i},{"./mark":99,"./properties":104}],101:[function(t,e,n){function i(t,e,n,i){var r,o,a,s,u=!0,l=t.length;for(r=n.length-1;r>=0;--r){for(o=0;o<l;++o)if(a=t[o],s=e&&a(e)||e,a(n[r])!==s){u=!1;break}u&&i.push.apply(i,n.splice(r,1)),u=!0}}function r(t,e,n){var i=c.ingest(e);t.add.push(i),n._data.push(i)}function o(t,e,n){var o=e.signal?a.field(e.signal):null,u=o?o[0]:null,p=e.predicate?t.predicate(e.predicate.name||e.predicate):null,g=e.test?t.expr(e.test):null,m=null===p&&null===g,v=e.type===h.CLEAR,y=a.array(e.field||"data"),b=y.map(a.accessor),_=y.map(a.mutator),x=new l(t).router(v);return x.evaluate=function(l){var x,w;if(null!==p&&(x=t.values(f.DATA,p.data||d),w=t.values(f.SIGNALS,p.signals||d),m=p.call(p,{},x,w,t._predicates)),null!==g&&(w=t.values(f.SIGNALS,g.globals||d),m=g.fn()),s.debug(l,[e.type+"ing",m]),!m||!v&&!l.signals[u])return l;var k,E=o?t.signalRef(e.signal):null,S=t.data(n.name),C=null,T=[],M=[],A=0;return a.isObject(E)?(k=E,e.field||(y=a.keys(k),b=y.map(a.accessor),_=y.map(a.mutator))):(k={},_.forEach(function(t){t(k,E)})),e.type===h.INSERT?r(l,k,S):e.type===h.REMOVE?(i(b,E,l.mod,l.rem),i(b,E,l.add,M),i(b,E,S._data,M)):e.type===h.UPSERT?(l.mod.forEach(function(t){var e=b.every(function(e){return e(t)===e(k)});e&&(a.extend(t,k),A+=1)}),0===A&&r(l,k,S)):e.type===h.TOGGLE?(i(b,E,l.mod,M),l.rem.push.apply(l.rem,M),i(b,E,l.add,T),T.length||M.length?S._data=S._data.filter(function(t){return M.indexOf(t)<0&&T.indexOf(t)<0}):(l.add.push(C=c.ingest(k)),S._data.push(C))):e.type===h.CLEAR&&(l.rem.push.apply(l.rem,l.mod.splice(0)),l.add.splice(0),S._data.splice(0)),y.forEach(function(t){l.fields[t]=1}),l},u&&x.dependency(f.SIGNALS,u),p&&(x.dependency(f.DATA,p.data),x.dependency(f.SIGNALS,p.signals)),g&&(x.dependency(f.SIGNALS,g.globals),x.dependency(f.DATA,g.dataSources)),x}var a=t("datalib"),s=t("vega-logging"),u=t("vega-dataflow"),l=u.Node,c=u.Tuple,f=u.Dependencies,h={INSERT:"insert",REMOVE:"remove",UPSERT:"upsert",TOGGLE:"toggle",CLEAR:"clear"},d=[];e.exports=o},{datalib:26,"vega-dataflow":41,"vega-logging":48}],102:[function(t,e,n){function i(t){return null==t?"auto":r.isObject(t)?t:r.isNumber(t)?{top:t,left:t,right:t,bottom:t}:"strict"===t?t:"auto"}var r=t("datalib");e.exports=i},{datalib:26}],103:[function(t,e,n){function i(t,e){return(e||[]).forEach(function(e){var n=f[e.type](t,e),i=Function("args","db","signals","predicates",n.code);i.root=function(){return t.scene().items[0]},i.nullScale=h,i.isFunction=c.isFunction,i.signals=n.signals,i.data=n.data,t.predicate(e.name,i)}),e}function r(t,e){var n=c.field(t),i="signals["+n.map(c.str).join("][")+"]";return e[n[0]]=1,i}function o(t,e){function n(t){s[t]=1}function i(t){u[t]=1}var o=[],a=[],s={},u={};return c.array(e).forEach(function(e,u){var l="o"+u,f="";if(void 0!==e.value)f=c.str(e.value);else if(e.arg)f="args["+c.str(e.arg)+"]";else if(e.signal)f=r(e.signal,s);else if(e.predicate){var h=e.predicate,d=h&&(h.name||h),p=t.predicate(d),g="predicates["+c.str(d)+"]";p.signals.forEach(n),p.data.forEach(i),c.isObject(h)&&c.keys(h).forEach(function(t){if("name"!==t){var e=h[t];f+="args["+c.str(t)+"] = ",e.signal?f+=r(e.signal,s):e.arg&&(f+="args["+c.str(e.arg)+"]"),f+=", "}}),f+=g+".call("+g+", args, db, signals, predicates)"}o.push(l),a.push(l+"=("+f+")")}),{code:"var "+o.join(", ")+";\n"+a.join(";\n")+";\n",signals:c.keys(s),data:c.keys(u)}}function a(t,e){var n=o(t,e.operands);return"="===e.type&&(e.type="=="),n.code+="o0 = o0 instanceof Date ? o0.getTime() : o0;\no1 = o1 instanceof Date ? o1.getTime() : o1;\n",{code:n.code+"return "+["o0","o1"].join(e.type)+";",signals:n.signals,data:n.data}}function s(t,e){for(var n=o(t,e.operands),i=[],r=0,a=e.operands.length;i.push("o"+r++)<a;);return"and"===e.type?e.type="&&":"or"===e.type&&(e.type="||"),{code:n.code+"return "+i.join(e.type)+";",signals:n.signals,data:n.data}}function u(t,e){var n=[e.item],i="";e.range&&n.push.apply(n,e.range),e.scale&&(i=l(e.scale,n));var r=o(t,n);if(i=r.code+i+"\n  var ordSet = null;\n",e.data){var a=c.field(e.field).map(c.str);i+="var where = function(d) { return d["+a.join("][")+"] == o0 };\n",i+="return db["+c.str(e.data)+"].filter(where).length > 0;"}else e.range&&(e.scale&&(i+="if (scale.length == 2) {\n  ordSet = scale(o1, o2);\n} else {\n  o1 = scale(o1);\no2 = scale(o2);\n}"),i+="return ordSet !== null ? ordSet.indexOf(o0) !== -1 :\n  o1 < o2 ? o1 <= o0 && o0 <= o2 : o2 <= o0 && o0 <= o1;");return{code:i,signals:r.signals,data:r.data.concat(e.data?[e.data]:[])}}function l(t,e){var n="var scale = ",i=e.length;return c.isString(t)?(e.push({value:t}),n+="this.root().scale(o"+i+")"):t.arg?(e.push(t),n+="o"+i):t.name&&(e.push(c.isString(t.name)?{value:t.name}:t.name),n+="(this.isFunction(o"+i+") ? o"+i+" : ",t.scope?(e.push(t.scope),n+="((o"+(i+1)+".scale || this.root().scale)(o"+i+") || this.nullScale)"):n+="this.root().scale(o"+i+")",n+=")"),t.invert===!0&&(n+=".invert"),n+";\n"}var c=t("datalib"),f={"=":a,"==":a,"!=":a,">":a,">=":a,"<":a,"<=":a,and:s,"&&":s,or:s,"||":s,"in":u},h=function(){return 0};h.invert=h,e.exports=i},{datalib:26}],104:[function(t,e,n){(function(n){function i(t,e,n){function i(t){if(null!=m[t]){var e,n,i=h.array(m[t]);for(e=0,n=i.length;e<n;++e)w[t][i[e]]=1}}function r(t){var e=(t.parent?"parent_":"group_")+t.level;w._nRefs[e]=t}var u,l,c,m,v=t.config(),y="",b=h.keys(n),_=[],x={},w={signals:{},scales:{},data:{},fields:{},nested:[],_nRefs:{},reflow:!1};for(y+="var o = trans ? {} : item, d=0, exprs=this.exprs, set=this.tpl.set, tmpl=signals||{}, t;\ntmpl.datum  = item.datum;\ntmpl.group  = group;\ntmpl.parent = group.datum;\n",u=0,l=b.length;u<l;++u)m=n[c=b[u]],y+=u>0?"\n  ":"  ",m.rule?(m=a(t,c,m.rule,_),y+="\n  "+m.code):h.isArray(m)?(m=a(t,c,m,_),y+="\n  "+m.code):(m=s(v,c,m),
y+="d += set(o, "+h.str(c)+", "+m.val+");"),x[c]=!0,g.forEach(i),w.reflow=w.reflow||m.reflow,m.nested.length&&m.nested.forEach(r);h.keys(w._nRefs).forEach(function(t){w.nested.push(w._nRefs[t])}),w.nested.sort(function(t,e){return t=t.level,e=e.level,t<e?-1:t>e?1:t>=e?0:NaN}),x.x2&&(x.x?(y+="\n  if (o.x > o.x2) { \n    t = o.x;\n    d += set(o, 'x', o.x2);\n    d += set(o, 'x2', t); \n  };",y+="\n  d += set(o, 'width', (o.x2 - o.x));"):y+=x.width?"\n  d += set(o, 'x', (o.x2 - o.width));":"\n  d += set(o, 'x', o.x2);"),x.xc&&(y+=x.width?"\n  d += set(o, 'x', (o.xc - o.width/2));":"\n  d += set(o, 'x', o.xc);"),x.y2&&(x.y?(y+="\n  if (o.y > o.y2) { \n    t = o.y;\n    d += set(o, 'y', o.y2);\n    d += set(o, 'y2', t);\n  };",y+="\n  d += set(o, 'height', (o.y2 - o.y));"):y+=x.height?"\n  d += set(o, 'y', (o.y2 - o.height));":"\n  d += set(o, 'y', o.y2);"),x.yc&&(y+=x.height?"\n  d += set(o, 'y', (o.yc - o.height/2));":"\n  d += set(o, 'y', o.yc);"),o(e,x)&&(y+="\n  d += (item.touch(), 1);"),y+="\n  if (trans) trans.interpolate(item, o);",y+="\n  return d > 0;";try{var k=Function("item","group","trans","db","signals","predicates",y);return k.tpl=p,k.exprs=_,k.util=h,k.d3=f,h.extend(k,h.template.context),{encode:k,signals:h.keys(w.signals),scales:h.keys(w.scales),data:h.keys(w.data),fields:h.keys(w.fields),nested:w.nested,reflow:w.reflow}}catch(E){d.error(E),d.log(y)}}function r(t,e){return h.isObject(t)||(t={reflow:!1,nested:[]},g.forEach(function(e){t[e]=[]})),h.isObject(e)&&(t.reflow=t.reflow||e.reflow,t.nested.push.apply(t.nested,e.nested),g.forEach(function(n){t[n].push.apply(t[n],e[n])})),t}function o(t,e){return e.path||("area"===t||"line"===t)&&(e.x||e.x2||e.width||e.y||e.y2||e.height||e.tension||e.interpolate)}function a(t,e,n,i){var o=t.config(),a=r(),u=[],l="";return(n||[]).forEach(function(c,f){var d=s(o,e,c);if(r(a,d),c.test){var p=t.expr(c.test);a.signals.push.apply(a.signals,p.globals),a.data.push.apply(a.data,p.dataSources),l+="if (exprs["+i.length+"](item.datum, null)) {\n    d += set(o, "+h.str(e)+", "+d.val+");",l+=n[f+1]?"\n  } else ":"  }",i.push(p.fn)}else{var g=c.predicate,m=g&&(g.name||g),v=t.predicate(m),y="predicates["+h.str(m)+"]",b=[],_=e+"_arg"+f;h.isObject(g)&&h.keys(g).forEach(function(t){if("name"!==t){var e=s(o,f,g[t],!0);b.push(h.str(t)+": "+e.val),r(a,e)}}),m?(a.signals.push.apply(a.signals,v.signals),a.data.push.apply(a.data,v.data),u.push(_+" = {\n    "+b.join(",\n    ")+"\n  }"),l+="if ("+y+".call("+y+","+_+", db, signals, predicates)) {\n    d += set(o, "+h.str(e)+", "+d.val+");",l+=n[f+1]?"\n  } else ":"  }"):l+="{\n    d += set(o, "+h.str(e)+", "+d.val+");\n  }\n"}}),u.length&&(l="var "+u.join(",\n      ")+";\n  "+l),a.code=l,a}function s(t,e,n,i){if(null==n)return null;if("fill"===e||"stroke"===e){if(n.c)return u(t,"hcl",n.h,n.c,n.l);if(n.h||n.s)return u(t,"hsl",n.h,n.s,n.l);if(n.l||n.a)return u(t,"lab",n.l,n.a,n.b);if(n.r||n.g||n.b)return u(t,"rgb",n.r,n.g,n.b)}var o=null,a=null,s=r(),f=null,d=null,p=null,g={};return void 0!==n.template&&(o=h.template.source(n.template,"tmpl",g),h.keys(g).forEach(function(t){var e=h.field(t),n=e.shift();"parent"===n||"group"===n?s.nested.push({parent:"parent"===n,group:"group"===n,level:1}):"datum"===n?s.fields.push(e[0]):s.signals.push(n)})),void 0!==n.value&&(o=h.str(n.value)),void 0!==n.signal&&(f=h.field(n.signal),o="signals["+f.map(h.str).join("][")+"]",s.signals.push(f.shift())),void 0!==n.field&&(n.field=h.isString(n.field)?{datum:n.field}:n.field,d=l(n.field),o=d.val,r(s,d)),void 0!==n.scale&&(p=c(n.scale),a=p.val,r(s,p),s.scales.push(n.scale.name||n.scale),null!==o||n.band||n.mult||n.offset||!i?o=a+(n.band?".rangeBand()":"("+(null!==o?o:"item.datum.data")+")"):i&&(o=a)),o="("+(n.mult?h.number(n.mult)+" * ":"")+o+")"+(n.offset?" + "+h.number(n.offset):""),s.val=o,s}function u(t,e,n,i,o){var a=n?s(t,"",n):t.color[e][0],u=i?s(t,"",i):t.color[e][1],l=o?s(t,"",o):t.color[e][2],c=r();[a,u,l].forEach(function(t){h.isArray||r(c,t)});var f="(this.d3."+e+"("+[a.val,u.val,l.val].join(",")+') + "")';return c.val=f,c}function l(t){if(h.isString(t))return{val:h.field(t).map(h.str).join("][")};var e=t.level||1,n=(t.group||t.parent)&&e,i=n?Array(e).join("group.mark."):"",o=l(t.datum||t.group||t.parent||t.signal),a=o.val,s=r(null,o);return t.datum?(a="item.datum["+a+"]",s.fields.push(t.datum)):t.group?(a=i+"group["+a+"]",s.nested.push({level:e,group:!0})):t.parent?(a=i+"group.datum["+a+"]",s.nested.push({level:e,parent:!0})):t.signal&&(a="signals["+a+"]",s.signals.push(h.field(t.signal)[0]),s.reflow=!0),s.val=a,s}function c(t){var e=null,n=null,i=r();return e=h.isString(t)?h.str(t):t.name?h.isString(t.name)?h.str(t.name):(n=l(t.name)).val:(n=l(t)).val,e="(item.mark._scaleRefs["+e+"] = 1, group.scale("+e+"))",t.invert&&(e+=".invert"),n&&n.nested.forEach(function(t){t.scale=!0}),n?(n.val=e,n):(i.val=e,i)}var f="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,h=t("datalib"),d=t("vega-logging"),p=t("vega-dataflow").Tuple,g=["signals","scales","data","fields"];e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{datalib:26,"vega-dataflow":41,"vega-logging":48}],105:[function(t,e,n){function i(t,e){return(e||[]).forEach(function(e){if(u.indexOf(e.name)!==-1)throw Error('Signal name "'+e.name+'" is a reserved keyword ('+u.join(", ")+").");var n=t.signal(e.name,e.init).verbose(e.verbose);e.init&&e.init.expr&&(e.init.expr=t.expr(e.init.expr),n.value(r(t,e.init))),e.expr&&(e.expr=t.expr(e.expr),n.evaluate=function(i){var o=r(t,e),a=i.signals;return(o!==n.value()||n.verbose())&&(n.value(o),a[e.name]=1),a[e.name]?i:t.doNotPropagate},n.dependency(s,e.expr.globals),e.expr.globals.forEach(function(e){t.signal(e).addListener(n)}))}),e}function r(t,e){var n=e.expr,r=n.fn();return e.scale?i.scale(t,e,r):r}var o=t("datalib"),a=t("./expr"),s=t("vega-dataflow").Dependencies.SIGNALS,u=["datum","event","signals","width","height","padding"].concat(o.keys(a.codegen.functions));i.scale=function(t,e,n,i,r){var s,u=e.scale,l=u.name||u.signal||u,c=u.scope;return c&&(c.signal?c=t.signalRef(c.signal):o.isString(c)&&(s=u._expr=u._expr||t.expr(c),c=s.fn(i,r))),a.scale(t,u.invert,l,n,c)},e.exports=i},{"./expr":96,datalib:26,"vega-dataflow":41}],106:[function(t,e,n){function i(e){function n(e){try{e=r.duplicate(e);var n=t("./"),o=e.width||500,a=e.height||500,s=n.padding(e.padding);h.signal("width",o),h.signal("height",a),h.signal("padding",s),i(e),h.defs({width:o,height:a,padding:s,viewport:e.viewport||null,background:n.background(e.background),signals:n.signals(h,e.signals),predicates:n.predicates(h,e.predicates),marks:n.marks(h,e,o,a),data:n.data(h,e.data,u)})}catch(l){u(l)}}function i(t){var e,n=t.signals||(t.signals=[]);n.some(function(t){return"cursor"===t.name&&(e=t,!0)}),e||n.push(e={name:"cursor",streams:[]}),e.init=e.init||{},e.streams.unshift({type:"mousemove",expr:"eventItem().cursor === cursor.default ? cursor : {default: eventItem().cursor}"})}function u(t){var e;t?o.error(t):e=d(h.buildIndexes()),f&&(f.length>1?f(t,e):t||f(e),f=null)}var l=arguments.length,c=2,f=arguments[l-1],h=new a,d=s.factory;if(l>c&&r.isFunction(arguments[l-c])&&(d=arguments[l-c],++c),l>c&&r.isObject(arguments[l-c])&&h.config(arguments[l-c]),r.isObject(e))n(e);else if(r.isString(e)){var p=r.extend({url:e},h.config().load);r.json(p,function(t,e){t?u("SPECIFICATION LOAD FAILED: "+t):n(e)})}else u("INVALID SPECIFICATION: Must be a valid JSON object or URL.")}var r=t("datalib"),o=t("vega-logging"),a=t("../core/Model"),s=t("../core/View");e.exports=i},{"../core/Model":89,"../core/View":90,"./":97,datalib:26,"vega-logging":48}],107:[function(t,e,n){(function(n){function i(t){function e(e,n){var i,o,a,s=r.mouse((r.event=e,t.renderer().scene())),u=t.padding(),l={};if(n)for(i=n.mark,o="group"===i.marktype?n:i.group,a=n;null!=a;a=a.mark.group)a.mark.def.name&&(l[a.mark.def.name]=a);l.root=t.model().scene().items[0],e.vg=Object.create(f),e.vg.group=o,e.vg.item=n||{},e.vg.name=l,e.vg.x=s[0]-u.left,e.vg.y=s[1]-u.top}function n(t,e,n,i){function r(t){return!t.fn(n,i)}var o,s,l,c,f=t.handlers[e],h=t.nodes[e],d=a.ChangeSet.create(null,!0),p=!1;for(s=0,l=f.length;s<l;++s)c=f[s],p=c.filters.some(r),p||(o=c.exp.fn(n,i),c.spec.scale&&(o=u.scale(g,c.spec,o,n,i)),(o!==c.signal.value()||c.signal.verbose())&&(c.signal.value(o),d.signals[c.signal.name()]=1));g.propagate(d,h)}function i(t,e,n,r){e.forEach(function(e){e.event?h(t,e,n,r):e.signal?d(t,e,n,r):e.start?p(t,e,n,r):e.stream&&(e.filters&&e.stream.forEach(function(t){t.filters=o.array(t.filters).concat(e.filters)}),i(t,e.stream,n,r))})}function h(t,e,n,i){var r=e.event,s=e.name,u=e.mark,l=e.target,c=o.array(e.filters),f=l?x:_,h=l?l+":"+r:r,d=f.nodes[h]||(f.nodes[h]=new a.Node(g)),p=f.handlers[h]||(f.handlers[h]=[]);s?c.push('!!event.vg.name["'+s+'"]'):u&&c.push("event.vg.item.mark && event.vg.item.mark.marktype==="+o.str(u)),p.push({signal:t,exp:n,spec:i,filters:c.map(function(t){return g.expr(t)})}),d.addListener(t)}function d(t,e,n,i){var r=t.name(),o=g.signal(r+c,null);o.evaluate=function(o){if(!o.signals[e.signal])return g.doNotPropagate;var a=n.fn();return i.scale&&(a=u.scale(g,i,a)),(a!==t.value()||t.verbose())&&(t.value(a),o.signals[r]=1,o.reflow=!0),o},o.dependency(a.Dependencies.SIGNALS,e.signal),o.addListener(t),g.signal(e.signal).addListener(o)}function p(t,e,n,r){var o=t.name(),a=o+l,s=e.middle,u=s.filters||(s.filters=[]),c=g.signal(a)||g.signal(a,!1);i(c,[e.start],m,{}),i(c,[e.end],v,{}),u.push(c.name()),i(t,[e.middle],n,r)}var g=t.model(),m=g.expr("true"),v=g.expr("false"),y=g.defs().signals,b={handlers:{},nodes:{}},_=o.duplicate(b),x=o.duplicate(b);return o.array(y).forEach(function(t){var e=g.signal(t.name);t.expr||o.array(t.streams).forEach(function(t){var n=s.parse(t.type),r=g.expr(t.expr);i(e,n,r,t)})}),o.keys(_.handlers).forEach(function(i){t.on(i,function(t,r){t.preventDefault(),e(t,r),n(_,i,r&&r.datum||{},t)})}),o.keys(x.handlers).forEach(function(t){function i(i){e(i),n(x,t,r.select(this).datum(),i)}if("undefined"!=typeof window){for(var o=x.handlers[t],a=t.split(":"),s="window"===a[0]?[window]:window.document.querySelectorAll(a[0]),u=0;u<s.length;++u)s[u].addEventListener(a[1],i);o.elements=s,o.listener=i}}),x.detach=function(){o.keys(x.handlers).forEach(function(t){for(var e=x.handlers[t],n=t.split(":"),i=o.array(e.elements),r=0;r<i.length;++r)i[r].removeEventListener(n[1],e.listener)})},x.detach}var r="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,o=t("datalib"),a=t("vega-dataflow"),s=t("vega-event-selector"),u=t("./signals"),l="_vgGATEKEEPER",c="_vgEVALUATOR",f={getItem:function(){return this.item},getGroup:function(t){return t?this.name[t]:this.group},getXY:function(t){var e={x:this.x,y:this.y};for("string"==typeof t&&(t=this.name[t]);t;t=t.mark&&t.mark.group)e.x-=t.x||0,e.y-=t.y||0;return e},getX:function(t){return this.getXY(t).x},getY:function(t){return this.getXY(t).y}};e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./signals":105,datalib:26,"vega-dataflow":41,"vega-event-selector":42}],108:[function(t,e,n){function i(t,e){var n,i=o[e.type];if(!i)throw new Error('"'+e.type+'" is not a valid transformation');return n=new i(t),e.output&&n.output(e.output),r.keys(e).forEach(function(t){"type"!==t&&"output"!==t&&n.param(t,e[t])}),n}var r=t("datalib"),o=t("../transforms/index");e.exports=i},{"../transforms/index":145,datalib:26}],109:[function(t,e,n){function i(t,e){return this._mark=e,s.prototype.init.call(this,t).router(!0).reflows(!0).mutates(!0)}var r=t("datalib"),o=t("vega-dataflow"),a=t("vega-scenegraph"),s=o.Node,u=t("vega-logging"),l=a.bound,c=a.Bounds,f=t("./Encoder"),h=i.prototype=new s;h.evaluate=function(t){u.debug(t,["bounds",this._mark.marktype]);var e,n,i,a,s,h,d=this._mark,p=d.marktype,g="group"===p,m=d.items,v=r.array(d.def.legends).length>0,y=d.bounds,b=!y||t.rem.length;if("line"===p||"area"===p)l.mark(d,null,g&&!v);else if(t.add.forEach(function(t){l.item(t),b=b||y&&!y.encloses(t.bounds)}),t.mod.forEach(function(t){b=b||y&&y.alignsWith(t.bounds),l.item(t)}),b)for(y=d.bounds&&d.bounds.clear()||(d.bounds=new c),e=0,n=m.length;e<n;++e)y.union(m[e].bounds);if(g&&v){for(e=0,n=m.length;e<n;++e)for(s=m[e],s._legendPositions=null,i=0,a=s.legendItems.length;i<a;++i)h=s.legendItems[i],f.update(this._graph,t.trans,"legendPosition",h.items,t.dirty),l.mark(h,null,!1);l.mark(d,null,!0)}return o.ChangeSet.create(t,!0)},e.exports=i},{"./Encoder":111,datalib:26,"vega-dataflow":41,"vega-logging":48,"vega-scenegraph":49}],110:[function(t,e,n){function i(){return arguments.length?this.init.apply(this,arguments):this}function r(){var t,e,n,i,r,o,a,s=this._def.from,u=s.mark;if(u)i=this.sibling(u),t=i._isSuper?i:i._bounder,e=["vg",this._parent_id,u,t.listeners(!0).length].join("_"),n={name:e,transform:s.transform,modify:s.modify};else{if(t=this._graph.data(this._from),!t)throw Error('Data source "'+this._from+'" is not defined.');e=["vg",this._from,this._def.type,t.listeners(!0).length].join("_"),n={name:e,source:this._from,transform:s.transform,modify:s.modify}}this._from=e,this._ds=b.datasource(this._graph,n),u?(a=new h(this._graph).addListener(this._ds.listener()),a.evaluate=function(t){var e=g.create(t),n=i._output;return e.add=n.add,e.mod=n.mod,e.rem=n.rem,e},t.addListener(a)):(r=this._ds.source().last(),o=g.create(r),o.add=r.add,o.mod=r.mod,o.rem=r.rem,o.stamp=null,this._graph.propagate(o,this._ds.listener(),r.stamp))}function o(){var t=p.ingest(new c(this._mark));return this._def.width&&p.set(t,"width",this._def.width),this._def.height&&p.set(t,"height",this._def.height),t}function a(t,e,n,i,r){var a,u,l,c,f,h,d,g=s(this._def.key||(i?"_id":null)),m=this._mark.items||[],v=i?t.rem:m,y=p.idMap(!i||r?n:t.mod),b=[];for(a=0,l=v.length;a<l;++a)c=v[a]===m[a]?m[a]:g?this._map[g(v[a])]:v[a],c.status=_.EXIT;for(a=0,l=n.length;a<l;++a)f=n[a],c=g?this._map[u=g(f)]:m[a],h=!c&&(c=o.call(this),!0),c.status=h?_.ENTER:_.UPDATE,d=!h&&c.datum!==f,c.datum=f,g&&(p.set(c,"key",u),this._map[u]=c),h?e.add.push(c):(d||y[f._id])&&e.mod.push(c),b.push(c);for(a=0,l=v.length;a<l;++a)c=v[a]===m[a]?m[a]:g?this._map[u=g(v[a])]:v[a],c.status===_.EXIT&&(c._dirty=!0,t.dirty.push(c),b.push(c),e.rem.push(c),g&&(this._map[u]=null));return this._mark.items=b,e}function s(t){if(null==t)return null;var e=u.array(t).map(u.accessor);return function(t){for(var n="",i=0,r=e.length;i<r;++i)i>0&&(n+="|"),n+=String(e[i](t));return n}}var u=t("datalib"),l=t("vega-logging"),c=t("vega-scenegraph").Item,f=t("vega-dataflow"),h=f.Node,d=f.Dependencies,p=f.Tuple,g=f.ChangeSet,m={},v=t("./Encoder"),y=t("./Bounder"),b=t("../parse/data"),_=i.STATUS={ENTER:"enter",UPDATE:"update",EXIT:"exit"},x=1,w=2,k=i.prototype=new h;k.init=function(t,e,n,i,o,a){return h.prototype.init.call(this,t).router(!0).collector(!0),this._def=e,this._mark=n,this._from=(e.from?e.from.data:null)||a,this._ds=u.isString(this._from)?t.data(this._from):null,this._map={},this._status=null,n.def=e,n.marktype=e.type,n.interactive=e.interactive!==!1,n.items=[],u.isValid(e.name)&&(n.name=e.name),this._parent=i,this._parent_id=o,e.from&&(e.from.mark||e.from.transform||e.from.modify)&&r.call(this),this._isSuper="group"!==this._def.type,this._encoder=new v(this._graph,this._mark,this),this._bounder=new y(this._graph,this._mark),this._output=null,this._ds&&this._encoder.dependency(d.DATA,this._from),this.dependency(d.DATA,this._encoder.dependency(d.DATA)),this.dependency(d.SCALES,this._encoder.dependency(d.SCALES)),this.dependency(d.SIGNALS,this._encoder.dependency(d.SIGNALS)),this},k.ds=function(){return this._ds},k.parent=function(){return this._parent},k.encoder=function(){return this._encoder},k.pipeline=function(){return[this]},k.connect=function(){var t=this;return this._graph.connect(this.pipeline()),this._encoder._scales.forEach(function(e){(e=t._parent.scale(e))&&e.addListener(t)}),this._parent&&(this._isSuper?this.addListener(this._parent._collector):this._bounder.addListener(this._parent._collector)),this._status=x,this},k.disconnect=function(){function t(t){for(var n,i=0,r=t.length;i<r;++i)(n=e._parent.scale(t[i]))&&n.removeListener(e)}var e=this;return this._listeners.length?(h.prototype.disconnect.call(this),this._graph.disconnect(this.pipeline()),t(this._encoder._scales),t(u.keys(this._mark._scaleRefs)),this._status=w,this):this},k.sibling=function(t){return this._parent.child(t,this._parent_id)},k.evaluate=function(t){l.debug(t,["building",this._from||this._def.from,this._def.type]);var e,n,i,r,o=this,s=this._mark.def,c=s.properties||{},f=c.update||{},h=g.create(t);if(this._ds){if(i=h.data[r=this._ds.name()],h.data[r]=null,e=this._encoder.reevaluate(h),h.data[r]=i,n=this._ds.last(),!n)throw Error("Builder evaluated before backing DataSource.");n.stamp>this._stamp?a.call(this,n,h,this._ds.values(),!0,e):e&&(h.mod=this._mark.items.slice())}else i=u.isFunction(this._def.from)?this._def.from():[m],a.call(this,t,h,i);return this._output=h=this._graph.evaluate(h,this._encoder),f.nested&&f.nested.length&&this._status===x&&u.keys(this._mark._scaleRefs).forEach(function(t){var e=o._parent.scale(t);e&&(e.addListener(o),o.dependency(d.SCALES,t),o._encoder.dependency(d.SCALES,t))}),this._isSuper&&(h.mod=h.mod.filter(function(t){return t._dirty}),h=this._graph.evaluate(h,this._bounder)),h},e.exports=i},{"../parse/data":95,"./Bounder":109,"./Encoder":111,datalib:26,"vega-dataflow":41,"vega-logging":48,"vega-scenegraph":49}],111:[function(t,e,n){function i(t,e,n){var i=e.def.properties||{},r=i.enter,o=i.update,a=i.exit;c.prototype.init.call(this,t),this._mark=e,this._builder=n;var s=this._scales=[];return r&&s.push.apply(s,r.scales),o&&(this.dependency(f.DATA,o.data),this.dependency(f.SIGNALS,o.signals),this.dependency(f.FIELDS,o.fields),this.dependency(f.SCALES,o.scales),s.push.apply(s,o.scales)),a&&s.push.apply(s,a.scales),this.mutates(!0)}function r(t,e,n,i){var r,o,a,s=n.add.length;return(r=i.enter)&&(o=r[t]).length&&s&&(a=e.values(t,o,a=a||{})),(r=i.exit)&&(o=r[t]).length&&n.rem.length&&(a=e.values(t,o,a=a||{})),(r=i.update)&&(o=r[t]).length&&(s||n.mod.length)&&(a=e.values(t,o,a=a||{})),a||d}function o(t,e,n,i,r,o,a){var s=t.encode,u=e._dirty,l=s.call(s,e,e.mark.group||e,n,i,r,o);e._dirty=l||u,l&&!u&&a.push(e)}function a(){for(var t,e,n,i=this._mark.def.properties.update.nested,r=this._builder,o=0,a=0,s=i.length;a<s;++a)if(t=i[a],!t.scale){for(;o<t.level;++o)r=r.parent(),e=r.ds();if(n=(t.group?r.encoder():e.last())._stamp,n>this._stamp)return!0}return!1}var s=t("datalib"),u=t("vega-logging"),l=t("vega-dataflow"),c=l.Node,f=l.Dependencies,h=t("vega-scenegraph").bound,d={},p=i.prototype=new c;p.evaluate=function(e){u.debug(e,["encoding",this._mark.def.type]);var n,i,a,s,l=this._graph,c=this._mark.def.properties||{},h=this._mark.items,p=c.enter,g=c.update,m=c.exit,v=e.dirty,y=l.predicates(),b=e.request,_=this._mark.group,x=_&&(_.mark.axis||_.mark.legend),w=d,k=d;if(b&&!x){if((s=c[b])&&e.mod.length)for(w=s.data?l.values(f.DATA,s.data):null,k=s.signals?l.values(f.SIGNALS,s.signals):null,n=0,i=e.mod.length;n<i;++n)a=e.mod[n],o.call(this,s,a,e.trans,w,k,y,v);return e}for(w=r(f.DATA,l,e,c),k=r(f.SIGNALS,l,e,c),n=0,i=e.rem.length;n<i;++n)a=e.rem[n],m&&o.call(this,m,a,e.trans,w,k,y,v),e.trans&&!m?e.trans.interpolate(a,d):e.trans||h.pop();var E=t("./Builder").STATUS.UPDATE;for(n=0,i=e.add.length;n<i;++n)a=e.add[n],p&&o.call(this,p,a,e.trans,w,k,y,v),g&&o.call(this,g,a,e.trans,w,k,y,v),a.status=E;if(g)for(n=0,i=e.mod.length;n<i;++n)a=e.mod[n],o.call(this,g,a,e.trans,w,k,y,v);return e},p.reevaluate=function(t){var e=this._mark.def,n=e.properties||{},i=s.isFunction(e.from)||e.orient||t.request||c.prototype.reevaluate.call(this,t);return i||!!n.update&&a.call(this)},i.update=function(t,e,n,i,r){i=s.array(i);var a,u,l,c,d,p=t.predicates(),g=t.values(f.DATA),m=t.values(f.SIGNALS);for(a=0,u=i.length;a<u;++a)l=i[a],c=l.mark.def.properties,d=c&&c[n],d&&(o.call(null,d,l,e,g,m,p,r),h.item(l))},e.exports=i},{"./Builder":110,datalib:26,"vega-dataflow":41,"vega-logging":48,"vega-scenegraph":49}],112:[function(t,e,n){function i(){return this._children={},this._scaler=null,this._recursor=null,this._scales={},this.scale=o.bind(this),arguments.length?this.init.apply(this,arguments):this}function r(t){function e(t){t.type!=x.MARK||t.inline||void 0===m._graph.data(t.from)||m._recursor.removeListener(t.builder)}function n(e){var n=e.scale();t.scales[n.scaleName]&&e.reset().def()}function i(e){var n=e.size()||e.shape()||e.fill()||e.stroke();t.scales[n.scaleName]&&e.reset().def()}function r(t){m._recursor.removeListener(t.builder),t.builder.disconnect()}var o,a,f,h,d,p,g,m=this,v=c.array(this._def.marks).length>0,y=c.array(this._def.axes).length>0,b=c.array(this._def.legends).length>0,_=!1;for(o=0,h=t.add.length;o<h;++o)d=t.add[o],v&&s.call(this,t,d),y&&u.call(this,t,d),b&&l.call(this,t,d);for(o=t.add.length-1;o>=0;--o)for(d=t.add[o],a=this._children[d._id].length-1;a>=0;--a)f=this._children[d._id][a],f.builder.connect(),p=f.builder.pipeline(),g=f.builder._def,_=g.type!==x.GROUP,_=_&&void 0!==this._graph.data(f.from),_=_&&1===p[p.length-1].listeners().length,_=_&&g.from&&!g.from.mark,f.inline=_,_?this._graph.evaluate(t,f.builder):this._recursor.addListener(f.builder);for(o=0,h=t.mod.length;o<h;++o)d=t.mod[o],v&&m._children[d._id].forEach(e),y&&d.axes.forEach(n),b&&d.legends.forEach(i);for(o=0,h=t.rem.length;o<h;++o)d=t.rem[o],m._children[d._id].forEach(r),delete m._children[d._id];return t}function o(t,e){var n=this,i=null;if(2===arguments.length)return n._scales[t]=e,e;for(;null==i&&(i=n._scales[t],n=n.mark?n.mark.group:n._parent););return i}function a(t,e){m.debug(t,["building group",e._id]),e._scales=e._scales||{},e.scale=o.bind(e),e.items=e.items||[],this._children[e._id]=this._children[e._id]||[],e.axes=e.axes||[],e.axisItems=e.axisItems||[],e.legends=e.legends||[],e.legendItems=e.legendItems||[],this._graph.group(e._id,e)}function s(t,e){m.debug(t,["building children marks #"+e._id]);var n,r,o,a,s,u,l=this._def.marks;for(a=0,s=l.length;a<s;++a)n=l[a],r=n.from||{},o=e.datum._facetID,e.items[a]={group:e,_scaleRefs:{}},u=n.type===x.GROUP?new i:new v,u.init(this._graph,n,e.items[a],this,e._id,o),this._children[e._id].push({builder:u,from:r.data||(r.mark?"vg_"+e._id+"_"+r.mark:o),type:x.MARK})}function u(t,e){var n=e.axes,r=e.axisItems,o=this;b(this._graph,this._def.axes,n,e),n.forEach(function(t,n){var a=o._def.axes[n].scale,s=t.def(),u=null;r[n]={group:e,axis:t,layer:s.layer},u=s.type===x.GROUP?new i:new v,u.init(o._graph,s,r[n],o).dependency(d.SCALES,a),o._children[e._id].push({builder:u,type:x.AXIS,scale:a})})}function l(t,e){var n=e.legends,r=e.legendItems,o=this;_(this._graph,this._def.legends,n,e),n.forEach(function(t,n){var a=t.size()||t.shape()||t.fill()||t.stroke(),s=t.def(),u=null;r[n]={group:e,legend:t},u=s.type===x.GROUP?new i:new v,u.init(o._graph,s,r[n],o).dependency(d.SCALES,a),o._children[e._id].push({builder:u,type:x.LEGEND,scale:a})})}var c=t("datalib"),f=t("vega-dataflow"),h=f.Node,d=f.Dependencies,p=f.Tuple,g=f.Collector,m=t("vega-logging"),v=t("./Builder"),y=t("./Scale"),b=t("../parse/axes"),_=t("../parse/legends"),x=i.TYPES={GROUP:"group",MARK:"mark",AXIS:"axis",LEGEND:"legend"},w=i.prototype=new v;w.init=function(t,e){var n,i=this;this._scaler=new h(t),(e.scales||[]).forEach(function(e){e=i.scale(n=e.name,new y(t,e,i)),i.scale(n+":prev",e),i._scaler.addListener(e)}),this._recursor=new h(t),this._recursor.evaluate=r.bind(this);var o=(e.axes||[]).reduce(function(t,e){return t[e.scale]=1,t},{});return o=(e.legends||[]).reduce(function(t,e){return t[e.size||e.shape||e.fill||e.stroke],t},o),this._recursor.dependency(d.SCALES,c.keys(o)),this._collector=new g(t),v.prototype.init.apply(this,arguments)},w.evaluate=function(){var t=v.prototype.evaluate.apply(this,arguments),e=this._graph,n=this,i=this._scales,r=this._mark.items;if(t.mod.length<r.length){var o=c.keys(i).some(function(e){return i[e].reevaluate(t)});o&&(t.mod=t.mod.concat(p.idFilter(r,t.mod)))}return t.add.forEach(function(e){a.call(n,t,e)}),t.rem.forEach(function(t){e.group(t._id,null)}),t},w.pipeline=function(){return[this,this._scaler,this._recursor,this._collector,this._bounder]},w.disconnect=function(){var t=this;return c.keys(t._children).forEach(function(e){t._children[e].forEach(function(e){t._recursor.removeListener(e.builder),e.builder.disconnect()})}),t._children={},v.prototype.disconnect.call(this)},w.child=function(t,e){for(var n,i=this._children[e],r=0,o=i.length;r<o&&(n=i[r],n.type!=x.MARK||n.builder._def.name!=t);++r);return n.builder},e.exports=i},{"../parse/axes":93,"../parse/legends":98,"./Builder":110,"./Scale":113,datalib:26,"vega-dataflow":41,"vega-logging":48}],113:[function(t,e,n){(function(n){function i(t,e,n){return this._def=e,this._parent=n,this._updated=!1,k.prototype.init.call(this,t).reflows(!0)}function r(t){var e=this._def.name,n=e+":prev",i=o.call(this,t.scale(e)),r=i.type===T.ORDINAL?a:u,s=y.call(this,t);return r.call(this,i,s,t),t.scale(e,i),t.scale(n,t.scale(n)||i),i}function o(t){var e=this._graph.config(),n=this._def.type||T.LINEAR;if(!t||n!==t.type){var i=e.scale[n]||b.scale[n];if(!i)throw Error("Unrecognized scale type: "+n);(t=i()).type=t.type||n,t.scaleName=this._def.name,t._prev={}}return t}function a(t,e,n){var i,r,o=this._def,a=t._prev,u=!1,l=m.call(this,o.padding)||0,c=null==o.outerPadding?l:m.call(this,o.outerPadding),f=o.points&&m.call(this,o.points),h=m.call(this,o.round)||null==o.round,d=!0;if(_.isObject(o.range)&&!_.isArray(o.range)&&(u=!0,e=g.call(this,M.RANGE,o.range,t,n)),i=g.call(this,M.DOMAIN,o.domain,t,n),i&&!_.equal(a.domain,i)&&(t.domain(i),a.domain=i,this._updated=!0),!_.equal(a.range,e)){if(o.bandSize){var p,v=m.call(this,o.bandSize),y=i.length,b=o.points?l*v:l*v*(y-1)+2*c;e[0]>e[1]?(p=e[1]||0,e=[p+(v*y+b),p]):(p=e[0]||0,e=[p,p+(v*y+b)]),o.reverse&&(e=e.reverse())}r="string"==typeof e[0],r||e.length>2||1===e.length||u?(t.range(e),d=!1):f&&h?t.rangeRoundPoints(e,l):f?t.rangePoints(e,l):h?t.rangeRoundBands(e,l,c):t.rangeBands(e,l,c),a.range=e,this._updated=!0}!t.invert&&d&&s(t)}function s(t){t.invert=function(e,n){var i=t.range(),r=i[0]<i[1],o=r?O:D;if(1===arguments.length){if(!_.isNumber(e))throw Error("Ordinal scale inversion is only supported for numeric input ("+e+").");return t.domain()[o(i,e)]}if(2===arguments.length){if(!_.isNumber(e)||!_.isNumber(n))throw Error("Extents to ordinal invert are not numbers ("+e+", "+n+").");var a,s=t.domain(),u=o(i,e),l=o(i,n),c=i.length-1;return l<u&&(a=u,u=l,l=u),u<0&&(u=0),l>c&&(l=c),(r?_.range(u,l+1):_.range(l,u-1,-1)).map(function(t){return s[t]})}}}function u(t,e,n){var i,r,o=this._def,a=t._prev,s=m.call(this,o.round),u=m.call(this,o.exponent),l=m.call(this,o.clamp),c=m.call(this,o.nice);i=o.type===T.QUANTILE?g.call(this,M.DOMAIN,o.domain,t,n):v.call(this,t,n),i&&!_.equal(a.domain,i)&&(t.domain(i),a.domain=i,this._updated=!0),"height"===m.call(this,o.range)&&(e=e.reverse()),e&&!_.equal(a.range,e)&&(t[s&&t.rangeRound?"rangeRound":"range"](e),a.range=e,this._updated=!0),u&&o.type===T.POWER&&t.exponent(u),l&&t.clamp(!0),c&&(o.type===T.TIME?(r=b.time[c],r||w.error("Unrecognized interval: "+r),t.nice(r)):t.nice())}function l(t){return t.type===T.ORDINAL||t.type===T.QUANTILE}function c(t){return t.fields||_.array(t)}function f(t){return t.some(function(t){return!t.data||t.data&&_.array(t.field).some(function(t){return t.parent})})}function h(t,e){return _.array(t.field).map(function(t){return t.parent?_.accessor(t.parent)(e.datum):t})}function d(t,e){var n=c(t);return 1==n.length&&1==_.array(n[0].field).length?S.TYPES.TUPLE:l(e)&&_.isObject(t.sort)?S.TYPES.MULTI:S.TYPES.VALUE}function p(t,e,n,i){var r=c(e),o=f(r),a=d(e,n),s=l(n),u=e.sort,p="_"+t,g=h(r[0],i);if(n[p]||this[p])return n[p]||this[p];var m,v,y=new S(this._graph).type(a);return o?n[p]=y:this[p]=y,s?a===S.TYPES.VALUE?(m=[{name:M.GROUPBY,get:_.identity}],v={"*":M.COUNT}):a===S.TYPES.TUPLE?(m=[{name:M.GROUPBY,get:_.$(g[0])}],v=_.isObject(u)?[{field:M.VALUE,get:_.$(u.field),ops:[u.op]}]:{"*":M.COUNT}):(m=M.GROUPBY,v=[{field:M.VALUE,ops:[u.op]}]):(m=[],v=[{field:M.VALUE,get:a==S.TYPES.TUPLE?_.$(g[0]):_.identity,ops:[M.MIN,M.MAX],as:[M.MIN,M.MAX]}]),y.param("groupby",m).param("summarize",v),y._lastUpdate=-1,y}function g(t,e,n,i){function r(t){k.dependency(E.SIGNALS,t)}if(null==e)return[];if(_.isArray(e))return e.map(m.bind(this));var o,a,s,u,g,v,y,b,x,w,k=this,C=this._graph,T=c(e),A=f(T),$=d(e,n),O=p.apply(this,arguments),D=e.sort,N=l(n);if(A||!A&&O._lastUpdate<this._stamp){for(o=0,a=T.length;o<a;++o)if(g=T[o],x=g.data||i.datum._facetID,b=C.data(x).last(),!(b.stamp<=this._stamp)){for(v=h(g,i),s=0,u=v.length;s<u;++s)y=v[s],$===S.TYPES.VALUE?O.accessors(null,y):$===S.TYPES.MULTI&&O.accessors(y,g.sort||D.field),O.evaluate(b);this.dependency(E.DATA,x),O.dependency(E.SIGNALS).forEach(r)}O._lastUpdate=this._stamp,b=O.aggr().result(),N?(_.isObject(D)?(w=D.op+"_"+M.VALUE,w=_.comparator(w)):D===!0&&(w=_.comparator(M.GROUPBY)),w&&(b=b.sort(w)),O._values=b.map(function(t){return t[M.GROUPBY]})):(b=b[0],O._values=_.isValid(b)?[b[M.MIN],b[M.MAX]]:[])}return O._values}function m(t){if(!t||!t.signal)return t;var e,n=t.signal;return this.dependency(E.SIGNALS,(e=_.field(n))[0]),this._graph.signalRef(e)}function v(t,e){var n,i,r=this._def,o=[null,null];return void 0!==r.domain&&(o=_.isObject(r.domain)?g.call(this,M.DOMAIN,r.domain,t,e):o),i=o.length-1,void 0!==r.domainMin&&(_.isObject(r.domainMin)?r.domainMin.signal?o[0]=_.isValid(n=m.call(this,r.domainMin))?n:o[0]:o[0]=g.call(this,M.DOMAIN+M.MIN,r.domainMin,t,e)[0]:o[0]=r.domainMin),void 0!==r.domainMax&&(_.isObject(r.domainMax)?r.domainMax.signal?o[i]=_.isValid(n=m.call(this,r.domainMax))?n:o[i]:o[i]=g.call(this,M.DOMAIN+M.MAX,r.domainMax,t,e)[1]:o[i]=r.domainMax),r.type===T.LOG||r.type===T.TIME||!r.zero&&void 0!==r.zero||(o[0]=Math.min(0,o[0]),o[i]=Math.max(0,o[i])),o}function y(t){var e=this._def,n=this._graph.config(),i=m.call(this,e.range),r=[null,null];if(void 0!==i)if("string"==typeof i)if(C[i])r=[0,t[i]];else{if(!n.range[i])return w.error("Unrecogized range: "+i),r;r=n.range[i]}else if(_.isArray(i))r=_.duplicate(i).map(m.bind(this));else{if(_.isObject(i))return null;r=[0,i]}if(void 0!==e.rangeMin&&(r[0]=e.rangeMin.signal?m.call(this,e.rangeMin):e.rangeMin),void 0!==e.rangeMax&&(r[r.length-1]=e.rangeMax.signal?m.call(this,e.rangeMax):e.rangeMax),void 0!==e.reverse){var o=m.call(this,e.reverse);_.isObject(o)&&(o=_.accessor(o.field)(t.datum)),o&&(r=r.reverse())}return r}var b="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,_=t("datalib"),x=t("vega-dataflow"),w=t("vega-logging"),k=x.Node,E=x.Dependencies,S=t("../transforms/Aggregate"),C={width:1,height:1},T={LINEAR:"linear",ORDINAL:"ordinal",LOG:"log",POWER:"pow",SQRT:"sqrt",TIME:"time",TIME_UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold"},M={DOMAIN:"domain",RANGE:"range",COUNT:"count",GROUPBY:"groupby",MIN:"min",MAX:"max",VALUE:"value",ASC:"asc",DESC:"desc"},A=i.prototype=new k;A.evaluate=function(t){var e=this,n=function(t){r.call(e,t)};return this._updated=!1,t.add.forEach(n),t.mod.forEach(n),this._updated&&(t.scales[this._def.name]=1,w.debug(t,["scale",this._def.name])),x.ChangeSet.create(t,!0)},A.dependency=function(t,e){if(2==arguments.length){var n=t===E.DATA?"data":"signal";e=_.array(e);for(var i=0,r=e.length;i<r;++i)this._graph[n](e[i]).addListener(this._parent)}return k.prototype.dependency.call(this,t,e)};var $=b.bisector(_.numcmp).right,O=function(t,e){return $(t,e)-1},D=b.bisector(function(t,e){return-1*_.numcmp(t,e)}).left;e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../transforms/Aggregate":118,datalib:26,"vega-dataflow":41,"vega-logging":48}],114:[function(t,e,n){(function(n){function i(t,e){this.duration=t||500,this.ease=e&&o.ease(e)||o.ease("cubic-in-out"),this.updates={next:null
}}function r(t){for(var e,n,i,r,o,s,l=this.updates,c=l,f=c.next,h=this.duration,d=!0;null!=f;c=f,f=c.next)if(e=f.item,n=e.delay||0,i=(t-n)/h,i<0)d=!1;else{for(i>1&&(i=1),r=f.ease(i),o=0,s=f.length;o<s;++o)e[f[o].property]=f[o](r);e.touch(),a.item(e),1===i?(f.remove&&(e.status=u.EXIT,e.remove()),c.next=f.next,f=c):d=!1}return this.callback(),d}var o="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,a=t("vega-scenegraph").bound,s=t("vega-dataflow").Tuple,u=t("./Builder").STATUS,l=i.prototype,c={text:1,url:1};l.interpolate=function(t,e){var n,i,r,a,l=null;for(n in e)i=t[n],r=e[n],i!==r&&(c[n]||void 0===i?s.set(t,n,r):"number"!=typeof i||isFinite(i)?(a=o.interpolate(i,r),a.property=n,(l||(l=[])).push(a)):s.set(t,n,r));return null===l&&t.status===u.EXIT&&(l=[]),null!=l&&(l.item=t,l.ease=t.mark.ease||this.ease,l.next=this.updates.next,this.updates.next=l),this},l.start=function(t){for(var e=this,n=e.updates,i=n.next;null!=i;n=i,i=n.next)i.item.status===u.EXIT&&(i.item.status=u.UPDATE,i.remove=!0);e.callback=t,o.timer(function(t){return r.call(e,t)})},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Builder":110,"vega-dataflow":41,"vega-scenegraph":49}],115:[function(t,e,n){function i(t){function e(){A.type=null}function n(t){return{data:t}}function i(t){var e=R||(E.ticks?E.ticks(z):E.domain()),i=r(E,e,U).map(n);return e=e.map(function(e){return e=n(e),e.label=t(e.data),e}),[e,i]}function o(t){var e=t.orient,n=t.marks[5].properties.update,i=n.encode,r=S.titleOffsetAutoMin,o=S.titleOffsetAutoMax,a=S.titleOffsetAutoMargin;n.encode=function(t,n,s,u,l,c){var f=i.call(i,t,n,s,u,l,c),h="bottom"===e||"top"===e?"y":"x";if(null!=B[h])return f;_.clear().union(n.items[3].bounds).union(n.items[4].bounds);var d=s?{}:t,p="left"===e||"right"===e?"width":"height",g="top"===e||"left"===e?-1:1,m=~~(_[p]()+t.fontSize/2+a);return v.set(d,h,g*Math.min(Math.max(r,m),o)),s&&s.interpolate(t,d),!0}}function k(e){var n,i,r;e.type===x?(n={scale:e.scaleName,offset:.5+e.rangeBand()/2},i=n):(n={scale:e.scaleName,offset:.5},i={scale:e.scaleName+":prev",offset:.5}),r=a(e),m.extend(X.gridLines,h(S)),m.extend(X.majorTicks,h(S)),m.extend(X.minorTicks,h(S)),m.extend(X.tickLabels,d(S)),m.extend(X.domain,g(S)),m.extend(X.title,p(S)),X.gridLines.properties.enter.stroke={value:S.gridColor},X.gridLines.properties.enter.strokeOpacity={value:S.gridOpacity},u(C,X.gridLines,i,n,1/0,T),u(C,X.majorTicks,i,n,N),u(C,X.minorTicks,i,n,I),s(C,X.tickLabels,i,n,N,P),c(C,X.domain,r,L),l(C,X.title,r,+M||-1),m.extend(X.gridLines.properties.update,H),m.extend(X.majorTicks.properties.update,W),m.extend(X.minorTicks.properties.update,Y),m.extend(X.tickLabels.properties.update,q),m.extend(X.domain.properties.update,V),m.extend(X.title.properties.update,B);var o=[X.gridLines,X.majorTicks,X.minorTicks,X.tickLabels,X.domain,X.title];m.extend(A,{type:"group",interactive:!1,properties:{enter:{encode:f,scales:[e.scaleName],signals:[],data:[]},update:{encode:f,scales:[e.scaleName],signals:[],data:[]}}}),A.marks=o.map(function(e){return y(t,e)})}var E,S=t.config().axis,C=S.orient,T=0,M=S.titleOffset,A={},$="front",O=!1,D=null,N=S.tickSize,I=S.tickSize,L=S.tickSize,P=S.padding,R=null,F=null,j=null,U=0,z=S.ticks,H={},q={},W={},Y={},B={},V={},X={gridLines:{},majorTicks:{},minorTicks:{},tickLabels:{},domain:{},title:{}},G={};return G.def=function(){A.type||k(E);var t=b.getTickFormat(E,z,j,F),e=i(t),r=D?[D].map(n):[];return A.marks[0].from=function(){return O?e[0]:[]},A.marks[1].from=function(){return e[0]},A.marks[2].from=function(){return e[1]},A.marks[3].from=A.marks[1].from,A.marks[4].from=function(){return[1]},A.marks[5].from=function(){return r},A.offset=T,A.orient=C,A.layer=$,"auto"===M&&o(A),A},G.scale=function(t){return arguments.length?(E!==t&&(E=t,e()),G):E},G.orient=function(t){return arguments.length?(C!==t&&(C=t in w?t+"":S.orient,e()),G):C},G.title=function(t){return arguments.length?(D!==t&&(D=t,e()),G):D},G.tickCount=function(t){return arguments.length?(z=t,G):z},G.tickValues=function(t){return arguments.length?(R=t,G):R},G.tickFormat=function(t){return arguments.length?(F!==t&&(F=t,e()),G):F},G.tickFormatType=function(t){return arguments.length?(j!==t&&(j=t,e()),G):j},G.tickSize=function(t,n){if(!arguments.length)return N;var i=arguments.length-1,r=+t,o=i>1?+n:N,a=i>0?+arguments[i]:N;return N===r&&I===o&&L===a||e(),N=r,I=o,L=a,G},G.tickSubdivide=function(t){return arguments.length?(U=+t,G):U},G.offset=function(t){return arguments.length?(T=m.isObject(t)?t:+t,G):T},G.tickPadding=function(t){return arguments.length?(P!==+t&&(P=+t,e()),G):P},G.titleOffset=function(t){return arguments.length?(M!==t&&(M=t,e()),G):M},G.layer=function(t){return arguments.length?($!==t&&($=t,e()),G):$},G.grid=function(t){return arguments.length?(O!==t&&(O=t,e()),G):O},G.gridLineProperties=function(t){return arguments.length?(H!==t&&(H=t),G):H},G.majorTickProperties=function(t){return arguments.length?(W!==t&&(W=t),G):W},G.minorTickProperties=function(t){return arguments.length?(Y!==t&&(Y=t),G):Y},G.tickLabelProperties=function(t){return arguments.length?(q!==t&&(q=t),G):q},G.titleProperties=function(t){return arguments.length?(B!==t&&(B=t),G):B},G.domainProperties=function(t){return arguments.length?(V!==t&&(V=t),G):V},G.reset=function(){return e(),G},G}function r(t,e,n){var i=[];if(n&&e.length>1){for(var r,a,s=o(t.domain()),u=-1,l=e.length,c=(e[1]-e[0])/++n;++u<l;)for(r=n;--r>0;)(a=+e[u]-r*c)>=s[0]&&i.push(a);for(--u,r=0;++r<n&&(a=+e[u]+r*c)<s[1];)i.push(a)}return i}function o(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function a(t){return t.rangeExtent?t.rangeExtent():o(t.range())}function s(t,e,n,i,r,o){r=Math.max(r,0)+o,"left"!==t&&"top"!==t||(r*=-1),"top"===t||"bottom"===t?(m.extend(e.properties.enter,{x:n,y:{value:r}}),m.extend(e.properties.update,{x:i,y:{value:r},align:{value:"center"},baseline:{value:E[t]}})):(m.extend(e.properties.enter,{x:{value:r},y:n}),m.extend(e.properties.update,{x:{value:r},y:i,align:{value:k[t]},baseline:{value:"middle"}}))}function u(t,e,n,i,r,o){var a="left"===t||"top"===t?-1:1;r=r===1/0?"top"===t||"bottom"===t?{field:{group:"height",level:2},mult:-a,offset:o*-a}:{field:{group:"width",level:2},mult:-a,offset:o*-a}:{value:a*r,offset:o},"top"===t||"bottom"===t?(m.extend(e.properties.enter,{x:n,y:{value:0},y2:r}),m.extend(e.properties.update,{x:i,y:{value:0},y2:r}),m.extend(e.properties.exit,{x:i})):(m.extend(e.properties.enter,{x:{value:0},x2:r,y:n}),m.extend(e.properties.update,{x:{value:0},x2:r,y:i}),m.extend(e.properties.exit,{y:i}))}function l(t,e,n,i){var r=e.properties.update,o=~~((n[0]+n[1])/2),a="top"===t||"left"===t?-1:1;"bottom"===t||"top"===t?(r.x={value:o},r.angle={value:0},i>=0&&(r.y={value:a*i})):(r.y={value:o},r.angle={value:"left"===t?-90:90},i>=0&&(r.x={value:a*i}))}function c(t,e,n,i){var r;"top"!==t&&"left"!==t||(i=-1*i),r="bottom"===t||"top"===t?"M"+n[0]+","+i+"V0H"+n[1]+"V"+i:"M"+i+","+n[0]+"H0V"+n[1]+"H"+i,e.properties.update.path={value:r}}function f(t,e,n){var i=n?{}:t,r=t.mark.def.offset,o=t.mark.def.orient,a=e.width,s=e.height;if(m.isArray(r)){var u=r[0],l=r[1];switch(o){case"left":v.set(i,"x",-u),v.set(i,"y",l);break;case"right":v.set(i,"x",a+u),v.set(i,"y",l);break;case"bottom":v.set(i,"x",u),v.set(i,"y",s+l);break;case"top":v.set(i,"x",u),v.set(i,"y",-l);break;default:v.set(i,"x",u),v.set(i,"y",l)}}else switch(m.isObject(r)&&(r=-e.scale(r.scale)(r.value)),o){case"left":v.set(i,"x",-r),v.set(i,"y",0);break;case"right":v.set(i,"x",a+r),v.set(i,"y",0);break;case"bottom":v.set(i,"x",0),v.set(i,"y",s+r);break;case"top":v.set(i,"x",0),v.set(i,"y",-r);break;default:v.set(i,"x",0),v.set(i,"y",0)}return n&&n.interpolate(t,i),!0}function h(t){return{type:"rule",interactive:!1,key:"data",properties:{enter:{stroke:{value:t.tickColor},strokeWidth:{value:t.tickWidth},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1}}}}}function d(t){return{type:"text",interactive:!0,key:"data",properties:{enter:{fill:{value:t.tickLabelColor},font:{value:t.tickLabelFont},fontSize:{value:t.tickLabelFontSize},opacity:{value:1e-6},text:{field:"label"}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1}}}}}function p(t){return{type:"text",interactive:!0,properties:{enter:{font:{value:t.titleFont},fontSize:{value:t.titleFontSize},fontWeight:{value:t.titleFontWeight},fill:{value:t.titleColor},align:{value:"center"},baseline:{value:"middle"},text:{field:"data"}},update:{}}}}function g(t){return{type:"path",interactive:!1,properties:{enter:{x:{value:.5},y:{value:.5},stroke:{value:t.axisColor},strokeWidth:{value:t.axisWidth}},update:{}}}}var m=t("datalib"),v=t("vega-dataflow").Tuple,y=t("../parse/mark"),b=t("../util"),_=new(t("vega-scenegraph").Bounds),x="ordinal",w={top:1,right:1,bottom:1,left:1},k={bottom:"center",top:"center",left:"right",right:"left"},E={bottom:"top",top:"bottom",left:"middle",right:"middle"};e.exports=i},{"../parse/mark":99,"../util":148,datalib:26,"vega-dataflow":41,"vega-scenegraph":49}],116:[function(t,e,n){(function(n){function i(t){function e(){q.type=null}function n(t,e){return{data:t,index:e}}function i(t){return"ordinal"===t||"quantize"===t||"quantile"===t||"threshold"===t}function y(t){var e,i,r,o=b(w,k,E,S),a=(null==T?t.ticks?t.ticks.apply(t,L):t.domain():T).map(n),s=m.getTickFormat(t,a.length,A,M),u=5,l=f.range(a.length);w?(i=a.map(function(t){return Math.sqrt(w(t.data))}),r=f.max(i),i=i.reduce(function(t,e,n,i){return n>0&&(t[n]=t[n-1]+i[n-1]/2+u),t[n]+=e/2,t},[0]).map(Math.round)):(r=Math.round(Math.sqrt(O.symbolSize)),i=C||(e=U.fontSize)&&e.value+u||O.labelFontSize+u,i=l.map(function(t,e){return Math.round(r/2+e*i)}));var c,d=I;$&&(c=j.fontSize,d+=5+(c&&c.value||O.titleFontSize));for(var p=0,g=i.length;p<g;++p)i[p]+=d;o.scales=o.scales||[{}],h.extend(o.scales[0],{name:"legend",type:"ordinal",points:!0,domain:l,range:i});var v=($?[$]:[]).map(n);return a.forEach(function(t){t.label=s(t.data),t.offset=r}),o.marks[0].from=function(){return v},o.marks[1].from=function(){return a},o.marks[2].from=o.marks[1].from,o}function b(e,n,i,l){var c=h.extend(z.titles,a(O)),f=h.extend(z.symbols,s(O)),d=h.extend(z.labels,u(O));return o(f,e,n,i,l),h.extend(c.properties.update,j),h.extend(f.properties.update,R),h.extend(d.properties.update,U),c.properties.enter.x.value+=I,c.properties.enter.y.value+=I,d.properties.enter.x.offset+=I+1,f.properties.enter.x.offset=I+1,d.properties.update.x.offset+=I+1,f.properties.update.x.offset=I+1,h.extend(q,{type:"group",interactive:!1,properties:{enter:p(t,"group",P),legendPosition:{encode:r,signals:[],scales:[],data:[],fields:[]}}}),q.marks=[c,f,d].map(function(e){return g(t,e)}),q}function _(t){var e=x(t),i=t.domain(),r=(null==T?i:T).map(n),o=F.width&&F.width.value||O.gradientWidth,a=m.getTickFormat(t,r.length,A,M);e.scales=e.scales||[{}];var s=h.extend(e.scales[0],{name:"legend",type:t.type,round:!0,zero:!1,domain:[i[0],i[i.length-1]],range:[I,o+I]});"pow"===t.type&&(s.exponent=t.exponent());var u=($?[$]:[]).map(n);return r.forEach(function(t,e){t.label=a(t.data),t.align=e==r.length-1?"right":0===e?"left":"center"}),e.marks[0].from=function(){return u},e.marks[1].from=function(){return[1]},e.marks[2].from=function(){return r},e}function x(e){var n=h.extend(z.titles,a(O)),i=h.extend(z.gradient,l(O)),o=h.extend(z.labels,c(O)),s=new d,u=e.domain(),f=u[0],m=u[u.length-1],v=e.copy().domain([f,m]).range([0,1]),y="linear"!==e.type&&e.ticks?e.ticks.call(e,15):u;f!==y[0]&&y.unshift(f),m!==y[y.length-1]&&y.push(m);for(var b=0,_=y.length;b<_;++b)s.stop(v(y[b]),e(y[b]));i.properties.enter.fill={value:s},h.extend(n.properties.update,j),h.extend(i.properties.update,F),h.extend(o.properties.update,U);var x=i.properties,w=F.height,k=w&&w.value||x.enter.height.value;if(o.properties.enter.y.value=k,o.properties.update.y.value=k,$){var E=n.properties,S=j.fontSize,C=4+(S&&S.value||E.enter.fontSize.value);i.properties.enter.y.value+=C,o.properties.enter.y.value+=C,i.properties.update.y.value+=C,o.properties.update.y.value+=C}return n.properties.enter.x.value+=I,n.properties.enter.y.value+=I,i.properties.enter.x.value+=I,i.properties.enter.y.value+=I,o.properties.enter.y.value+=I,i.properties.update.x.value+=I,i.properties.update.y.value+=I,o.properties.update.y.value+=I,h.extend(q,{type:"group",interactive:!1,properties:{enter:p(t,"group",P),legendPosition:{encode:r,signals:[],scales:[],data:[],fields:[]}}}),q.marks=[n,i,o].map(function(e){return g(t,e)}),q}var w=null,k=null,E=null,S=null,C=null,T=null,M=null,A=null,$=null,O=t.config().legend,D=O.orient,N=O.offset,I=O.padding,L=[5],P={},R={},F={},j={},U={},z={titles:{},symbols:{},labels:{},gradient:{}},H={},q={};return H.def=function(){var t=w||k||E||S;return q.type||(q=t!==E&&t!==S||i(t.type)?y(t):_(t)),q.orient=D,q.offset=N,q.padding=I,q.margin=O.margin,q},H.size=function(t){return arguments.length?(w!==t&&(w=t,e()),H):w},H.shape=function(t){return arguments.length?(k!==t&&(k=t,e()),H):k},H.fill=function(t){return arguments.length?(E!==t&&(E=t,e()),H):E},H.stroke=function(t){return arguments.length?(S!==t&&(S=t,e()),H):S},H.title=function(t){return arguments.length?($!==t&&($=t,e()),H):$},H.format=function(t){return arguments.length?(M!==t&&(M=t,e()),H):M},H.formatType=function(t){return arguments.length?(A!==t&&(A=t,e()),H):A},H.spacing=function(t){return arguments.length?(C!==+t&&(C=+t,e()),H):C},H.orient=function(t){return arguments.length?(D=t in v?t+"":O.orient,H):D},H.offset=function(t){return arguments.length?(N=+t,H):N},H.values=function(t){return arguments.length?(T=t,H):T},H.legendProperties=function(t){return arguments.length?(P=t,H):P},H.symbolProperties=function(t){return arguments.length?(R=t,H):R},H.gradientProperties=function(t){return arguments.length?(F=t,H):F},H.labelProperties=function(t){return arguments.length?(U=t,H):U},H.titleProperties=function(t){return arguments.length?(j=t,H):j},H.reset=function(){return e(),H},H}function r(t,e,n,i,r,o){var a,s=n?{}:t,u=t.mark.def,l=u.offset,c=u.orient,f=2*u.padding,h="left"===c?0:e.width,d=~~t.bounds.width()+(t.width?0:f),p=~~t.bounds.height()+(t.height?0:f),g=e._legendPositions||(e._legendPositions={right:.5,left:.5});s.x=.5,s.width=d,s.y=g[c],g[c]+=(s.height=p)+u.margin;var m=e.axes,y=e.axisItems,b=v[c];for(a=0;a<m.length;++a)m[a].orient()===c&&(h=Math.max(h,Math.abs(y[a].bounds[b])));"left"===c?s.x-=h+l+d:s.x+=h+l,n&&n.interpolate(t,s);var _=t.mark.def.properties.enter.encode;return _.call(_,t,e,n,i,r,o),!0}function o(t,e,n,i,r){var o=t.properties.enter,a=t.properties.update;e&&(o.size=a.size={scale:e.scaleName,field:"data"}),n&&(o.shape=a.shape={scale:n.scaleName,field:"data"}),i&&(o.fill=a.fill={scale:i.scaleName,field:"data"}),r&&(o.stroke=a.stroke={scale:r.scaleName,field:"data"})}function a(t){return{type:"text",interactive:!1,key:"data",properties:{enter:{x:{value:0},y:{value:0},fill:{value:t.titleColor},font:{value:t.titleFont},fontSize:{value:t.titleFontSize},fontWeight:{value:t.titleFontWeight},baseline:{value:"top"},text:{field:"data"},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1}}}}}function s(t){return{type:"symbol",interactive:!1,key:"data",properties:{enter:{x:{field:"offset",mult:.5},y:{scale:"legend",field:"index"},shape:{value:t.symbolShape},size:{value:t.symbolSize},stroke:{value:t.symbolColor},strokeWidth:{value:t.symbolStrokeWidth},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{x:{field:"offset",mult:.5},y:{scale:"legend",field:"index"},opacity:{value:1}}}}}function u(t){return{type:"text",interactive:!1,key:"data",properties:{enter:{x:{field:"offset",offset:5},y:{scale:"legend",field:"index"},fill:{value:t.labelColor},font:{value:t.labelFont},fontSize:{value:t.labelFontSize},align:{value:t.labelAlign},baseline:{value:t.labelBaseline},text:{field:"label"},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{opacity:{value:1},x:{field:"offset",offset:5},y:{scale:"legend",field:"index"}}}}}function l(t){return{type:"rect",interactive:!1,properties:{enter:{x:{value:0},y:{value:0},width:{value:t.gradientWidth},height:{value:t.gradientHeight},stroke:{value:t.gradientStrokeColor},strokeWidth:{value:t.gradientStrokeWidth},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{x:{value:0},y:{value:0},opacity:{value:1}}}}}function c(t){return{type:"text",interactive:!1,key:"data",properties:{enter:{x:{scale:"legend",field:"data"},y:{value:20},dy:{value:2},fill:{value:t.labelColor},font:{value:t.labelFont},fontSize:{value:t.labelFontSize},align:{field:"align"},baseline:{value:"top"},text:{field:"label"},opacity:{value:1e-6}},exit:{opacity:{value:1e-6}},update:{x:{scale:"legend",field:"data"},y:{value:20},opacity:{value:1}}}}}var f="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,h=t("datalib"),d=t("vega-scenegraph").Gradient,p=t("../parse/properties"),g=t("../parse/mark"),m=t("../util"),v={left:"x1",right:"x2"};e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../parse/mark":99,"../parse/properties":104,"../util":148,datalib:26,"vega-scenegraph":49}],117:[function(t,e,n){e.exports=function i(t,e){var n,r,o,a,s;if(e(t))return!0;var u=["items","axisItems","legendItems"];for(o=0,a=u.length;o<a;++o)if(s=t[u[o]])for(n=0,r=s.length;n<r;++n)if(i(s[n],e))return!0}},{}],118:[function(t,e,n){function i(t){return f.prototype.init.call(this,t),f.addParameters(this,{groupby:{type:"array<field>"},summarize:{type:"custom",set:function(t){function e(t){t.signal&&(l[t.signal]=1)}var n,i,r,a,s,u,l={},f=this._transform;if(!o.isArray(a=t)){a=[];for(s in t)u=o.array(t[s]),a.push({field:s,ops:u})}for(n=0,i=a.length;n<i;++n)r=a[n],r.field.signal&&(l[r.field.signal]=1),o.array(r.ops).forEach(e),o.array(r.as).forEach(e);return f._fields=a,f._aggr=null,f.dependency(c.SIGNALS,o.keys(l)),f}}}),this._aggr=null,this._input=null,this._args=null,this._fields=[],this._out=[],this._type=p.TUPLE,this._acc={groupby:o["true"],value:o["true"]},this.router(!0).produces(!0)}function r(t){var e,n,i,r,o,a,s,u=[];for(o=t._dims,e=0,n=o.length;e<n;++e)u.push(o[e].name);for(a=t._aggr,e=0,n=a.length;e<n;++e)for(s=a[e].measures.fields,i=0,r=s.length;i<r;++i)u.push(s[i]);return u}var o=t("datalib"),a=t("vega-dataflow"),s=t("vega-logging"),u=a.ChangeSet,l=a.Tuple,c=a.Dependencies,f=t("./Transform"),h=t("./Facetor"),d=i.prototype=Object.create(f.prototype);d.constructor=i;var p=i.TYPES={VALUE:1,TUPLE:2,MULTI:3};i.VALID_OPS=["values","count","valid","missing","distinct","sum","mean","average","variance","variancep","stdev","stdevp","median","q1","q3","modeskew","min","max","argmin","argmax"],d.type=function(t){return this._type=t,this},d.accessors=function(t,e){var n=this._acc;n.groupby=o.$(t)||o["true"],n.value=o.$(e)||o["true"]},d.aggr=function(){if(this._aggr)return this._aggr;var t=this._graph,e=!1,n=[],i=this.param("groupby").field,a=function(e){return e.signal?t.signalRef(e.signal):e},s=this._fields.map(function(t){var i={name:a(t.field),as:o.array(t.as),ops:o.array(a(t.ops)).map(a),get:t.get};return e=e||null!=i.get,n.push(i.name),i});i.forEach(function(t){t.get&&(e=!0),n.push(t.name||t)}),this._args=e||!s.length?null:n,s.length||(s={"*":"values"});var u=this._aggr=(new h).groupby(i).stream(!0).summarize(s);return this._out=r(u),this._type!==p.VALUE&&u.key("_id"),u},d.transform=function(t,e){s.debug(t,["aggregate"]);var n,i,r,o,a,c=u.create(t),f=this.aggr(),h=this._out,d=this._args,g=!0,m=l.prev;if(e&&(c.rem.push.apply(c.rem,f.result()),f.clear(),this._aggr=null,f=this.aggr()),this._type===p.TUPLE)n=function(t){f._add(t),l.prev_init(t)},i=function(t){f._rem(m(t))},r=function(t){f._mod(t,m(t))},o=function(t){f._markMod(t,m(t))};else{var v=this._acc.groupby,y=this._acc.value,b=this._type===p.VALUE?y:function(t){return{_id:t._id,groupby:v(t),value:y(t)}};n=function(t){f._add(b(t)),l.prev_init(t)},i=function(t){f._rem(b(m(t)))},r=function(t){f._mod(b(t),b(m(t)))},o=function(t){f._mark(b(t),b(m(t)))}}if(t.add.forEach(n),e)t.mod.forEach(n);else{if(t.rem.forEach(i),d)for(a=0,g=!1;a<d.length;++a)if(t.fields[d[a]]){g=!0;break}t.mod.forEach(g?r:o)}for(a=0;a<h.length;++a)c.fields[h[a]]=1;return f._input=t,f.changes(c)},e.exports=i},{"./Facetor":124,"./Transform":140,datalib:26,"vega-dataflow":41,"vega-logging":48}],119:[function(t,e,n){function i(){this._collector=null}var r=t("./Transform").prototype,o=i.prototype=Object.create(r);o.constructor=i,o.init=function(t){return r.init.call(this,t),this.batch(!0)},o.transform=function(t,e){return this.batchTransform(t,this._collector.data(),e)},o.batchTransform=function(){},e.exports=i},{"./Transform":140}],120:[function(t,e,n){function i(t){return u.prototype.init.call(this,t),s.addParameters(this,{field:{type:"field"},min:{type:"value"},max:{type:"value"},base:{type:"value","default":10},maxbins:{type:"value","default":20},step:{type:"value"},steps:{type:"value"},minstep:{type:"value"},div:{type:"array<value>","default":[5,2]}}),this._output={start:"bin_start",end:"bin_end",mid:"bin_mid"},this.mutates(!0)}var r=t("datalib"),o=t("vega-dataflow").Tuple,a=t("vega-logging"),s=t("./Transform"),u=t("./BatchTransform"),l=i.prototype=Object.create(u.prototype);l.constructor=i,l.extent=function(t){var e,n=[this.param("min"),this.param("max")];return null!=n[0]&&null!=n[1]||(e=r.extent(t,this.param("field").accessor),null==n[0]&&(n[0]=e[0]),null==n[1]&&(n[1]=e[1])),n},l.batchTransform=function(t,e){function n(t){var e=f(t);e=null==e?null:d.start+p*~~((e-d.start)/p),o.set(t,s.start,e),o.set(t,s.end,e+p),o.set(t,s.mid,e+p/2)}a.debug(t,["binning"]);var i=this.extent(e),s=this._output,u=this.param("step"),l=this.param("steps"),c=this.param("minstep"),f=this.param("field").accessor,h={min:i[0],max:i[1],base:this.param("base"),maxbins:this.param("maxbins"),div:this.param("div")};u&&(h.step=u),l&&(h.steps=l),c&&(h.minstep=c);var d=r.bins(h),p=d.step;return t.add.forEach(n),t.mod.forEach(n),t.rem.forEach(n),t.fields[s.start]=1,t.fields[s.end]=1,t.fields[s.mid]=1,t},e.exports=i},{"./BatchTransform":119,"./Transform":140,datalib:26,"vega-dataflow":41,"vega-logging":48}],121:[function(t,e,n){function i(t){return s.prototype.init.call(this,t),s.addParameters(this,{field:{type:"field","default":"data"},pattern:{type:"value","default":"[\\w']+"},"case":{type:"value","default":"lower"},stopwords:{type:"value","default":""}}),this._output={text:"text",count:"count"},this.router(!0).produces(!0)}var r=t("vega-dataflow"),o=r.Tuple,a=t("vega-logging"),s=t("./Transform"),u=i.prototype=Object.create(s.prototype);u.constructor=i,u.transform=function(t,e){function n(t){return o.prev_init(t),r(t)}function i(t){return r(o.prev(t))}a.debug(t,["countpattern"]);var r=this.param("field").accessor,s=this.param("pattern"),u=this.param("stopwords"),l=!1;return this._stop!==u&&(this._stop=u,this._stop_re=new RegExp("^"+u+"$","i"),e=!0),this._pattern!==s&&(this._pattern=s,this._match=new RegExp(this._pattern,"g"),e=!0),e&&(this._counts={}),this._add(t.add,n),e||this._rem(t.rem,i),(e||(l=t.fields[r.field]))&&(l&&this._rem(t.mod,i),this._add(t.mod,n)),this._changeset(t)},u._changeset=function(t){var e,n,i,a=this._counts,s=this._tuples||(this._tuples={}),u=r.ChangeSet.create(t),l=this._output;for(e in a)n=s[e],i=a[e]||0,!n&&i?(s[e]=n=o.ingest({}),n[l.text]=e,n[l.count]=i,u.add.push(n)):0===i?(n&&u.rem.push(n),delete a[e],delete s[e]):n[l.count]!==i&&(o.set(n,l.count,i),u.mod.push(n));return u},u._tokenize=function(t){switch(this.param("case")){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase()}return t.match(this._match)},u._add=function(t,e){var n,i,r,o,a=this._counts,s=this._stop_re;for(r=0;r<t.length;++r)for(n=this._tokenize(e(t[r])),i=0;i<n.length;++i)s.test(o=n[i])||(a[o]=1+(a[o]||0))},u._rem=function(t,e){var n,i,r,o,a=this._counts,s=this._stop_re;for(r=0;r<t.length;++r)for(n=this._tokenize(e(t[r])),i=0;i<n.length;++i)s.test(o=n[i])||(a[o]-=1)},e.exports=i},{"./Transform":140,"vega-dataflow":41,"vega-logging":48}],122:[function(t,e,n){function i(t){return m.prototype.init.call(this,t),g.addParameters(this,{"with":{type:"data"},diagonal:{type:"value","default":"true"},filter:{type:"expr"}}),this._output={left:"a",right:"b"},this._lastWith=null,this._cids={},this._cache={},this.router(!0).produces(!0)}function r(t,e){var n=this._cache,i=n[t._id]||(n[t._id]={c:[],f:!1});i.c.push(e)}function o(t,e,n){return t?e._id+"_"+n._id:n._id+"_"+e._id}function a(t,e,n,i,a,s,u){for(var l,c,f=this._output,h=this._cache,p=this._cids,g=t.add,m=!1,v=0,y=n.length,b={};v<y;++v)l=n[v],c=o(e,u,l),p[c]||(u._id!==l._id||i)&&(d.set(b,f.left,e?u:l),d.set(b,f.right,e?l:u),!a||a(b)?(g.push(b=d.ingest(b)),r.call(this,u,b),u._id!==l._id&&r.call(this,l,b),s[b._id]=1,p[c]=!0,b={}):(h[l._id]&&(h[l._id].f=!0),m=!0));h[u._id]&&(h[u._id].f=m)}function s(t,e,n,i,r,s,u,l){var c,f,h,d,p,g=this._output,m=this._cache,v=this._cids,y=m[l._id],b=y&&y.c,_=!y||y.f,x=t.mod,w=t.rem;if(b)for(c=b.length-1;c>=0;--c)if(f=b[c],d=l===f[g.left],h=d?f[g.right]:f[g.left],p=o(d,l,h),m[h._id])if(!r||r(f)){if(s[f._id])continue;x.push(f),s[f._id]=1}else u[f._id]||w.push.apply(w,b.splice(c,1)),u[f._id]=1,v[p]=!1,y.f=!0;else v[p]=!1,b.splice(c,1);r&&_&&a.call(this,t,e,n,i,r,s,l)}function u(t,e,n,i){var r,a,s,u,l,c=this._output,f=this._cache[i._id],h=this._cids,d=t.rem;if(f){for(r=0,a=f.c.length;r<a;++r)s=f.c[r],l=i===s[c.left],u=l?s[c.right]:s[c.left],h[o(l,i,u)]=!1,n[s._id]||(d.push(s),n[s._id]=1);this._cache[i._id]=null}}function l(t,e){var n,i,r,o,a,s,u=this._cache,l=c.keys(u),f=t.rem;for(n=0,i=l.length;n<i;++n)for(a=u[l[n]],r=0,o=a.c.length;r<o;++r)s=a.c[r],e[s._id]||(f.push(s),e[s._id]=1);this._cache={},this._cids={},this._lastWith=null}var c=t("datalib"),f=t("vega-dataflow"),h=f.ChangeSet,d=f.Tuple,p=t("vega-logging"),g=t("./Transform"),m=t("./BatchTransform"),v=i.prototype=Object.create(m.prototype);v.constructor=i,v.batchTransform=function(t,e,n){p.debug(t,["crossing"]);var i=this.param("with"),r=this.param("diagonal"),o=this._output,c=this.param("filter")||null,f=!i.name,d=f?t:i.source.last(),g=f?e:i.source.values(),m=h.create(t),v={},y={};return n?(l.call(this,m,y),e.forEach(a.bind(this,m,!0,g,r,c,v)),this._lastWith=d.stamp):(t.rem.forEach(u.bind(this,m,!0,y)),t.add.forEach(a.bind(this,m,!0,g,r,c,v)),d.stamp>this._lastWith&&(d.rem.forEach(u.bind(this,m,!1,y)),d.add.forEach(a.bind(this,m,!1,e,r,c,v)),d.mod.forEach(s.bind(this,m,!1,e,r,c,v,y)),this._lastWith=d.stamp),t.mod.forEach(s.bind(this,m,!0,g,r,c,v,y))),m.fields[o.left]=1,m.fields[o.right]=1,m},e.exports=i},{"./BatchTransform":119,"./Transform":140,datalib:26,"vega-dataflow":41,"vega-logging":48}],123:[function(t,e,n){function i(e){return r.addParameters(this,{transform:{type:"custom",set:function(t){return this._transform._pipeline=t,this._transform},get:function(){var e=t("../parse/transforms"),n=this._transform;return n._pipeline.map(function(t){return e(n._graph,t)})}}}),this._pipeline=[],o.call(this,e)}var r=t("./Transform"),o=t("./Aggregate"),a=i.prototype=Object.create(o.prototype);a.constructor=i,a.aggr=function(){return o.prototype.aggr.call(this).facet(this)},a.transform=function(t,e){var n=o.prototype.transform.call(this,t,e);return t.add.length&&this.listeners()[0].rerank(),n},e.exports=i},{"../parse/transforms":108,"./Aggregate":118,"./Transform":140}],124:[function(t,e,n){function i(){a.call(this),this._facet=null,this._facetID=++f}function r(t){c.debug({},["disconnecting cell",this.tuple._id]);var e=this.ds.pipeline();t.removeListener(e[0]),t._graph.removeListener(e[0]),t._graph.disconnect(e)}var o=t("datalib"),a=o.Aggregator,s=a.prototype,u=t("vega-dataflow"),l=u.Tuple,c=t("vega-logging"),f=0,h=i.prototype=Object.create(s);h.constructor=i,h.facet=function(t){return arguments.length?(this._facet=t,this):this._facet},h._ingest=function(t){return l.ingest(t,null)},h._assign=l.set,h._newcell=function(t,e){var n=s._newcell.call(this,t,e),i=this._facet;if(i){var o=i._graph,a=n.tuple,u=i.param("transform");n.ds=o.data(a._facetID,u,a),n.disconnect=r,i.addListener(u[0])}return n},h._newtuple=function(t,e){var n=s._newtuple.call(this,t);return this._facet&&(l.set(n,"key",e),l.set(n,"_facetID",this._facetID+"_"+e)),n},h.clear=function(){if(this._facet)for(var t in this._cells)this._cells[t].disconnect(this._facet);return s.clear.call(this)},h._on_add=function(t,e){this._facet&&e.ds._input.add.push(t)},h._on_rem=function(t,e){this._facet&&e.ds._input.rem.push(t)},h._on_mod=function(t,e,n,i){this._facet&&(n===i?n.ds._input.mod.push(t):(n.ds._input.rem.push(t),i.ds._input.add.push(t)))},h._on_drop=function(t){this._facet&&t.disconnect(this._facet)},h._on_keep=function(t){this._facet&&u.ChangeSet.copy(this._input,t.ds._input)},e.exports=i},{datalib:26,"vega-dataflow":41,"vega-logging":48}],125:[function(t,e,n){function i(t){return a.prototype.init.call(this,t),a.addParameters(this,{test:{type:"expr"}}),this._skip={},this.router(!0)}var r=t("vega-dataflow"),o=t("vega-logging"),a=t("./Transform"),s=i.prototype=Object.create(a.prototype);s.constructor=i,s.transform=function(t){o.debug(t,["filtering"]);var e=r.ChangeSet.create(t),n=this._skip,i=this.param("test");return t.rem.forEach(function(t){1!==n[t._id]?e.rem.push(t):n[t._id]=0}),t.add.forEach(function(t){i(t)?e.add.push(t):n[t._id]=1}),t.mod.forEach(function(t){var r=i(t),o=1===n[t._id];r&&o?(n[t._id]=0,e.add.push(t)):r&&!o?e.mod.push(t):!r&&o||(e.rem.push(t),n[t._id]=1)}),e},e.exports=i},{"./Transform":140,"vega-dataflow":41,"vega-logging":48}],126:[function(t,e,n){function i(t){return s.prototype.init.call(this,t),s.addParameters(this,{fields:{type:"array<field>"}}),this._output={key:"key",value:"value"},this._cache={},this.router(!0).produces(!0)}var r=t("vega-dataflow"),o=r.Tuple,a=t("vega-logging"),s=t("./Transform"),u=i.prototype=Object.create(s.prototype);u.constructor=i,u._reset=function(t,e){for(var n in this._cache)e.rem.push.apply(e.rem,this._cache[n]);this._cache={}},u._tuple=function(t,e,n){var i=this._cache[t._id]||(this._cache[t._id]=Array(n));return i[e]?o.rederive(t,i[e]):i[e]=o.derive(t)},u._fn=function(t,e,n){var i,r,a,s,u,l;for(i=0,a=t.length;i<a;++i)for(u=t[i],r=0,s=e.field.length;r<s;++r)l=this._tuple(u,r,s),o.set(l,this._output.key,e.field[r]),o.set(l,this._output.value,e.accessor[r](u)),n.push(l)},u.transform=function(t,e){a.debug(t,["folding"]);var n=this,i=this.param("fields"),o=r.ChangeSet.create(t);return e&&this._reset(t,o),this._fn(t.add,i,o.add),this._fn(t.mod,i,e?o.add:o.mod),t.rem.forEach(function(t){o.rem.push.apply(o.rem,n._cache[t._id]),n._cache[t._id]=null}),(t.add.length||t.rem.length||i.field.some(function(e){return!!t.fields[e]}))&&(o.fields[this._output.key]=1,o.fields[this._output.value]=1),o},e.exports=i},{"./Transform":140,"vega-dataflow":41,"vega-logging":48}],127:[function(t,e,n){(function(n){function i(e){return l.prototype.init.call(this,e),this._prev=null,this._interactive=!1,this._setup=!0,this._nodes=[],this._links=[],this._layout=r.layout.force(),l.addParameters(this,{size:{type:"array<value>","default":t("./screen").size},bound:{type:"value","default":!0},links:{type:"data"},linkStrength:{type:"value","default":1},linkDistance:{type:"value","default":20},charge:{type:"value","default":-30},chargeDistance:{type:"value","default":1/0},friction:{type:"value","default":.9},theta:{type:"value","default":.8},gravity:{type:"value","default":.1},alpha:{type:"value","default":.1},iterations:{type:"value","default":500},interactive:{type:"value","default":this._interactive},active:{type:"value","default":this._prev},fixed:{type:"data"}}),this._output={x:"layout_x",y:"layout_y"},this.mutates(!0)}var r="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,o=t("vega-dataflow"),a=o.Tuple,s=o.ChangeSet,u=t("vega-logging"),l=t("./Transform"),c=i.prototype=Object.create(l.prototype);c.constructor=i,c.transform=function(t,e){u.debug(t,["force"]),e-=t.signals.active?1:0;var n=this.param("interactive"),i=this.param("links").source,r=i.last(),o=this.param("active"),s=this._output,l=this._layout,c=this._nodes,f=this._links;
if(r.stamp<t.stamp&&(r=null),this.configure(t,r,n,e),!n){for(var h=this.param("iterations"),d=0;d<h;++d)l.tick();l.stop()}return this.update(o),(e||o!==this._prev&&o&&o.update)&&l.alpha(this.param("alpha")),o!==this._prev&&(this._prev=o),t.rem.length&&l.nodes(this._nodes=a.idFilter(c,t.rem)),r&&r.rem.length&&l.links(this._links=a.idFilter(f,r.rem)),t.fields[s.x]=1,t.fields[s.y]=1,t},c.configure=function(t,e,n,i){var r=this._layout,o=this._setup||t.add.length||e&&e.add.length||n!==this._interactive||this.param("charge")!==r.charge()||this.param("linkStrength")!==r.linkStrength()||this.param("linkDistance")!==r.linkDistance();if((o||i)&&r.size(this.param("size")).chargeDistance(this.param("chargeDistance")).theta(this.param("theta")).gravity(this.param("gravity")).friction(this.param("friction")),o){this._setup=!1,this._interactive=n;var a,u,l=this,c=this._graph,f=this._nodes,h=this._links;for(a=t.add,u=0;u<a.length;++u)f.push({tuple:a[u]});if(e)for(a=e.add,u=0;u<a.length;++u)h.push({tuple:a[u],source:f[a[u].source],target:f[a[u].target]});var d=n?function(){c.propagate(s.create(null,!0),l)}:null;r.linkStrength(this.param("linkStrength")).linkDistance(this.param("linkDistance")).charge(this.param("charge")).nodes(f).links(h).on("tick",d).start().alpha(this.param("alpha"))}},c.update=function(t){var e,n,i,r,o,s,u=this._output,l=this.param("bound"),c=this.param("fixed"),f=this.param("size"),h=this._nodes,d={};if(c&&c.source)for(c=c.source.values(),n=0,i=c.length;n<i;++n)d[c[n].id]=1;for(n=0;n<h.length;++n)i=h[n],r=i.tuple,e=r._id,t&&t.id===e?(i.fixed=1,t.update&&(i.x=i.px=t.x,i.y=i.py=t.y)):i.fixed=d[e]||0,o=l?Math.max(0,Math.min(i.x,f[0])):i.x,s=l?Math.max(0,Math.min(i.y,f[1])):i.y,a.set(r,u.x,o),a.set(r,u.y,s)},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Transform":140,"./screen":146,"vega-dataflow":41,"vega-logging":48}],128:[function(t,e,n){function i(t){return s.prototype.init.call(this,t),s.addParameters(this,{field:{type:"value"},expr:{type:"expr"}}),this.mutates(!0)}var r=t("vega-dataflow"),o=r.Tuple,a=t("vega-logging"),s=t("./Transform"),u=i.prototype=Object.create(s.prototype);u.constructor=i,u.transform=function(t){function e(t){o.set(t,n,i(t))}a.debug(t,["formulating"]);var n=this.param("field"),i=this.param("expr");return t.add.forEach(e),this.reevaluate(t)&&t.mod.forEach(e),t.fields[n]=1,t},e.exports=i},{"./Transform":140,"vega-dataflow":41,"vega-logging":48}],129:[function(t,e,n){(function(n){function i(t){return u.prototype.init.call(this,t),u.addParameters(this,i.Parameters),u.addParameters(this,{lon:{type:"field"},lat:{type:"field"}}),this._output={x:"layout_x",y:"layout_y"},this.mutates(!0)}var r="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,o=t("datalib"),a=t("vega-dataflow").Tuple,s=t("vega-logging"),u=t("./Transform");i.Parameters={projection:{type:"value","default":"mercator"},center:{type:"array<value>"},translate:{type:"array<value>","default":t("./screen").center},rotate:{type:"array<value>"},scale:{type:"value"},precision:{type:"value"},clipAngle:{type:"value"},clipExtent:{type:"value"}},i.d3Projection=function(){var t,e,n,a=this.param("projection"),s=i.Parameters;a!==this._mode&&(this._mode=a,this._projection=r.geo[a]()),t=this._projection;for(e in s)"projection"!==e&&t[e]&&(n=this.param(e),void 0===n||o.isArray(n)&&0===n.length||n!==t[e]()&&t[e](n));return t};var l=i.prototype=Object.create(u.prototype);l.constructor=i,l.transform=function(t){function e(t){var e=[r(t),o(t)],i=u(e)||[null,null];a.set(t,n.x,i[0]),a.set(t,n.y,i[1])}s.debug(t,["geo"]);var n=this._output,r=this.param("lon").accessor,o=this.param("lat").accessor,u=i.d3Projection.call(this);return t.add.forEach(e),this.reevaluate(t)&&(t.mod.forEach(e),t.rem.forEach(e)),t.fields[n.x]=1,t.fields[n.y]=1,t},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Transform":140,"./screen":146,datalib:26,"vega-dataflow":41,"vega-logging":48}],130:[function(t,e,n){(function(n){function i(t){return l.prototype.init.call(this,t),l.addParameters(this,u.Parameters),l.addParameters(this,{field:{type:"field","default":null}}),this._output={path:"layout_path"},this.mutates(!0)}var r="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,o=t("datalib"),a=t("vega-dataflow").Tuple,s=t("vega-logging"),u=t("./Geo"),l=t("./Transform"),c=i.prototype=Object.create(l.prototype);c.constructor=i,c.transform=function(t){function e(t){a.set(t,n.path,c(i(t)))}s.debug(t,["geopath"]);var n=this._output,i=this.param("field").accessor||o.identity,l=u.d3Projection.call(this),c=r.geo.path().projection(l);return t.add.forEach(e),this.reevaluate(t)&&(t.mod.forEach(e),t.rem.forEach(e)),t.fields[n.path]=1,t},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Geo":129,"./Transform":140,datalib:26,"vega-dataflow":41,"vega-logging":48}],131:[function(t,e,n){(function(n){function i(e){return l.prototype.init.call(this,e),u.addParameters(this,{sort:{type:"array<field>","default":null},children:{type:"field","default":"children"},parent:{type:"field","default":"parent"},field:{type:"value","default":null},mode:{type:"value","default":"tidy"},size:{type:"array<value>","default":t("./screen").size},nodesize:{type:"array<value>","default":null},orient:{type:"value","default":"cartesian"}}),this._mode=null,this._output={x:"layout_x",y:"layout_y",width:"layout_width",height:"layout_height",depth:"layout_depth"},this.mutates(!0)}var r="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,o=t("datalib"),a=t("vega-dataflow").Tuple,s=t("vega-logging"),u=t("./Transform"),l=t("./BatchTransform"),c="partition",f={cartesian:function(t,e){return t.parent===e.parent?1:2},radial:function(t,e){return(t.parent===e.parent?1:2)/t.depth}},h=i.prototype=Object.create(l.prototype);h.constructor=i,h.batchTransform=function(t,e){s.debug(t,["hierarchy layout"]);var n=this._layout,i=this._output,u=this.param("mode"),l=this.param("sort"),h=this.param("nodesize"),d=this.param("parent").accessor,p=e.filter(function(t){return null===d(t)})[0];return u!==this._mode&&(this._mode=u,"tidy"===u&&(u="tree"),n=this._layout=r.layout[u]()),t.fields[i.x]=1,t.fields[i.y]=1,t.fields[i.depth]=1,u===c?(t.fields[i.width]=1,t.fields[i.height]=1,n.value(this.param("field").accessor)):n.separation(f[this.param("orient")]),h.length&&u!==c?n.nodeSize(h):n.size(this.param("size")),n.sort(l.field.length?o.comparator(l.field):null).children(this.param("children").accessor).nodes(p),e.forEach(function(t){a.set(t,i.x,t.x),a.set(t,i.y,t.y),a.set(t,i.depth,t.depth),u===c&&(a.set(t,i.width,t.dx),a.set(t,i.height,t.dy))}),t},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./BatchTransform":119,"./Transform":140,"./screen":146,datalib:26,"vega-dataflow":41,"vega-logging":48}],132:[function(t,e,n){function i(t){return c.prototype.init.call(this,t),l.addParameters(this,{groupby:{type:"array<field>"},orderby:{type:"array<field>"},field:{type:"field"},method:{type:"value","default":"value"},value:{type:"value","default":0}}),this.router(!0).produces(!0)}function r(t,e,n,i){var r,o={_imputed:!0};for(r=0;r<e.length;++r)o[t[r]]=e[r];for(r=0;r<i.length;++r)o[n[r]]=i[r];return u.ingest(o)}function o(t,e,n){var i,r,o,s,u,l,c,f,h=[],d=function(t){return t(o)},p=function(t){return o=t,n.map(d)};for(l=h.domain=a.unique(t,p),f=l.length,c=l.reduce(function(t,e,n){return t[e]={value:e,index:n},t},{}),i={},r=0;r<t.length;++r)o=t[r],s=null==e?[]:e.map(d),u=i[s]||(h.push(i[s]=Array(f)),i[s].values=s,i[s]),u[c[p(o)].index]=o;return h}var a=t("datalib"),s=t("vega-logging"),u=t("vega-dataflow").Tuple,l=t("./Transform"),c=t("./BatchTransform"),f=i.prototype=Object.create(c.prototype);f.constructor=i,f.batchTransform=function(t,e){function n(t){return null==t?null:y(t)}s.debug(t,["imputing"]);var i,u,l,c,f,h,d=this.param("groupby"),p=this.param("orderby"),g=this.param("method"),m=this.param("value"),v=this.param("field"),y=v.accessor,b=v.field,_=this._imputed||[],x=[],w=o(e,d.accessor,p.accessor),k=w.domain;for(l=0,f=w.length;l<f;++l)for(i=w[l],"value"!==g&&(m=a[g](i,n)),u=0,c=i.length;u<c;++u)null==i[u]&&(h=r(d.field,i.values,p.field,k[u]),h[b]=m,x.push(h));for(u=0,c=x.length;u<c;++u)t.add.push(x[u]);for(u=0,c=_.length;u<c;++u)t.rem.push(_[u]);return this._imputed=x,t},e.exports=i},{"./BatchTransform":119,"./Transform":140,datalib:26,"vega-dataflow":41,"vega-logging":48}],133:[function(t,e,n){function i(t){return p.prototype.init.call(this,t),p.addParameters(this,{sourceX:{type:"field","default":"_source.layout_x"},sourceY:{type:"field","default":"_source.layout_y"},targetX:{type:"field","default":"_target.layout_x"},targetY:{type:"field","default":"_target.layout_y"},tension:{type:"value","default":.2},shape:{type:"value","default":"line"}}),this._output={path:"layout_path"},this.mutates(!0)}function r(t,e,n,i){return"M"+t+","+e+"L"+n+","+i}function o(t,e,n,i,r){var o=n-t,a=i-e,s=r*(o+a),u=r*(a-o);return"M"+t+","+e+"C"+(t+s)+","+(e+u)+" "+(n+u)+","+(i-s)+" "+n+","+i}function a(t,e,n,i){return"M"+t+","+e+"V"+i+"H"+n}function s(t,e,n,i){return"M"+t+","+e+"H"+n+"V"+i}function u(t,e,n,i){var r=Math.cos(t),o=Math.sin(t),a=Math.cos(n),s=Math.sin(n),u=Math.abs(n-t)>Math.PI?n<=t:n>t;return"M"+e*r+","+e*o+"A"+e+","+e+" 0 0,"+(u?1:0)+" "+e*a+","+e*s+"L"+i*a+","+i*s}function l(t,e,n,i){var r=(t+n)/2;return"M"+t+","+e+"C"+r+","+e+" "+r+","+i+" "+n+","+i}function c(t,e,n,i){var r=(e+i)/2;return"M"+t+","+e+"C"+t+","+r+" "+n+","+r+" "+n+","+i}function f(t,e,n,i){var r=Math.cos(t),o=Math.sin(t),a=Math.cos(n),s=Math.sin(n),u=(e+i)/2;return"M"+e*r+","+e*o+"C"+u*r+","+u*o+" "+u*a+","+u*s+" "+i*a+","+i*s}var h=t("vega-dataflow").Tuple,d=t("vega-logging"),p=t("./Transform"),g=i.prototype=Object.create(p.prototype);g.constructor=i;var m={line:r,curve:o,cornerX:a,cornerY:s,cornerR:u,diagonalX:l,diagonalY:c,diagonalR:f};g.transform=function(t){function e(t){var e=i(r(t),o(t),a(t),s(t),u);h.set(t,n.path,e)}d.debug(t,["linkpath"]);var n=this._output,i=m[this.param("shape")]||m.line,r=this.param("sourceX").accessor,o=this.param("sourceY").accessor,a=this.param("targetX").accessor,s=this.param("targetY").accessor,u=this.param("tension");return t.add.forEach(e),this.reevaluate(t)&&(t.mod.forEach(e),t.rem.forEach(e)),t.fields[n.path]=1,t},e.exports=i},{"./Transform":140,"vega-dataflow":41,"vega-logging":48}],134:[function(t,e,n){function i(t){return a.prototype.init.call(this,t),a.addParameters(this,{on:{type:"data"},onKey:{type:"field","default":null},as:{type:"array<value>"},keys:{type:"array<field>","default":["data"]},"default":{type:"value"}}),this.mutates(!0)}var r=t("vega-dataflow").Tuple,o=t("vega-logging"),a=t("./Transform"),s=i.prototype=Object.create(a.prototype);s.constructor=i,s.transform=function(t,e){function n(t){for(var e=0;e<d.length;++e){var n=m[d[e](t)]||g;r.set(t,p[e],n)}}o.debug(t,["lookup"]);var i,a,s=this.param("on"),u=s.source.last(),l=s.source.values(),c=this.param("onKey"),f=c.field,h=this.param("keys"),d=h.accessor,p=this.param("as"),g=this.param("default"),m=this._lut;if(null==m||this._on!==f||f&&u.fields[f]||u.add.length||u.rem.length){if(f)for(c=c.accessor,m={},i=0;i<l.length;++i)m[c(a=l[i])]=a;else m=l;this._lut=m,this._on=f,e=!0}t.add.forEach(n);var v=h.field.some(function(e){return t.fields[e]});return(v||e)&&(t.mod.forEach(n),t.rem.forEach(n)),p.forEach(function(e){t.fields[e]=1}),t},e.exports=i},{"./Transform":140,"vega-dataflow":41,"vega-logging":48}],135:[function(t,e,n){function i(t,e,n){this._name=t,this._type=e,this._transform=n,this._value=[],this._accessors=[],this._resolution=!1,this._signals=[]}function r(){var t=s.test(this._type),e=u.test(this._type),n=l.test(this._type),i=t?this._value:this._value[0],r=t?this._accessors:this._accessors[0];return!o.isValid(r)&&f.test(this._type)?i:e?{name:i,source:r}:n?{field:i,accessor:r}:i}var o=t("datalib"),a=t("vega-dataflow").Dependencies,s=/array/i,u=/data/i,l=/field/i,c=/expr/i,f=/value/i,h=i.prototype;h.get=function(){var t,e,n,i,a,s=this._transform._graph,c=u.test(this._type),f=l.test(this._type);if(!this._resolution)return r.call(this);if(c)return this._accessors=this._value.map(function(t){return s.data(t)}),r.call(this);for(t=0,e=this._signals.length;t<e;++t)n=this._signals[t],i=n.index,a=n.value(s),f&&(this._accessors[i]=this._value[i]!=a?o.accessor(a):this._accessors[i]),this._value[i]=a;return r.call(this)},h.set=function(t){var e=this,n=e._transform._graph,i=c.test(this._type),r=u.test(this._type),s=l.test(this._type);return e._signals=[],this._value=o.array(t).map(function(t,u){var l;return o.isString(t)?i?(l=n.expr(t),e._transform.dependency(a.FIELDS,l.fields),e._transform.dependency(a.SIGNALS,l.globals),e._transform.dependency(a.DATA,l.dataSources),l.fn):(s?(e._accessors[u]=o.accessor(t),e._transform.dependency(a.FIELDS,o.field(t))):r&&(e._resolution=!0,e._transform.dependency(a.DATA,t)),t):void 0!==t.value?t.value:void 0!==t.field?(e._accessors[u]=o.accessor(t.field),e._transform.dependency(a.FIELDS,o.field(t.field)),t.field):void 0!==t.signal?(e._resolution=!0,e._transform.dependency(a.SIGNALS,t.signal),e._signals.push({index:u,value:function(e){return e.signalRef(t.signal)}}),t.signal):void 0!==t.expr?(e._resolution=!0,l=n.expr(t.expr),e._transform.dependency(a.SIGNALS,l.globals),e._signals.push({index:u,value:function(){return l.fn()}}),t.expr):t}),e._transform},e.exports=i},{datalib:26,"vega-dataflow":41}],136:[function(t,e,n){function i(t){return l.prototype.init.call(this,t),u.addParameters(this,{field:{type:"field","default":null},startAngle:{type:"value","default":0},endAngle:{type:"value","default":2*Math.PI},sort:{type:"value","default":!1}}),this._output={start:"layout_start",end:"layout_end",mid:"layout_mid"},this.mutates(!0)}function r(){return 1}var o=t("datalib"),a=t("vega-dataflow").Tuple,s=t("vega-logging"),u=t("./Transform"),l=t("./BatchTransform"),c=i.prototype=Object.create(l.prototype);c.constructor=i,c.batchTransform=function(t,e){s.debug(t,["pie"]);var n,i,u,l=this._output,c=this.param("field").accessor||r,f=this.param("startAngle"),h=this.param("endAngle"),d=this.param("sort"),p=e.map(c),g=f,m=(h-f)/o.sum(p),v=o.range(e.length);for(d&&v.sort(function(t,e){return p[t]-p[e]}),n=0;n<v.length;++n)i=e[v[n]],u=p[v[n]],a.set(i,l.start,g),a.set(i,l.mid,g+.5*u*m),a.set(i,l.end,g+=u*m);return t.fields[l.start]=1,t.fields[l.end]=1,t.fields[l.mid]=1,t},e.exports=i},{"./BatchTransform":119,"./Transform":140,datalib:26,"vega-dataflow":41,"vega-logging":48}],137:[function(t,e,n){function i(t){return s.prototype.init.call(this,t),a.addParameters(this,{field:{type:"field","default":null},normalize:{type:"value","default":!1}}),this._output={rank:"rank"},this.mutates(!0)}var r=t("vega-dataflow").Tuple,o=t("vega-logging"),a=t("./Transform"),s=t("./BatchTransform"),u=i.prototype=Object.create(s.prototype);u.constructor=i,u.batchTransform=function(t,e){o.debug(t,["rank"]);var n,i,a,s,u=this._output.rank,l=this.param("normalize"),c=this.param("field").accessor,f={},h=e.length;if(c)for(n=0,i=0;n<h;++n)a=e[n],f[s=c(a)]=f[s]||(f[s]=++i);for(n=0;n<h&&(a=e[n]);++n)c&&(s=c(a))?r.set(a,u,l?f[s]/i:f[s]):r.set(a,u,l?(n+1)/h:n+1);return t.fields[u]=1,t},e.exports=i},{"./BatchTransform":119,"./Transform":140,"vega-dataflow":41,"vega-logging":48}],138:[function(t,e,n){function i(t){a.prototype.init.call(this,t),a.addParameters(this,{by:{type:"array<field>"}}),this.router(!0)}var r=t("datalib"),o=t("vega-logging"),a=t("./Transform"),s=i.prototype=Object.create(a.prototype);s.constructor=i,s.transform=function(t){return o.debug(t,["sorting"]),(t.add.length||t.mod.length||t.rem.length)&&(t.sort=r.comparator(this.param("by").field)),t},e.exports=i},{"./Transform":140,datalib:26,"vega-logging":48}],139:[function(t,e,n){function i(t){return l.prototype.init.call(this,t),u.addParameters(this,{groupby:{type:"array<field>"},sortby:{type:"array<field>"},field:{type:"field"},offset:{type:"value","default":"zero"}}),this._output={start:"layout_start",end:"layout_end",mid:"layout_mid"},this.mutates(!0)}function r(t,e,n,i){var r,o,a,s,u,l,c,f=[],h=function(t){return t(a)};if(null==e)f.push(t.slice());else for(r={},o=0;o<t.length;++o)a=t[o],s=e.map(h),u=r[s]||(f.push(r[s]=[]),r[s]),u.push(a);for(s=0,c=0;s<f.length;++s){for(u=f[s],o=0,l=0;o<u.length;++o)l+=i(u[o]);u.sum=l,l>c&&(c=l),null!=n&&u.sort(n)}return f.max=c,f}var o=t("datalib"),a=t("vega-dataflow").Tuple,s=t("vega-logging"),u=t("./Transform"),l=t("./BatchTransform"),c=i.prototype=Object.create(l.prototype);c.constructor=i,c.batchTransform=function(t,e){s.debug(t,["stacking"]);for(var n=this.param("groupby").accessor,i=o.comparator(this.param("sortby").field),u=this.param("field").accessor,l=this.param("offset"),c=this._output,f=r(e,n,i,u),h=0,d=f.max;h<f.length;++h){var p,g,m,v=f[h],y=v.sum,b="center"===l?(d-y)/2:0,_="normalize"===l?1/y:1,x=b,w=0;for(p=0;p<v.length;++p)g=v[p],m=x,w+=u(g),x=_*w+b,a.set(g,c.start,m),a.set(g,c.end,x),a.set(g,c.mid,.5*(m+x))}return t.fields[c.start]=1,t.fields[c.end]=1,t.fields[c.mid]=1,t},e.exports=i},{"./BatchTransform":119,"./Transform":140,datalib:26,"vega-dataflow":41,"vega-logging":48}],140:[function(t,e,n){function i(t){t&&o.init.call(this,t)}var r=t("vega-dataflow"),o=r.Node.prototype,a=r.Dependencies,s=t("./Parameter");i.addParameters=function(t,e){t._parameters=t._parameters||{};for(var n in e){var i=e[n],r=new s(n,i.type,t);t._parameters[n]=r,"custom"===i.type&&(i.set&&(r.set=i.set.bind(r)),i.get&&(r.get=i.get.bind(r))),i.hasOwnProperty("default")&&r.set(i["default"])}};var u=i.prototype=Object.create(o);u.constructor=i,u.param=function(t,e){var n=this._parameters[t];return void 0===n?this:1===arguments.length?n.get():n.set(e)},u.transform=function(t){return t},u.evaluate=function(t){var e=this._stamp<t.stamp&&this.dependency(a.SIGNALS).reduce(function(e,n){return e+=t.signals[n]?1:0},0);return this.transform(t,e)},u.output=function(t){for(var e in this._output)void 0!==t[e]&&(this._output[e]=t[e]);return this},e.exports=i},{"./Parameter":135,"vega-dataflow":41}],141:[function(t,e,n){function i(t){return u.prototype.init.call(this,t),s.addParameters(this,{groupby:{type:"array<field>"}}),this._output={children:"children",parent:"parent"},this.router(!0).produces(!0)}var r=t("datalib"),o=t("vega-dataflow").Tuple,a=t("vega-logging"),s=t("./Transform"),u=t("./BatchTransform"),l=i.prototype=Object.create(u.prototype);l.constructor=i,l.batchTransform=function(t,e){function n(t,e,i){var r=h[t].execute(i);e[l]=r,r.forEach(function(i){i[c]=e,p.push(o.ingest(i)),t+1<u.length?n(t+1,i,i[l]):i[l].forEach(function(t){t[c]=i})})}a.debug(t,["treeifying"]);var i,s,u=this.param("groupby").field,l=this._output.children,c=this._output.parent,f=[{name:"*",ops:["values"],as:[l]}],h=u.map(function(t){return r.groupby(t).summarize(f)}),d=this._internal||[],p=[],g=o.ingest({});for(g[c]=null,p.push(g),n(0,g,e),i=0,s=p.length;i<s;++i)t.add.push(p[i]);for(i=0,s=d.length;i<s;++i)t.rem.push(d[i]);return this._internal=p,t},e.exports=i},{"./BatchTransform":119,"./Transform":140,datalib:26,"vega-dataflow":41,"vega-logging":48}],142:[function(t,e,n){(function(n){function i(e){return l.prototype.init.call(this,e),u.addParameters(this,{sort:{type:"array<field>","default":["-value"]},children:{type:"field","default":"children"},parent:{type:"field","default":"parent"},field:{type:"field","default":"value"},size:{type:"array<value>","default":t("./screen").size},round:{type:"value","default":!0},sticky:{type:"value","default":!1},ratio:{type:"value","default":c},padding:{type:"value","default":null},mode:{type:"value","default":"squarify"}}),this._layout=r.layout.treemap(),this._output={x:"layout_x",y:"layout_y",width:"layout_width",height:"layout_height",depth:"layout_depth"},this.mutates(!0)}var r="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,o=t("datalib"),a=t("vega-dataflow").Tuple,s=t("vega-logging"),u=t("./Transform"),l=t("./BatchTransform"),c=.5*(1+Math.sqrt(5)),f=i.prototype=Object.create(l.prototype);f.constructor=i,f.batchTransform=function(t,e){s.debug(t,["treemap"]);var n=this._layout,i=this._output,r=this.param("sticky"),u=this.param("parent").accessor,l=e.filter(function(t){return null===u(t)})[0];return n.sticky()!==r&&n.sticky(r),n.sort(o.comparator(this.param("sort").field)).children(this.param("children").accessor).value(this.param("field").accessor).size(this.param("size")).round(this.param("round")).ratio(this.param("ratio")).padding(this.param("padding")).mode(this.param("mode")).nodes(l),e.forEach(function(t){a.set(t,i.x,t.x),a.set(t,i.y,t.y),a.set(t,i.width,t.dx),a.set(t,i.height,t.dy),a.set(t,i.depth,t.depth)}),t.fields[i.x]=1,t.fields[i.y]=1,t.fields[i.width]=1,t.fields[i.height]=1,t.fields[i.depth]=1,t},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./BatchTransform":119,"./Transform":140,"./screen":146,datalib:26,"vega-dataflow":41,"vega-logging":48}],143:[function(t,e,n){(function(n){function i(e){return u.prototype.init.call(this,e),s.addParameters(this,{clipExtent:{type:"array<value>","default":t("./screen").extent},x:{type:"field","default":"layout_x"},y:{type:"field","default":"layout_y"}}),this._layout=r.geom.voronoi(),this._output={path:"layout_path"},this.mutates(!0)}var r="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,o=t("vega-dataflow/src/Tuple"),a=t("vega-logging"),s=t("./Transform"),u=t("./BatchTransform"),l=i.prototype=Object.create(u.prototype);l.constructor=i,l.batchTransform=function(t,e){a.debug(t,["voronoi"]);for(var n=this._output.path,i=this._layout.clipExtent(this.param("clipExtent")).x(this.param("x").accessor).y(this.param("y").accessor)(e),r=0;r<e.length;++r)o.set(e[r],n,"M"+i[r].join("L")+"Z");return t.fields[n]=1,t},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./BatchTransform":119,"./Transform":140,"./screen":146,"vega-dataflow/src/Tuple":40,"vega-logging":48}],144:[function(t,e,n){(function(n){function i(e){return d.prototype.init.call(this,e),h.addParameters(this,{size:{type:"array<value>","default":t("./screen").size},text:{type:"field","default":"data"},rotate:{type:"field|value","default":0},font:{type:"field|value","default":{value:"sans-serif"}},fontSize:{type:"field|value","default":14},fontStyle:{type:"field|value","default":{value:"normal"}},fontWeight:{type:"field|value","default":{value:"normal"}},fontScale:{type:"array<value>","default":[10,50]},padding:{type:"value","default":1},spiral:{type:"value","default":"archimedean"}}),this._layout=u().canvas(l.instance),this._output={x:"layout_x",y:"layout_y",font:"layout_font",fontSize:"layout_fontSize",fontStyle:"layout_fontStyle",fontWeight:"layout_fontWeight",rotate:"layout_rotate"},this.mutates(!0)}function r(t){return t&&t.accessor||t}function o(t){var e=Object.create(t);return e._tuple=t,e}var a=t("datalib"),s="undefined"!=typeof window?window.d3:"undefined"!=typeof n?n.d3:null,u="undefined"!=typeof window?window.d3.layout.cloud:"undefined"!=typeof n?n.d3.layout.cloud:null,l=t("vega-scenegraph").canvas,c=t("vega-dataflow/src/Tuple"),f=t("vega-logging"),h=t("./Transform"),d=t("./BatchTransform"),p=i.prototype=Object.create(d.prototype);p.constructor=i,p.batchTransform=function(t,e){f.debug(t,["wordcloud"]);var n,i,u=this._layout,l=this._output,h=this.param("fontSize"),d=h.accessor&&this.param("fontScale");h=h.accessor||s.functor(h),d.length&&(i=s.scale.sqrt().domain(a.extent(e,n=h)).range(d),h=function(t){return i(n(t))}),u.size(this.param("size")).text(r(this.param("text"))).padding(this.param("padding")).spiral(this.param("spiral")).rotate(r(this.param("rotate"))).font(r(this.param("font"))).fontStyle(r(this.param("fontStyle"))).fontWeight(r(this.param("fontWeight"))).fontSize(h).words(e.map(o)).on("end",function(t){var e,n,i,r,o=u.size(),a=o[0]>>1,s=o[1]>>1;for(i=0,r=t.length;i<r;++i)e=t[i],n=e._tuple,c.set(n,l.x,e.x+a),c.set(n,l.y,e.y+s),c.set(n,l.font,e.font),c.set(n,l.fontSize,e.size),c.set(n,l.fontStyle,e.style),c.set(n,l.fontWeight,e.weight),c.set(n,l.rotate,e.rotate)}).start();for(var p in l)t.fields[l[p]]=1;return t},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./BatchTransform":119,"./Transform":140,"./screen":146,datalib:26,"vega-dataflow/src/Tuple":40,"vega-logging":48,"vega-scenegraph":49}],145:[function(t,e,n){e.exports={aggregate:t("./Aggregate"),bin:t("./Bin"),cross:t("./Cross"),countpattern:t("./CountPattern"),linkpath:t("./LinkPath"),facet:t("./Facet"),filter:t("./Filter"),fold:t("./Fold"),force:t("./Force"),formula:t("./Formula"),geo:t("./Geo"),geopath:t("./GeoPath"),hierarchy:t("./Hierarchy"),impute:t("./Impute"),lookup:t("./Lookup"),pie:t("./Pie"),rank:t("./Rank"),sort:t("./Sort"),stack:t("./Stack"),treeify:t("./Treeify"),treemap:t("./Treemap"),voronoi:t("./Voronoi"),wordcloud:t("./Wordcloud")}},{"./Aggregate":118,"./Bin":120,"./CountPattern":121,"./Cross":122,"./Facet":123,"./Filter":125,"./Fold":126,"./Force":127,"./Formula":128,"./Geo":129,"./GeoPath":130,"./Hierarchy":131,"./Impute":132,"./LinkPath":133,"./Lookup":134,"./Pie":136,"./Rank":137,"./Sort":138,"./Stack":139,"./Treeify":141,"./Treemap":142,"./Voronoi":143,"./Wordcloud":144}],146:[function(t,e,n){e.exports={size:[{signal:"width"},{signal:"height"}],mid:[{expr:"width/2"},{expr:"height/2"}],extent:[{expr:"[-padding.left, -padding.top]"},{expr:"[width+padding.right, height+padding.bottom]"}]}},{}],147:[function(t,e,n){function i(t,e,n,i){var o=n||r(t);return a(t,e,o,i)}function r(t){switch(t.type){case u:return u;case l:return l;case f:return c;default:return h}}function o(t,e,n,i){function r(t){return(e[0]<0?-Math.log(t>0?0:-t):Math.log(t<0?0:t))/Math.log(s)}function o(t){return e[0]<0?-Math.pow(s,-t):Math.pow(s,t)}if(null==n)return i;var a,s=t.base(),u=Math.min(s,t.ticks().length/n),l=e[0]>0?(a=1e-12,Math.ceil):(a=-1e-12,Math.floor);return function(t){return o(l(r(t)+a))/t>=u?i(t):""}}function a(t,e,n,i){var r,a=s.format,c="log"===t.type;switch(n){case h:return r=t.domain(),c?o(t,r,e,a.auto.number(i||null)):a.auto.linear(r,e,i||null);case u:return(i?a:a.auto).time(i);case l:return(i?a:a.auto).utc(i);default:return String}}var s=t("datalib"),u="time",l="utc",c="string",f="ordinal",h="number";e.exports={getTickFormat:i}},{datalib:26}],148:[function(t,e,n){var i=t("datalib"),r={};i.extend(r,t("./format")),e.exports=i.extend(r,i)},{"./format":147,datalib:26}]},{},[1])(1)}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.vl=t()}}(function(){var t;return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){},{}],2:[function(e,n,i){!function(e,r){"object"==typeof i&&"undefined"!=typeof n?r(i):"function"==typeof t&&t.amd?t("d3-time",["exports"],r):r(e.d3_time={})}(this,function(t){"use strict";function e(t,n,i,a){function s(e){return t(e=new Date((+e))),e}return s.floor=s,s.round=function(e){var i=new Date((+e)),r=new Date(e-1);return t(i),t(r),n(r,1),e-i<r-e?i:r},s.ceil=function(e){return t(e=new Date(e-1)),n(e,1),e},s.offset=function(t,e){return n(t=new Date((+t)),null==e?1:Math.floor(e)),t},s.range=function(e,i,r){var o=[];if(e=new Date(e-1),i=new Date((+i)),r=null==r?1:Math.floor(r),!(e<i&&r>0))return o;for(n(e,1),t(e),e<i&&o.push(new Date((+e)));n(e,r),t(e),e<i;)o.push(new Date((+e)));return o},s.filter=function(i){return e(function(e){for(;t(e),!i(e);)e.setTime(e-1)},function(t,e){for(;--e>=0;)for(;n(t,1),!i(t););})},i&&(s.count=function(e,n){return r.setTime(+e),o.setTime(+n),t(r),t(o),Math.floor(i(r,o))},s.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?s.filter(a?function(e){return a(e)%t===0}:function(e){return s.count(0,e)%t===0}):s:null}),s}function n(t){return e(function(e){e.setHours(0,0,0,0),e.setDate(e.getDate()-(e.getDay()+7-t)%7)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5})}function i(t){return e(function(e){e.setUTCHours(0,0,0,0),e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/6048e5})}var r=new Date,o=new Date,a=e(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?e(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):a:null};var s=e(function(t){t.setMilliseconds(0)},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getSeconds()}),u=e(function(t){t.setSeconds(0,0)},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getMinutes()}),l=e(function(t){t.setMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),c=e(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5},function(t){return t.getDate()-1}),f=n(0),h=n(1),d=n(2),p=n(3),g=n(4),m=n(5),v=n(6),y=e(function(t){t.setHours(0,0,0,0),t.setDate(1)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),b=e(function(t){t.setHours(0,0,0,0),t.setMonth(0,1)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}),_=e(function(t){t.setUTCMilliseconds(0)},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),x=e(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getUTCMinutes()}),w=e(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),k=e(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),E=i(0),S=i(1),C=i(2),T=i(3),M=i(4),A=i(5),$=i(6),O=e(function(t){t.setUTCHours(0,0,0,0),t.setUTCDate(1)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),D=e(function(t){t.setUTCHours(0,0,0,0),t.setUTCMonth(0,1)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}),N=a.range,I=s.range,L=u.range,P=l.range,R=c.range,F=f.range,j=h.range,U=d.range,z=p.range,H=g.range,q=m.range,W=v.range,Y=f.range,B=y.range,V=b.range,X=a,G=N,K=_.range,J=x.range,Z=w.range,Q=k.range,tt=E.range,et=S.range,nt=C.range,it=T.range,rt=M.range,ot=A.range,at=$.range,st=E.range,ut=O.range,lt=D.range,ct="0.1.1";t.version=ct,t.milliseconds=N,t.seconds=I,t.minutes=L,t.hours=P,t.days=R,t.sundays=F,t.mondays=j,t.tuesdays=U,t.wednesdays=z,t.thursdays=H,t.fridays=q,t.saturdays=W,t.weeks=Y,t.months=B,
t.years=V,t.utcMillisecond=X,t.utcMilliseconds=G,t.utcSeconds=K,t.utcMinutes=J,t.utcHours=Z,t.utcDays=Q,t.utcSundays=tt,t.utcMondays=et,t.utcTuesdays=nt,t.utcWednesdays=it,t.utcThursdays=rt,t.utcFridays=ot,t.utcSaturdays=at,t.utcWeeks=st,t.utcMonths=ut,t.utcYears=lt,t.millisecond=a,t.second=s,t.minute=u,t.hour=l,t.day=c,t.sunday=f,t.monday=h,t.tuesday=d,t.wednesday=p,t.thursday=g,t.friday=m,t.saturday=v,t.week=f,t.month=y,t.year=b,t.utcSecond=_,t.utcMinute=x,t.utcHour=w,t.utcDay=k,t.utcSunday=E,t.utcMonday=S,t.utcTuesday=C,t.utcWednesday=T,t.utcThursday=M,t.utcFriday=A,t.utcSaturday=$,t.utcWeek=E,t.utcMonth=O,t.utcYear=D,t.interval=e})},{}],3:[function(t,e,n){function i(t){if(!t)throw Error("Missing binning options.");var e,n,i,s,u,l,c,f=t.maxbins||15,h=t.base||10,d=Math.log(h),p=t.div||[5,2],g=t.min,m=t.max,v=m-g;if(t.step)e=t.step;else if(t.steps)e=t.steps[Math.min(t.steps.length-1,r(t.steps,v/f,0,t.steps.length))];else{for(n=Math.ceil(Math.log(f)/d),i=t.minstep||0,e=Math.max(i,Math.pow(h,Math.round(Math.log(v)/d)-n));Math.ceil(v/e)>f;)e*=h;for(l=0;l<p.length;++l)u=e/p[l],u>=i&&v/u<=f&&(e=u)}return u=Math.log(e),s=u>=0?0:~~(-u/d)+1,c=Math.pow(h,-s-1),g=Math.min(g,Math.floor(g/e+c)*e),m=Math.ceil(m/e)*e,{start:g,stop:m,step:e,unit:{precision:s},value:o,index:a}}function r(t,e,n,i){for(;n<i;){var r=n+i>>>1;l.cmp(t[r],e)<0?n=r+1:i=r}return n}function o(t){return this.step*Math.floor(t/this.step+f)}function a(t){return Math.floor((t-this.start)/this.step+f)}function s(t){return this.unit.date(o.call(this,t))}function u(t){return a.call(this,this.unit.unit(t))}var l=t("../util"),c=t("../time"),f=1e-15;i.date=function(t){if(!t)throw Error("Missing date binning options.");var e=t.utc?c.utc:c,n=t.min,r=t.max,o=t.maxbins||20,a=t.minbins||4,l=+r-+n,f=t.unit?e[t.unit]:e.find(l,a,o),h=i({min:null!=f.min?f.min:f.unit(n),max:null!=f.max?f.max:f.unit(r),maxbins:o,minstep:f.minstep,steps:f.step});return h.unit=f,h.index=u,t.raw||(h.value=s),h},e.exports=i},{"../time":5,"../util":6}],4:[function(t,e,n){var i=t("./util"),r=e.exports;r.repeat=function(t,e){var n,i=Array(e);for(n=0;n<e;++n)i[n]=t;return i},r.zeros=function(t){return r.repeat(0,t)},r.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("Infinite range");var i,r=[],o=-1;if(n<0)for(;(i=t+n*++o)>e;)r.push(i);else for(;(i=t+n*++o)<e;)r.push(i);return r},r.random={},r.random.uniform=function(t,e){void 0===e&&(e=void 0===t?1:t,t=0);var n=e-t,i=function(){return t+n*Math.random()};return i.samples=function(t){return r.zeros(t).map(i)},i.pdf=function(i){return i>=t&&i<=e?1/n:0},i.cdf=function(i){return i<t?0:i>e?1:(i-t)/n},i.icdf=function(e){return e>=0&&e<=1?t+e*n:NaN},i},r.random.integer=function(t,e){void 0===e&&(e=t,t=0);var n=e-t,i=function(){return t+Math.floor(n*Math.random())};return i.samples=function(t){return r.zeros(t).map(i)},i.pdf=function(i){return i===Math.floor(i)&&i>=t&&i<e?1/n:0},i.cdf=function(i){var r=Math.floor(i);return r<t?0:r>=e?1:(r-t+1)/n},i.icdf=function(e){return e>=0&&e<=1?t-1+Math.floor(e*n):NaN},i},r.random.normal=function(t,e){t=t||0,e=e||1;var n,i=function(){var i,r,o=0,a=0;if(void 0!==n)return o=n,n=void 0,o;do o=2*Math.random()-1,a=2*Math.random()-1,i=o*o+a*a;while(0===i||i>1);return r=Math.sqrt(-2*Math.log(i)/i),n=t+a*r*e,t+o*r*e};return i.samples=function(t){return r.zeros(t).map(i)},i.pdf=function(n){var i=Math.exp(Math.pow(n-t,2)/(-2*Math.pow(e,2)));return 1/(e*Math.sqrt(2*Math.PI))*i},i.cdf=function(n){var i,r=(n-t)/e,o=Math.abs(r);if(o>37)i=0;else{var a,s=Math.exp(-o*o/2);o<7.07106781186547?(a=.0352624965998911*o+.700383064443688,a=a*o+6.37396220353165,a=a*o+33.912866078383,a=a*o+112.079291497871,a=a*o+221.213596169931,a=a*o+220.206867912376,i=s*a,a=.0883883476483184*o+1.75566716318264,a=a*o+16.064177579207,a=a*o+86.7807322029461,a=a*o+296.564248779674,a=a*o+637.333633378831,a=a*o+793.826512519948,a=a*o+440.413735824752,i/=a):(a=o+.65,a=o+4/a,a=o+3/a,a=o+2/a,a=o+1/a,i=s/a/2.506628274631)}return r>0?1-i:i},i.icdf=function(n){if(n<=0||n>=1)return NaN;var i=2*n-1,r=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),o=2/(Math.PI*r)+Math.log(1-Math.pow(i,2))/2,a=Math.log(1-i*i)/r,s=(i>0?1:-1)*Math.sqrt(Math.sqrt(o*o-a)-o);return t+e*Math.SQRT2*s},i},r.random.bootstrap=function(t,e){var n=t.filter(i.isValid),o=n.length,a=e?r.random.normal(0,e):null,s=function(){return n[~~(Math.random()*o)]+(a?a():0)};return s.samples=function(t){return r.zeros(t).map(s)},s}},{"./util":6}],5:[function(t,e,n){function i(t){return l.setTime(+t),l}function r(t,e,n,i,r,o){var a={type:t,date:e,unit:n};return i?a.step=i:a.minstep=1,null!=r&&(a.min=r),null!=o&&(a.max=o),a}function o(t,e,n,i,o,a){return r(t,function(t){return e.offset(n,t)},function(t){return e.count(n,t)},i,o,a)}function a(t,e,n,i){var r,o,a,s=p[0];for(r=1,o=p.length;r<o;++r)if(s=p[r],e>s[0]){if(a=e/s[0],a>i)return t[p[r-1][1]];if(a>=n)return t[s[1]]}return t[p[o-1][1]]}function s(t){var e,n,i={};for(e=0,n=t.length;e<n;++e)i[t[e].type]=t[e];return i.find=function(e,n,i){return a(t,e,n,i)},i}var u=t("d3-time"),l=new Date,c=new Date(0,0,1).setFullYear(0),f=new Date(Date.UTC(0,0,1)).setUTCFullYear(0),h=[o("second",u.second,c),o("minute",u.minute,c),o("hour",u.hour,c),o("day",u.day,c,[1,7]),o("month",u.month,c,[1,3,6]),o("year",u.year,c),r("seconds",function(t){return new Date(1970,0,1,0,0,t)},function(t){return i(t).getSeconds()},null,0,59),r("minutes",function(t){return new Date(1970,0,1,0,t)},function(t){return i(t).getMinutes()},null,0,59),r("hours",function(t){return new Date(1970,0,1,t)},function(t){return i(t).getHours()},null,0,23),r("weekdays",function(t){return new Date(1970,0,4+t)},function(t){return i(t).getDay()},[1],0,6),r("dates",function(t){return new Date(1970,0,t)},function(t){return i(t).getDate()},[1],1,31),r("months",function(t){return new Date(1970,t%12,1)},function(t){return i(t).getMonth()},[1],0,11)],d=[o("second",u.utcSecond,f),o("minute",u.utcMinute,f),o("hour",u.utcHour,f),o("day",u.utcDay,f,[1,7]),o("month",u.utcMonth,f,[1,3,6]),o("year",u.utcYear,f),r("seconds",function(t){return new Date(Date.UTC(1970,0,1,0,0,t))},function(t){return i(t).getUTCSeconds()},null,0,59),r("minutes",function(t){return new Date(Date.UTC(1970,0,1,0,t))},function(t){return i(t).getUTCMinutes()},null,0,59),r("hours",function(t){return new Date(Date.UTC(1970,0,1,t))},function(t){return i(t).getUTCHours()},null,0,23),r("weekdays",function(t){return new Date(Date.UTC(1970,0,4+t))},function(t){return i(t).getUTCDay()},[1],0,6),r("dates",function(t){return new Date(Date.UTC(1970,0,t))},function(t){return i(t).getUTCDate()},[1],1,31),r("months",function(t){return new Date(Date.UTC(1970,t%12,1))},function(t){return i(t).getUTCMonth()},[1],0,11)],p=[[31536e6,5],[7776e6,4],[2592e6,4],[12096e5,3],[6048e5,3],[1728e5,3],[864e5,3],[432e5,2],[216e5,2],[108e5,2],[36e5,2],[18e5,1],[9e5,1],[3e5,1],[6e4,1],[3e4,0],[15e3,0],[5e3,0],[1e3,0]];e.exports=s(h),e.exports.utc=s(d)},{"d3-time":2}],6:[function(t,e,n){(function(t){function n(t,e){var n,i="";for(n=0;n<t;++n)i+=e;return i}function i(t,e,n){var i=0,r=t.split(u);return t=n?(r=r.reverse()).filter(function(t){return i+=t.length,i<=e}).reverse():r.filter(function(t){return i+=t.length,i<=e}),t.length?t.join("").trim():r[0].slice(0,e)}var r=e.exports,o="__name__";r.namedfunc=function(t,e){return e[o]=t,e},r.name=function(t){return null==t?null:t[o]},r.identity=function(t){return t},r["true"]=r.namedfunc("true",function(){return!0}),r["false"]=r.namedfunc("false",function(){return!1}),r.duplicate=function(t){return JSON.parse(JSON.stringify(t))},r.equal=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},r.extend=function(t){for(var e,n,i=1,r=arguments.length;i<r;++i){e=arguments[i];for(n in e)t[n]=e[n]}return t},r.length=function(t){return null!=t&&null!=t.length?t.length:null},r.keys=function(t){var e,n=[];for(e in t)n.push(e);return n},r.vals=function(t){var e,n=[];for(e in t)n.push(t[e]);return n},r.toMap=function(t,e){return(e=r.$(e))?t.reduce(function(t,n){return t[e(n)]=1,t},{}):t.reduce(function(t,e){return t[e]=1,t},{})},r.keystr=function(t){var e=t.length;if(!e)return"";for(var n=String(t[0]),i=1;i<e;++i)n+="|"+String(t[i]);return n};var a=Object.prototype.toString;r.isObject=function(t){return t===Object(t)},r.isFunction=function(t){return"[object Function]"===a.call(t)},r.isString=function(t){return"string"==typeof value||"[object String]"===a.call(t)},r.isArray=Array.isArray||function(t){return"[object Array]"===a.call(t)},r.isNumber=function(t){return"number"==typeof t||"[object Number]"===a.call(t)},r.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==a.call(t)},r.isDate=function(t){return"[object Date]"===a.call(t)},r.isValid=function(t){return null!=t&&t===t},r.isBuffer="function"==typeof t&&t.isBuffer||r["false"],r.number=function(t){return null==t||""===t?null:+t},r["boolean"]=function(t){return null==t||""===t?null:"false"!==t&&!!t},r.date=function(t,e){var n=e?e:Date;return null==t||""===t?null:n.parse(t)},r.array=function(t){return null!=t?r.isArray(t)?t:[t]:[]},r.str=function(t){return r.isArray(t)?"["+t.map(r.str)+"]":r.isObject(t)||r.isString(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t};var s=/\[(.*?)\]|[^.\[]+/g;r.field=function(t){return String(t).match(s).map(function(t){return"["!==t[0]?t:"'"!==t[1]&&'"'!==t[1]?t.slice(1,-1):t.slice(2,-2).replace(/\\(["'])/g,"$1")})},r.accessor=function(t){return null==t||r.isFunction(t)?t:r.namedfunc(t,Function("x","return x["+r.field(t).map(r.str).join("][")+"];"))},r.$=r.accessor,r.mutator=function(t){var e;return r.isString(t)&&(e=r.field(t)).length>1?function(t,n){for(var i=0;i<e.length-1;++i)t=t[e[i]];t[e[i]]=n}:function(e,n){e[t]=n}},r.$func=function(t,e){return function(n){n=r.$(n)||r.identity;var i=t+(r.name(n)?"_"+r.name(n):"");return r.namedfunc(i,function(t){return e(n(t))})}},r.$valid=r.$func("valid",r.isValid),r.$length=r.$func("length",r.length),r.$in=function(t,e){t=r.$(t);var n=r.isArray(e)?r.toMap(e):e;return function(e){return!!n[t(e)]}},r.comparator=function(t){var e=[];return void 0===t&&(t=[]),t=r.array(t).map(function(t){var n=1;return"-"===t[0]?(n=-1,t=t.slice(1)):"+"===t[0]&&(n=1,t=t.slice(1)),e.push(n),r.accessor(t)}),function(n,i){var o,a,s,u;for(o=0,a=t.length;o<a;++o)if(s=t[o],u=r.cmp(s(n),s(i)))return u*e[o];return 0}},r.cmp=function(t,e){return(t<e||null==t)&&null!=e?-1:(t>e||null==e)&&null!=t?1:(e=e instanceof Date?+e:e,(t=t instanceof Date?+t:t)!==t&&e===e?-1:e!==e&&t===t?1:0)},r.numcmp=function(t,e){return t-e},r.stablesort=function(t,e,n){var i=t.reduce(function(t,e,i){return t[n(e)]=i,t},{});return t.sort(function(t,r){var o=e(t),a=e(r);return o<a?-1:o>a?1:i[n(t)]-i[n(r)]}),t},r.permute=function(t){for(var e,n,i=t.length;i;)n=Math.floor(Math.random()*i--),e=t[i],t[i]=t[n],t[n]=e},r.pad=function(t,e,i,r){r=r||" ";var o=e-t.length;if(o<=0)return t;switch(i){case"left":return n(o,r)+t;case"middle":case"center":return n(Math.floor(o/2),r)+t+n(Math.ceil(o/2),r);default:return t+n(o,r)}},r.truncate=function(t,e,n,r,o){var a=t.length;if(a<=e)return t;o=void 0!==o?String(o):"…";var s=Math.max(0,e-o.length);switch(n){case"left":return o+(r?i(t,s,1):t.slice(a-s));case"middle":case"center":var u=Math.ceil(s/2),l=Math.floor(s/2);return(r?i(t,u):t.slice(0,u))+o+(r?i(t,l,1):t.slice(a-l));default:return(r?i(t,s):t.slice(0,s))+o}};var u=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/}).call(this,t("buffer").Buffer)},{buffer:1}],7:[function(t,e,n){var i="undefined"!=typeof JSON?JSON:t("jsonify");e.exports=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var n=e.space||"";"number"==typeof n&&(n=Array(n+1).join(" "));var a="boolean"==typeof e.cycles&&e.cycles,s=e.replacer||function(t,e){return e},u=e.cmp&&function(t){return function(e){return function(n,i){var r={key:n,value:e[n]},o={key:i,value:e[i]};return t(r,o)}}}(e.cmp),l=[];return function c(t,e,f,h){var d=n?"\n"+new Array(h+1).join(n):"",p=n?": ":":";if(f&&f.toJSON&&"function"==typeof f.toJSON&&(f=f.toJSON()),f=s.call(t,e,f),void 0!==f){if("object"!=typeof f||null===f)return i.stringify(f);if(r(f)){for(var g=[],m=0;m<f.length;m++){var v=c(f,m,f[m],h+1)||i.stringify(null);g.push(d+n+v)}return"["+g.join(",")+d+"]"}if(l.indexOf(f)!==-1){if(a)return i.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}l.push(f);for(var y=o(f).sort(u&&u(f)),g=[],m=0;m<y.length;m++){var e=y[m],b=c(f,e,f[e],h+1);if(b){var _=i.stringify(e)+p+b;g.push(d+n+_)}}return l.splice(l.indexOf(f),1),"{"+g.join(",")+d+"}"}}({"":t},"",t,0)};var r=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},o=Object.keys||function(t){var e=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var i in t)e.call(t,i)&&n.push(i);return n}},{jsonify:8}],8:[function(t,e,n){n.parse=t("./lib/parse"),n.stringify=t("./lib/stringify")},{"./lib/parse":9,"./lib/stringify":10}],9:[function(t,e,n){var i,r,o,a,s={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},u=function(t){throw{name:"SyntaxError",message:t,at:i,text:o}},l=function(t){return t&&t!==r&&u("Expected '"+t+"' instead of '"+r+"'"),r=o.charAt(i),i+=1,r},c=function(){var t,e="";for("-"===r&&(e="-",l("-"));r>="0"&&r<="9";)e+=r,l();if("."===r)for(e+=".";l()&&r>="0"&&r<="9";)e+=r;if("e"===r||"E"===r)for(e+=r,l(),"-"!==r&&"+"!==r||(e+=r,l());r>="0"&&r<="9";)e+=r,l();return t=+e,isFinite(t)?t:void u("Bad number")},f=function(){var t,e,n,i="";if('"'===r)for(;l();){if('"'===r)return l(),i;if("\\"===r)if(l(),"u"===r){for(n=0,e=0;e<4&&(t=parseInt(l(),16),isFinite(t));e+=1)n=16*n+t;i+=String.fromCharCode(n)}else{if("string"!=typeof s[r])break;i+=s[r]}else i+=r}u("Bad string")},h=function(){for(;r&&r<=" ";)l()},d=function(){switch(r){case"t":return l("t"),l("r"),l("u"),l("e"),!0;case"f":return l("f"),l("a"),l("l"),l("s"),l("e"),!1;case"n":return l("n"),l("u"),l("l"),l("l"),null}u("Unexpected '"+r+"'")},p=function(){var t=[];if("["===r){if(l("["),h(),"]"===r)return l("]"),t;for(;r;){if(t.push(a()),h(),"]"===r)return l("]"),t;l(","),h()}}u("Bad array")},g=function(){var t,e={};if("{"===r){if(l("{"),h(),"}"===r)return l("}"),e;for(;r;){if(t=f(),h(),l(":"),Object.hasOwnProperty.call(e,t)&&u('Duplicate key "'+t+'"'),e[t]=a(),h(),"}"===r)return l("}"),e;l(","),h()}}u("Bad object")};a=function(){switch(h(),r){case"{":return g();case"[":return p();case'"':return f();case"-":return c();default:return r>="0"&&r<="9"?c():d()}},e.exports=function(t,e){var n;return o=t,i=0,r=" ",n=a(),h(),r&&u("Syntax error"),"function"==typeof e?function s(t,n){var i,r,o=t[n];if(o&&"object"==typeof o)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r=s(o,i),void 0!==r?o[i]=r:delete o[i]);return e.call(t,n,o)}({"":n},""):n}},{}],10:[function(t,e,n){function i(t){return u.lastIndex=0,u.test(t)?'"'+t.replace(u,function(t){var e=l[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function r(t,e){var n,u,l,c,f,h=o,d=e[t];switch(d&&"object"==typeof d&&"function"==typeof d.toJSON&&(d=d.toJSON(t)),"function"==typeof s&&(d=s.call(e,t,d)),typeof d){case"string":return i(d);case"number":return isFinite(d)?String(d):"null";case"boolean":case"null":return String(d);case"object":if(!d)return"null";if(o+=a,f=[],"[object Array]"===Object.prototype.toString.apply(d)){for(c=d.length,n=0;n<c;n+=1)f[n]=r(n,d)||"null";return l=0===f.length?"[]":o?"[\n"+o+f.join(",\n"+o)+"\n"+h+"]":"["+f.join(",")+"]",o=h,l}if(s&&"object"==typeof s)for(c=s.length,n=0;n<c;n+=1)u=s[n],"string"==typeof u&&(l=r(u,d),l&&f.push(i(u)+(o?": ":":")+l));else for(u in d)Object.prototype.hasOwnProperty.call(d,u)&&(l=r(u,d),l&&f.push(i(u)+(o?": ":":")+l));return l=0===f.length?"{}":o?"{\n"+o+f.join(",\n"+o)+"\n"+h+"}":"{"+f.join(",")+"}",o=h,l}}var o,a,s,u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};e.exports=function(t,e,n){var i;if(o="",a="","number"==typeof n)for(i=0;i<n;i+=1)a+=" ";else"string"==typeof n&&(a=n);if(s=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return r("",{"":t})}},{}],11:[function(t,e,n){"use strict";!function(t){t[t.VALUES="values"]="VALUES",t[t.COUNT="count"]="COUNT",t[t.VALID="valid"]="VALID",t[t.MISSING="missing"]="MISSING",t[t.DISTINCT="distinct"]="DISTINCT",t[t.SUM="sum"]="SUM",t[t.MEAN="mean"]="MEAN",t[t.AVERAGE="average"]="AVERAGE",t[t.VARIANCE="variance"]="VARIANCE",t[t.VARIANCEP="variancep"]="VARIANCEP",t[t.STDEV="stdev"]="STDEV",t[t.STDEVP="stdevp"]="STDEVP",t[t.MEDIAN="median"]="MEDIAN",t[t.Q1="q1"]="Q1",t[t.Q3="q3"]="Q3",t[t.MODESKEW="modeskew"]="MODESKEW",t[t.MIN="min"]="MIN",t[t.MAX="max"]="MAX",t[t.ARGMIN="argmin"]="ARGMIN",t[t.ARGMAX="argmax"]="ARGMAX"}(n.AggregateOp||(n.AggregateOp={}));var i=n.AggregateOp;n.AGGREGATE_OPS=[i.VALUES,i.COUNT,i.VALID,i.MISSING,i.DISTINCT,i.SUM,i.MEAN,i.AVERAGE,i.VARIANCE,i.VARIANCEP,i.STDEV,i.STDEVP,i.MEDIAN,i.Q1,i.Q3,i.MODESKEW,i.MIN,i.MAX,i.ARGMIN,i.ARGMAX],n.SUM_OPS=[i.COUNT,i.SUM,i.DISTINCT],n.SHARED_DOMAIN_OPS=[i.MEAN,i.AVERAGE,i.STDEV,i.STDEVP,i.MEDIAN,i.Q1,i.Q3,i.MIN,i.MAX]},{}],12:[function(t,e,n){"use strict";!function(t){t[t.TOP="top"]="TOP",t[t.RIGHT="right"]="RIGHT",t[t.LEFT="left"]="LEFT",t[t.BOTTOM="bottom"]="BOTTOM"}(n.AxisOrient||(n.AxisOrient={}));n.AxisOrient;n.defaultAxisConfig={offset:void 0,grid:void 0,labels:!0,labelMaxLength:25,tickSize:void 0,characterWidth:6},n.defaultFacetAxisConfig={axisWidth:0,labels:!0,grid:!1,tickSize:0}},{}],13:[function(t,e,n){"use strict";function i(t){switch(t){case r.ROW:case r.COLUMN:case r.SIZE:case r.SHAPE:return 6;default:return 10}}var r=t("./channel");n.autoMaxBins=i},{"./channel":14}],14:[function(t,e,n){"use strict";function i(t,e){return!!r(t)[e]}function r(t){switch(t){case n.X:case n.Y:case n.COLOR:case n.DETAIL:case n.ORDER:case n.OPACITY:case n.ROW:case n.COLUMN:return{point:!0,tick:!0,rule:!0,circle:!0,square:!0,bar:!0,line:!0,area:!0,text:!0};case n.X2:case n.Y2:return{rule:!0,bar:!0,area:!0};case n.SIZE:return{point:!0,tick:!0,rule:!0,circle:!0,square:!0,bar:!0,text:!0};case n.SHAPE:return{point:!0};case n.TEXT:return{text:!0};case n.PATH:return{line:!0}}return{}}function o(t){switch(t){case n.X:case n.Y:case n.COLOR:case n.OPACITY:case n.LABEL:case n.DETAIL:return{measure:!0,dimension:!0};case n.ROW:case n.COLUMN:case n.SHAPE:return{measure:!1,dimension:!0};case n.X2:case n.Y2:case n.SIZE:case n.TEXT:return{measure:!0,dimension:!1};case n.PATH:return{measure:!1,dimension:!0}}throw new Error("Invalid encoding channel"+t)}function a(t){return!s.contains([n.DETAIL,n.PATH,n.TEXT,n.LABEL,n.ORDER],t)}var s=t("./util");!function(t){t[t.X="x"]="X",t[t.Y="y"]="Y",t[t.X2="x2"]="X2",t[t.Y2="y2"]="Y2",t[t.ROW="row"]="ROW",t[t.COLUMN="column"]="COLUMN",t[t.SHAPE="shape"]="SHAPE",t[t.SIZE="size"]="SIZE",t[t.COLOR="color"]="COLOR",t[t.TEXT="text"]="TEXT",t[t.DETAIL="detail"]="DETAIL",t[t.LABEL="label"]="LABEL",t[t.PATH="path"]="PATH",t[t.ORDER="order"]="ORDER",t[t.OPACITY="opacity"]="OPACITY"}(n.Channel||(n.Channel={}));var u=n.Channel;n.X=u.X,n.Y=u.Y,n.X2=u.X2,n.Y2=u.Y2,n.ROW=u.ROW,n.COLUMN=u.COLUMN,n.SHAPE=u.SHAPE,n.SIZE=u.SIZE,n.COLOR=u.COLOR,n.TEXT=u.TEXT,n.DETAIL=u.DETAIL,n.LABEL=u.LABEL,n.PATH=u.PATH,n.ORDER=u.ORDER,n.OPACITY=u.OPACITY,n.CHANNELS=[n.X,n.Y,n.X2,n.Y2,n.ROW,n.COLUMN,n.SIZE,n.SHAPE,n.COLOR,n.PATH,n.ORDER,n.OPACITY,n.TEXT,n.DETAIL,n.LABEL],n.UNIT_CHANNELS=s.without(n.CHANNELS,[n.ROW,n.COLUMN]),n.UNIT_SCALE_CHANNELS=s.without(n.UNIT_CHANNELS,[n.PATH,n.ORDER,n.DETAIL,n.TEXT,n.LABEL,n.X2,n.Y2]),n.NONSPATIAL_CHANNELS=s.without(n.UNIT_CHANNELS,[n.X,n.Y,n.X2,n.Y2]),n.NONSPATIAL_SCALE_CHANNELS=s.without(n.UNIT_SCALE_CHANNELS,[n.X,n.Y,n.X2,n.Y2]),n.STACK_GROUP_CHANNELS=[n.COLOR,n.DETAIL,n.ORDER,n.OPACITY,n.SIZE],n.supportMark=i,n.getSupportedMark=r,n.getSupportedRole=o,n.hasScale=a},{"./util":63}],15:[function(t,e,n){"use strict";function i(t,e){return e.reduce(function(e,n){return t.axis(n)&&(e[n]=o(n,t)),e},{})}function r(t,e){var i=t===y.COLUMN,r=t===y.ROW,o=i?"x":r?"y":t,a={type:o,scale:e.scaleName(t),grid:!0,tickSize:0,properties:{labels:{text:{value:""}},axis:{stroke:{value:"transparent"}}}},s=e.axis(t);["layer","ticks","values","subdivide"].forEach(function(i){var r,o=(r=n[i])?r(e,t,a):s[i];void 0!==o&&(a[i]=o)});var u=e.axis(t).properties||{};return["grid"].forEach(function(n){var i=k[n]?k[n](e,t,u[n]||{},a):u[n];void 0!==i&&x.keys(i).length>0&&(a.properties=a.properties||{},a.properties[n]=i)}),a}function o(t,e){var i=t===y.COLUMN,r=t===y.ROW,o=i?"x":r?"y":t,a=e.axis(t),s={type:o,scale:e.scaleName(t)};["format","grid","layer","offset","orient","tickSize","ticks","tickSizeEnd","title","titleOffset","tickPadding","tickSize","tickSizeMajor","tickSizeMinor","values","subdivide"].forEach(function(i){var r,o=(r=n[i])?r(e,t,s):a[i];void 0!==o&&(s[i]=o)});var u=e.axis(t).properties||{};return["axis","labels","grid","title","ticks","majorTicks","minorTicks"].forEach(function(n){var i=k[n]?k[n](e,t,u[n]||{},s):u[n];void 0!==i&&x.keys(i).length>0&&(s.properties=s.properties||{},s.properties[n]=i)}),s}function a(t,e){return w.numberFormat(t.fieldDef(e),t.axis(e).format,t.config())}function s(t,e){return t.axis(e).offset}function u(t,e){var n=t.axis(e).grid;return void 0!==n?n:!t.isOrdinalScale(e)&&!t.fieldDef(e).bin}function l(t,e){if(e!==y.ROW&&e!==y.COLUMN)return u(t,e)&&(e===y.Y||e===y.X)&&!(t.parent()&&t.parent().isFacet())}function c(t,e,n){var i=t.axis(e).layer;return void 0!==i?i:n.grid?"back":void 0}function f(t,e){var n=t.axis(e).orient;return n?n:e===y.COLUMN?v.AxisOrient.TOP:void 0}function h(t,e){var n=t.axis(e).ticks;return void 0!==n?n:e!==y.X||t.fieldDef(e).bin?void 0:5}function d(t,e){var n=t.axis(e).tickSize;if(void 0!==n)return n}function p(t,e){var n=t.axis(e).tickSizeEnd;if(void 0!==n)return n}function g(t,e){var n=t.axis(e);if(void 0!==n.title)return n.title;var i,r=b.title(t.fieldDef(e),t.config());if(n.titleMaxLength)i=n.titleMaxLength;else if(e!==y.X||t.isOrdinalScale(y.X)){if(e===y.Y&&!t.isOrdinalScale(y.Y)){var o=t;i=o.config().cell.height/t.axis(y.Y).characterWidth}}else{var o=t;i=o.config().cell.width/t.axis(y.X).characterWidth}return i?x.truncate(r,i):r}function m(t,e){var n=t.axis(e).titleOffset;if(void 0!==n)return n}var v=t("../axis"),y=t("../channel"),b=t("../fielddef"),_=t("../type"),x=t("../util"),w=t("./common");n.parseAxisComponent=i,n.parseInnerAxis=r,n.parseAxis=o,n.format=a,n.offset=s,n.gridShow=u,n.grid=l,n.layer=c,n.orient=f,n.ticks=h,n.tickSize=d,n.tickSizeEnd=p,n.title=g,n.titleOffset=m;var k;!function(t){function e(t,e,n){var i=t.axis(e);return x.extend(void 0!==i.axisColor?{stroke:{value:i.axisColor}}:{},void 0!==i.axisWidth?{strokeWidth:{value:i.axisWidth}}:{},n||{})}function n(t,e,n){var i=t.axis(e);return x.extend(void 0!==i.gridColor?{stroke:{value:i.gridColor}}:{},void 0!==i.gridOpacity?{strokeOpacity:{value:i.gridOpacity}}:{},void 0!==i.gridWidth?{strokeWidth:{value:i.gridWidth}}:{},void 0!==i.gridDash?{strokeDashOffset:{value:i.gridDash}}:{},n||{})}function i(t,e,n,i){var r=t.fieldDef(e),o=t.axis(e),a=t.config();return o.labels?(x.contains([_.NOMINAL,_.ORDINAL],r.type)&&o.labelMaxLength?n=x.extend({text:{template:"{{ datum.data | truncate:"+o.labelMaxLength+" }}"}},n||{}):r.type===_.TEMPORAL&&(n=x.extend({text:{template:w.timeTemplate("datum.data",r.timeUnit,o.format,o.shortTimeLabels,a)}},n)),void 0!==o.labelAngle?n.angle={value:o.labelAngle}:e!==y.X||!b.isDimension(r)&&r.type!==_.TEMPORAL||(n.angle={value:270}),void 0!==o.labelAlign?n.align={value:o.labelAlign}:n.angle&&(270===n.angle.value?n.align={value:"top"===i.orient?"left":"x"===i.type?"right":"center"}:90===n.angle.value&&(n.align={value:"center"})),void 0!==o.labelBaseline?n.baseline={value:o.labelBaseline}:n.angle&&(270===n.angle.value?n.baseline={value:"x"===i.type?"middle":"bottom"}:90===n.angle.value&&(n.baseline={value:"bottom"})),void 0!==o.tickLabelColor&&(n.stroke={value:o.tickLabelColor}),void 0!==o.tickLabelFont&&(n.font={value:o.tickLabelFont}),void 0!==o.tickLabelFontSize&&(n.fontSize={value:o.tickLabelFontSize}),0===x.keys(n).length?void 0:n):x.extend({text:""},n)}function r(t,e,n){var i=t.axis(e);return x.extend(void 0!==i.tickColor?{stroke:{value:i.tickColor}}:{},void 0!==i.tickWidth?{strokeWidth:{value:i.tickWidth}}:{},n||{})}function o(t,e,n){var i=t.axis(e);return x.extend(void 0!==i.titleColor?{stroke:{value:i.titleColor}}:{},void 0!==i.titleFont?{font:{value:i.titleFont}}:{},void 0!==i.titleFontSize?{fontSize:{value:i.titleFontSize}}:{},void 0!==i.titleFontWeight?{fontWeight:{value:i.titleFontWeight}}:{},n||{})}t.axis=e,t.grid=n,t.labels=i,t.ticks=r,t.title=o}(k=n.properties||(n.properties={}))},{"../axis":12,"../channel":14,"../fielddef":52,"../type":62,"../util":63,"./common":16}],16:[function(t,e,n){"use strict";function i(t,e,n){return b.isFacetSpec(t)?new g.FacetModel(t,e,n):b.isLayerSpec(t)?new m.LayerModel(t,e,n):b.isUnitSpec(t)?new y.UnitModel(t,e,n):(console.error("Invalid spec."),null)}function r(t,e){var i=e.config().mark.filled,r=e.fieldDef(c.COLOR),o=e.fieldDef(c.OPACITY);i?a(t,e,n.FILL_CONFIG):a(t,e,n.STROKE_CONFIG);var s,u;e.has(c.COLOR)?s={scale:e.scaleName(c.COLOR),field:e.field(c.COLOR,r.type===d.ORDINAL?{prefn:"rank_"}:{})}:r&&r.value&&(s={value:r.value}),e.has(c.OPACITY)?u={scale:e.scaleName(c.OPACITY),field:e.field(c.OPACITY,o.type===d.ORDINAL?{prefn:"rank_"}:{})}:o&&o.value&&(u={value:o.value}),void 0!==s?i?t.fill=s:t.stroke=s:t[i?"fill":"stroke"]=t[i?"fill":"stroke"]||{value:e.config().mark.color},void 0!==u&&(t.opacity=u)}function o(t,e,n){return n.forEach(function(n){var i=e[n];void 0!==i&&(t[n]={value:i})}),t}function a(t,e,n){return o(t,e.config().mark,n)}function s(t,e,n){if(t.type===d.QUANTITATIVE&&!t.bin)return e||n.numberFormat}function u(t){return(t.sort===h.SortOrder.DESCENDING?"-":"")+f.field(t,{binSuffix:"_mid"})}function l(t,e,n,i,r){if(!e||n){var o=n||r.timeFormat;return"{{"+t+" | time:'"+o+"'}}"}return v.template(e,t,i)}var c=t("../channel"),f=t("../fielddef"),h=t("../sort"),d=t("../type"),p=t("../util"),g=t("./facet"),m=t("./layer"),v=t("../timeunit"),y=t("./unit"),b=t("../spec");n.buildModel=i,n.STROKE_CONFIG=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","opacity"],n.FILL_CONFIG=["fill","fillOpacity","opacity"],n.FILL_STROKE_CONFIG=p.union(n.STROKE_CONFIG,n.FILL_CONFIG),n.applyColorAndOpacity=r,n.applyConfig=o,n.applyMarkConfig=a,n.numberFormat=s,n.sortField=u,n.timeTemplate=l},{"../channel":14,"../fielddef":52,"../sort":57,"../spec":58,"../timeunit":60,"../type":62,"../util":63,"./facet":32,"./layer":33,"./unit":47}],17:[function(t,e,n){"use strict";function i(t){var e=s.normalize(t),n=l.buildModel(e,null,"");return n.parse(),r(n)}function r(t){var e=t.config(),n=u.extend({width:1,height:1,padding:"auto"},e.viewport?{viewport:e.viewport}:{},e.background?{background:e.background}:{},{data:[].concat(t.assembleData([]),t.assembleLayout([])),marks:[o(t)]});return{spec:n}}function o(t){var e=u.extend({name:t.name("root"),type:"group"},t.description()?{description:t.description()}:{},{from:{data:a.LAYOUT},properties:{update:u.extend({width:{field:"width"},height:{field:"height"}},t.assembleParentGroupProperties(t.config().cell))}});return u.extend(e,t.assembleGroup())}var a=t("../data"),s=t("../spec"),u=t("../util"),l=t("./common");n.compile=i,n.assembleRootGroup=o},{"../data":49,"../spec":58,"../util":63,"./common":16}],18:[function(t,e,n){"use strict";function i(t,e,n){return u.extend(["filled","opacity","orient","align"].reduce(function(i,l){var c=n.mark[l];switch(l){case"filled":void 0===c&&(i[l]=t!==s.POINT&&t!==s.LINE&&t!==s.RULE);break;case"opacity":void 0===c&&(u.contains([s.POINT,s.TICK,s.CIRCLE,s.SQUARE],t)&&(o.isAggregate(e)&&!o.has(e,r.DETAIL)||(i[l]=.7)),t===s.AREA&&(i[l]=.7));break;case"orient":var f=a.isMeasure(e.x)||a.isMeasure(e.x2),h=a.isMeasure(e.y)||a.isMeasure(e.y2);f&&!h?t===s.TICK?i[l]="vertical":i[l]="horizontal":!f&&h&&(t===s.TICK?i[l]="horizontal":i[l]="vertical");break;case"align":void 0===c&&(i[l]=o.has(e,r.X)?"center":"right")}return i},{}),n.mark)}var r=t("../channel"),o=t("../encoding"),a=t("../fielddef"),s=t("../mark"),u=t("../util");n.initMarkConfig=i},{"../channel":14,"../encoding":50,"../fielddef":52,"../mark":54,"../util":63}],19:[function(t,e,n){"use strict";var i,r=t("../../bin"),o=t("../../channel"),a=t("../../fielddef"),s=t("../../util");!function(t){function e(t){return t.reduce(function(e,n,i){var u=t.fieldDef(i).bin;if(u){var l=s.extend({type:"bin",field:n.field,output:{start:a.field(n,{binSuffix:"_start"}),mid:a.field(n,{binSuffix:"_mid"}),end:a.field(n,{binSuffix:"_end"})}},"boolean"==typeof u?{}:u);l.maxbins||l.step||(l.maxbins=r.autoMaxBins(i));var c=[l],f=t.isOrdinalScale(i)||i===o.COLOR;f&&c.push({type:"formula",field:a.field(n,{binSuffix:"_range"}),expr:a.field(n,{datum:!0,binSuffix:"_start"})+" + '-' + "+a.field(n,{datum:!0,binSuffix:"_end"})});var h=s.hash(u)+"_"+n.field+"oc:"+f;e[h]=c}return e},{})}function n(t){var n=e(t),i=t.child().component.data;return i.source||(s.extend(n,i.bin),delete i.bin),n}function i(t){var n=e(t);return t.children().forEach(function(t){var e=t.component.data;e.source||(s.extend(n,e.bin),delete e.bin)}),n}function u(t){return s.flatten(s.vals(t.bin))}t.parseUnit=e,t.parseFacet=n,t.parseLayer=i,t.assemble=u}(i=n.bin||(n.bin={}))},{"../../bin":13,"../../channel":14,"../../fielddef":52,"../../util":63}],20:[function(t,e,n){"use strict";var i,r=t("../../channel"),o=t("../../type"),a=t("../../util");!function(t){function e(t){var e={};return t.has(r.COLOR)&&t.fieldDef(r.COLOR).type===o.ORDINAL&&(e[t.field(r.COLOR)]=[{type:"sort",by:t.field(r.COLOR)},{type:"rank",field:t.field(r.COLOR),output:{rank:t.field(r.COLOR,{prefn:"rank_"})}}]),e}function n(t){var e=t.child().component.data;if(!e.source){var n=e.colorRank;return delete e.colorRank,n}return{}}function i(t){var e={};return t.children().forEach(function(t){var n=t.component.data;n.source||(a.extend(e,n.colorRank),delete n.colorRank)}),e}function s(t){return a.flatten(a.vals(t.colorRank))}t.parseUnit=e,t.parseFacet=n,t.parseLayer=i,t.assemble=s}(i=n.colorRank||(n.colorRank={}))},{"../../channel":14,"../../type":62,"../../util":63}],21:[function(t,e,n){"use strict";function i(t){return{formatParse:l.formatParse.parseUnit(t),nullFilter:c.nullFilter.parseUnit(t),filter:f.filter.parseUnit(t),nonPositiveFilter:p.nonPositiveFilter.parseUnit(t),source:u.source.parseUnit(t),bin:h.bin.parseUnit(t),calculate:d.formula.parseUnit(t),timeUnit:v.timeUnit.parseUnit(t),timeUnitDomain:y.timeUnitDomain.parseUnit(t),summary:g.summary.parseUnit(t),stackScale:m.stackScale.parseUnit(t),colorRank:b.colorRank.parseUnit(t)}}function r(t){return{formatParse:l.formatParse.parseFacet(t),nullFilter:c.nullFilter.parseFacet(t),filter:f.filter.parseFacet(t),nonPositiveFilter:p.nonPositiveFilter.parseFacet(t),source:u.source.parseFacet(t),bin:h.bin.parseFacet(t),calculate:d.formula.parseFacet(t),timeUnit:v.timeUnit.parseFacet(t),timeUnitDomain:y.timeUnitDomain.parseFacet(t),summary:g.summary.parseFacet(t),stackScale:m.stackScale.parseFacet(t),colorRank:b.colorRank.parseFacet(t)}}function o(t){return{filter:f.filter.parseLayer(t),formatParse:l.formatParse.parseLayer(t),nullFilter:c.nullFilter.parseLayer(t),nonPositiveFilter:p.nonPositiveFilter.parseLayer(t),source:u.source.parseLayer(t),bin:h.bin.parseLayer(t),calculate:d.formula.parseLayer(t),timeUnit:v.timeUnit.parseLayer(t),timeUnitDomain:y.timeUnitDomain.parseLayer(t),summary:g.summary.parseLayer(t),stackScale:m.stackScale.parseLayer(t),colorRank:b.colorRank.parseLayer(t)}}function a(t,e){var n=t.component.data,i=u.source.assemble(t,n);if(i&&e.push(i),g.summary.assemble(n,t).forEach(function(t){e.push(t)}),e.length>0){var r=e[e.length-1],o=b.colorRank.assemble(n);
o.length>0&&(r.transform=(r.transform||[]).concat(o));var a=p.nonPositiveFilter.assemble(n);a.length>0&&(r.transform=(r.transform||[]).concat(a))}else{if(s.keys(n.colorRank).length>0)throw new Error("Invalid colorRank not merged");if(s.keys(n.nonPositiveFilter).length>0)throw new Error("Invalid nonPositiveFilter not merged")}var l=m.stackScale.assemble(n);return l&&e.push(l),y.timeUnitDomain.assemble(n).forEach(function(t){e.push(t)}),e}var s=t("../../util"),u=t("./source"),l=t("./formatparse"),c=t("./nullfilter"),f=t("./filter"),h=t("./bin"),d=t("./formula"),p=t("./nonpositivenullfilter"),g=t("./summary"),m=t("./stackscale"),v=t("./timeunit"),y=t("./timeunitdomain"),b=t("./colorrank");n.parseUnitData=i,n.parseFacetData=r,n.parseLayerData=o,n.assembleData=a},{"../../util":63,"./bin":19,"./colorrank":20,"./filter":22,"./formatparse":23,"./formula":24,"./nonpositivenullfilter":25,"./nullfilter":26,"./source":27,"./stackscale":28,"./summary":29,"./timeunit":30,"./timeunitdomain":31}],22:[function(t,e,n){"use strict";var i;!function(t){function e(t){return t.transform().filter}function n(t){var n=e(t),i=t.child().component.data;return!i.source&&i.filter&&(n=(n?n+" && ":"")+i.filter,delete i.filter),n}function i(t){var n=e(t);return t.children().forEach(function(e){var i=e.component.data;t.compatibleSource(e)&&i.filter&&i.filter===n&&delete i.filter}),n}function r(t){var e=t.filter;return e?[{type:"filter",test:e}]:[]}t.parseUnit=e,t.parseFacet=n,t.parseLayer=i,t.assemble=r}(i=n.filter||(n.filter={}))},{}],23:[function(t,e,n){"use strict";var i,r=t("../../fielddef"),o=t("../../type"),a=t("../../util");!function(t){function e(t){var e=(t.transform().calculate||[]).reduce(function(t,e){return t[e.field]=!0,t},{}),n={};return t.forEach(function(t){if(t.type===o.TEMPORAL)n[t.field]="date";else if(t.type===o.QUANTITATIVE){if(r.isCount(t)||e[t.field])return;n[t.field]="number"}}),n}function n(t){var n=e(t),i=t.child().component.data;return!i.source&&i.formatParse&&(a.extend(n,i.formatParse),delete i.formatParse),n}function i(t){var n=e(t);return t.children().forEach(function(e){var i=e.component.data;t.compatibleSource(e)&&!a.differ(i.formatParse,n)&&(a.extend(n,i.formatParse),delete i.formatParse)}),n}t.parseUnit=e,t.parseFacet=n,t.parseLayer=i}(i=n.formatParse||(n.formatParse={}))},{"../../fielddef":52,"../../type":62,"../../util":63}],24:[function(t,e,n){"use strict";var i,r=t("../../util");!function(t){function e(t){return(t.transform().calculate||[]).reduce(function(t,e){return t[r.hash(e)]=e,t},{})}function n(t){var n=e(t),i=t.child().component.data;return i.source||(r.extend(n,i.calculate),delete i.calculate),n}function i(t){var n=e(t);return t.children().forEach(function(t){var e=t.component.data;!e.source&&e.calculate&&(r.extend(n||{},e.calculate),delete e.calculate)}),n}function o(t){return r.vals(t.calculate).reduce(function(t,e){return t.push(r.extend({type:"formula"},e)),t},[])}t.parseUnit=e,t.parseFacet=n,t.parseLayer=i,t.assemble=o}(i=n.formula||(n.formula={}))},{"../../util":63}],25:[function(t,e,n){"use strict";var i,r=t("../../scale"),o=t("../../util");!function(t){function e(t){return t.channels().reduce(function(e,n){var i=t.scale(n);return t.field(n)&&i?(e[t.field(n)]=i.type===r.ScaleType.LOG,e):e},{})}function n(t){var e=t.child().component.data;if(!e.source){var n=e.nonPositiveFilter;return delete e.nonPositiveFilter,n}return{}}function i(t){var e={};return t.children().forEach(function(n){var i=n.component.data;t.compatibleSource(n)&&!o.differ(i.nonPositiveFilter,e)&&(o.extend(e,i.nonPositiveFilter),delete i.nonPositiveFilter)}),e}function a(t){return o.keys(t.nonPositiveFilter).filter(function(e){return t.nonPositiveFilter[e]}).map(function(t){return{type:"filter",test:"datum."+t+" > 0"}})}t.parseUnit=e,t.parseFacet=n,t.parseLayer=i,t.assemble=a}(i=n.nonPositiveFilter||(n.nonPositiveFilter={}))},{"../../scale":55,"../../util":63}],26:[function(t,e,n){"use strict";var i,r=t("../../util"),o={nominal:!1,ordinal:!1,quantitative:!0,temporal:!0};!function(t){function e(t){var e=t.transform().filterNull;return t.reduce(function(t,n){return e||void 0===e&&n.field&&"*"!==n.field&&o[n.type]?t[n.field]=!0:t[n.field]=!1,t},{})}function n(t){var n=e(t),i=t.child().component.data;return i.source||(r.extend(n,i.nullFilter),delete i.nullFilter),n}function i(t){var n=e(t);return t.children().forEach(function(e){var i=e.component.data;t.compatibleSource(e)&&!r.differ(i.nullFilter,n)&&(r.extend(n,i.nullFilter),delete i.nullFilter)}),n}function a(t){var e=r.keys(t.nullFilter).filter(function(e){return t.nullFilter[e]});return e.length>0?[{type:"filter",test:e.map(function(t){return"(datum."+t+"!==null && !isNaN(datum."+t+"))"}).join(" && ")}]:[]}t.parseUnit=e,t.parseFacet=n,t.parseLayer=i,t.assemble=a}(i=n.nullFilter||(n.nullFilter={}))},{"../../util":63}],27:[function(t,e,n){"use strict";var i,r=t("../../data"),o=t("../../util"),a=t("./nullfilter"),s=t("./filter"),u=t("./bin"),l=t("./formula"),c=t("./timeunit");!function(t){function e(t){var e=t.data();if(e){var n={name:t.dataName(r.SOURCE)};if(e.values&&e.values.length>0)n.values=e.values,n.format={type:"json"};else if(e.url){n.url=e.url;var i=/(?:\.([^.]+))?$/.exec(n.url)[1];o.contains(["json","csv","tsv","topojson"],i)||(i="json");var a=e.format||{},s=a.type||e.formatType;n.format=o.extend({type:s?s:i},a.property?{property:a.property}:{},a.feature?{feature:a.feature}:a.mesh?{mesh:a.mesh}:{})}return n}if(!t.parent())return{name:t.dataName(r.SOURCE)}}function n(t){var n=e(t);return t.child().component.data.source||t.child().renameData(t.child().dataName(r.SOURCE),t.dataName(r.SOURCE)),n}function i(t){var n=e(t);return t.children().forEach(function(e){var n=e.component.data;if(t.compatibleSource(e)){var i=!n.filter&&!n.formatParse&&!n.nullFilter;i?(e.renameData(e.dataName(r.SOURCE),t.dataName(r.SOURCE)),delete n.source):n.source={name:e.dataName(r.SOURCE),source:t.dataName(r.SOURCE)}}}),n}function f(t,e){if(e.source){var n=e.source;return e.formatParse&&(e.source.format=e.source.format||{},e.source.format.parse=e.formatParse),n.transform=[].concat(a.nullFilter.assemble(e),l.formula.assemble(e),s.filter.assemble(e),u.bin.assemble(e),c.timeUnit.assemble(e)),n}return null}t.parseUnit=e,t.parseFacet=n,t.parseLayer=i,t.assemble=f}(i=n.source||(n.source={}))},{"../../data":49,"../../util":63,"./bin":19,"./filter":22,"./formula":24,"./nullfilter":26,"./timeunit":30}],28:[function(t,e,n){"use strict";var i,r=t("../../data"),o=t("../../fielddef");!function(t){function e(t){var e=t.stack();if(e){var n=e.groupbyChannel,i=e.fieldChannel;return{name:t.dataName(r.STACKED_SCALE),source:t.dataName(r.SUMMARY),transform:[{type:"aggregate",groupby:[t.field(n)],summarize:[{ops:["sum"],field:t.field(i)}]}]}}return null}function n(t){var e=t.child(),n=e.component.data;if(!n.source&&n.stackScale){var i=n.stackScale,a=t.dataName(r.STACKED_SCALE);return e.renameData(i.name,a),i.name=a,i.source=t.dataName(r.SUMMARY),i.transform[0].groupby=t.reduce(function(t,e){return t.push(o.field(e)),t},i.transform[0].groupby),delete n.stackScale,i}return null}function i(t){return null}function a(t){return t.stackScale}t.parseUnit=e,t.parseFacet=n,t.parseLayer=i,t.assemble=a}(i=n.stackScale||(n.stackScale={}))},{"../../data":49,"../../fielddef":52}],29:[function(t,e,n){"use strict";var i,r=t("../../aggregate"),o=t("../../data"),a=t("../../fielddef"),s=t("../../util");!function(t){function e(t,e){return e.bin?(t[a.field(e,{binSuffix:"_start"})]=!0,t[a.field(e,{binSuffix:"_mid"})]=!0,t[a.field(e,{binSuffix:"_end"})]=!0,t[a.field(e,{binSuffix:"_range"})]=!0):t[a.field(e)]=!0,t}function n(t){var n={},i={};return t.forEach(function(t,o){t.aggregate?t.aggregate===r.AggregateOp.COUNT?(i["*"]=i["*"]||{},i["*"].count=!0):(i[t.field]=i[t.field]||{},i[t.field][t.aggregate]=!0):e(n,t)}),[{name:t.dataName(o.SUMMARY),dimensions:n,measures:i}]}function i(t){var n=t.child().component.data;if(!n.source&&n.summary){var i=n.summary.map(function(n){n.dimensions=t.reduce(e,n.dimensions);var i=n.name.substr(t.child().name("").length);return t.child().renameData(n.name,i),n.name=i,n});return delete n.summary,i}return[]}function u(t,e){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];for(var r in i)i.hasOwnProperty(r)&&(n in t?t[n][r]=!0:t[n]={op:!0})}}function l(t){var e={};return t.children().forEach(function(n){var i=n.component.data;!i.source&&i.summary&&i.summary.forEach(function(r){var a=s.hash(r.dimensions);a in e?u(e[a].measures,r.measures):(r.name=t.dataName(o.SUMMARY)+"_"+s.keys(e).length,e[a]=r),n.renameData(n.dataName(o.SUMMARY),e[a].name),delete i.summary})}),s.vals(e)}function c(t,e){return t.summary?t.summary.reduce(function(t,n){var i=n.dimensions,r=n.measures,a=s.keys(i),u=s.reduce(r,function(t,e,n){return t[n]=s.keys(e),t},{});return s.keys(r).length>0&&t.push({name:n.name,source:e.dataName(o.SOURCE),transform:[{type:"aggregate",groupby:a,summarize:u}]}),t},[]):[]}t.parseUnit=n,t.parseFacet=i,t.parseLayer=l,t.assemble=c}(i=n.summary||(n.summary={}))},{"../../aggregate":11,"../../data":49,"../../fielddef":52,"../../util":63}],30:[function(t,e,n){"use strict";var i,r=t("../../fielddef"),o=t("../../type"),a=t("../../util"),s=t("./../time");!function(t){function e(t){return t.reduce(function(t,e,n){var i=r.field(e,{nofn:!0,datum:!0});if(e.type===o.TEMPORAL&&e.timeUnit){var a=r.field(e);t[a]={type:"formula",field:r.field(e),expr:s.parseExpression(e.timeUnit,i)}}return t},{})}function n(t){var n=e(t),i=t.child().component.data;return i.source||(a.extend(n,i.timeUnit),delete i.timeUnit),n}function i(t){var n=e(t);return t.children().forEach(function(t){var e=t.component.data;e.source||(a.extend(n,e.timeUnit),delete e.timeUnit)}),n}function u(t){return a.vals(t.timeUnit)}t.parseUnit=e,t.parseFacet=n,t.parseLayer=i,t.assemble=u}(i=n.timeUnit||(n.timeUnit={}))},{"../../fielddef":52,"../../type":62,"../../util":63,"./../time":46}],31:[function(t,e,n){"use strict";var i,r=t("../../util"),o=t("./../time");!function(t){function e(t){return t.reduce(function(t,e,n){if(e.timeUnit){var i=o.rawDomain(e.timeUnit,n);i&&(t[e.timeUnit]=!0)}return t},{})}function n(t){return r.extend(e(t),t.child().component.data.timeUnitDomain)}function i(t){return r.extend(e(t),t.children().forEach(function(t){return t.component.data.timeUnitDomain}))}function a(t){return r.keys(t.timeUnitDomain).reduce(function(t,e){var n=e,i=o.rawDomain(n,null);return i&&t.push({name:n,values:i,transform:[{type:"formula",field:"date",expr:o.parseExpression(n,"datum.data",!0)}]}),t},[])}t.parseUnit=e,t.parseFacet=n,t.parseLayer=i,t.assemble=a}(i=n.timeUnitDomain||(n.timeUnitDomain={}))},{"../../util":63,"./../time":46}],32:[function(t,e,n){"use strict";function i(t){var e=t.child(),n=y.extend({},e.config().cell,e.config().facet.cell);return y.extend({x:t.has(f.COLUMN)?{scale:t.scaleName(f.COLUMN),field:t.field(f.COLUMN),offset:t.scale(f.COLUMN).padding/2}:{value:t.config().facet.scale.padding/2},y:t.has(f.ROW)?{scale:t.scaleName(f.ROW),field:t.field(f.ROW),offset:t.scale(f.ROW).padding/2}:{value:t.config().facet.scale.padding/2},width:{field:{parent:t.child().sizeName("width")}},height:{field:{parent:t.child().sizeName("height")}}},e.assembleParentGroupProperties(n))}function r(t,e){var n=null,i=t.child();return i.has(e)&&i.axis(e)&&(n=e===f.X?o(t):a(t),i.axis(e)&&b.gridShow(i,e)?i.component.axis[e]=b.parseInnerAxis(e,i):delete i.component.axis[e]),n}function o(t){var e=t.has(f.COLUMN);return y.extend({name:t.name("x-axes"),type:"group"},e?{from:{data:t.dataTable(),transform:[{type:"aggregate",groupby:[t.field(f.COLUMN)],summarize:{"*":["count"]}}]}}:{},{properties:{update:{width:{field:{parent:t.child().sizeName("width")}},height:{field:{group:"height"}},x:e?{scale:t.scaleName(f.COLUMN),field:t.field(f.COLUMN),offset:t.scale(f.COLUMN).padding/2}:{value:t.config().facet.scale.padding/2}}},axes:[b.parseAxis(f.X,t.child())]})}function a(t){var e=t.has(f.ROW);return y.extend({name:t.name("y-axes"),type:"group"},e?{from:{data:t.dataTable(),transform:[{type:"aggregate",groupby:[t.field(f.ROW)],summarize:{"*":["count"]}}]}}:{},{properties:{update:{width:{field:{group:"width"}},height:{field:{parent:t.child().sizeName("height")}},y:e?{scale:t.scaleName(f.ROW),field:t.field(f.ROW),offset:t.scale(f.ROW).padding/2}:{value:t.config().facet.scale.padding/2}}},axes:[b.parseAxis(f.Y,t.child())]})}function s(t){var e=t.config().facet.grid,n={name:t.name("row-grid"),type:"rule",from:{data:t.dataTable(),transform:[{type:"facet",groupby:[t.field(f.ROW)]}]},properties:{update:{y:{scale:t.scaleName(f.ROW),field:t.field(f.ROW)},x:{value:0,offset:-e.offset},x2:{field:{group:"width"},offset:e.offset},stroke:{value:e.color},strokeOpacity:{value:e.opacity},strokeWidth:{value:.5}}}};return[n,{name:t.name("row-grid-end"),type:"rule",properties:{update:{y:{field:{group:"height"}},x:{value:0,offset:-e.offset},x2:{field:{group:"width"},offset:e.offset},stroke:{value:e.color},strokeOpacity:{value:e.opacity},strokeWidth:{value:.5}}}}]}function u(t){var e=t.config().facet.grid,n={name:t.name("column-grid"),type:"rule",from:{data:t.dataTable(),transform:[{type:"facet",groupby:[t.field(f.COLUMN)]}]},properties:{update:{x:{scale:t.scaleName(f.COLUMN),field:t.field(f.COLUMN)},y:{value:0,offset:-e.offset},y2:{field:{group:"height"},offset:e.offset},stroke:{value:e.color},strokeOpacity:{value:e.opacity},strokeWidth:{value:.5}}}};return[n,{name:t.name("column-grid-end"),type:"rule",properties:{update:{x:{field:{group:"width"}},y:{value:0,offset:-e.offset},y2:{field:{group:"height"},offset:e.offset},stroke:{value:e.color},strokeOpacity:{value:e.opacity},strokeWidth:{value:.5}}}}]}var l=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},c=t("../axis"),f=t("../channel"),h=t("../config"),d=t("../data"),p=t("../encoding"),g=t("../fielddef"),m=t("../scale"),v=t("../type"),y=t("../util"),b=t("./axis"),_=t("./common"),x=t("./data/data"),w=t("./layout"),k=t("./model"),E=t("./scale"),S=function(t){function e(e,n,i){t.call(this,e,n,i);var r=this._config=this._initConfig(e.config,n),o=this._child=_.buildModel(e.spec,this,this.name("child")),a=this._facet=this._initFacet(e.facet);this._scale=this._initScale(a,r,o),this._axis=this._initAxis(a,r,o)}return l(e,t),e.prototype._initConfig=function(t,e){return y.mergeDeep(y.duplicate(h.defaultConfig),t,e?e.config():{})},e.prototype._initFacet=function(t){t=y.duplicate(t);var e=this;return p.channelMappingForEach(this.channels(),t,function(t,n){g.isDimension(t)||e.addWarning(n+" encoding should be ordinal."),t.type&&(t.type=v.getFullName(t.type))}),t},e.prototype._initScale=function(t,e,n){return[f.ROW,f.COLUMN].reduce(function(i,r){if(t[r]){var o=t[r].scale||{};i[r]=y.extend({type:m.ScaleType.ORDINAL,round:e.facet.scale.round,padding:r===f.ROW&&n.has(f.Y)||r===f.COLUMN&&n.has(f.X)?e.facet.scale.padding:0},o)}return i},{})},e.prototype._initAxis=function(t,e,n){return[f.ROW,f.COLUMN].reduce(function(i,r){if(t[r]){var o=t[r].axis;if(o!==!1){var a=i[r]=y.extend({},e.facet.axis,o===!0?{}:o||{});if(r===f.ROW){var s=n.axis(f.Y);s&&s.orient!==c.AxisOrient.RIGHT&&!a.orient&&(a.orient=c.AxisOrient.RIGHT),n.has(f.X)&&!a.labelAngle&&(a.labelAngle=a.orient===c.AxisOrient.RIGHT?90:270)}}}return i},{})},e.prototype.facet=function(){return this._facet},e.prototype.has=function(t){return!!this._facet[t]},e.prototype.child=function(){return this._child},e.prototype.hasSummary=function(){for(var t=this.component.data.summary,e=0;e<t.length;e++)if(y.keys(t[e].measures).length>0)return!0;return!1},e.prototype.dataTable=function(){return(this.hasSummary()?d.SUMMARY:d.SOURCE)+""},e.prototype.fieldDef=function(t){return this.facet()[t]},e.prototype.stack=function(){return null},e.prototype.parseData=function(){this.child().parseData(),this.component.data=x.parseFacetData(this)},e.prototype.parseSelectionData=function(){},e.prototype.parseLayoutData=function(){this.child().parseLayoutData(),this.component.layout=w.parseFacetLayout(this)},e.prototype.parseScale=function(){var t=this.child(),e=this;t.parseScale();var n=this.component.scale=E.parseScaleComponent(this);y.keys(t.component.scale).forEach(function(i){n[i]=t.component.scale[i],y.vals(n[i]).forEach(function(n){var i=n.name.substr(t.name("").length),r=e.scaleName(i);t.renameScale(n.name,r),n.name=r}),delete t.component.scale[i]})},e.prototype.parseMark=function(){this.child().parseMark(),this.component.mark=y.extend({name:this.name("cell"),type:"group",from:y.extend(this.dataTable()?{data:this.dataTable()}:{},{transform:[{type:"facet",groupby:[].concat(this.has(f.ROW)?[this.field(f.ROW)]:[],this.has(f.COLUMN)?[this.field(f.COLUMN)]:[])}]}),properties:{update:i(this)}},this.child().assembleGroup())},e.prototype.parseAxis=function(){this.child().parseAxis(),this.component.axis=b.parseAxisComponent(this,[f.ROW,f.COLUMN])},e.prototype.parseAxisGroup=function(){var t=r(this,f.X),e=r(this,f.Y);this.component.axisGroup=y.extend(t?{x:t}:{},e?{y:e}:{})},e.prototype.parseGridGroup=function(){var t=this.child();this.component.gridGroup=y.extend(!t.has(f.X)&&this.has(f.COLUMN)?{column:u(this)}:{},!t.has(f.Y)&&this.has(f.ROW)?{row:s(this)}:{})},e.prototype.parseLegend=function(){this.child().parseLegend(),this.component.legend=this._child.component.legend,this._child.component.legend={}},e.prototype.assembleParentGroupProperties=function(){return null},e.prototype.assembleData=function(t){return x.assembleData(this,t),this._child.assembleData(t)},e.prototype.assembleLayout=function(t){return this._child.assembleLayout(t),w.assembleLayout(this,t)},e.prototype.assembleMarks=function(){return[].concat(y.vals(this.component.axisGroup),y.flatten(y.vals(this.component.gridGroup)),this.component.mark)},e.prototype.channels=function(){return[f.ROW,f.COLUMN]},e.prototype.mapping=function(){return this.facet()},e.prototype.isFacet=function(){return!0},e}(k.Model);n.FacetModel=S},{"../axis":12,"../channel":14,"../config":48,"../data":49,"../encoding":50,"../fielddef":52,"../scale":55,"../type":62,"../util":63,"./axis":15,"./common":16,"./data/data":21,"./layout":34,"./model":44,"./scale":45}],33:[function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=t("../util"),o=t("../config"),a=t("./data/data"),s=t("./layout"),u=t("./model"),l=t("./common"),c=t("../vega.schema"),f=function(t){function e(e,n,i){var r=this;t.call(this,e,n,i),this._config=this._initConfig(e.config,n),this._children=e.layers.map(function(t,e){return l.buildModel(t,r,r.name("layer_"+e))})}return i(e,t),e.prototype._initConfig=function(t,e){return r.mergeDeep(r.duplicate(o.defaultConfig),t,e?e.config():{})},e.prototype.has=function(t){return!1},e.prototype.children=function(){return this._children},e.prototype.isOrdinalScale=function(t){return this._children[0].isOrdinalScale(t)},e.prototype.dataTable=function(){return this._children[0].dataTable()},e.prototype.fieldDef=function(t){return null},e.prototype.stack=function(){return null},e.prototype.parseData=function(){this._children.forEach(function(t){t.parseData()}),this.component.data=a.parseLayerData(this)},e.prototype.parseSelectionData=function(){},e.prototype.parseLayoutData=function(){this._children.forEach(function(t,e){t.parseLayoutData()}),this.component.layout=s.parseLayerLayout(this)},e.prototype.parseScale=function(){var t=this,e=this.component.scale={};this._children.forEach(function(n){n.parseScale(),r.keys(n.component.scale).forEach(function(i){var o=n.component.scale[i];if(o){var a=e[i];if(a&&a.main){var s=a.main.domain,u=o.main.domain;if(r.isArray(s))r.isArray(o.main.domain)?a.main.domain=s.concat(u):t.addWarning("custom domain scale cannot be unioned with default field-based domain");else{var l=c.isUnionedDomain(s)?s.fields:[s];r.isArray(u)&&t.addWarning("custom domain scale cannot be unioned with default field-based domain");var f=c.isDataRefDomain(u)?l.concat([u]):c.isUnionedDomain(u)?l.concat(u.fields):l;f=r.unique(f,r.hash),f.length>1?a.main.domain={fields:f}:a.main.domain=f[0]}a.colorLegend=a.colorLegend?a.colorLegend:o.colorLegend,a.binColorLegend=a.binColorLegend?a.binColorLegend:o.binColorLegend}else e[i]=o;r.vals(o).forEach(function(e){var i=e.name.substr(n.name("").length),r=t.scaleName(i);n.renameScale(e.name,r),e.name=r}),delete o[i]}})})},e.prototype.parseMark=function(){this._children.forEach(function(t){t.parseMark()})},e.prototype.parseAxis=function(){var t=this.component.axis={};this._children.forEach(function(e){e.parseAxis(),r.keys(e.component.axis).forEach(function(n){t[n]||(t[n]=e.component.axis[n])})})},e.prototype.parseAxisGroup=function(){return null},e.prototype.parseGridGroup=function(){return null},e.prototype.parseLegend=function(){var t=this.component.legend={};this._children.forEach(function(e){e.parseLegend(),r.keys(e.component.legend).forEach(function(n){t[n]||(t[n]=e.component.legend[n])})})},e.prototype.assembleParentGroupProperties=function(){return null},e.prototype.assembleData=function(t){return a.assembleData(this,t),this._children.forEach(function(e){e.assembleData(t)}),t},e.prototype.assembleLayout=function(t){return this._children.forEach(function(e){e.assembleLayout(t)}),s.assembleLayout(this,t)},e.prototype.assembleMarks=function(){return r.flatten(this._children.map(function(t){return t.assembleMarks()}))},e.prototype.channels=function(){return[]},e.prototype.mapping=function(){return null},e.prototype.isLayer=function(){return!0},e.prototype.compatibleSource=function(t){var e=this.data(),n=t.component.data,i=!n.source||e&&e.url===n.source.url;return i},e}(u.Model);n.LayerModel=f},{"../config":48,"../util":63,"../vega.schema":65,"./common":16,"./data/data":21,"./layout":34,"./model":44}],34:[function(t,e,n){"use strict";function i(t,e){var n=t.component.layout;if(!n.width&&!n.height)return e;var i=v.keys(v.extend(n.width.distinct,n.height.distinct)),r=n.width.formula.concat(n.height.formula).map(function(t){return v.extend({type:"formula"},t)});return[i.length>0?{name:t.dataName(g.LAYOUT),source:t.dataTable(),transform:[{type:"aggregate",summarize:i.map(function(t){return{field:t,ops:["distinct"]}})}].concat(r)}:{name:t.dataName(g.LAYOUT),values:[{}],transform:r}]}function r(t){return{width:o(t,p.X),height:o(t,p.Y)}}function o(t,e){var n=t.config().cell,i=e===p.X?n.width:n.height;return{distinct:h(t,e),formula:[{field:t.channelSizeName(e),expr:a(t,e,i)}]}}function a(t,e,n){if(t.scale(e)){if(t.isOrdinalScale(e)){var i=t.scale(e);return"("+d(t,e)+" + "+i.padding+") * "+i.bandSize}return n+""}return t.mark()===y.TEXT&&e===p.X?t.config().scale.textBandWidth+"":t.config().scale.bandSize+""}function s(t){return{width:u(t,p.COLUMN),height:u(t,p.ROW)}}function u(t,e){var n=t.child().component.layout,i=e===p.ROW?"height":"width",r=n[i],o=v.extend(h(t,e),r.distinct),a=r.formula.concat([{field:t.channelSizeName(e),expr:l(t,e,t.child().channelSizeName(e))}]);return delete n[i],{distinct:o,formula:a}}function l(t,e,n){var i=t.scale(e);return t.has(e)?"(datum."+n+" + "+i.padding+") * "+d(t,e):"datum."+n+" + "+t.config().facet.scale.padding}function c(t){return{width:f(t,p.X),height:f(t,p.Y)}}function f(t,e){var n=t.children()[0].component.layout,i=e===p.Y?"height":"width",r=n[i],o=r.distinct,a=[{field:t.channelSizeName(e),expr:r.formula[0].expr}];return t.children().forEach(function(t){delete t.component.layout[i]}),{distinct:o,formula:a}}function h(t,e){if(t.has(e)&&t.isOrdinalScale(e)){var n=t.scale(e);if(n.type===m.ScaleType.ORDINAL&&!(n.domain instanceof Array)){var i=t.field(e),r={};return r[i]=!0,r}}return{}}function d(t,e){var n=t.scale(e);if(n.domain instanceof Array)return n.domain.length;var i=t.fieldDef(e).timeUnit,r=i?b.rawDomain(i,e):null;return null!==r?r.length:t.field(e,{datum:!0,prefn:"distinct_"})}var p=t("../channel"),g=t("../data"),m=t("../scale"),v=t("../util"),y=t("../mark"),b=t("./time");n.assembleLayout=i,n.parseUnitLayout=r,n.parseFacetLayout=s,n.parseLayerLayout=c},{"../channel":14,"../data":49,"../mark":54,"../scale":55,"../util":63,"./time":46}],35:[function(t,e,n){"use strict";function i(t){return[u.COLOR,u.SIZE,u.SHAPE].reduce(function(e,n){return t.legend(n)&&(e[n]=o(t,n)),e},{})}function r(t,e){switch(e){case u.COLOR:var n=t.fieldDef(u.COLOR),i=t.scaleName(s(n)?p.COLOR_LEGEND:u.COLOR);return t.config().mark.filled?{fill:i}:{stroke:i};case u.SIZE:return{size:t.scaleName(u.SIZE)};case u.SHAPE:return{shape:t.scaleName(u.SHAPE)}}return null}function o(t,e){var n=t.fieldDef(e),i=t.legend(e),o=t.config(),s=r(t,e);s.title=a(i,n,o);var u=d.numberFormat(n,i.format,o);u&&(s.format=u),["offset","orient","values"].forEach(function(t){var e=i[t];void 0!==e&&(s[t]=e)});var l="boolean"!=typeof i&&i.properties||{};return["title","symbols","legend","labels"].forEach(function(i){var r=g[i]?g[i](n,l[i],t,e):l[i];void 0!==r&&h.keys(r).length>0&&(s.properties=s.properties||{},s.properties[i]=r)}),s}function a(t,e,n){return"boolean"!=typeof t&&t.title?t.title:l.title(e,n)}function s(t){return t.type===f.ORDINAL||t.bin||t.timeUnit}var u=t("../channel"),l=t("../fielddef"),c=t("../mark"),f=t("../type"),h=t("../util"),d=t("./common"),p=t("./scale");n.parseLegendComponent=i,n.parseLegend=o,n.title=a,n.useColorLegendScale=s;var g;!function(t){function e(t,e,n,i){var r={},o=n.mark(),a=n.legend(i);switch(o){case c.BAR:case c.TICK:case c.TEXT:r.shape={value:"square"};break;case c.CIRCLE:case c.SQUARE:r.shape={value:o};break;case c.POINT:case c.LINE:case c.AREA:}var l=n.config().mark.filled,f=i===u.COLOR?h.without(d.FILL_STROKE_CONFIG,[l?"fill":"stroke","strokeDash","strokeDashOffset"]):h.without(d.FILL_STROKE_CONFIG,["strokeDash","strokeDashOffset"]);f=h.without(f,["strokeDash","strokeDashOffset"]),d.applyMarkConfig(r,n,f),l&&(r.strokeWidth={value:0});var p;return n.has(u.COLOR)&&i===u.COLOR?s(t)&&(p={scale:n.scaleName(u.COLOR),field:"data"}):n.fieldDef(u.COLOR).value&&(p={value:n.fieldDef(u.COLOR).value}),void 0!==p?l?r.fill=p:r.stroke=p:i!==u.COLOR&&(r[l?"fill":"stroke"]=r[l?"fill":"stroke"]||{value:n.config().mark.color}),void 0!==a.symbolColor&&(r.fill={value:a.symbolColor}),void 0!==a.symbolShape&&(r.shape={value:a.symbolShape}),void 0!==a.symbolSize&&(r.size={value:a.symbolSize}),void 0!==a.symbolStrokeWidth&&(r.strokeWidth={value:a.symbolStrokeWidth}),r=h.extend(r,e||{}),h.keys(r).length>0?r:void 0}function n(t,e,n,i){var r=n.legend(i),o=n.config(),a={};return i===u.COLOR&&(t.type===f.ORDINAL?e=h.extend({text:{scale:n.scaleName(p.COLOR_LEGEND),field:"data"}},e||{}):t.bin?e=h.extend({text:{scale:n.scaleName(p.COLOR_LEGEND_LABEL),field:"data"}},e||{}):t.type===f.TEMPORAL&&(e=h.extend({text:{template:d.timeTemplate("datum.data",t.timeUnit,r.format,r.shortTimeLabels,o)}},e||{}))),void 0!==r.labelAlign&&(a.align={value:r.labelAlign}),void 0!==r.labelColor&&(a.stroke={value:r.labelColor}),void 0!==r.labelFont&&(a.font={value:r.labelFont}),void 0!==r.labelFontSize&&(a.fontSize={value:r.labelFontSize}),void 0!==r.labelBaseline&&(a.baseline={value:r.labelBaseline}),a=h.extend(a,e||{}),h.keys(a).length>0?a:void 0}function i(t,e,n,i){var r=n.legend(i),o={};return void 0!==r.titleColor&&(o.stroke={value:r.titleColor}),void 0!==r.titleFont&&(o.font={value:r.titleFont}),void 0!==r.titleFontSize&&(o.fontSize={value:r.titleFontSize}),void 0!==r.titleFontWeight&&(o.fontWeight={value:r.titleFontWeight}),o=h.extend(o,e||{}),h.keys(o).length>0?o:void 0}t.symbols=e,t.labels=n,t.title=i}(g=n.properties||(n.properties={}))},{"../channel":14,"../fielddef":52,"../mark":54,"../type":62,"../util":63,"./common":16,"./scale":45}],36:[function(t,e,n){"use strict";var i,r=t("../../channel"),o=t("../../fielddef"),a=t("../common");!function(t){function e(){return"area"}function n(t){var e={},n=t.config(),o=n.mark.orient;o&&(e.orient={value:o});var c=t.stack(),f=i(t.encoding().x,t.scaleName(r.X),o,c);f&&(e.x=f);var h=u(t.encoding().y,t.scaleName(r.Y),o,c);h&&(e.y=h);var d=s(t.encoding().x,t.encoding().x2,t.scaleName(r.X),o,c);d&&(e.x2=d);var p=l(t.encoding().y,t.encoding().y2,t.scaleName(r.Y),o,c);return p&&(e.y2=p),a.applyColorAndOpacity(e,t),a.applyMarkConfig(e,t,["interpolate","tension"]),e}function i(t,e,n,i){return i&&r.X===i.fieldChannel?{scale:e,field:o.field(t,{suffix:"_start"})}:o.isMeasure(t)?"horizontal"===n?t&&t.field?{scale:e,field:o.field(t)}:{scale:e,value:0}:{scale:e,field:o.field(t)}:o.isDimension(t)?{scale:e,field:o.field(t,{binSuffix:"_mid"})}:void 0}function s(t,e,n,i,a){if(a&&r.X===a.fieldChannel){if("horizontal"===i)return{scale:n,field:o.field(t,{suffix:"_end"})}}else if(o.isMeasure(e)&&"horizontal"===i)return e&&e.field?{scale:n,field:o.field(e)}:{scale:n,value:0}}function u(t,e,n,i){return i&&r.Y===i.fieldChannel?{scale:e,field:o.field(t,{suffix:"_start"})}:o.isMeasure(t)?"horizontal"!==n?t&&t.field?{scale:e,field:o.field(t)}:{field:{group:"height"}}:{scale:e,field:o.field(t)}:o.isDimension(t)?{scale:e,field:o.field(t,{binSuffix:"_mid"})}:void 0}function l(t,e,n,i,a){if(a&&r.Y===a.fieldChannel){if("horizontal"!==i)return{scale:n,field:o.field(t,{suffix:"_end"})}}else if(o.isMeasure(t)&&"horizontal"!==i)return e&&e.field?{scale:n,field:o.field(e)}:{scale:n,value:0}}function c(t){}t.markType=e,t.properties=n,t.x=i,t.x2=s,t.y=u,t.y2=l,t.labels=c}(i=n.area||(n.area={}))},{"../../channel":14,"../../fielddef":52,"../common":16}],37:[function(t,e,n){"use strict";var i,r=t("../../channel"),o=t("../../fielddef"),a=t("../common");!function(t){function e(){return"rect"}function n(t){var e={},n=t.config().mark.orient,s=t.stack(),u=t.encoding().x,l=t.encoding().x2,c=o.isMeasure(u)||o.isMeasure(l);s&&r.X===s.fieldChannel?(e.x={scale:t.scaleName(r.X),field:t.field(r.X,{suffix:"_start"})},e.x2={scale:t.scaleName(r.X),field:t.field(r.X,{suffix:"_end"})}):c?"horizontal"===n?(t.has(r.X)?e.x={scale:t.scaleName(r.X),field:t.field(r.X)}:e.x={scale:t.scaleName(r.X),value:0},t.has(r.X2)?e.x2={scale:t.scaleName(r.X),field:t.field(r.X2)}:e.x2={scale:t.scaleName(r.X),value:0}):(e.xc={scale:t.scaleName(r.X),field:t.field(r.X)},e.width={value:i(t,r.X)}):t.fieldDef(r.X).bin?t.has(r.SIZE)&&"horizontal"!==n?(e.xc={scale:t.scaleName(r.X),field:t.field(r.X,{binSuffix:"_mid"})},e.width={scale:t.scaleName(r.SIZE),field:t.field(r.SIZE)}):(e.x={scale:t.scaleName(r.X),field:t.field(r.X,{binSuffix:"_start"}),offset:1},e.x2={scale:t.scaleName(r.X),field:t.field(r.X,{binSuffix:"_end"})}):(t.has(r.X)?e.xc={scale:t.scaleName(r.X),field:t.field(r.X)}:e.x={value:0,offset:2},e.width=t.has(r.SIZE)&&"horizontal"!==n?{scale:t.scaleName(r.SIZE),field:t.field(r.SIZE)}:{value:i(t,r.X)});var f=t.encoding().y,h=t.encoding().y2,d=o.isMeasure(f)||o.isMeasure(h);return s&&r.Y===s.fieldChannel?(e.y={scale:t.scaleName(r.Y),field:t.field(r.Y,{suffix:"_start"})},e.y2={scale:t.scaleName(r.Y),field:t.field(r.Y,{suffix:"_end"})}):d?"horizontal"!==n?(t.has(r.Y)?e.y={scale:t.scaleName(r.Y),field:t.field(r.Y)}:e.y={scale:t.scaleName(r.Y),value:0},t.has(r.Y2)?e.y2={scale:t.scaleName(r.Y),field:t.field(r.Y2)}:e.y2={scale:t.scaleName(r.Y),value:0}):(e.yc={scale:t.scaleName(r.Y),field:t.field(r.Y)},e.height={value:i(t,r.Y)}):t.fieldDef(r.Y).bin?t.has(r.SIZE)&&"horizontal"===n?(e.yc={scale:t.scaleName(r.Y),field:t.field(r.Y,{binSuffix:"_mid"})},e.height={scale:t.scaleName(r.SIZE),field:t.field(r.SIZE)}):(e.y={scale:t.scaleName(r.Y),field:t.field(r.Y,{binSuffix:"_start"})},e.y2={scale:t.scaleName(r.Y),field:t.field(r.Y,{binSuffix:"_end"}),offset:1}):(t.has(r.Y)?e.yc={scale:t.scaleName(r.Y),field:t.field(r.Y)}:e.y2={field:{group:"height"},offset:-1},e.height=t.has(r.SIZE)&&"horizontal"===n?{scale:t.scaleName(r.SIZE),field:t.field(r.SIZE)}:{value:i(t,r.Y)}),a.applyColorAndOpacity(e,t),e}function i(t,e){var n=t.fieldDef(r.SIZE);if(n&&void 0!==n.value)return n.value;var i=t.config().mark;return i.barSize?i.barSize:t.isOrdinalScale(e)?t.scale(e).bandSize-1:t.has(e)?i.barThinSize:t.config().scale.bandSize-1;
}function s(t){}t.markType=e,t.properties=n,t.labels=s}(i=n.bar||(n.bar={}))},{"../../channel":14,"../../fielddef":52,"../common":16}],38:[function(t,e,n){"use strict";var i,r=t("../../channel"),o=t("../../fielddef"),a=t("../common");!function(t){function e(){return"line"}function n(t){var e={},n=t.config();e.x=i(t.encoding().x,t.scaleName(r.X),n),e.y=s(t.encoding().y,t.scaleName(r.Y),n);var o=u(t.encoding().size,n);return o&&(e.strokeWidth=o),a.applyColorAndOpacity(e,t),a.applyMarkConfig(e,t,["interpolate","tension"]),e}function i(t,e,n){return t&&t.field?{scale:e,field:o.field(t,{binSuffix:"_mid"})}:{value:0}}function s(t,e,n){return t&&t.field?{scale:e,field:o.field(t,{binSuffix:"_mid"})}:{field:{group:"height"}}}function u(t,e){return t&&void 0!==t.value?{value:t.value}:{value:e.mark.lineSize}}function l(t){}t.markType=e,t.properties=n,t.labels=l}(i=n.line||(n.line={}))},{"../../channel":14,"../../fielddef":52,"../common":16}],39:[function(t,e,n){"use strict";function i(t){return y.contains([m.LINE,m.AREA],t.mark())?r(t):o(t)}function r(t){var e=t.mark(),n=t.parent()&&t.parent().isFacet(),i={data:t.dataTable()},r=u(t),o=[{name:t.name("marks"),type:T[e].markType(),from:y.extend(n||r.length>0?{}:i,{transform:[{type:"sort",by:s(t)}]}),properties:{update:T[e].properties(t)}}];if(r.length>0){var c={type:"facet",groupby:r},f=e===m.AREA&&t.stack()?l(t,!0).concat(c):[].concat(c,t.has(d.ORDER)?[{type:"sort",by:a(t)}]:[]);return[{name:t.name("pathgroup"),type:"group",from:y.extend(n?{}:i,{transform:f}),properties:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:o}]}return o}function o(t){var e=t.mark(),n=t.parent()&&t.parent().isFacet(),i={data:t.dataTable()},r=[];if(e===m.TEXT&&t.has(d.COLOR)&&t.config().mark.applyColorToBackground&&!t.has(d.X)&&!t.has(d.Y)&&r.push(y.extend({name:t.name("background"),type:"rect"},n?{}:{from:i},{properties:{update:S.text.background(t)}})),r.push(y.extend({name:t.name("marks"),type:T[e].markType()},!n||t.stack()||t.has(d.ORDER)?{from:y.extend(n?{}:i,t.stack()?{transform:l(t,!1)}:t.has(d.ORDER)?{transform:[{type:"sort",by:a(t)}]}:{})}:{},{properties:{update:T[e].properties(t)}})),t.has(d.LABEL)&&T[e].labels){var o=T[e].labels(t);void 0!==o&&r.push(y.extend({name:t.name("label"),type:"text"},n?{}:{from:i},{properties:{update:o}}))}return r}function a(t){if(t.has(d.ORDER)){var e=t.encoding().order;return e instanceof Array?e.map(x.sortField):x.sortField(e)}return null}function s(t){if(t.mark()===m.LINE&&t.has(d.PATH)){var e=t.encoding().path;return e instanceof Array?e.map(x.sortField):x.sortField(e)}return"-"+t.field("horizontal"===t.config().mark.orient?d.Y:d.X,{binSuffix:"_mid"})}function u(t){return[d.COLOR,d.DETAIL,d.OPACITY,d.SHAPE].reduce(function(e,n){return t.has(n)&&!t.fieldDef(n).aggregate&&e.push(t.field(n)),e},[])}function l(t,e){var n=c(t);return e?[f(t,n),h(t,n)]:[h(t,n)]}function c(t){var e=t.encoding();return d.STACK_GROUP_CHANNELS.reduce(function(n,i){var r=e[i];if(p.has(e,i))if(y.isArray(r))r.forEach(function(t){n.push(g.field(t))});else{var o=r,a=t.scale(i);n.push(g.field(o,{binSuffix:a&&a.type===v.ScaleType.ORDINAL?"_range":"_start"}))}return n},[])}function f(t,e){var n=t.stack();return{type:"impute",field:t.field(n.fieldChannel),groupby:e,orderby:[t.field(n.groupbyChannel,{binSuffix:"_mid"})],method:"value",value:0}}function h(t,e){var n=t.stack(),i=t.encoding(),r=t.has(d.ORDER)?(y.isArray(i[d.ORDER])?i[d.ORDER]:[i[d.ORDER]]).map(x.sortField):e.map(function(t){return"-"+t}),o=t.field(n.fieldChannel),a={type:"stack",groupby:[t.field(n.groupbyChannel,{binSuffix:"_mid"})],field:t.field(n.fieldChannel),sortby:r,output:{start:o+"_start",end:o+"_end"}};return n.offset&&(a.offset=n.offset),a}var d=t("../../channel"),p=t("../../encoding"),g=t("../../fielddef"),m=t("../../mark"),v=t("../../scale"),y=t("../../util"),b=t("./area"),_=t("./bar"),x=t("../common"),w=t("./line"),k=t("./point"),E=t("./rule"),S=t("./text"),C=t("./tick"),T={area:b.area,bar:_.bar,line:w.line,point:k.point,text:S.text,tick:C.tick,rule:E.rule,circle:k.circle,square:k.square};n.parseMark=i},{"../../channel":14,"../../encoding":50,"../../fielddef":52,"../../mark":54,"../../scale":55,"../../util":63,"../common":16,"./area":36,"./bar":37,"./line":38,"./point":40,"./rule":41,"./text":42,"./tick":43}],40:[function(t,e,n){"use strict";var i,r=t("../../channel"),o=t("../../fielddef"),a=t("../common");!function(t){function e(){return"symbol"}function n(t,e){var n={},o=t.config();return n.x=i(t.encoding().x,t.scaleName(r.X),o),n.y=s(t.encoding().y,t.scaleName(r.Y),o),n.size=u(t.encoding().size,t.scaleName(r.SIZE),t.scale(r.SIZE),o),n.shape=l(t.encoding().shape,t.scaleName(r.SHAPE),t.scale(r.SHAPE),o,e),a.applyColorAndOpacity(n,t),n}function i(t,e,n){return t&&t.field?{scale:e,field:o.field(t,{binSuffix:"_mid"})}:{value:n.scale.bandSize/2}}function s(t,e,n){return t&&t.field?{scale:e,field:o.field(t,{binSuffix:"_mid"})}:{value:n.scale.bandSize/2}}function u(t,e,n,i){if(t){if(t.field)return{scale:e,field:o.field(t,{scaleType:n.type})};if(void 0!==t.value)return{value:t.value}}return{value:i.mark.size}}function l(t,e,n,i,r){if(r)return{value:r};if(t){if(t.field)return{scale:e,field:o.field(t,{scaleType:n.type})};if(t.value)return{value:t.value}}return{value:i.mark.shape}}t.markType=e,t.properties=n}(i=n.point||(n.point={}));var s;!function(t){function e(){return"symbol"}function n(t){return i.properties(t,"circle")}function r(t){}t.markType=e,t.properties=n,t.labels=r}(s=n.circle||(n.circle={}));var u;!function(t){function e(){return"symbol"}function n(t){return i.properties(t,"square")}function r(t){}t.markType=e,t.properties=n,t.labels=r}(u=n.square||(n.square={}))},{"../../channel":14,"../../fielddef":52,"../common":16}],41:[function(t,e,n){"use strict";var i,r=t("../../channel"),o=t("../common");!function(t){function e(){return"rule"}function n(t){var e={};return"vertical"===t.config().mark.orient?(t.has(r.X)?e.x={scale:t.scaleName(r.X),field:t.field(r.X,{binSuffix:"_mid"})}:e.x={value:0},t.has(r.Y)?e.y={scale:t.scaleName(r.Y),field:t.field(r.Y,{binSuffix:"_mid"})}:e.y={field:{group:"height"}},t.has(r.Y2)?e.y2={scale:t.scaleName(r.Y),field:t.field(r.Y2,{binSuffix:"_mid"})}:e.y2={value:0}):(t.has(r.Y)?e.y={scale:t.scaleName(r.Y),field:t.field(r.Y,{binSuffix:"_mid"})}:e.y={value:0},t.has(r.X)?e.x={scale:t.scaleName(r.X),field:t.field(r.X,{binSuffix:"_mid"})}:e.x={value:0},t.has(r.X2)?e.x2={scale:t.scaleName(r.X),field:t.field(r.X2,{binSuffix:"_mid"})}:e.x2={field:{group:"width"}}),o.applyColorAndOpacity(e,t),t.has(r.SIZE)?e.strokeWidth={scale:t.scaleName(r.SIZE),field:t.field(r.SIZE)}:e.strokeWidth={value:i(t)},e}function i(t){var e=t.fieldDef(r.SIZE);return e&&void 0!==e.value?e.value:t.config().mark.ruleSize}function a(t){}t.markType=e,t.properties=n,t.labels=a}(i=n.rule||(n.rule={}))},{"../../channel":14,"../common":16}],42:[function(t,e,n){"use strict";var i,r=t("../../channel"),o=t("../common"),a=t("../../fielddef"),s=t("../../type");!function(t){function e(){return"text"}function n(t){return{x:{value:0},y:{value:0},width:{field:{group:"width"}},height:{field:{group:"height"}},fill:{scale:t.scaleName(r.COLOR),field:t.field(r.COLOR,t.fieldDef(r.COLOR).type===s.ORDINAL?{prefn:"rank_"}:{})}}}function i(t){var e={};o.applyMarkConfig(e,t,["angle","align","baseline","dx","dy","font","fontWeight","fontStyle","radius","theta","text"]);var n=t.config(),i=t.fieldDef(r.TEXT);if(e.x=u(t.encoding().x,t.scaleName(r.X),n,i),e.y=l(t.encoding().y,t.scaleName(r.Y),n),e.fontSize=c(t.encoding().size,t.scaleName(r.SIZE),n),e.text=f(t.encoding().text,t.scaleName(r.TEXT),n),!t.config().mark.applyColorToBackground||t.has(r.X)||t.has(r.Y))o.applyColorAndOpacity(e,t);else{e.fill={value:"black"};var a=t.config().mark.opacity;a&&(e.opacity={value:a})}return e}function u(t,e,n,i){return t&&t.field?{scale:e,field:a.field(t,{binSuffix:"_mid"})}:i&&i.type===s.QUANTITATIVE?{field:{group:"width"},offset:-5}:{value:n.scale.textBandWidth/2}}function l(t,e,n){return t&&t.field?{scale:e,field:a.field(t,{binSuffix:"_mid"})}:{value:n.scale.bandSize/2}}function c(t,e,n){if(t){if(t.field)return{scale:e,field:a.field(t)};if(t.value)return{value:t.value}}return{value:n.mark.fontSize}}function f(t,e,n){if(t){if(t.field){if(s.QUANTITATIVE===t.type){var i=o.numberFormat(t,n.mark.format,n),r="number"+(i?":'"+i+"'":"");return{template:"{{"+a.field(t,{datum:!0})+" | "+r+"}}"}}return s.TEMPORAL===t.type?{template:o.timeTemplate(a.field(t,{datum:!0}),t.timeUnit,n.mark.format,n.mark.shortTimeLabels,n)}:{field:t.field}}if(t.value)return{value:t.value}}return{value:n.mark.text}}t.markType=e,t.background=n,t.properties=i}(i=n.text||(n.text={}))},{"../../channel":14,"../../fielddef":52,"../../type":62,"../common":16}],43:[function(t,e,n){"use strict";var i,r=t("../../channel"),o=t("../../fielddef"),a=t("../common");!function(t){function e(){return"rect"}function n(t){var e={},n=t.config();return e.xc=i(t.encoding().x,t.scaleName(r.X),n),e.yc=s(t.encoding().y,t.scaleName(r.Y),n),"horizontal"===n.mark.orient?(e.width=u(t.encoding().size,t.scaleName(r.SIZE),n,(t.scale(r.X)||{}).bandSize),e.height={value:n.mark.tickThickness}):(e.width={value:n.mark.tickThickness},e.height=u(t.encoding().size,t.scaleName(r.SIZE),n,(t.scale(r.Y)||{}).bandSize)),a.applyColorAndOpacity(e,t),e}function i(t,e,n){if(t){if(t.field)return{scale:e,field:o.field(t,{binSuffix:"_mid"})};if(t.value)return{value:t.value}}return{value:n.scale.bandSize/2}}function s(t,e,n){if(t){if(t.field)return{scale:e,field:o.field(t,{binSuffix:"_mid"})};if(t.value)return{value:t.value}}return{value:n.scale.bandSize/2}}function u(t,e,n,i){if(t){if(t.field)return{scale:e,field:t.field};if(void 0!==t.value)return{value:t.value}}if(n.mark.tickSize)return{value:n.mark.tickSize};var r=void 0!==i?i:n.scale.bandSize;return{value:r/1.5}}function l(t){}t.markType=e,t.properties=n,t.labels=l}(i=n.tick||(n.tick={}))},{"../../channel":14,"../../fielddef":52,"../common":16}],44:[function(t,e,n){"use strict";var i=t("../channel"),r=t("../encoding"),o=t("../fielddef"),a=t("../scale"),s=t("../util"),u=function(){function t(){this._nameMap={}}return t.prototype.rename=function(t,e){this._nameMap[t]=e},t.prototype.get=function(t){for(;this._nameMap[t];)t=this._nameMap[t];return t},t}(),l=function(){function t(t,e,n){this._warnings=[],this._parent=e,this._name=t.name||n,this._dataNameMap=e?e._dataNameMap:new u,this._scaleNameMap=e?e._scaleNameMap:new u,this._sizeNameMap=e?e._sizeNameMap:new u,this._data=t.data,this._description=t.description,this._transform=t.transform,this.component={data:null,layout:null,mark:null,scale:null,axis:null,axisGroup:null,gridGroup:null,legend:null}}return t.prototype.parse=function(){this.parseData(),this.parseSelectionData(),this.parseLayoutData(),this.parseScale(),this.parseAxis(),this.parseLegend(),this.parseAxisGroup(),this.parseGridGroup(),this.parseMark()},t.prototype.assembleScales=function(){return s.flatten(s.vals(this.component.scale).map(function(t){var e=[t.main];return t.colorLegend&&e.push(t.colorLegend),t.binColorLegend&&e.push(t.binColorLegend),e}))},t.prototype.assembleAxes=function(){return s.vals(this.component.axis)},t.prototype.assembleLegends=function(){return s.vals(this.component.legend)},t.prototype.assembleGroup=function(){var t={};t.marks=this.assembleMarks();var e=this.assembleScales();e.length>0&&(t.scales=e);var n=this.assembleAxes();n.length>0&&(t.axes=n);var i=this.assembleLegends();return i.length>0&&(t.legends=i),t},t.prototype.reduce=function(t,e,n){return r.channelMappingReduce(this.channels(),this.mapping(),t,e,n)},t.prototype.forEach=function(t,e){r.channelMappingForEach(this.channels(),this.mapping(),t,e)},t.prototype.parent=function(){return this._parent},t.prototype.name=function(t,e){return void 0===e&&(e="_"),(this._name?this._name+e:"")+t},t.prototype.description=function(){return this._description},t.prototype.data=function(){return this._data},t.prototype.renameData=function(t,e){this._dataNameMap.rename(t,e)},t.prototype.dataName=function(t){return this._dataNameMap.get(this.name(String(t)))},t.prototype.renameSize=function(t,e){this._sizeNameMap.rename(t,e)},t.prototype.channelSizeName=function(t){return this.sizeName(t===i.X||t===i.COLUMN?"width":"height")},t.prototype.sizeName=function(t){return this._sizeNameMap.get(this.name(t,"_"))},t.prototype.transform=function(){return this._transform||{}},t.prototype.field=function(t,e){void 0===e&&(e={});var n=this.fieldDef(t);return n.bin&&(e=s.extend({binSuffix:this.scale(t).type===a.ScaleType.ORDINAL?"_range":"_start"},e)),o.field(n,e)},t.prototype.scale=function(t){return this._scale[t]},t.prototype.isOrdinalScale=function(t){var e=this.scale(t);return e&&e.type===a.ScaleType.ORDINAL},t.prototype.renameScale=function(t,e){this._scaleNameMap.rename(t,e)},t.prototype.scaleName=function(t){return this._scaleNameMap.get(this.name(t+""))},t.prototype.sort=function(t){return(this.mapping()[t]||{}).sort},t.prototype.axis=function(t){return this._axis[t]},t.prototype.legend=function(t){return this._legend[t]},t.prototype.config=function(){return this._config},t.prototype.addWarning=function(t){s.warning(t),this._warnings.push(t)},t.prototype.warnings=function(){return this._warnings},t.prototype.isUnit=function(){return!1},t.prototype.isFacet=function(){return!1},t.prototype.isLayer=function(){return!1},t}();n.Model=l},{"../channel":14,"../encoding":50,"../fielddef":52,"../scale":55,"../util":63}],45:[function(t,e,n){"use strict";function i(t){return t.channels().reduce(function(e,n){if(t.scale(n)){var i=t.fieldDef(n),s={main:r(t,i,n)};n===x.COLOR&&t.legend(x.COLOR)&&(i.type===M.ORDINAL||i.bin||i.timeUnit)&&(s.colorLegend=o(t,i),i.bin&&(s.binColorLegend=a(t,i))),e[n]=s}return e},{})}function r(t,e,i){var r=t.scale(i),o=t.sort(i),a={name:t.scaleName(i),type:r.type};return i===x.X&&t.has(x.X2)?t.has(x.X)?a.domain={fields:[u(r,t,x.X),u(r,t,x.X2)]}:a.domain=u(r,t,x.X2):i===x.Y&&t.has(x.Y2)?t.has(x.Y)?a.domain={fields:[u(r,t,x.Y),u(r,t,x.Y2)]}:a.domain=u(r,t,x.Y2):a.domain=u(r,t,i),A.extend(a,f(r,t,i)),o&&"descending"===("string"==typeof o?o:o.order)&&(a.reverse=!0),["round","clamp","nice","exponent","zero","padding","points"].forEach(function(o){var s=n[o](r,i,e,t);void 0!==s&&(a[o]=s)}),a}function o(t,e){return{name:t.scaleName(n.COLOR_LEGEND),type:S.ScaleType.ORDINAL,domain:{data:t.dataTable(),field:t.field(x.COLOR,e.bin||e.timeUnit?{}:{prefn:"rank_"}),sort:!0},range:{data:t.dataTable(),field:t.field(x.COLOR),sort:!0}}}function a(t,e){return{name:t.scaleName(n.COLOR_LEGEND_LABEL),type:S.ScaleType.ORDINAL,domain:{data:t.dataTable(),field:t.field(x.COLOR),sort:!0},range:{data:t.dataTable(),field:k.field(e,{binSuffix:"_range"}),sort:{field:t.field(x.COLOR,{binSuffix:"_start"}),op:"min"}}}}function s(t,e,n,i){if(!x.hasScale(n))return null;if(A.contains([x.ROW,x.COLUMN,x.SHAPE],n))return S.ScaleType.ORDINAL;if(void 0!==t.type)return t.type;switch(e.type){case M.NOMINAL:return S.ScaleType.ORDINAL;case M.ORDINAL:return n===x.COLOR?S.ScaleType.LINEAR:S.ScaleType.ORDINAL;case M.TEMPORAL:if(n===x.COLOR)return S.ScaleType.TIME;if(e.timeUnit)switch(e.timeUnit){case T.TimeUnit.HOURS:case T.TimeUnit.DAY:case T.TimeUnit.MONTH:case T.TimeUnit.QUARTER:return S.ScaleType.ORDINAL;default:return S.ScaleType.TIME}return S.ScaleType.TIME;case M.QUANTITATIVE:return e.bin?A.contains([x.X,x.Y,x.COLOR],n)?S.ScaleType.LINEAR:S.ScaleType.ORDINAL:S.ScaleType.LINEAR}return null}function u(t,e,n){var i=e.fieldDef(n);if(t.domain)return t.domain;if(i.type===M.TEMPORAL)return $.rawDomain(i.timeUnit,n)?{data:i.timeUnit,field:"date"}:{data:e.dataTable(),field:e.field(n),sort:{field:e.field(n),op:"min"}};var r=e.stack();if(r&&n===r.fieldChannel)return r.offset===C.StackOffset.NORMALIZE?[0,1]:{data:e.dataName(w.STACKED_SCALE),field:e.field(n,{prefn:"sum_"})};var o=c(t,e,n),a=l(e,n,t.type);return o?{data:w.SOURCE,field:e.field(n,{noAggregate:!0})}:i.bin?t.type===S.ScaleType.ORDINAL?{data:e.dataTable(),field:e.field(n,{binSuffix:"_range"}),sort:{field:e.field(n,{binSuffix:"_start"}),op:"min"}}:n===x.COLOR?{data:e.dataTable(),field:e.field(n,{binSuffix:"_start"})}:{data:e.dataTable(),field:[e.field(n,{binSuffix:"_start"}),e.field(n,{binSuffix:"_end"})]}:a?{data:a.op?w.SOURCE:e.dataTable(),field:i.type===M.ORDINAL&&n===x.COLOR?e.field(n,{prefn:"rank_"}):e.field(n),sort:a}:{data:e.dataTable(),field:i.type===M.ORDINAL&&n===x.COLOR?e.field(n,{prefn:"rank_"}):e.field(n)}}function l(t,e,n){if(n===S.ScaleType.ORDINAL){var i=t.sort(e);return!!A.contains(["ascending","descending",void 0],i)||("string"!=typeof i?{op:i.op,field:i.field}:void 0)}}function c(t,e,n){var i=e.fieldDef(n);return t.useRawDomain&&i.aggregate&&_.SHARED_DOMAIN_OPS.indexOf(i.aggregate)>=0&&(i.type===M.QUANTITATIVE&&!i.bin||i.type===M.TEMPORAL&&A.contains([S.ScaleType.TIME,S.ScaleType.UTC],t.type))}function f(t,e,n){var i=e.fieldDef(n),r=e.config().scale;if(t.type===S.ScaleType.ORDINAL&&t.bandSize&&A.contains([x.X,x.Y],n))return{bandSize:t.bandSize};if(t.range&&!A.contains([x.X,x.Y,x.ROW,x.COLUMN],n))return{range:t.range};switch(n){case x.ROW:return{range:"height"};case x.COLUMN:return{range:"width"}}var o=e;switch(n){case x.X:return{rangeMin:0,rangeMax:o.config().cell.width};case x.Y:return{rangeMin:o.config().cell.height,rangeMax:0};case x.SIZE:if(o.mark()===E.BAR){if(void 0!==r.barSizeRange)return{range:r.barSizeRange};var a="horizontal"===e.config().mark.orient?x.Y:x.X;return{range:[e.config().mark.barThinSize,e.scale(a).bandSize]}}if(o.mark()===E.TEXT)return{range:r.fontSizeRange};if(o.mark()===E.RULE)return{range:r.ruleSizeRange};if(o.mark()===E.TICK)return{range:r.tickSizeRange};if(void 0!==r.pointSizeRange)return{range:r.pointSizeRange};var s=h(o);return{range:[9,(s-2)*(s-2)]};case x.SHAPE:return{range:r.shapeRange};case x.COLOR:return i.type===M.NOMINAL?{range:r.nominalColorRange}:{range:r.sequentialColorRange};case x.OPACITY:return{range:r.opacity}}return{}}function h(t){var e=t.config().scale,n=t.has(x.X),i=t.has(x.Y),r=k.isMeasure(t.encoding().x),o=k.isMeasure(t.encoding().y);return n&&i?r!==o?t.scale(r?x.Y:x.X).bandSize:Math.min(t.scale(x.X).bandSize||e.bandSize,t.scale(x.Y).bandSize||e.bandSize):i?o?t.config().scale.bandSize:t.scale(x.Y).bandSize:n?r?t.config().scale.bandSize:t.scale(x.X).bandSize:t.config().scale.bandSize}function d(t){if(A.contains([S.ScaleType.LINEAR,S.ScaleType.POW,S.ScaleType.SQRT,S.ScaleType.LOG,S.ScaleType.TIME,S.ScaleType.UTC],t.type))return t.clamp}function p(t){if(t.type===S.ScaleType.POW)return t.exponent}function g(t,e,n){if(A.contains([S.ScaleType.LINEAR,S.ScaleType.POW,S.ScaleType.SQRT,S.ScaleType.LOG,S.ScaleType.TIME,S.ScaleType.UTC,S.ScaleType.QUANTIZE],t.type))return void 0!==t.nice?t.nice:A.contains([S.ScaleType.TIME,S.ScaleType.UTC],t.type)?$.smallestUnit(n.timeUnit):A.contains([x.X,x.Y],e)}function m(t,e){if(t.type===S.ScaleType.ORDINAL&&A.contains([x.X,x.Y],e))return t.padding}function v(t,e,n,i){if(t.type===S.ScaleType.ORDINAL&&A.contains([x.X,x.Y],e))return!0}function y(t,e){if(A.contains([x.X,x.Y,x.ROW,x.COLUMN,x.SIZE],e)&&void 0!==t.round)return t.round}function b(t,e,n){if(!A.contains([S.ScaleType.TIME,S.ScaleType.UTC,S.ScaleType.ORDINAL],t.type))return void 0!==t.zero?t.zero:!n.bin&&A.contains([x.X,x.Y],e)}var _=t("../aggregate"),x=t("../channel"),w=t("../data"),k=t("../fielddef"),E=t("../mark"),S=t("../scale"),C=t("../stack"),T=t("../timeunit"),M=t("../type"),A=t("../util"),$=t("./time");n.COLOR_LEGEND="color_legend",n.COLOR_LEGEND_LABEL="color_legend_label",n.parseScaleComponent=i,n.scaleType=s,n.domain=u,n.domainSort=l,n.rangeMixins=f,n.clamp=d,n.exponent=p,n.nice=g,n.padding=m,n.points=v,n.round=y,n.zero=b},{"../aggregate":11,"../channel":14,"../data":49,"../fielddef":52,"../mark":54,"../scale":55,"../stack":59,"../timeunit":60,"../type":62,"../util":63,"./time":46}],46:[function(t,e,n){"use strict";function i(t){if(t)return u.containsTimeUnit(t,u.TimeUnit.SECONDS)?"second":u.containsTimeUnit(t,u.TimeUnit.MINUTES)?"minute":u.containsTimeUnit(t,u.TimeUnit.HOURS)?"hour":u.containsTimeUnit(t,u.TimeUnit.DAY)||u.containsTimeUnit(t,u.TimeUnit.DATE)?"day":u.containsTimeUnit(t,u.TimeUnit.MONTH)?"month":u.containsTimeUnit(t,u.TimeUnit.YEAR)?"year":void 0}function r(t,e,n){function i(t,i){if(void 0===i&&(i=!0),n)return e+(i?", ":"");var r="";return r="quarter"===t?"floor(month("+e+")/3)*3":t+"("+e+")",r+(i?", ":"")}void 0===n&&(n=!1);var r="datetime(";return r+=u.containsTimeUnit(t,u.TimeUnit.YEAR)?i("year"):"2006, ",r+=u.containsTimeUnit(t,u.TimeUnit.MONTH)?i("month"):u.containsTimeUnit(t,u.TimeUnit.QUARTER)?i("quarter"):"0, ",r+=u.containsTimeUnit(t,u.TimeUnit.DAY)?i("day",!1)+"+1, ":u.containsTimeUnit(t,u.TimeUnit.DATE)?i("date"):"1, ",r+=u.containsTimeUnit(t,u.TimeUnit.HOURS)?i("hours"):"0, ",r+=u.containsTimeUnit(t,u.TimeUnit.MINUTES)?i("minutes"):"0, ",r+=u.containsTimeUnit(t,u.TimeUnit.SECONDS)?i("seconds"):"0, ",r+=u.containsTimeUnit(t,u.TimeUnit.MILLISECONDS)?i("milliseconds",!1):"0",r+")"}function o(t,e){if(a.contains([s.ROW,s.COLUMN,s.SHAPE,s.COLOR],e))return null;switch(t){case u.TimeUnit.SECONDS:return a.range(0,60);case u.TimeUnit.MINUTES:return a.range(0,60);case u.TimeUnit.HOURS:return a.range(0,24);case u.TimeUnit.DAY:return a.range(0,7);case u.TimeUnit.DATE:return a.range(1,32);case u.TimeUnit.MONTH:return a.range(0,12);case u.TimeUnit.QUARTER:return[0,3,6,9]}return null}var a=t("../util"),s=t("../channel"),u=t("../timeunit");n.smallestUnit=i,n.parseExpression=r,n.rawDomain=o},{"../channel":14,"../timeunit":60,"../util":63}],47:[function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=t("../aggregate"),o=t("../channel"),a=t("../config"),s=t("../data"),u=t("../encoding"),l=t("../fielddef"),c=t("../mark"),f=t("../scale"),h=t("../type"),d=t("../util"),p=t("./axis"),g=t("./common"),m=t("./config"),v=t("./data/data"),y=t("./legend"),b=t("./layout"),_=t("./model"),x=t("./mark/mark"),w=t("./scale"),k=t("../stack"),E=function(t){function e(e,n,i){t.call(this,e,n,i);var r=this._mark=e.mark,o=this._encoding=this._initEncoding(r,e.encoding||{}),a=this._config=this._initConfig(e.config,n,r,o);this._scale=this._initScale(r,o,a),this._axis=this._initAxis(o,a),this._legend=this._initLegend(o,a),this._stack=k.stack(r,o,a)}return i(e,t),e.prototype._initEncoding=function(t,e){return e=d.duplicate(e),u.forEach(e,function(e,n){return o.supportMark(n,t)?(e.type&&(e.type=h.getFullName(e.type)),void(n!==o.PATH&&n!==o.ORDER||e.aggregate||e.type!==h.QUANTITATIVE||(e.aggregate=r.AggregateOp.MIN))):(console.warn(n,"dropped as it is incompatible with",t),void delete e.field)}),e},e.prototype._initConfig=function(t,e,n,i){var r=d.mergeDeep(d.duplicate(a.defaultConfig),e?e.config():{},t);return r.mark=m.initMarkConfig(n,i,r),r},e.prototype._initScale=function(t,e,n){return o.UNIT_SCALE_CHANNELS.reduce(function(i,r){if(u.has(e,r)||r===o.X&&u.has(e,o.X2)||r===o.Y&&u.has(e,o.Y2)){var a=e[r],s=(a||{}).scale||{},l=w.scaleType(s,a,r,t);i[r]=d.extend({type:l,round:n.scale.round,padding:n.scale.padding,useRawDomain:n.scale.useRawDomain,bandSize:r===o.X&&l===f.ScaleType.ORDINAL&&t===c.TEXT?n.scale.textBandWidth:n.scale.bandSize},s)}return i},{})},e.prototype._initAxis=function(t,e){return[o.X,o.Y].reduce(function(n,i){if(u.has(t,i)||i===o.X&&u.has(t,o.X2)||i===o.Y&&u.has(t,o.Y2)){var r=(t[i]||{}).axis;r!==!1&&(n[i]=d.extend({},e.axis,r===!0?{}:r||{}))}return n},{})},e.prototype._initLegend=function(t,e){return o.NONSPATIAL_SCALE_CHANNELS.reduce(function(n,i){if(u.has(t,i)){var r=t[i].legend;r!==!1&&(n[i]=d.extend({},e.legend,r===!0?{}:r||{}))}return n},{})},e.prototype.parseData=function(){this.component.data=v.parseUnitData(this)},e.prototype.parseSelectionData=function(){},e.prototype.parseLayoutData=function(){this.component.layout=b.parseUnitLayout(this)},e.prototype.parseScale=function(){this.component.scale=w.parseScaleComponent(this)},e.prototype.parseMark=function(){this.component.mark=x.parseMark(this)},e.prototype.parseAxis=function(){this.component.axis=p.parseAxisComponent(this,[o.X,o.Y])},e.prototype.parseAxisGroup=function(){return null},e.prototype.parseGridGroup=function(){return null},e.prototype.parseLegend=function(){this.component.legend=y.parseLegendComponent(this)},e.prototype.assembleData=function(t){return v.assembleData(this,t)},e.prototype.assembleLayout=function(t){return b.assembleLayout(this,t)},e.prototype.assembleMarks=function(){return this.component.mark},e.prototype.assembleParentGroupProperties=function(t){return g.applyConfig({},t,g.FILL_STROKE_CONFIG.concat(["clip"]))},e.prototype.channels=function(){return o.UNIT_CHANNELS},e.prototype.mapping=function(){return this.encoding()},e.prototype.stack=function(){return this._stack},e.prototype.toSpec=function(t,e){var n,i=d.duplicate(this._encoding);return n={mark:this._mark,encoding:i},t||(n.config=d.duplicate(this._config)),e||(n.data=d.duplicate(this._data)),n},e.prototype.mark=function(){return this._mark},e.prototype.has=function(t){return u.has(this._encoding,t)},e.prototype.encoding=function(){return this._encoding},e.prototype.fieldDef=function(t){return this._encoding[t]||{}},e.prototype.field=function(t,e){void 0===e&&(e={});var n=this.fieldDef(t);return n.bin&&(e=d.extend({binSuffix:this.scale(t).type===f.ScaleType.ORDINAL?"_range":"_start"},e)),l.field(n,e)},e.prototype.dataTable=function(){return this.dataName(u.isAggregate(this._encoding)?s.SUMMARY:s.SOURCE)},e.prototype.isUnit=function(){return!0},e}(_.Model);n.UnitModel=E},{"../aggregate":11,"../channel":14,"../config":48,"../data":49,"../encoding":50,"../fielddef":52,"../mark":54,"../scale":55,"../stack":59,"../type":62,"../util":63,"./axis":15,"./common":16,"./config":18,"./data/data":21,"./layout":34,"./legend":35,"./mark/mark":39,"./model":44,"./scale":45}],48:[function(t,e,n){"use strict";var i=t("./scale"),r=t("./axis"),o=t("./legend");n.defaultCellConfig={width:200,height:200},n.defaultFacetCellConfig={stroke:"#ccc",strokeWidth:1};var a={color:"#000000",opacity:.4,offset:0};n.defaultFacetConfig={scale:i.defaultFacetScaleConfig,axis:r.defaultFacetAxisConfig,grid:a,cell:n.defaultFacetCellConfig},function(t){t[t.NORMAL="normal"]="NORMAL",t[t.BOLD="bold"]="BOLD"}(n.FontWeight||(n.FontWeight={}));n.FontWeight;!function(t){t[t.CIRCLE="circle"]="CIRCLE",t[t.SQUARE="square"]="SQUARE",t[t.CROSS="cross"]="CROSS",t[t.DIAMOND="diamond"]="DIAMOND",t[t.TRIANGLEUP="triangle-up"]="TRIANGLEUP",t[t.TRIANGLEDOWN="triangle-down"]="TRIANGLEDOWN"}(n.Shape||(n.Shape={}));var s=n.Shape;!function(t){t[t.LEFT="left"]="LEFT",t[t.RIGHT="right"]="RIGHT",t[t.CENTER="center"]="CENTER"}(n.HorizontalAlign||(n.HorizontalAlign={}));n.HorizontalAlign;!function(t){t[t.TOP="top"]="TOP",t[t.MIDDLE="middle"]="MIDDLE",t[t.BOTTOM="bottom"]="BOTTOM"}(n.VerticalAlign||(n.VerticalAlign={}));var u=n.VerticalAlign;!function(t){t[t.NORMAL="normal"]="NORMAL",t[t.ITALIC="italic"]="ITALIC"}(n.FontStyle||(n.FontStyle={}));n.FontStyle;!function(t){t[t.LINEAR="linear"]="LINEAR",t[t.LINEAR_CLOSED="linear-closed"]="LINEAR_CLOSED",t[t.STEP="step"]="STEP",t[t.STEP_BEFORE="step-before"]="STEP_BEFORE",t[t.STEP_AFTER="step-after"]="STEP_AFTER",t[t.BASIS="basis"]="BASIS",t[t.BASIS_OPEN="basis-open"]="BASIS_OPEN",t[t.BASIS_CLOSED="basis-closed"]="BASIS_CLOSED",t[t.CARDINAL="cardinal"]="CARDINAL",t[t.CARDINAL_OPEN="cardinal-open"]="CARDINAL_OPEN",t[t.CARDINAL_CLOSED="cardinal-closed"]="CARDINAL_CLOSED",t[t.BUNDLE="bundle"]="BUNDLE",t[t.MONOTONE="monotone"]="MONOTONE"}(n.Interpolate||(n.Interpolate={}));n.Interpolate;!function(t){t[t.LINE="line"]="LINE",t[t.LINEPOINT="linepoint"]="LINEPOINT",t[t.NONE="none"]="NONE"}(n.AreaOverlay||(n.AreaOverlay={}));n.AreaOverlay;n.defaultOverlayConfig={line:!1,pointStyle:{filled:!0},lineStyle:{}},n.defaultMarkConfig={color:"#4682b4",shape:s.CIRCLE,strokeWidth:2,size:30,barThinSize:2,ruleSize:1,tickThickness:1,fontSize:10,baseline:u.MIDDLE,text:"Abc",shortTimeLabels:!1,applyColorToBackground:!1},n.defaultConfig={numberFormat:"s",timeFormat:"%Y-%m-%d",countTitle:"Number of Records",cell:n.defaultCellConfig,mark:n.defaultMarkConfig,overlay:n.defaultOverlayConfig,scale:i.defaultScaleConfig,axis:r.defaultAxisConfig,legend:o.defaultLegendConfig,facet:n.defaultFacetConfig}},{"./axis":12,"./legend":53,"./scale":55}],49:[function(t,e,n){"use strict";var i=t("./type");!function(t){t[t.JSON="json"]="JSON",t[t.CSV="csv"]="CSV",t[t.TSV="tsv"]="TSV",t[t.TOPOJSON="topojson"]="TOPOJSON"}(n.DataFormatType||(n.DataFormatType={}));n.DataFormatType;!function(t){t[t.SOURCE="source"]="SOURCE",t[t.SUMMARY="summary"]="SUMMARY",t[t.STACKED_SCALE="stacked_scale"]="STACKED_SCALE",t[t.LAYOUT="layout"]="LAYOUT"}(n.DataTable||(n.DataTable={}));var r=n.DataTable;n.SUMMARY=r.SUMMARY,n.SOURCE=r.SOURCE,n.STACKED_SCALE=r.STACKED_SCALE,n.LAYOUT=r.LAYOUT,n.types={"boolean":i.Type.NOMINAL,number:i.Type.QUANTITATIVE,integer:i.Type.QUANTITATIVE,date:i.Type.TEMPORAL,string:i.Type.NOMINAL}},{"./type":62}],50:[function(t,e,n){"use strict";function i(t){var e=0;return t.color&&e++,t.opacity&&e++,t.size&&e++,t.shape&&e++,e}function r(t){return g.CHANNELS.filter(function(e){return o(t,e)})}function o(t,e){var n=t&&t[e];return n&&(void 0!==n.field||m.isArray(n)&&n.length>0)}function a(t){return m.some(g.CHANNELS,function(e){return!(!o(t,e)||!t[e].aggregate)})}function s(t){return t&&(!!t.x&&!!t.x2||!!t.y&&!!t.y2)}function u(t){var e=[];return g.CHANNELS.forEach(function(n){o(t,n)&&(m.isArray(t[n])?t[n].forEach(function(t){e.push(t)}):e.push(t[n]))}),e}function l(t,e,n){c(g.CHANNELS,t,e,n)}function c(t,e,n,i){var r=0;t.forEach(function(t){o(e,t)&&(m.isArray(e[t])?e[t].forEach(function(e){n.call(i,e,t,r++)}):n.call(i,e[t],t,r++))})}function f(t,e,n){return h(g.CHANNELS,t,e,n)}function h(t,e,n,i){var r=[];return t.forEach(function(t){o(e,t)&&(m.isArray(e[t])?e[t].forEach(function(e){r.push(n.call(i,e,t))}):r.push(n.call(i,e[t],t)))}),r}function d(t,e,n,i){return p(g.CHANNELS,t,e,n,i)}function p(t,e,n,i,r){var a=i;return g.CHANNELS.forEach(function(t){o(e,t)&&(m.isArray(e[t])?e[t].forEach(function(e){a=n.call(r,a,e,t)}):a=n.call(r,a,e[t],t))}),a}var g=t("./channel"),m=t("./util");n.countRetinal=i,n.channels=r,n.has=o,n.isAggregate=a,n.isRanged=s,n.fieldDefs=u,n.forEach=l,n.channelMappingForEach=c,n.map=f,n.channelMappingMap=h,n.reduce=d,n.channelMappingReduce=p},{"./channel":14,"./util":63}],51:[function(t,e,n){"use strict"},{}],52:[function(t,e,n){"use strict";function i(t,e){void 0===e&&(e={});var n=(e.datum?"datum.":"")+(e.prefn||""),i=e.suffix||"",r=t.field;if(u(t))return n+"count"+i;if(e.fn)return n+e.fn+"_"+r+i;if(!e.nofn&&t.bin){var o=e.binSuffix||(e.scaleType===h.ScaleType.ORDINAL?"_range":"_start");return n+"bin_"+r+o}return e.nofn||e.noAggregate||!t.aggregate?!e.nofn&&t.timeUnit?n+t.timeUnit+"_"+r+i:n+r:n+t.aggregate+"_"+r+i}function r(t){return g.contains([p.NOMINAL,p.ORDINAL],t.type)||!!t.bin||t.type===p.TEMPORAL&&!!t.timeUnit}function o(t){return t&&t.field&&r(t)}function a(t){return t&&t.field&&!r(t)}function s(){return{field:"*",aggregate:f.AggregateOp.COUNT,type:p.QUANTITATIVE}}function u(t){return t.aggregate===f.AggregateOp.COUNT}function l(t,e,n){void 0===n&&(n={});var i=e[t.field],r=t.type;if(t.bin){var o=t.bin,a="boolean"==typeof o?void 0:o.maxbins;void 0===a&&(a=10);var s=g.getbins(i,a);return(s.stop-s.start)/s.step}if(r===p.TEMPORAL){var u=t.timeUnit;switch(u){case d.TimeUnit.SECONDS:return 60;case d.TimeUnit.MINUTES:return 60;case d.TimeUnit.HOURS:return 24;case d.TimeUnit.DAY:return 7;case d.TimeUnit.DATE:return 31;case d.TimeUnit.MONTH:return 12;case d.TimeUnit.QUARTER:return 4;case d.TimeUnit.YEAR:var l=e["year_"+t.field];return l?l.distinct-(i.missing>0&&n[r]?1:0):null}}return t.aggregate?1:i.distinct-(i.missing>0&&n[r]?1:0)}function c(t,e){if(null!=t.title)return t.title;if(u(t))return e.countTitle;var n=t.aggregate||t.timeUnit||t.bin&&"bin";
return n?n.toString().toUpperCase()+"("+t.field+")":t.field}var f=t("./aggregate"),h=t("./scale"),d=t("./timeunit"),p=t("./type"),g=t("./util");n.aggregate={type:"string","enum":f.AGGREGATE_OPS,supportedEnums:{quantitative:f.AGGREGATE_OPS,ordinal:["median","min","max"],nominal:[],temporal:["mean","median","min","max"],"":["count"]},supportedTypes:g.toMap([p.QUANTITATIVE,p.NOMINAL,p.ORDINAL,p.TEMPORAL,""])},n.field=i,n.isDimension=o,n.isMeasure=a,n.count=s,n.isCount=u,n.cardinality=l,n.title=c},{"./aggregate":11,"./scale":55,"./timeunit":60,"./type":62,"./util":63}],53:[function(t,e,n){"use strict";n.defaultLegendConfig={orient:void 0,shortTimeLabels:!1}},{}],54:[function(t,e,n){"use strict";!function(t){t[t.AREA="area"]="AREA",t[t.BAR="bar"]="BAR",t[t.LINE="line"]="LINE",t[t.POINT="point"]="POINT",t[t.TEXT="text"]="TEXT",t[t.TICK="tick"]="TICK",t[t.RULE="rule"]="RULE",t[t.CIRCLE="circle"]="CIRCLE",t[t.SQUARE="square"]="SQUARE",t[t.ERRORBAR="errorBar"]="ERRORBAR"}(n.Mark||(n.Mark={}));var i=n.Mark;n.AREA=i.AREA,n.BAR=i.BAR,n.LINE=i.LINE,n.POINT=i.POINT,n.TEXT=i.TEXT,n.TICK=i.TICK,n.RULE=i.RULE,n.CIRCLE=i.CIRCLE,n.SQUARE=i.SQUARE,n.ERRORBAR=i.ERRORBAR,n.PRIMITIVE_MARKS=[n.AREA,n.BAR,n.LINE,n.POINT,n.TEXT,n.TICK,n.RULE,n.CIRCLE,n.SQUARE]},{}],55:[function(t,e,n){"use strict";!function(t){t[t.LINEAR="linear"]="LINEAR",t[t.LOG="log"]="LOG",t[t.POW="pow"]="POW",t[t.SQRT="sqrt"]="SQRT",t[t.QUANTILE="quantile"]="QUANTILE",t[t.QUANTIZE="quantize"]="QUANTIZE",t[t.ORDINAL="ordinal"]="ORDINAL",t[t.TIME="time"]="TIME",t[t.UTC="utc"]="UTC"}(n.ScaleType||(n.ScaleType={}));n.ScaleType;!function(t){t[t.SECOND="second"]="SECOND",t[t.MINUTE="minute"]="MINUTE",t[t.HOUR="hour"]="HOUR",t[t.DAY="day"]="DAY",t[t.WEEK="week"]="WEEK",t[t.MONTH="month"]="MONTH",t[t.YEAR="year"]="YEAR"}(n.NiceTime||(n.NiceTime={}));n.NiceTime;n.defaultScaleConfig={round:!0,textBandWidth:90,bandSize:21,padding:1,useRawDomain:!1,opacity:[.3,.8],nominalColorRange:"category10",sequentialColorRange:["#AFC6A3","#09622A"],shapeRange:"shapes",fontSizeRange:[8,40],ruleSizeRange:[1,5],tickSizeRange:[1,20]},n.defaultFacetScaleConfig={round:!0,padding:16}},{}],56:[function(t,e,n){"use strict";function i(t){return"mark"+n.ASSIGN+t.mark+n.DELIM+o(t.encoding)}function r(t,e,i){var r=t.split(n.DELIM),o=r.shift().split(n.ASSIGN)[1].trim(),s=a(r.join(n.DELIM)),u={mark:p.Mark[o],encoding:s};return void 0!==e&&(u.data=e),void 0!==i&&(u.config=i),u}function o(t){return d.map(t,function(t,e){return e+n.ASSIGN+s(t)}).join(n.DELIM)}function a(t){return t.split(n.DELIM).reduce(function(t,e){var i=e.split(n.ASSIGN),r=i[0].trim(),o=i[1];return t[r]=l(o),t},{})}function s(t){return(t.aggregate?t.aggregate+n.FUNC:"")+(t.timeUnit?t.timeUnit+n.FUNC:"")+(t.bin?"bin"+n.FUNC:"")+(t.field||"")+n.TYPE+h.SHORT_TYPE[t.type]}function u(t,e){return void 0===e&&(e=n.DELIM),t.map(s).join(e)}function l(t){for(var e=t.split(n.TYPE),i={field:e[0].trim(),type:h.TYPE_FROM_SHORT_TYPE[e[1].trim()]},r=0;r<c.AGGREGATE_OPS.length;r++){var o=c.AGGREGATE_OPS[r];if(0===i.field.indexOf(o+"_")){i.field=i.field.substr(o.toString().length+1),o===c.AggregateOp.COUNT&&0===i.field.length&&(i.field="*"),i.aggregate=o;break}}for(var r=0;r<f.TIMEUNITS.length;r++){var a=f.TIMEUNITS[r];if(i.field&&0===i.field.indexOf(a+"_")){i.field=i.field.substr(i.field.length+1),i.timeUnit=a;break}}return i.field&&0===i.field.indexOf("bin_")&&(i.field=i.field.substr(4),i.bin=!0),i}var c=t("./aggregate"),f=t("./timeunit"),h=t("./type"),d=t("./encoding"),p=t("./mark");n.DELIM="|",n.ASSIGN="=",n.TYPE=",",n.FUNC="_",n.shorten=i,n.parse=r,n.shortenEncoding=o,n.parseEncoding=a,n.shortenFieldDef=s,n.shortenFieldDefs=u,n.parseFieldDef=l},{"./aggregate":11,"./encoding":50,"./mark":54,"./timeunit":60,"./type":62}],57:[function(t,e,n){"use strict";!function(t){t[t.ASCENDING="ascending"]="ASCENDING",t[t.DESCENDING="descending"]="DESCENDING",t[t.NONE="none"]="NONE"}(n.SortOrder||(n.SortOrder={}));n.SortOrder},{}],58:[function(t,e,n){"use strict";function i(t){return void 0!==t.facet}function r(t){if(a(t)){var e=_.has(t.encoding,k.ROW),n=_.has(t.encoding,k.COLUMN);return e||n}return!1}function o(t){return!!a(t)&&!r(t)}function a(t){return void 0!==t.mark}function s(t){return void 0!==t.layers}function u(t){return r(t)?l(t):o(t)?c(t):t}function l(t){var e=_.has(t.encoding,k.ROW),n=_.has(t.encoding,k.COLUMN),i=S.duplicate(t.encoding);return delete i.column,delete i.row,S.extend(t.name?{name:t.name}:{},t.description?{description:t.description}:{},{data:t.data},t.transform?{transform:t.transform}:{},{facet:S.extend(e?{row:t.encoding.row}:{},n?{column:t.encoding.column}:{}),spec:c({mark:t.mark,encoding:i})},t.config?{config:t.config}:{})}function c(t){var e=t.config,n=e&&e.overlay,i=n&&t.mark===x.AREA&&S.contains([b.AreaOverlay.LINEPOINT,b.AreaOverlay.LINE],n.area),r=n&&(n.line&&t.mark===x.LINE||n.area===b.AreaOverlay.LINEPOINT&&t.mark===x.AREA);return t.mark===x.ERRORBAR?h(t):_.isRanged(t.encoding)?f(t):v(t)?t:r||i?d(t,r,i):t}function f(t){if(t.encoding){var e=_.has(t.encoding,k.X),n=_.has(t.encoding,k.Y),i=_.has(t.encoding,k.X2),r=_.has(t.encoding,k.Y2);if(i&&!e||r&&!n){var o=S.duplicate(t);return i&&!e&&(o.encoding.x=o.encoding.x2,delete o.encoding.x2),r&&!n&&(o.encoding.y=o.encoding.y2,delete o.encoding.y2),o}}return t}function h(t){var e=S.extend(t.name?{name:t.name}:{},t.description?{description:t.description}:{},t.data?{data:t.data}:{},t.transform?{transform:t.transform}:{},t.config?{config:t.config}:{},{layers:[]});if(!t.encoding)return e;if(t.mark===x.ERRORBAR){var n={mark:x.RULE,encoding:S.extend(t.encoding.x?{x:S.duplicate(t.encoding.x)}:{},t.encoding.y?{y:S.duplicate(t.encoding.y)}:{},t.encoding.x2?{x2:S.duplicate(t.encoding.x2)}:{},t.encoding.y2?{y2:S.duplicate(t.encoding.y2)}:{},{})},i={mark:x.TICK,encoding:S.extend(t.encoding.x?{x:S.duplicate(t.encoding.x)}:{},t.encoding.y?{y:S.duplicate(t.encoding.y)}:{},t.encoding.size?{size:S.duplicate(t.encoding.size)}:{},{})},r={mark:x.TICK,encoding:S.extend({x:t.encoding.x2?S.duplicate(t.encoding.x2):S.duplicate(t.encoding.x),y:t.encoding.y2?S.duplicate(t.encoding.y2):S.duplicate(t.encoding.y)},t.encoding.size?{size:S.duplicate(t.encoding.size)}:{})};e.layers.push(c(n)),e.layers.push(c(i)),e.layers.push(c(r))}return e}function d(t,e,n){var i=["name","description","data","transform"],r=S.omit(t,i.concat("config")),o=S.duplicate(t.config);delete o.overlay;var a=S.extend(S.pick(t,i),{layers:[r]},S.keys(o).length>0?{config:o}:{});if(n){var s=S.duplicate(r);s.mark=x.LINE;var u=S.extend({},b.defaultOverlayConfig.lineStyle,t.config.overlay.lineStyle);S.keys(u).length>0&&(s.config={mark:u}),a.layers.push(s)}if(e){var l=S.duplicate(r);l.mark=x.POINT;var u=S.extend({},b.defaultOverlayConfig.pointStyle,t.config.overlay.pointStyle);S.keys(u).length>0&&(l.config={mark:u}),a.layers.push(l)}return a}function p(t){return E.isAggregate(t.encoding)}function g(t){return E.fieldDefs(t.encoding)}function m(t){return t}function v(t){return null!==w.stack(t.mark,t.encoding,t.config)}function y(t){var e=t.encoding,n=S.duplicate(t.encoding);return n.x=e.y,n.y=e.x,n.row=e.column,n.column=e.row,t.encoding=n,t}var b=t("./config"),_=t("./encoding"),x=t("./mark"),w=t("./stack"),k=t("./channel"),E=t("./encoding"),S=t("./util");n.isFacetSpec=i,n.isExtendedUnitSpec=r,n.isUnitSpec=o,n.isSomeUnitSpec=a,n.isLayerSpec=s,n.normalize=u,n.normalizeExtendedUnitSpec=l,n.normalizeUnitSpec=c,n.normalizeRangedUnitSpec=f,n.normalizeErrorBarUnitSpec=h,n.normalizeOverlay=d,n.alwaysNoOcclusion=p,n.fieldDefs=g,n.getCleanSpec=m,n.isStacked=v,n.transpose=y},{"./channel":14,"./config":48,"./encoding":50,"./mark":54,"./stack":59,"./util":63}],59:[function(t,e,n){"use strict";function i(t,e,n){var i=n&&n.mark?n.mark.stacked:void 0;if(s.contains([u.NONE,null,!1],i))return null;if(!s.contains([a.BAR,a.AREA],t))return null;if(!o.isAggregate(e))return null;var l=r.STACK_GROUP_CHANNELS.reduce(function(t,n){return o.has(e,n)&&!e[n].aggregate&&t.push(n),t},[]);if(0===l.length)return null;var c=o.has(e,r.X),f=o.has(e,r.Y),h=c&&!!e.x.aggregate,d=f&&!!e.y.aggregate;return h!==d?{groupbyChannel:h?f?r.Y:null:c?r.X:null,fieldChannel:h?r.X:r.Y,stackByChannels:l,offset:i||u.ZERO}:null}var r=t("./channel"),o=t("./encoding"),a=t("./mark"),s=t("./util");!function(t){t[t.ZERO="zero"]="ZERO",t[t.CENTER="center"]="CENTER",t[t.NORMALIZE="normalize"]="NORMALIZE",t[t.NONE="none"]="NONE"}(n.StackOffset||(n.StackOffset={}));var u=n.StackOffset;n.stack=i},{"./channel":14,"./encoding":50,"./mark":54,"./util":63}],60:[function(t,e,n){"use strict";function i(t,e,n){if(t){var i=[];r(t,o.YEAR)&&i.push(n?"%y":"%Y"),r(t,o.QUARTER)&&i.push("'}}Q{{"+e+" | quarter}}{{"+e+" | time:'"),r(t,o.MONTH)&&i.push(n?"%b":"%B"),r(t,o.DAY)?i.push(n?"%a":"%A"):r(t,o.DATE)&&i.push("%d");var a=[];r(t,o.HOURS)&&a.push("%H"),r(t,o.MINUTES)&&a.push("%M"),r(t,o.SECONDS)&&a.push("%S"),r(t,o.MILLISECONDS)&&a.push("%L");var s=[];if(i.length>0&&s.push(i.join("-")),a.length>0&&s.push(a.join(":")),s.length>0){var u="{{"+e+" | time:'"+s.join(" ")+"'}}";return u.replace(new RegExp("{{"+e+" \\| time:''}}","g"),"")}}}function r(t,e){var n=t.toString(),i=e.toString();return n.indexOf(i)>-1}!function(t){t[t.YEAR="year"]="YEAR",t[t.MONTH="month"]="MONTH",t[t.DAY="day"]="DAY",t[t.DATE="date"]="DATE",t[t.HOURS="hours"]="HOURS",t[t.MINUTES="minutes"]="MINUTES",t[t.SECONDS="seconds"]="SECONDS",t[t.MILLISECONDS="milliseconds"]="MILLISECONDS",t[t.YEARMONTH="yearmonth"]="YEARMONTH",t[t.YEARMONTHDAY="yearmonthday"]="YEARMONTHDAY",t[t.YEARMONTHDATE="yearmonthdate"]="YEARMONTHDATE",t[t.YEARDAY="yearday"]="YEARDAY",t[t.YEARDATE="yeardate"]="YEARDATE",t[t.YEARMONTHDAYHOURS="yearmonthdayhours"]="YEARMONTHDAYHOURS",t[t.YEARMONTHDAYHOURSMINUTES="yearmonthdayhoursminutes"]="YEARMONTHDAYHOURSMINUTES",t[t.YEARMONTHDAYHOURSMINUTESSECONDS="yearmonthdayhoursminutesseconds"]="YEARMONTHDAYHOURSMINUTESSECONDS",t[t.HOURSMINUTES="hoursminutes"]="HOURSMINUTES",t[t.HOURSMINUTESSECONDS="hoursminutesseconds"]="HOURSMINUTESSECONDS",t[t.MINUTESSECONDS="minutesseconds"]="MINUTESSECONDS",t[t.SECONDSMILLISECONDS="secondsmilliseconds"]="SECONDSMILLISECONDS",t[t.QUARTER="quarter"]="QUARTER",t[t.YEARQUARTER="yearquarter"]="YEARQUARTER",t[t.QUARTERMONTH="quartermonth"]="QUARTERMONTH",t[t.YEARQUARTERMONTH="yearquartermonth"]="YEARQUARTERMONTH"}(n.TimeUnit||(n.TimeUnit={}));var o=n.TimeUnit;n.TIMEUNITS=[o.YEAR,o.MONTH,o.DAY,o.DATE,o.HOURS,o.MINUTES,o.SECONDS,o.MILLISECONDS,o.YEARMONTH,o.YEARMONTHDAY,o.YEARMONTHDATE,o.YEARDAY,o.YEARDATE,o.YEARMONTHDAYHOURS,o.YEARMONTHDAYHOURSMINUTES,o.YEARMONTHDAYHOURSMINUTESSECONDS,o.HOURSMINUTES,o.HOURSMINUTESSECONDS,o.MINUTESSECONDS,o.SECONDSMILLISECONDS,o.QUARTER,o.YEARQUARTER,o.QUARTERMONTH,o.YEARQUARTERMONTH],n.template=i,n.containsTimeUnit=r},{}],61:[function(t,e,n){"use strict"},{}],62:[function(t,e,n){"use strict";function i(t){var e=t;return n.TYPE_FROM_SHORT_TYPE[e.toUpperCase()]||e.toLowerCase()}!function(t){t[t.QUANTITATIVE="quantitative"]="QUANTITATIVE",t[t.ORDINAL="ordinal"]="ORDINAL",t[t.TEMPORAL="temporal"]="TEMPORAL",t[t.NOMINAL="nominal"]="NOMINAL"}(n.Type||(n.Type={}));var r=n.Type;n.QUANTITATIVE=r.QUANTITATIVE,n.ORDINAL=r.ORDINAL,n.TEMPORAL=r.TEMPORAL,n.NOMINAL=r.NOMINAL,n.SHORT_TYPE={quantitative:"Q",temporal:"T",nominal:"N",ordinal:"O"},n.TYPE_FROM_SHORT_TYPE={Q:n.QUANTITATIVE,T:n.TEMPORAL,O:n.ORDINAL,N:n.NOMINAL},n.getFullName=i},{}],63:[function(t,e,n){"use strict";function i(t,e){var n={};return e.forEach(function(e){t.hasOwnProperty(e)&&(n[e]=t[e])}),n}function r(t,e){var n=E.duplicate(t);return e.forEach(function(t){delete n[t]}),n}function o(t){return M.isString(t)||M.isNumber(t)||M.isBoolean(t)?String(t):w(t)}function a(t,e){return t.indexOf(e)>-1}function s(t,e){return t.filter(function(t){return!a(e,t)})}function u(t,e){return t.concat(s(e,t))}function l(t,e,n){if(t.forEach)t.forEach.call(n,e);else for(var i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function c(t,e,n,i){if(t.reduce)return t.reduce.call(i,e,n);for(var r in t)t.hasOwnProperty(r)&&(n=e.call(i,n,t[r],r,t));return n}function f(t,e,n){if(t.map)return t.map.call(n,e);var i=[];for(var r in t)t.hasOwnProperty(r)&&i.push(e.call(n,t[r],r,t));return i}function h(t,e){for(var n=0,i=0;i<t.length;i++)if(e(t[i],i,n++))return!0;return!1}function d(t,e){for(var n=0,i=0;i<t.length;i++)if(!e(t[i],i,n++))return!1;return!0}function p(t){return[].concat.apply([],t)}function g(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i++)t=m(t,e[i]);return t}function m(t,e){if("object"!=typeof e||null===e)return t;for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&("object"!=typeof e[n]||null===e[n]?t[n]=e[n]:"object"!=typeof t[n]||null===t[n]?t[n]=g(e[n].constructor===Array?[]:{},e[n]):g(t[n],e[n]));return t}function v(t,e){return A({min:t.min,max:t.max,maxbins:e})}function y(t,e){var n,i,r,o=[],a={};for(i=0,r=t.length;i<r;++i)n=e?e(t[i]):t[i],n in a||(a[n]=1,o.push(t[i]));return o}function b(t){console.warn("[VL Warning]",t)}function _(t){console.error("[VL Error]",t)}function x(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e[n]&&t[n]&&e[n]!==t[n])return!0;return!1}var w=t("json-stable-stringify"),k=t("datalib/src/util");n.keys=k.keys,n.extend=k.extend,n.duplicate=k.duplicate,n.isArray=k.isArray,n.vals=k.vals,n.truncate=k.truncate,n.toMap=k.toMap,n.isObject=k.isObject,n.isString=k.isString,n.isNumber=k.isNumber,n.isBoolean=k.isBoolean;var E=t("datalib/src/util"),S=t("datalib/src/generate");n.range=S.range;var C=t("./encoding");n.has=C.has;var T=t("./channel");n.Channel=T.Channel;var M=t("datalib/src/util");n.pick=i,n.omit=r,n.hash=o,n.contains=a,n.without=s,n.union=u,n.forEach=l,n.reduce=c,n.map=f,n.some=h,n.every=d,n.flatten=p,n.mergeDeep=g;var A=t("datalib/src/bins/bins");n.getbins=v,n.unique=y,n.warning=b,n.error=_,n.differ=x},{"./channel":14,"./encoding":50,"datalib/src/bins/bins":3,"datalib/src/generate":4,"datalib/src/util":6,"json-stable-stringify":7}],64:[function(t,e,n){"use strict";function i(t,e,i){void 0===e&&(e=n.DEFAULT_REQUIRED_CHANNEL_MAP),void 0===i&&(i=n.DEFAULT_SUPPORTED_CHANNEL_TYPE);var r=t.mark,a=t.encoding,s=e[r],u=i[r];for(var l in s)if(!(s[l]in a))return'Missing encoding channel "'+s[l]+'" for mark "'+r+'"';for(var c in a)if(!u[c])return'Encoding channel "'+c+'" is not supported by mark type "'+r+'"';return r!==o.BAR||a.x||a.y?null:"Missing both x and y for bar"}var r=t("./util"),o=t("./mark");n.DEFAULT_REQUIRED_CHANNEL_MAP={text:["text"],line:["x","y"],area:["x","y"]},n.DEFAULT_SUPPORTED_CHANNEL_TYPE={bar:r.toMap(["row","column","x","y","size","color","detail"]),line:r.toMap(["row","column","x","y","color","detail"]),area:r.toMap(["row","column","x","y","color","detail"]),tick:r.toMap(["row","column","x","y","color","detail"]),circle:r.toMap(["row","column","x","y","color","size","detail"]),square:r.toMap(["row","column","x","y","color","size","detail"]),point:r.toMap(["row","column","x","y","color","size","detail","shape"]),text:r.toMap(["row","column","size","color","text"])},n.getEncodingMappingError=i},{"./mark":54,"./util":63}],65:[function(t,e,n){"use strict";function i(t){return!o.isArray(t)&&"fields"in t}function r(t){return!o.isArray(t)&&"data"in t}var o=t("./util");n.isUnionedDomain=i,n.isDataRefDomain=r},{"./util":63}],66:[function(t,e,n){"use strict";n.axis=t("./axis"),n.aggregate=t("./aggregate"),n.bin=t("./bin"),n.channel=t("./channel"),n.compile=t("./compile/compile").compile,n.config=t("./config"),n.data=t("./data"),n.encoding=t("./encoding"),n.facet=t("./facet"),n.fieldDef=t("./fielddef"),n.legend=t("./legend"),n.mark=t("./mark"),n.scale=t("./scale"),n.shorthand=t("./shorthand"),n.sort=t("./sort"),n.spec=t("./spec"),n.stack=t("./stack"),n.timeUnit=t("./timeunit"),n.transform=t("./transform"),n.type=t("./type"),n.util=t("./util"),n.validate=t("./validate"),n.version="1.0.16"},{"./aggregate":11,"./axis":12,"./bin":13,"./channel":14,"./compile/compile":17,"./config":48,"./data":49,"./encoding":50,"./facet":51,"./fielddef":52,"./legend":53,"./mark":54,"./scale":55,"./shorthand":56,"./sort":57,"./spec":58,"./stack":59,"./timeunit":60,"./transform":61,"./type":62,"./util":63,"./validate":64}]},{},[66])(66)}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.dl=t()}}(function(){var t;return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){},{}],2:[function(e,n,i){!function(e,r){"object"==typeof i&&"undefined"!=typeof n?r(i):"function"==typeof t&&t.amd?t(["exports"],r):r(e.d3_dsv={})}(this,function(t){"use strict";function e(t){return new o(t)}function n(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function i(t,e){var i=n(t);return function(n,r){return e(i(n),r,t)}}function r(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var i in t)i in e||n.push(e[i]=i)}),n}function o(t){function e(e){return e.map(o).join(t)}function o(t){return a.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var a=new RegExp('["'+t+"\n]"),s=t.charCodeAt(0);this.parse=function(t,e){var r,o,a=this.parseRows(t,function(t,a){return r?r(t,a-1):(o=t,void(r=e?i(t,e):n(t)))});return a.columns=o,a},this.parseRows=function(t,e){function n(){if(c>=l)return a;if(r)return r=!1,o;var e,n=c;if(34===t.charCodeAt(n)){for(var i=n;i++<l;)if(34===t.charCodeAt(i)){if(34!==t.charCodeAt(i+1))break;++i}return c=i+2,e=t.charCodeAt(i+1),13===e?(r=!0,10===t.charCodeAt(i+2)&&++c):10===e&&(r=!0),t.slice(n+1,i).replace(/""/g,'"')}for(;c<l;){var u=1;if(e=t.charCodeAt(c++),10===e)r=!0;else if(13===e)r=!0,10===t.charCodeAt(c)&&(++c,++u);else if(e!==s)continue;return t.slice(n,c-u)}return t.slice(n)}for(var i,r,o={},a={},u=[],l=t.length,c=0,f=0;(i=n())!==a;){for(var h=[];i!==o&&i!==a;)h.push(i),i=n();e&&null==(h=e(h,f++))||u.push(h)}return u},this.format=function(e,n){return null==n&&(n=r(e)),[n.map(o).join(t)].concat(e.map(function(e){return n.map(function(t){return o(e[t])}).join(t)})).join("\n")},this.formatRows=function(t){return t.map(e).join("\n")}}e.prototype=o.prototype;var a=e(","),s=e("\t"),u="0.1.14";t.version=u,t.dsv=e,t.csv=a,t.tsv=s})},{}],3:[function(e,n,i){!function(e,r){"object"==typeof i&&"undefined"!=typeof n?r(i):"function"==typeof t&&t.amd?t("d3-format",["exports"],r):r(e.d3_format={})}(this,function(t){"use strict";function e(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function n(t){return t=e(Math.abs(t)),t?t[1]:NaN}function i(t,e){return function(n,i){for(var r=n.length,o=[],a=0,s=t[0],u=0;r>0&&s>0&&(u+s+1>i&&(s=Math.max(1,i-u)),o.push(n.substring(r-=s,r+s)),!((u+=s+1)>i));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function r(t,n){var i=e(t,n);if(!i)return t+"";var r=i[0],o=i[1],a=o-(p=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+e(t,Math.max(0,n+a-1))[0]}function o(t,n){var i=e(t,n);if(!i)return t+"";var r=i[0],o=i[1];return o<0?"0."+new Array((-o)).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}function a(t,e){t=t.toPrecision(e);t:for(var n,i=t.length,r=1,o=-1;r<i;++r)switch(t[r]){case".":o=n=r;break;case"0":0===o&&(o=r),n=r;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t}function s(t){return new u(t)}function u(t){if(!(e=m.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",i=e[2]||">",r=e[3]||"-",o=e[4]||"",a=!!e[5],s=e[6]&&+e[6],u=!!e[7],l=e[8]&&+e[8].slice(1),c=e[9]||"";"n"===c?(u=!0,c="g"):g[c]||(c=""),(a||"0"===n&&"="===i)&&(a=!0,n="0",i="="),this.fill=n,this.align=i,this.sign=r,this.symbol=o,this.zero=a,this.width=s,this.comma=u,this.precision=l,this.type=c}function l(t){return t}function c(t){function e(t){t=s(t);var e=t.fill,n=t.align,i=t.sign,r=t.symbol,l=t.zero,c=t.width,f=t.comma,h=t.precision,d=t.type,m="$"===r?a[0]:"#"===r&&/[boxX]/.test(d)?"0"+d.toLowerCase():"",y="$"===r?a[1]:/[%p]/.test(d)?"%":"",b=g[d],_=!d||/[defgprs%]/.test(d);return h=null==h?d?6:12:/[gprs]/.test(d)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),function(t){var r=m,a=y;if("c"===d)a=b(t)+a,t="";else{t=+t;var s=(t<0||1/t<0)&&(t*=-1,!0);if(t=b(t,h),s){var g,x=-1,w=t.length;for(s=!1;++x<w;)if(g=t.charCodeAt(x),48<g&&g<58||"x"===d&&96<g&&g<103||"X"===d&&64<g&&g<71){s=!0;break}}if(r=(s?"("===i?i:"-":"-"===i||"("===i?"":i)+r,a=a+("s"===d?v[8+p/3]:"")+(s&&"("===i?")":""),_)for(var g,x=-1,w=t.length;++x<w;)if(g=t.charCodeAt(x),48>g||g>57){a=(46===g?u+t.slice(x+1):t.slice(x))+a,t=t.slice(0,x);break}}f&&!l&&(t=o(t,1/0));var k=r.length+t.length+a.length,E=k<c?new Array(c-k+1).join(e):"";switch(f&&l&&(t=o(E+t,E.length?c-a.length:1/0),E=""),n){case"<":return r+t+a+E;case"=":return r+E+t+a;case"^":return E.slice(0,k=E.length>>1)+r+t+a+E.slice(k)}return E+r+t+a}}function r(t,i){var r=e((t=s(t),t.type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(n(i)/3))),a=Math.pow(10,-o),u=v[8+o/3];return function(t){return r(a*t)+u}}var o=t.grouping&&t.thousands?i(t.grouping,t.thousands):l,a=t.currency,u=t.decimal;return{format:e,formatPrefix:r}}function f(t){return Math.max(0,-n(Math.abs(t)))}function h(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n(e)/3)))-n(Math.abs(t)))}function d(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,n(e)-n(t))+1}var p,g={"":a,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return o(100*t,e)},r:o,s:r,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},m=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var v=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],y=c({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),b=c({decimal:",",thousands:".",grouping:[3],currency:[""," €"]}),_=c({decimal:",",thousands:" ",grouping:[3],currency:[""," Kč"]}),x=c({decimal:",",thousands:"'",grouping:[3],currency:[""," CHF"]}),w=c({decimal:",",thousands:".",grouping:[3],currency:[""," €"]}),k=c({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),E=c({decimal:".",thousands:",",grouping:[3],currency:["£",""]}),S=c({decimal:",",thousands:".",grouping:[3],currency:[""," €"]}),C=c({decimal:",",thousands:" ",grouping:[3],currency:[""," €"]}),T=c({decimal:",",thousands:" ",grouping:[3],currency:["","$"]}),M=c({decimal:",",thousands:".",grouping:[3],currency:[""," €"]}),A=c({decimal:".",thousands:",",grouping:[3],currency:["₪",""]}),$=c({decimal:",",thousands:" ",grouping:[3],currency:[""," Ft"]}),O=c({decimal:",",thousands:".",grouping:[3],currency:["€",""]}),D=c({decimal:".",thousands:",",grouping:[3],currency:["","円"]}),N=c({decimal:".",thousands:",",grouping:[3],currency:["₩",""]}),I=c({decimal:",",thousands:".",grouping:[3],currency:[""," ден."]}),L=c({decimal:",",thousands:".",grouping:[3],currency:["€ ",""]}),P=c({decimal:",",thousands:".",grouping:[3],currency:["","zł"]}),R=c({decimal:",",thousands:".",grouping:[3],currency:["R$",""]}),F=c({decimal:",",thousands:" ",grouping:[3],currency:[""," руб."]}),j=c({decimal:",",thousands:" ",grouping:[3],currency:["","SEK"]}),U=c({decimal:".",thousands:",",grouping:[3],currency:["¥",""]}),z=y.format,H=y.formatPrefix,q="0.4.2";t.version=q,t.format=z,t.formatPrefix=H,t.locale=c,t.localeCaEs=b,t.localeCsCz=_,t.localeDeCh=x,t.localeDeDe=w,t.localeEnCa=k,t.localeEnGb=E,t.localeEnUs=y,t.localeEsEs=S,t.localeFiFi=C,t.localeFrCa=T,t.localeFrFr=M,t.localeHeIl=A,t.localeHuHu=$,t.localeItIt=O,t.localeJaJp=D,t.localeKoKr=N,t.localeMkMk=I,t.localeNlNl=L,t.localePlPl=P,t.localePtBr=R,t.localeRuRu=F,t.localeSvSe=j,t.localeZhCn=U,t.formatSpecifier=s,t.precisionFixed=f,t.precisionPrefix=h,t.precisionRound=d})},{}],4:[function(e,n,i){!function(r,o){"object"==typeof i&&"undefined"!=typeof n?o(i,e("d3-time")):"function"==typeof t&&t.amd?t("d3-time-format",["exports","d3-time"],o):o(r.d3_time_format={},r.d3_time)}(this,function(t,e){"use strict";function n(t){if(0<=t.y&&t.y<100){var e=new Date((-1),t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function i(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function r(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function o(t){function e(t,e){return function(n){var i,r,o,a=[],s=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date((+n)));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(r=tt[i=t.charAt(++s)])?i=t.charAt(++s):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),a.push(i),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function o(t,e){return function(n){var o=r(1900),s=a(o,t,n+="",0);if(s!=n.length)return null;if("p"in o&&(o.H=o.H%12+12*o.p),"W"in o||"U"in o){"w"in o||(o.w="W"in o?1:0);var u="Z"in o?i(r(o.y)).getUTCDay():e(r(o.y)).getDay();o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(u+5)%7:o.w+7*o.U-(u+6)%7}return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,i(o)):e(o)}}function a(t,e,n,i){for(var r,o,a=0,s=e.length,u=n.length;a<s;){if(i>=u)return-1;if(r=e.charCodeAt(a++),37===r){if(r=e.charAt(a++),o=Rt[r in tt?e.charAt(a++):r],!o||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function s(t,e,n){var i=St.exec(e.slice(n));return i?(t.p=Ct[i[0].toLowerCase()],n+i[0].length):-1}function Q(t,e,n){var i=At.exec(e.slice(n));return i?(t.w=$t[i[0].toLowerCase()],n+i[0].length):-1}function et(t,e,n){var i=Tt.exec(e.slice(n));return i?(t.w=Mt[i[0].toLowerCase()],n+i[0].length):-1}function nt(t,e,n){var i=Nt.exec(e.slice(n));return i?(t.m=It[i[0].toLowerCase()],n+i[0].length):-1}function it(t,e,n){var i=Ot.exec(e.slice(n));return i?(t.m=Dt[i[0].toLowerCase()],n+i[0].length):-1}function rt(t,e,n){return a(t,vt,e,n)}function ot(t,e,n){return a(t,yt,e,n)}function at(t,e,n){return a(t,bt,e,n)}function st(t){return wt[t.getDay()]}function ut(t){return xt[t.getDay()]}function lt(t){return Et[t.getMonth()]}function ct(t){return kt[t.getMonth()]}function ft(t){return _t[+(t.getHours()>=12)]}function ht(t){return wt[t.getUTCDay()]}function dt(t){return xt[t.getUTCDay()]}function pt(t){return Et[t.getUTCMonth()]}function gt(t){return kt[t.getUTCMonth()]}function mt(t){return _t[+(t.getUTCHours()>=12)]}var vt=t.dateTime,yt=t.date,bt=t.time,_t=t.periods,xt=t.days,wt=t.shortDays,kt=t.months,Et=t.shortMonths,St=u(_t),Ct=l(_t),Tt=u(xt),Mt=l(xt),At=u(wt),$t=l(wt),Ot=u(kt),Dt=l(kt),Nt=u(Et),It=l(Et),Lt={a:st,A:ut,b:lt,B:ct,c:null,d:E,e:E,H:S,I:C,j:T,L:M,m:A,M:$,p:ft,S:O,U:D,w:N,W:I,x:null,X:null,y:L,Y:P,Z:R,"%":Z},Pt={a:ht,A:dt,b:pt,B:gt,c:null,d:F,e:F,H:j,I:U,j:z,L:H,m:q,M:W,p:mt,S:Y,U:B,w:V,W:X,x:null,X:null,y:G,Y:K,Z:J,"%":Z},Rt={a:Q,A:et,b:nt,B:it,c:rt,d:v,e:v,H:b,I:b,j:y,L:w,m:m,M:_,p:s,S:x,U:f,w:c,W:h,x:ot,X:at,y:p,Y:d,Z:g,"%":k};return Lt.x=e(yt,Lt),Lt.X=e(bt,Lt),Lt.c=e(vt,Lt),Pt.x=e(yt,Pt),Pt.X=e(bt,Pt),Pt.c=e(vt,Pt),{format:function(t){var i=e(t+="",Lt);return i.parse=o(t,n),i.toString=function(){return t},i},utcFormat:function(t){var n=e(t+="",Pt);return n.parse=o(t,i),n.toString=function(){return t},n}}}function a(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function s(t){return t.replace(it,"\\$&")}function u(t){return new RegExp("^(?:"+t.map(s).join("|")+")","i")}function l(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function c(t,e,n){var i=et.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function f(t,e,n){var i=et.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function h(t,e,n){var i=et.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function d(t,e,n){var i=et.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function p(t,e,n){var i=et.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function g(t,e,n){var i=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function m(t,e,n){var i=et.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function v(t,e,n){var i=et.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function y(t,e,n){var i=et.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function b(t,e,n){var i=et.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function _(t,e,n){var i=et.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function x(t,e,n){var i=et.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function w(t,e,n){var i=et.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function k(t,e,n){var i=nt.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function E(t,e){return a(t.getDate(),e,2)}function S(t,e){return a(t.getHours(),e,2)}function C(t,e){return a(t.getHours()%12||12,e,2)}function T(t,n){return a(1+e.day.count(e.year(t),t),n,3)}function M(t,e){return a(t.getMilliseconds(),e,3)}function A(t,e){return a(t.getMonth()+1,e,2)}function $(t,e){return a(t.getMinutes(),e,2)}function O(t,e){return a(t.getSeconds(),e,2)}function D(t,n){return a(e.sunday.count(e.year(t),t),n,2)}function N(t){return t.getDay()}function I(t,n){return a(e.monday.count(e.year(t),t),n,2)}function L(t,e){return a(t.getFullYear()%100,e,2)}function P(t,e){return a(t.getFullYear()%1e4,e,4)}function R(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+a(e/60|0,"0",2)+a(e%60,"0",2)}function F(t,e){return a(t.getUTCDate(),e,2)}function j(t,e){return a(t.getUTCHours(),e,2)}function U(t,e){return a(t.getUTCHours()%12||12,e,2)}function z(t,n){return a(1+e.utcDay.count(e.utcYear(t),t),n,3)}function H(t,e){return a(t.getUTCMilliseconds(),e,3)}function q(t,e){return a(t.getUTCMonth()+1,e,2)}function W(t,e){return a(t.getUTCMinutes(),e,2)}function Y(t,e){return a(t.getUTCSeconds(),e,2)}function B(t,n){return a(e.utcSunday.count(e.utcYear(t),t),n,2)}function V(t){return t.getUTCDay()}function X(t,n){return a(e.utcMonday.count(e.utcYear(t),t),n,2)}function G(t,e){return a(t.getUTCFullYear()%100,e,2)}function K(t,e){return a(t.getUTCFullYear()%1e4,e,4)}function J(){return"+0000"}function Z(){return"%"}function Q(t){return t.toISOString()}var tt={"-":"",_:" ",0:"0"},et=/^\s*\d+/,nt=/^%/,it=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,rt=o({dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),ot=o({dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],shortDays:["dg.","dl.","dt.","dc.","dj.","dv.","ds."],months:["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre"],
shortMonths:["gen.","febr.","març","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des."]}),at=o({dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]}),st=o({dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]}),ut=o({dateTime:"%a %b %e %X %Y",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),lt=o({dateTime:"%a %e %b %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),ct=o({dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],shortDays:["dom","lun","mar","mié","jue","vie","sáb"],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortMonths:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"]}),ft=o({dateTime:"%A, %-d. %Bta %Y klo %X",date:"%-d.%-m.%Y",time:"%H:%M:%S",periods:["a.m.","p.m."],days:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],shortDays:["Su","Ma","Ti","Ke","To","Pe","La"],months:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],shortMonths:["Tammi","Helmi","Maalis","Huhti","Touko","Kesä","Heinä","Elo","Syys","Loka","Marras","Joulu"]}),ht=o({dateTime:"%a %e %b %Y %X",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["",""],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim","lun","mar","mer","jeu","ven","sam"],months:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortMonths:["jan","fév","mar","avr","mai","jui","jul","aoû","sep","oct","nov","déc"]}),dt=o({dateTime:"%A, le %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortDays:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],months:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],shortMonths:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."]}),pt=o({dateTime:"%A, %e ב%B %Y %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],shortDays:["א׳","ב׳","ג׳","ד׳","ה׳","ו׳","ש׳"],months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],shortMonths:["ינו׳","פבר׳","מרץ","אפר׳","מאי","יוני","יולי","אוג׳","ספט׳","אוק׳","נוב׳","דצמ׳"]}),gt=o({dateTime:"%Y. %B %-e., %A %X",date:"%Y. %m. %d.",time:"%H:%M:%S",periods:["de.","du."],days:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"],shortDays:["V","H","K","Sze","Cs","P","Szo"],months:["január","február","március","április","május","június","július","augusztus","szeptember","október","november","december"],shortMonths:["jan.","feb.","már.","ápr.","máj.","jún.","júl.","aug.","szept.","okt.","nov.","dec."]}),mt=o({dateTime:"%A %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],shortDays:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],shortMonths:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"]}),vt=o({dateTime:"%Y %b %e %a %X",date:"%Y/%m/%d",time:"%H:%M:%S",periods:["AM","PM"],days:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],shortDays:["日","月","火","水","木","金","土"],months:["睦月","如月","弥生","卯月","皐月","水無月","文月","葉月","長月","神無月","霜月","師走"],shortMonths:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]}),yt=o({dateTime:"%Y/%m/%d %a %X",date:"%Y/%m/%d",time:"%H:%M:%S",periods:["오전","오후"],days:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],shortDays:["일","월","화","수","목","금","토"],months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],shortMonths:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]}),bt=o({dateTime:"%A, %e %B %Y г. %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["недела","понеделник","вторник","среда","четврток","петок","сабота"],shortDays:["нед","пон","вто","сре","чет","пет","саб"],months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],shortMonths:["јан","фев","мар","апр","мај","јун","јул","авг","сеп","окт","ное","дек"]}),_t=o({dateTime:"%a %e %B %Y %T",date:"%d-%m-%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],shortDays:["zo","ma","di","wo","do","vr","za"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],shortMonths:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"]}),xt=o({dateTime:"%A, %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],shortDays:["Niedz.","Pon.","Wt.","Śr.","Czw.","Pt.","Sob."],months:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],shortMonths:["Stycz.","Luty","Marz.","Kwie.","Maj","Czerw.","Lipc.","Sierp.","Wrz.","Paźdz.","Listop.","Grudz."]}),wt=o({dateTime:"%A, %e de %B de %Y. %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],shortDays:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],shortMonths:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]}),kt=o({dateTime:"%A, %e %B %Y г. %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],shortDays:["вс","пн","вт","ср","чт","пт","сб"],months:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],shortMonths:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"]}),Et=o({dateTime:"%A den %d %B %Y %X",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["fm","em"],days:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],shortDays:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],shortMonths:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"]}),St=o({dateTime:"%a %b %e %X %Y",date:"%Y/%-m/%-d",time:"%H:%M:%S",periods:["上午","下午"],days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],shortDays:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],shortMonths:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]}),Ct="%Y-%m-%dT%H:%M:%S.%LZ";Q.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Q.toString=function(){return Ct};var Tt=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Q:rt.utcFormat(Ct),Mt=rt.format,At=rt.utcFormat,$t="0.2.1";t.version=$t,t.format=Mt,t.utcFormat=At,t.locale=o,t.localeCaEs=ot,t.localeDeCh=at,t.localeDeDe=st,t.localeEnCa=ut,t.localeEnGb=lt,t.localeEnUs=rt,t.localeEsEs=ct,t.localeFiFi=ft,t.localeFrCa=ht,t.localeFrFr=dt,t.localeHeIl=pt,t.localeHuHu=gt,t.localeItIt=mt,t.localeJaJp=vt,t.localeKoKr=yt,t.localeMkMk=bt,t.localeNlNl=_t,t.localePlPl=xt,t.localePtBr=wt,t.localeRuRu=kt,t.localeSvSe=Et,t.localeZhCn=St,t.isoFormat=Tt})},{"d3-time":5}],5:[function(e,n,i){!function(e,r){"object"==typeof i&&"undefined"!=typeof n?r(i):"function"==typeof t&&t.amd?t("d3-time",["exports"],r):r(e.d3_time={})}(this,function(t){"use strict";function e(t,n,i,a){function s(e){return t(e=new Date((+e))),e}return s.floor=s,s.round=function(e){var i=new Date((+e)),r=new Date(e-1);return t(i),t(r),n(r,1),e-i<r-e?i:r},s.ceil=function(e){return t(e=new Date(e-1)),n(e,1),e},s.offset=function(t,e){return n(t=new Date((+t)),null==e?1:Math.floor(e)),t},s.range=function(e,i,r){var o=[];if(e=new Date(e-1),i=new Date((+i)),r=null==r?1:Math.floor(r),!(e<i&&r>0))return o;for(n(e,1),t(e),e<i&&o.push(new Date((+e)));n(e,r),t(e),e<i;)o.push(new Date((+e)));return o},s.filter=function(i){return e(function(e){for(;t(e),!i(e);)e.setTime(e-1)},function(t,e){for(;--e>=0;)for(;n(t,1),!i(t););})},i&&(s.count=function(e,n){return r.setTime(+e),o.setTime(+n),t(r),t(o),Math.floor(i(r,o))},s.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?s.filter(a?function(e){return a(e)%t===0}:function(e){return s.count(0,e)%t===0}):s:null}),s}function n(t){return e(function(e){e.setHours(0,0,0,0),e.setDate(e.getDate()-(e.getDay()+7-t)%7)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5})}function i(t){return e(function(e){e.setUTCHours(0,0,0,0),e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/6048e5})}var r=new Date,o=new Date,a=e(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?e(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):a:null};var s=e(function(t){t.setMilliseconds(0)},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getSeconds()}),u=e(function(t){t.setSeconds(0,0)},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getMinutes()}),l=e(function(t){t.setMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),c=e(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5},function(t){return t.getDate()-1}),f=n(0),h=n(1),d=n(2),p=n(3),g=n(4),m=n(5),v=n(6),y=e(function(t){t.setHours(0,0,0,0),t.setDate(1)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),b=e(function(t){t.setHours(0,0,0,0),t.setMonth(0,1)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}),_=e(function(t){t.setUTCMilliseconds(0)},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),x=e(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getUTCMinutes()}),w=e(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),k=e(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),E=i(0),S=i(1),C=i(2),T=i(3),M=i(4),A=i(5),$=i(6),O=e(function(t){t.setUTCHours(0,0,0,0),t.setUTCDate(1)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),D=e(function(t){t.setUTCHours(0,0,0,0),t.setUTCMonth(0,1)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}),N=a.range,I=s.range,L=u.range,P=l.range,R=c.range,F=f.range,j=h.range,U=d.range,z=p.range,H=g.range,q=m.range,W=v.range,Y=f.range,B=y.range,V=b.range,X=a,G=N,K=_.range,J=x.range,Z=w.range,Q=k.range,tt=E.range,et=S.range,nt=C.range,it=T.range,rt=M.range,ot=A.range,at=$.range,st=E.range,ut=O.range,lt=D.range,ct="0.1.1";t.version=ct,t.milliseconds=N,t.seconds=I,t.minutes=L,t.hours=P,t.days=R,t.sundays=F,t.mondays=j,t.tuesdays=U,t.wednesdays=z,t.thursdays=H,t.fridays=q,t.saturdays=W,t.weeks=Y,t.months=B,t.years=V,t.utcMillisecond=X,t.utcMilliseconds=G,t.utcSeconds=K,t.utcMinutes=J,t.utcHours=Z,t.utcDays=Q,t.utcSundays=tt,t.utcMondays=et,t.utcTuesdays=nt,t.utcWednesdays=it,t.utcThursdays=rt,t.utcFridays=ot,t.utcSaturdays=at,t.utcWeeks=st,t.utcMonths=ut,t.utcYears=lt,t.millisecond=a,t.second=s,t.minute=u,t.hour=l,t.day=c,t.sunday=f,t.monday=h,t.tuesday=d,t.wednesday=p,t.thursday=g,t.friday=m,t.saturday=v,t.week=f,t.month=y,t.year=b,t.utcSecond=_,t.utcMinute=x,t.utcHour=w,t.utcDay=k,t.utcSunday=E,t.utcMonday=S,t.utcTuesday=C,t.utcWednesday=T,t.utcThursday=M,t.utcFriday=A,t.utcSaturday=$,t.utcWeek=E,t.utcMonth=O,t.utcYear=D,t.interval=e})},{}],6:[function(e,n,i){!function(e,r){"object"==typeof i&&"undefined"!=typeof n?r(i):"function"==typeof t&&t.amd?t(["exports"],r):r(e.topojson={})}(this,function(t){"use strict";function e(){}function n(t){if(!t)return e;var n,i,r=t.scale[0],o=t.scale[1],a=t.translate[0],s=t.translate[1];return function(t,e){e||(n=i=0),t[0]=(n+=t[0])*r+a,t[1]=(i+=t[1])*o+s}}function i(t){if(!t)return e;var n,i,r=t.scale[0],o=t.scale[1],a=t.translate[0],s=t.translate[1];return function(t,e){e||(n=i=0);var u=(t[0]-a)/r|0,l=(t[1]-s)/o|0;t[0]=u-n,t[1]=l-i,n=u,i=l}}function r(t,e){for(var n,i=t.length,r=i-e;r<--i;)n=t[r],t[r++]=t[i],t[i]=n}function o(t,e){for(var n=0,i=t.length;n<i;){var r=n+i>>>1;t[r]<e?n=r+1:i=r}return n}function a(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return s(t,e)})}:s(t,e)}function s(t,e){var n={type:"Feature",id:e.id,properties:e.properties||{},geometry:u(t,e)};return null==e.id&&delete n.id,n}function u(t,e){function i(t,e){e.length&&e.pop();for(var n,i=f[t<0?~t:t],o=0,a=i.length;o<a;++o)e.push(n=i[o].slice()),c(n,o);t<0&&r(e,a)}function o(t){return t=t.slice(),c(t,0),t}function a(t){for(var e=[],n=0,r=t.length;n<r;++n)i(t[n],e);return e.length<2&&e.push(e[0].slice()),e}function s(t){for(var e=a(t);e.length<4;)e.push(e[0].slice());return e}function u(t){return t.map(s)}function l(t){var e=t.type;return"GeometryCollection"===e?{type:e,geometries:t.geometries.map(l)}:e in h?{type:e,coordinates:h[e](t)}:null}var c=n(t.transform),f=t.arcs,h={Point:function(t){return o(t.coordinates)},MultiPoint:function(t){return t.coordinates.map(o)},LineString:function(t){return a(t.arcs)},MultiLineString:function(t){return t.arcs.map(a)},Polygon:function(t){return u(t.arcs)},MultiPolygon:function(t){return t.arcs.map(u)}};return l(e)}function l(t,e){function n(e){var n,i=t.arcs[e<0?~e:e],r=i[0];return t.transform?(n=[0,0],i.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=i[i.length-1],e<0?[n,r]:[r,n]}function i(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach(function(t){r[t<0?~t:t]=1}),s.push(i)}}var r={},o={},a={},s=[],u=-1;return e.forEach(function(n,i){var r,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(r=e[++u],e[u]=n,e[i]=r)}),e.forEach(function(t){var e,i,r=n(t),s=r[0],u=r[1];if(e=a[s])if(delete a[e.end],e.push(t),e.end=u,i=o[u]){delete o[i.start];var l=i===e?e:e.concat(i);o[l.start=e.start]=a[l.end=i.end]=l}else o[e.start]=a[e.end]=e;else if(e=o[u])if(delete o[e.start],e.unshift(t),e.start=s,i=a[s]){delete a[i.end];var c=i===e?e:i.concat(e);o[c.start=i.start]=a[c.end=e.end]=c}else o[e.start]=a[e.end]=e;else e=[t],o[e.start=s]=a[e.end=u]=e}),i(a,o),i(o,a),e.forEach(function(t){r[t<0?~t:t]||s.push([t])}),s}function c(t){return u(t,f.apply(this,arguments))}function f(t,e,n){function i(t){var e=t<0?~t:t;(c[e]||(c[e]=[])).push({i:t,g:u})}function r(t){t.forEach(i)}function o(t){t.forEach(r)}function a(t){"GeometryCollection"===t.type?t.geometries.forEach(a):t.type in f&&(u=t,f[t.type](t.arcs))}var s=[];if(arguments.length>1){var u,c=[],f={LineString:r,MultiLineString:o,Polygon:o,MultiPolygon:function(t){t.forEach(o)}};a(e),c.forEach(arguments.length<3?function(t){s.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&s.push(t[0].i)})}else for(var h=0,d=t.arcs.length;h<d;++h)s.push(h);return{type:"MultiLineString",arcs:l(t,s)}}function h(t){var e=t[0],n=t[1],i=t[2];return Math.abs((e[0]-i[0])*(n[1]-e[1])-(e[0]-n[0])*(i[1]-e[1]))}function d(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[0]*r[1]-e[1]*r[0];return o/2}function p(t){return u(t,g.apply(this,arguments))}function g(t,e){function n(t){t.forEach(function(e){e.forEach(function(e){(r[e=e<0?~e:e]||(r[e]=[])).push(t)})}),o.push(t)}function i(e){return d(u(t,{type:"Polygon",arcs:[e]}).coordinates[0])>0}var r={},o=[],a=[];return e.forEach(function(t){"Polygon"===t.type?n(t.arcs):"MultiPolygon"===t.type&&t.arcs.forEach(n)}),o.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,a.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){r[t<0?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),o.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:a.map(function(e){var n,o=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){r[t<0?~t:t].length<2&&o.push(t)})})}),o=l(t,o),(n=o.length)>1)for(var a,s=i(e[0][0]),u=0;u<n;++u)if(s===i(o[u])){a=o[0],o[0]=o[u],o[u]=a;break}return o})}}function m(t){function e(t,e){t.forEach(function(t){t<0&&(t=~t);var n=r[t];n?n.push(e):r[t]=[e]})}function n(t,n){t.forEach(function(t){e(t,n)})}function i(t,e){"GeometryCollection"===t.type?t.geometries.forEach(function(t){i(t,e)}):t.type in s&&s[t.type](t.arcs,e)}var r={},a=t.map(function(){return[]}),s={LineString:e,MultiLineString:n,Polygon:n,MultiPolygon:function(t,e){t.forEach(function(t){n(t,e)})}};t.forEach(i);for(var u in r)for(var l=r[u],c=l.length,f=0;f<c;++f)for(var h=f+1;h<c;++h){var d,p=l[f],g=l[h];(d=a[p])[u=o(d,g)]!==g&&d.splice(u,0,g),(d=a[g])[u=o(d,p)]!==p&&d.splice(u,0,p)}return a}function v(t,e){return t[1][2]-e[1][2]}function y(){function t(t,e){for(;e>0;){var n=(e+1>>1)-1,r=i[n];if(v(t,r)>=0)break;i[r._=e]=r,i[t._=e=n]=t}}function e(t,e){for(;;){var n=e+1<<1,o=n-1,a=e,s=i[a];if(o<r&&v(i[o],s)<0&&(s=i[a=o]),n<r&&v(i[n],s)<0&&(s=i[a=n]),a===e)break;i[s._=e]=s,i[t._=e=a]=t}}var n={},i=[],r=0;return n.push=function(e){return t(i[e._=r]=e,r++),r},n.pop=function(){if(!(r<=0)){var t,n=i[0];return--r>0&&(t=i[r],e(i[t._=0]=t,0)),n}},n.remove=function(n){var o,a=n._;if(i[a]===n)return a!==--r&&(o=i[r],(v(o,n)<0?t:e)(i[o._=a]=o,a)),a},n}function b(t,e){function r(t){s.remove(t),t[1][2]=e(t),s.push(t)}var o=n(t.transform),a=i(t.transform),s=y();return e||(e=h),t.arcs.forEach(function(t){var n,i,u,l,c=[],f=0;for(i=0,u=t.length;i<u;++i)l=t[i],o(t[i]=[l[0],l[1],1/0],i);for(i=1,u=t.length-1;i<u;++i)n=t.slice(i-1,i+2),n[1][2]=e(n),c.push(n),s.push(n);for(i=0,u=c.length;i<u;++i)n=c[i],n.previous=c[i-1],n.next=c[i+1];for(;n=s.pop();){var h=n.previous,d=n.next;n[1][2]<f?n[1][2]=f:f=n[1][2],h&&(h.next=d,h[2]=n[2],r(h)),d&&(d.previous=h,d[0]=n[0],r(d))}t.forEach(a)}),t}var _="1.6.24";t.version=_,t.mesh=c,t.meshArcs=f,t.merge=p,t.mergeArcs=g,t.feature=a,t.neighbors=m,t.presimplify=b})},{}],7:[function(t,e,n){var i=t("./util"),r=t("./time"),o=r.utc,a=e.exports;a.$year=i.$func("year",r.year.unit),a.$month=i.$func("month",r.months.unit),a.$date=i.$func("date",r.dates.unit),a.$day=i.$func("day",r.weekdays.unit),a.$hour=i.$func("hour",r.hours.unit),a.$minute=i.$func("minute",r.minutes.unit),a.$second=i.$func("second",r.seconds.unit),a.$utcYear=i.$func("utcYear",o.year.unit),a.$utcMonth=i.$func("utcMonth",o.months.unit),a.$utcDate=i.$func("utcDate",o.dates.unit),a.$utcDay=i.$func("utcDay",o.weekdays.unit),a.$utcHour=i.$func("utcHour",o.hours.unit),a.$utcMinute=i.$func("utcMinute",o.minutes.unit),a.$utcSecond=i.$func("utcSecond",o.seconds.unit)},{"./time":29,"./util":30}],8:[function(t,e,n){function i(){this._cells={},this._aggr=[],this._stream=!1}function r(t){if(o.isArray(t))return t;if(null==t)return[];var e,n,i=[];for(e in t)n=o.array(t[e]),i.push({name:e,ops:n});return i}var o=t("../util"),a=t("./measures"),s=t("./collector"),u=i.Flags={ADD_CELL:1,MOD_CELL:2},l=i.prototype;l.stream=function(t){return null==t?this._stream:(this._stream=!!t,this._aggr=[],this)},l.key=function(t){return null==t?this._key:(this._key=o.$(t),this)},l.groupby=function(t){return this._dims=o.array(t).map(function(t,e){if(t=o.isString(t)?{name:t,get:o.$(t)}:o.isFunction(t)?{name:o.name(t)||t.name||"_"+e,get:t}:t.name&&o.isFunction(t.get)?t:null,null==t)throw"Invalid groupby argument: "+t;return t}),this.clear()},l.summarize=function(t){t=r(t),this._count=!0;var e,n,i,s,u,l,c,f=this._aggr=[];for(i=0;i<t.length;++i){for(s=0,e=[],n=t[i];s<n.ops.length;++s)u=n.ops[s],"count"!==u&&(this._count=!1),l=n.as&&n.as[s]||u+("*"===n.name?"":"_"+n.name),e.push(a[u](l));c=n.get&&o.$(n.get)||("*"===n.name?o.identity:o.$(n.name)),f.push({name:n.name,measures:a.create(e,this._stream,c,this._assign)})}return this.clear()},l.count=function(){return this.summarize({"*":"count"})},l._assign=function(t,e,n){t[e]=n},l.clear=function(){return this._cells={},this},l._cellkey=function(t){var e,n=this._dims,i=n.length,r=String(n[0].get(t));for(e=1;e<i;++e)r+="|"+n[e].get(t);return r},l._cell=function(t){var e=this._dims.length?this._cellkey(t):"";return this._cells[e]||(this._cells[e]=this._newcell(t,e))},l._newcell=function(t,e){var n,i={num:0,tuple:this._newtuple(t,e),flag:u.ADD_CELL,aggs:{}},r=this._aggr;for(n=0;n<r.length;++n)i.aggs[r[n].name]=new r[n].measures(i,i.tuple);return i.collect&&(i.data=new s(this._key)),i},l._newtuple=function(t){var e,n,i=this._dims,r={};for(e=0,n=i.length;e<n;++e)r[i[e].name]=i[e].get(t);return this._ingest(r)},l._ingest=o.identity,l._add=function(t){var e,n=this._cell(t),i=this._aggr;if(n.num+=1,!this._count)for(n.collect&&n.data.add(t),e=0;e<i.length;++e)n.aggs[i[e].name].add(t);n.flag|=u.MOD_CELL,this._on_add&&this._on_add(t,n)},l._rem=function(t){var e,n=this._cell(t),i=this._aggr;if(n.num-=1,!this._count)for(n.collect&&n.data.rem(t),e=0;e<i.length;++e)n.aggs[i[e].name].rem(t);n.flag|=u.MOD_CELL,this._on_rem&&this._on_rem(t,n)},l._mod=function(t,e){var n,i=this._cell(e),r=this._cell(t),a=this._aggr;for(i!==r?(i.num-=1,r.num+=1,i.collect&&i.data.rem(e),r.collect&&r.data.add(t)):i.collect&&!o.isObject(t)&&(i.data.rem(e),i.data.add(t)),n=0;n<a.length;++n)i.aggs[a[n].name].rem(e),r.aggs[a[n].name].add(t);i.flag|=u.MOD_CELL,r.flag|=u.MOD_CELL,this._on_mod&&this._on_mod(t,e,i,r)},l._markMod=function(t){var e=this._cell(t);e.flag|=u.MOD_CELL},l.result=function(){var t,e,n,i=[],r=this._aggr;for(n in this._cells){if(t=this._cells[n],t.num>0){for(t.collect&&t.data.values(),e=0;e<r.length;++e)t.aggs[r[e].name].set();i.push(t.tuple)}else delete this._cells[n];t.flag=0}return this._rems=!1,i},l.changes=function(t){var e,n,i,r,o=t||{add:[],rem:[],mod:[]},a=this._aggr;for(r in this._cells){for(e=this._cells[r],n=e.flag,e.collect&&e.data.values(),i=0;i<a.length;++i)e.aggs[a[i].name].set();e.num<=0?(o.rem.push(e.tuple),delete this._cells[r],this._on_drop&&this._on_drop(e)):(this._on_keep&&this._on_keep(e),n&u.ADD_CELL?o.add.push(e.tuple):n&u.MOD_CELL&&o.mod.push(e.tuple)),e.flag=0}return this._rems=!1,o},l.execute=function(t){return this.clear().insert(t).result()},l.insert=function(t){this._consolidate();for(var e=0;e<t.length;++e)this._add(t[e]);return this},l.remove=function(t){if(!this._stream)throw"Aggregator not configured for streaming removes. Call stream(true) prior to calling summarize.";for(var e=0;e<t.length;++e)this._rem(t[e]);return this._rems=!0,this},l._consolidate=function(){if(this._rems){for(var t in this._cells)this._cells[t].collect&&this._cells[t].data.values();this._rems=!1}},e.exports=i},{"../util":30,"./collector":9,"./measures":11}],9:[function(t,e,n){function i(t){this._add=[],this._rem=[],this._key=t||null,this._last=null}var r=t("../util"),o=t("../stats"),a="__dl_rem__",s=i.prototype;s.add=function(t){this._add.push(t)},s.rem=function(t){this._rem.push(t)},s.values=function(){if(this._get=null,0===this._rem.length)return this._add;var t,e,n,i,s=this._add,u=this._rem,l=this._key,c=Array(s.length-u.length);if(r.isObject(u[0]))if(l)for(i=r.toMap(u,l),t=0,e=0,n=s.length;t<n;++t)i.hasOwnProperty(l(s[t]))||(c[e++]=s[t]);else{for(t=0,n=u.length;t<n;++t)u[t][a]=1;for(t=0,e=0,n=s.length;t<n;++t)s[t][a]||(c[e++]=s[t]);for(t=0,n=u.length;t<n;++t)delete u[t][a]}else for(i=o.count.map(u),t=0,e=0,n=s.length;t<n;++t)i[s[t]]>0?i[s[t]]-=1:c[e++]=s[t];return this._rem=[],this._add=c},s.extent=function(t){if(this._get!==t||!this._ext){var e=this.values(),n=o.extent.index(e,t);this._ext=[e[n[0]],e[n[1]]],this._get=t}return this._ext},s.argmin=function(t){return this.extent(t)[0]},s.argmax=function(t){return this.extent(t)[1]},s.min=function(t){var e=this.extent(t)[0];return null!=e?t(e):+(1/0)},s.max=function(t){var e=this.extent(t)[1];return null!=e?t(e):-(1/0)},s.quartile=function(t){return this._get===t&&this._q||(this._q=o.quartile(this.values(),t),this._get=t),this._q},s.q1=function(t){return this.quartile(t)[0]},s.q2=function(t){return this.quartile(t)[1]},s.q3=function(t){return this.quartile(t)[2]},e.exports=i},{"../stats":27,"../util":30}],10:[function(t,e,n){var i=t("../util"),r=t("./aggregator");e.exports=function(){var t=[].reduce.call(arguments,function(t,e){return t.concat(i.array(e))},[]);return(new r).groupby(t).summarize({"*":"values"})}},{"../util":30,"./aggregator":8}],11:[function(t,e,n){function i(t){return function(e){var n=a.extend({init:"",add:"",rem:"",idx:0},t);return n.out=e||t.name,n}}function r(t,e){function n(t,i){function r(e){t[e]||n(t,t[e]=s[e]())}return i.req&&i.req.forEach(r),e&&i.str&&i.str.forEach(r),t}var i=t.reduce(n,t.reduce(function(t,e){return t[e.name]=e,t},{}));return a.vals(i).sort(function(t,e){return t.idx-e.idx})}function o(e,n,i,o){var s=r(e,n),u="this.cell = cell; this.tuple = t; this.valid = 0; this.missing = 0;",l="if (v==null) this.missing++; if (!this.isValid(v)) return; ++this.valid;",c="if (v==null) this.missing--; if (!this.isValid(v)) return; --this.valid;",f="var t = this.tuple; var cell = this.cell;";return s.forEach(function(t){t.idx<0?(u=t.init+u,l=t.add+l,c=t.rem+c):(u+=t.init,l+=t.add,c+=t.rem)}),e.slice().sort(function(t,e){return t.idx-e.idx}).forEach(function(t){f+="this.assign(t,'"+t.out+"',"+t.set+");"}),f+="return t;",u=Function("cell","t",u),u.prototype.assign=o,u.prototype.add=Function("t","var v = this.get(t);"+l),u.prototype.rem=Function("t","var v = this.get(t);"+c),u.prototype.set=Function(f),u.prototype.get=i,u.prototype.distinct=t("../stats").count.distinct,u.prototype.isValid=a.isValid,u.fields=e.map(a.$("out")),u}var a=t("../util"),s={values:i({name:"values",init:"cell.collect = true;",set:"cell.data.values()",idx:-1}),count:i({name:"count",set:"cell.num"}),missing:i({name:"missing",set:"this.missing"}),valid:i({name:"valid",set:"this.valid"}),sum:i({name:"sum",init:"this.sum = 0;",add:"this.sum += v;",rem:"this.sum -= v;",set:"this.sum"}),mean:i({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.mean"}),average:i({name:"average",set:"this.mean",req:["mean"],idx:1}),variance:i({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : 0",req:["mean"],idx:1}),variancep:i({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : 0",req:["variance"],idx:2}),stdev:i({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : 0",req:["variance"],idx:2}),stdevp:i({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : 0",req:["variance"],idx:2}),median:i({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:i({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:i({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),distinct:i({name:"distinct",set:"this.distinct(cell.data.values(), this.get)",req:["values"],idx:3}),argmin:i({name:"argmin",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = null;",set:"this.argmin = this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:i({name:"argmax",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = null;",set:"this.argmax = this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:i({name:"min",init:"this.min = +Infinity;",add:"if (v < this.min) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:i({name:"max",init:"this.max = -Infinity;",add:"if (v > this.max) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4}),modeskew:i({name:"modeskew",set:"this.dev===0 ? 0 : (this.mean - cell.data.q2(this.get)) / Math.sqrt(this.dev/(this.valid-1))",req:["mean","stdev","median"],idx:5})};s.create=o,e.exports=s},{"../stats":27,"../util":30}],12:[function(t,e,n){function i(t){if(!t)throw Error("Missing binning options.");var e,n,i,s,u,l,c,f=t.maxbins||15,h=t.base||10,d=Math.log(h),p=t.div||[5,2],g=t.min,m=t.max,v=m-g;if(t.step)e=t.step;else if(t.steps)e=t.steps[Math.min(t.steps.length-1,r(t.steps,v/f,0,t.steps.length))];else{for(n=Math.ceil(Math.log(f)/d),i=t.minstep||0,e=Math.max(i,Math.pow(h,Math.round(Math.log(v)/d)-n));Math.ceil(v/e)>f;)e*=h;for(l=0;l<p.length;++l)u=e/p[l],u>=i&&v/u<=f&&(e=u)}return u=Math.log(e),s=u>=0?0:~~(-u/d)+1,c=Math.pow(h,-s-1),g=Math.min(g,Math.floor(g/e+c)*e),m=Math.ceil(m/e)*e,{start:g,stop:m,step:e,unit:{precision:s},value:o,index:a}}function r(t,e,n,i){for(;n<i;){var r=n+i>>>1;l.cmp(t[r],e)<0?n=r+1:i=r}return n}function o(t){return this.step*Math.floor(t/this.step+f)}function a(t){return Math.floor((t-this.start)/this.step+f)}function s(t){return this.unit.date(o.call(this,t))}function u(t){return a.call(this,this.unit.unit(t))}var l=t("../util"),c=t("../time"),f=1e-15;i.date=function(t){if(!t)throw Error("Missing date binning options.");var e=t.utc?c.utc:c,n=t.min,r=t.max,o=t.maxbins||20,a=t.minbins||4,l=+r-+n,f=t.unit?e[t.unit]:e.find(l,a,o),h=i({min:null!=f.min?f.min:f.unit(n),max:null!=f.max?f.max:f.unit(r),maxbins:o,minstep:f.minstep,steps:f.step});return h.unit=f,h.index=u,t.raw||(h.value=s),h},e.exports=i},{"../time":29,"../util":30}],13:[function(t,e,n){function i(t,e,n){n=a(t,e,n);var i=o(n);return i?h.$func("bin",i.unit.unit?function(t){return i.value(i.unit.unit(t))}:function(t){return i.value(t);
})(n.accessor):n.accessor||h.identity}function r(t,e,n){n=a(t,e,n);var i=o(n);return i?s(t,n.accessor,i):u(t,n.accessor,n&&n.sort)}function o(t){var e=t.type,n=null;return(null==e||p[e])&&("integer"===e&&null==t.minstep&&(t.minstep=1),n="date"===e?l.date(t):l(t)),n}function a(){var t=arguments,e=0,n=h.isArray(t[e])?t[e++]:null,i=h.isFunction(t[e])||h.isString(t[e])?h.$(t[e++]):null,r=h.extend({},t[e]);if(n&&(r.type=r.type||f(n,i),p[r.type])){var o=d.extent(n,i);r=h.extend({min:o[0],max:o[1]},r)}return i&&(r.accessor=i),r}function s(t,e,n){for(var i,r,o=c.range(n.start,n.stop+n.step/2,n.step).map(function(t){return{value:n.value(t),count:0}}),a=0;a<t.length;++a)if(i=e?e(t[a]):t[a],h.isValid(i)){if(r=n.index(i),r<0||r>=o.length||!isFinite(r))continue;o[r].count+=1}return o.bins=n,o}function u(t,e,n){var i=d.unique(t,e),r=d.count.map(t,e);return i.map(function(t){return{value:t,count:r[t]}}).sort(h.comparator(n?"-count":"+value"))}var l=t("./bins"),c=t("../generate"),f=t("../import/type"),h=t("../util"),d=t("../stats"),p={integer:1,number:1,date:1};e.exports={$bin:i,histogram:r}},{"../generate":16,"../import/type":25,"../stats":27,"../util":30,"./bins":12}],14:[function(t,e,n){function i(t,e){e=s.extend({separator:" ",minwidth:8,maxwidth:15},e);var n=e.fields||s.keys(t[0]),i=u.all(t);if(e.start||e.limit){var r=e.start||0,o=e.limit?r+e.limit:t.length;t=t.slice(r,o)}var a=n.map(function(n){var r=f[i[n]]||"",o=c("{{"+n+r+"}}"),a=l.max(t,function(t){return o(t).length});return a=Math.max(Math.min(n.length,e.minwidth),a),e.maxwidth>0?Math.min(a,e.maxwidth):a}),d=n.map(function(t,e){return s.truncate(s.pad(t,a[e],"center"),a[e])}).join(e.separator),p=c(n.map(function(t,e){return"{{"+t+(f[i[t]]||"")+("|pad:"+a[e]+","+(h[i[t]]||"right"))+("|truncate:"+a[e])+"}}"}).join(e.separator));return d+"\n"+t.map(p).join("\n")}function r(t){t=t?t.__summary__?t:l.summary(t):this;var e,n,i=[];for(e=0,n=t.length;e<n;++e)i.push("-- "+t[e].field+" --"),"string"===t[e].type||t[e].distinct<10?i.push(a(t[e])):i.push(o(t[e])),i.push("");return i.join("\n")}function o(t){return["valid:    "+t.valid,"missing:  "+t.missing,"distinct: "+t.distinct,"min:      "+t.min,"max:      "+t.max,"median:   "+t.median,"mean:     "+t.mean,"stdev:    "+t.stdev,"modeskew: "+t.modeskew].join("\n")}function a(t){var e=["valid:    "+t.valid,"missing:  "+t.missing,"distinct: "+t.distinct,"top values: "],n=t.unique,i=s.keys(n).sort(function(t,e){return n[e]-n[t]}).slice(0,6).map(function(t){return" '"+t+"' ("+n[t]+")"});return e.concat(i).join("\n")}var s=t("./util"),u=t("./import/type"),l=t("./stats"),c=t("./template");e.exports={table:i,summary:r};var f={date:'|time:"%m/%d/%Y %H:%M:%S"',number:'|number:".4f"',integer:'|number:"d"'},h={number:"left",integer:"left"}},{"./import/type":25,"./stats":27,"./template":28,"./util":30}],15:[function(t,e,n){function i(t){return t.length>4&&"locale"+(t[0].toUpperCase()+t[1].toLowerCase()+t[3].toUpperCase()+t[4].toLowerCase())}function r(t){var e=b.isString(t)?w[i(t)]:w.locale(t);if(null==e)throw Error("Unrecognized locale: "+t);k=e}function o(t){var e=b.isString(t)?x[i(t)]:x.locale(t);if(null==e)throw Error("Unrecognized locale: "+t);E=e,g=m=v=y=null}function a(t,e){t.length||(t=[0]),null==e&&(e=10);var n=t[0],i=t[t.length-1];i<n&&(a=i,i=n,n=a);var r=i-n||(e=1,n||i||1),o=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),a=r/e/o;return a>=C?o*=10:a>=T?o*=5:a>=M&&(o*=2),[Math.ceil(n/o)*o,Math.floor(i/o)*o+o/2,o]}function s(t,e){return function(n){var i=t(n),r=i.indexOf(e);if(r<0)return i;for(var o=u(i,r),a=o<i.length?i.slice(o):"";--o>r;)if("0"!==i[o]){++o;break}return i.slice(0,o)+a}}function u(t,e){var n,i=t.lastIndexOf("e");if(i>0)return i;for(i=t.length;--i>e;)if(n=t.charCodeAt(i),n>=48&&n<=57)return i+1}function l(t){var e=k.format(".1f")(1)[1];switch(null==t&&(t=","),t=w.formatSpecifier(t),null==t.precision&&(t.precision=12),t.type){case"%":t.precision-=2;break;case"e":t.precision-=1}return s(k.format(t),e)}function c(t,e,n){var i=a(t,e);switch(null==n&&(n=",f"),n=w.formatSpecifier(n),n.type){case"s":var r=Math.max(Math.abs(i[0]),Math.abs(i[1]));return null==n.precision&&(n.precision=w.precisionPrefix(i[2],r)),k.formatPrefix(n,r);case"":case"e":case"g":case"p":case"r":null==n.precision&&(n.precision=w.precisionRound(i[2],Math.max(Math.abs(i[0]),Math.abs(i[1])))-("e"===n.type));break;case"f":case"%":null==n.precision&&(n.precision=w.precisionFixed(i[2])-2*("%"===n.type))}return k.format(n)}function f(){var t=E.format,e=t(".%L"),n=t(":%S"),i=t("%I:%M"),r=t("%I %p"),o=t("%a %d"),a=t("%b %d"),s=t("%B"),u=t("%Y");return function(t){var l=+t;return(_.second(t)<l?e:_.minute(t)<l?n:_.hour(t)<l?i:_.day(t)<l?r:_.month(t)<l?_.week(t)<l?o:a:_.year(t)<l?s:u)(t)}}function h(){var t=E.utcFormat,e=t(".%L"),n=t(":%S"),i=t("%I:%M"),r=t("%I %p"),o=t("%a %d"),a=t("%b %d"),s=t("%B"),u=t("%Y");return function(t){var l=+t;return(_.utcSecond(t)<l?e:_.utcMinute(t)<l?n:_.utcHour(t)<l?i:_.utcDay(t)<l?r:_.utcMonth(t)<l?_.utcWeek(t)<l?o:a:_.utcYear(t)<l?s:u)(t)}}function d(t,e){var n=e?m||(m=E.format("%b")):g||(g=E.format("%B"));return S.setMonth(t),n(S)}function p(t,e){var n=e?y||(y=E.format("%a")):v||(v=E.format("%A"));return S.setMonth(0),S.setDate(2+t),n(S)}var g,m,v,y,b=t("./util"),_=t("d3-time"),x=t("d3-time-format"),w=t("d3-format"),k=w,E=x,S=new Date(2e3,0,1);e.exports={numberLocale:r,number:function(t){return k.format(t)},numberPrefix:function(t,e){return k.formatPrefix(t,e)},timeLocale:o,time:function(t){return E.format(t)},utc:function(t){return E.utcFormat(t)},locale:function(t){r(t),o(t)},auto:{number:l,linear:c,time:function(){return f()},utc:function(){return h()}},month:d,day:p};var C=Math.sqrt(50),T=Math.sqrt(10),M=Math.sqrt(2)},{"./util":30,"d3-format":3,"d3-time":5,"d3-time-format":4}],16:[function(t,e,n){var i=t("./util"),r=e.exports;r.repeat=function(t,e){var n,i=Array(e);for(n=0;n<e;++n)i[n]=t;return i},r.zeros=function(t){return r.repeat(0,t)},r.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("Infinite range");var i,r=[],o=-1;if(n<0)for(;(i=t+n*++o)>e;)r.push(i);else for(;(i=t+n*++o)<e;)r.push(i);return r},r.random={},r.random.uniform=function(t,e){void 0===e&&(e=void 0===t?1:t,t=0);var n=e-t,i=function(){return t+n*Math.random()};return i.samples=function(t){return r.zeros(t).map(i)},i.pdf=function(i){return i>=t&&i<=e?1/n:0},i.cdf=function(i){return i<t?0:i>e?1:(i-t)/n},i.icdf=function(e){return e>=0&&e<=1?t+e*n:NaN},i},r.random.integer=function(t,e){void 0===e&&(e=t,t=0);var n=e-t,i=function(){return t+Math.floor(n*Math.random())};return i.samples=function(t){return r.zeros(t).map(i)},i.pdf=function(i){return i===Math.floor(i)&&i>=t&&i<e?1/n:0},i.cdf=function(i){var r=Math.floor(i);return r<t?0:r>=e?1:(r-t+1)/n},i.icdf=function(e){return e>=0&&e<=1?t-1+Math.floor(e*n):NaN},i},r.random.normal=function(t,e){t=t||0,e=e||1;var n,i=function(){var i,r,o=0,a=0;if(void 0!==n)return o=n,n=void 0,o;do o=2*Math.random()-1,a=2*Math.random()-1,i=o*o+a*a;while(0===i||i>1);return r=Math.sqrt(-2*Math.log(i)/i),n=t+a*r*e,t+o*r*e};return i.samples=function(t){return r.zeros(t).map(i)},i.pdf=function(n){var i=Math.exp(Math.pow(n-t,2)/(-2*Math.pow(e,2)));return 1/(e*Math.sqrt(2*Math.PI))*i},i.cdf=function(n){var i,r=(n-t)/e,o=Math.abs(r);if(o>37)i=0;else{var a,s=Math.exp(-o*o/2);o<7.07106781186547?(a=.0352624965998911*o+.700383064443688,a=a*o+6.37396220353165,a=a*o+33.912866078383,a=a*o+112.079291497871,a=a*o+221.213596169931,a=a*o+220.206867912376,i=s*a,a=.0883883476483184*o+1.75566716318264,a=a*o+16.064177579207,a=a*o+86.7807322029461,a=a*o+296.564248779674,a=a*o+637.333633378831,a=a*o+793.826512519948,a=a*o+440.413735824752,i/=a):(a=o+.65,a=o+4/a,a=o+3/a,a=o+2/a,a=o+1/a,i=s/a/2.506628274631)}return r>0?1-i:i},i.icdf=function(n){if(n<=0||n>=1)return NaN;var i=2*n-1,r=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),o=2/(Math.PI*r)+Math.log(1-Math.pow(i,2))/2,a=Math.log(1-i*i)/r,s=(i>0?1:-1)*Math.sqrt(Math.sqrt(o*o-a)-o);return t+e*Math.SQRT2*s},i},r.random.bootstrap=function(t,e){var n=t.filter(i.isValid),o=n.length,a=e?r.random.normal(0,e):null,s=function(){return n[~~(Math.random()*o)]+(a?a():0)};return s.samples=function(t){return r.zeros(t).map(s)},s}},{"./util":30}],17:[function(t,e,n){function i(t,e){if(t){var n=e.header;t=(n?n.join(e.delimiter)+"\n":"")+t}return o.dsv(e.delimiter).parse(t)}var r=t("../../util"),o=t("d3-dsv");i.delimiter=function(t){var e={delimiter:t};return function(t,n){return i(t,n?r.extend(n,e):e)}},e.exports=i},{"../../util":30,"d3-dsv":2}],18:[function(t,e,n){var i=t("./dsv");e.exports={json:t("./json"),topojson:t("./topojson"),treejson:t("./treejson"),dsv:i,csv:i.delimiter(","),tsv:i.delimiter("\t")}},{"./dsv":17,"./json":19,"./topojson":20,"./treejson":21}],19:[function(t,e,n){var i=t("../../util");e.exports=function(t,e){var n=i.isObject(t)&&!i.isBuffer(t)?t:JSON.parse(t);return e&&e.property&&(n=i.accessor(e.property)(n)),n}},{"../../util":30}],20:[function(t,e,n){var i=t("./json"),r=function(t,e){var n=r.topojson;if(null==n)throw Error("TopoJSON library not loaded.");var o,a=i(t,e);if(e&&e.feature){if(o=a.objects[e.feature])return n.feature(a,o).features;throw Error("Invalid TopoJSON object: "+e.feature)}if(e&&e.mesh){if(o=a.objects[e.mesh])return[n.mesh(a,a.objects[e.mesh])];throw Error("Invalid TopoJSON object: "+e.mesh)}throw Error("Missing TopoJSON feature or mesh parameter.")};r.topojson=t("topojson"),e.exports=r},{"./json":19,topojson:6}],21:[function(t,e,n){function i(t,e){function n(t,e){t[r]=e,o.push(t);var a=t[i];if(a)for(var s=0;s<a.length;++s)n(a[s],t)}var i=e&&e.children||"children",r=e&&e.parent||"parent",o=[];return n(t,null),o.root=t,o}var r=t("./json");e.exports=function(t,e){return i(r(t,e),e)}},{"./json":19}],22:[function(t,e,n){function i(e){var n=e.url;if(!n&&e.file)return d+e.file;if(e.baseURL&&!h.test(n)&&(c(n,"/")||"/"===e.baseURL[e.baseURL.length-1]||(n="/"+n),n=e.baseURL+n),!r.useXHR&&c(n,"//")&&(n=(e.defaultProtocol||"http")+":"+n),e.domainWhiteList){var i,o;if(r.useXHR){var a=document.createElement("a");a.href=n,""===a.host&&(a.href=a.href),i=a.hostname.toLowerCase(),o=window.location.hostname}else{var s=t("url").parse(n);i=s.hostname,o=null}if(o!==i){var u=e.domainWhiteList.some(function(t){var e=i.length-t.length;return t===i||e>1&&"."===i[e-1]&&i.lastIndexOf(t)===e});if(!u)throw"URL is not whitelisted: "+n}}return n}function r(t,e){return r.loader(t,e)}function o(t,e){var n,i=e||function(t){throw t};try{n=r.sanitizeUrl(t)}catch(o){return void i(o)}return n?r.useXHR?r.xhr(n,t,e):c(n,d)?r.file(n.slice(d.length),t,e):n.indexOf("://")<0?r.file(n,t,e):r.http(n,t,e):void i("Invalid URL: "+t.url)}function a(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function s(t,e,n){function i(){var t=s.status;!t&&a(s)||t>=200&&t<300||304===t?n(null,s.responseText):n(s,null)}var o=!!n,s=new XMLHttpRequest;if("undefined"==typeof XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(t)||(s=new XDomainRequest),o&&("onload"in s?s.onload=s.onerror=i:s.onreadystatechange=function(){s.readyState>3&&i()}),s.open("GET",t,o),s.setRequestHeader){var u=f.extend({},r.headers,e.headers);for(var l in u)s.setRequestHeader(l,u[l])}if(s.send(),!o&&a(s))return s.responseText}function u(e,n,i){var r=t("fs");return i?void r.readFile(e,i):r.readFileSync(e,"utf8")}function l(e,n,i){var o=f.extend({},r.headers,n.headers);if(!i)return t("sync-request")("GET",e,{headers:o}).getBody();var a={url:e,encoding:null,gzip:!0,headers:o};t("request")(a,function(t,e,n){t||200!==e.statusCode?(t=t||"Load failed with response code "+e.statusCode+".",i(t,null)):i(null,n)})}function c(t,e){return null!=t&&0===t.lastIndexOf(e,0)}var f=t("../util"),h=/^([A-Za-z]+:)?\/\//,d="file://";r.loader=o,r.sanitizeUrl=i,r.xhr=s,r.file=u,r.http=l,r.useXHR="undefined"!=typeof XMLHttpRequest,r.headers={},e.exports=r},{"../util":30,fs:1,request:1,"sync-request":1,url:1}],23:[function(t,e,n){function i(t,e){var n=e&&e.type||"json";return t=s[n](t,e),e&&e.parse&&r(t,e.parse),t}function r(t,e){var n,i,r,s,l,c,f=t.length;for(e="auto"===e?a.inferAll(t):o.duplicate(e),n=o.keys(e),i=n.map(function(t){var n=e[t];if(n&&0===n.indexOf("date:")){var i=n.split(":",2),r=i[1];if(!("'"===r[0]&&"'"===r[r.length-1]||'"'===r[0]&&'"'===r[r.length-1]))throw Error("Format pattern must be quoted: "+r);return r=r.slice(1,-1),r=u(r),function(t){return r.parse(t)}}if(!a.parsers[n])throw Error("Illegal format pattern: "+t+":"+n);return a.parsers[n]}),s=0,c=n.length;s<f;++s)for(r=t[s],l=0;l<c;++l)r[n[l]]=i[l](r[n[l]]);a.annotation(t,e)}var o=t("../util"),a=t("./type"),s=t("./formats"),u=t("../format").time;i.formats=s,e.exports=i},{"../format":15,"../util":30,"./formats":18,"./type":25}],24:[function(t,e,n){var i=t("../util"),r=t("./load"),o=t("./read");e.exports=i.keys(o.formats).reduce(function(t,e){return t[e]=function(t,n,a){i.isString(t)&&(t={url:t}),2===arguments.length&&i.isFunction(n)&&(a=n,n=void 0),n=i.extend({parse:"auto"},n),n.type=e;var s=r(t,a?function(t,e){if(t)return void a(t,null);try{e=o(e,n),a(null,e)}catch(i){a(i,null)}}:void 0);if(!a)return o(s,n)},t},{})},{"../util":30,"./load":22,"./read":23}],25:[function(t,e,n){function i(t,e){return e?void(t[l]=e):t&&t[l]||null}function r(t,e){t=u.array(t),e=u.$(e);var n,i,r;if(t[l]&&(n=e(t[l]),u.isString(n)))return n;for(i=0,r=t.length;!u.isValid(n)&&i<r;++i)n=e?e(t[i]):t[i];return u.isDate(n)?"date":u.isNumber(n)?"number":u.isBoolean(n)?"boolean":u.isString(n)?"string":null}function o(t,e){if(t.length)return e=e||u.keys(t[0]),e.reduce(function(e,n){return e[n]=r(t,n),e},{})}function a(t,e){t=u.array(t),e=u.$(e);var n,i,r,o=["boolean","integer","number","date"];for(n=0;n<t.length;++n){for(r=e?e(t[n]):t[n],i=0;i<o.length;++i)u.isValid(r)&&!f[o[i]](r)&&(o.splice(i,1),i-=1);if(0===o.length)return"string"}return o[0]}function s(t,e){return e=e||u.keys(t[0]),e.reduce(function(e,n){return e[n]=a(t,n),e},{})}var u=t("../util"),l="__types__",c={"boolean":u["boolean"],integer:u.number,number:u.number,date:u.date,string:function(t){return""===t?null:t}},f={"boolean":function(t){return"true"===t||"false"===t||u.isBoolean(t)},integer:function(t){return f.number(t)&&(t=+t)===~~t},number:function(t){return!isNaN(+t)&&!u.isDate(t)},date:function(t){return!isNaN(Date.parse(t))}};r.annotation=i,r.all=o,r.infer=a,r.inferAll=s,r.parsers=c,e.exports=r},{"../util":30}],26:[function(t,e,n){var i=t("./util"),r={version:"1.6.3",load:t("./import/load"),read:t("./import/read"),type:t("./import/type"),Aggregator:t("./aggregate/aggregator"),groupby:t("./aggregate/groupby"),bins:t("./bins/bins"),$bin:t("./bins/histogram").$bin,histogram:t("./bins/histogram").histogram,format:t("./format"),template:t("./template"),time:t("./time")};i.extend(r,i),i.extend(r,t("./accessor")),i.extend(r,t("./generate")),i.extend(r,t("./stats")),i.extend(r,t("./import/readers")),i.extend(r.format,t("./format-tables")),r.print={table:r.format.table,summary:r.format.summary},e.exports=r},{"./accessor":7,"./aggregate/aggregator":8,"./aggregate/groupby":10,"./bins/bins":12,"./bins/histogram":13,"./format":15,"./format-tables":14,"./generate":16,"./import/load":22,"./import/read":23,"./import/readers":24,"./import/type":25,"./stats":27,"./template":28,"./time":29,"./util":30}],27:[function(t,e,n){function i(t,e,n){var i=t&&t.nullh||0,r=u.random.normal(0,1),o=l.mean(e,n),a=l.stdev(e,n)/Math.sqrt(l.count.valid(e,n));if(0===a)return o-i===0?1:0;var s=(o-i)/a;return 2*r.cdf(-Math.abs(s))}function r(t,e,n,i){var r,o=i?e.map(a.$(n)):e,s=i?e.map(a.$(i)):n,u=l.count(o),c=l.count(s),f=Array();if(u!==c)throw Error("Array lengths must match.");for(r=0;r<u;++r)a.isValid(o[r])&&a.isValid(s[r])&&f.push(o[r]-s[r]);return l.z.test(f,t&&t.nullh||0)}function o(t,e,n,i){var r=i?e.map(a.$(n)):e,o=i?e.map(a.$(i)):n,s=l.count.valid(r),c=l.count.valid(o),f=u.random.normal(0,1),h=l.mean(r)-l.mean(o)-(t&&t.nullh||0),d=Math.sqrt(l.variance(r)/s+l.variance(o)/c);if(0===d)return 0===h?1:0;var p=h/d;return 2*f.cdf(-Math.abs(p))}var a=t("./util"),s=t("./import/type"),u=t("./generate"),l=e.exports;l.unique=function(t,e,n){e=a.$(e),n=n||[];var i,r,o,s={};for(r=0,o=t.length;r<o;++r)i=e?e(t[r]):t[r],i in s||(s[i]=1,n.push(i));return n},l.count=function(t){return t&&t.length||0},l.count.valid=function(t,e){e=a.$(e);var n,i,r,o=0;for(i=0,r=t.length;i<r;++i)n=e?e(t[i]):t[i],a.isValid(n)&&(o+=1);return o},l.count.missing=function(t,e){e=a.$(e);var n,i,r,o=0;for(i=0,r=t.length;i<r;++i)n=e?e(t[i]):t[i],null==n&&(o+=1);return o},l.count.distinct=function(t,e){e=a.$(e);var n,i,r,o={},s=0;for(i=0,r=t.length;i<r;++i)n=e?e(t[i]):t[i],n in o||(o[n]=1,s+=1);return s},l.count.map=function(t,e){e=a.$(e);var n,i,r,o={};for(i=0,r=t.length;i<r;++i)n=e?e(t[i]):t[i],o[n]=n in o?o[n]+1:1;return o},l.median=function(t,e){return e&&(t=t.map(a.$(e))),t=t.filter(a.isValid).sort(a.cmp),l.quantile(t,.5)},l.quartile=function(t,e){e&&(t=t.map(a.$(e))),t=t.filter(a.isValid).sort(a.cmp);var n=l.quantile;return[n(t,.25),n(t,.5),n(t,.75)]},l.quantile=function(t,e,n){void 0===n&&(n=e,e=a.identity),e=a.$(e);var i=(t.length-1)*n+1,r=Math.floor(i),o=+e(t[r-1]),s=i-r;return s?o+s*(e(t[r])-o):o},l.sum=function(t,e){e=a.$(e);for(var n,i=0,r=0,o=t.length;r<o;++r)n=e?e(t[r]):t[r],a.isValid(n)&&(i+=n);return i},l.mean=function(t,e){e=a.$(e);var n,i,r,o,s,u=0;for(i=0,o=0,r=t.length;i<r;++i)s=e?e(t[i]):t[i],a.isValid(s)&&(n=s-u,u+=n/++o);return u},l.mean.geometric=function(t,e){e=a.$(e);var n,i,r,o,s=1;for(o=0,n=0,i=t.length;o<i;++o)if(r=e?e(t[o]):t[o],a.isValid(r)){if(r<=0)throw Error("Geometric mean only defined for positive values.");s*=r,++n}return s=n>0?Math.pow(s,1/n):0},l.mean.harmonic=function(t,e){e=a.$(e);var n,i,r,o,s=0;for(o=0,n=0,i=t.length;o<i;++o)r=e?e(t[o]):t[o],a.isValid(r)&&(s+=1/r,++n);return n/s},l.variance=function(t,e){if(e=a.$(e),!a.isArray(t)||t.length<2)return 0;var n,i,r,o,s=0,u=0;for(i=0,r=0;i<t.length;++i)o=e?e(t[i]):t[i],a.isValid(o)&&(n=o-s,s+=n/++r,u+=n*(o-s));return u/=r-1},l.stdev=function(t,e){return Math.sqrt(l.variance(t,e))},l.modeskew=function(t,e){var n=l.mean(t,e),i=l.median(t,e),r=l.stdev(t,e);return 0===r?0:(n-i)/r},l.min=function(t,e){return l.extent(t,e)[0]},l.max=function(t,e){return l.extent(t,e)[1]},l.extent=function(t,e){e=a.$(e);var n,i,r,o,s=t.length;for(o=0;o<s;++o)if(r=e?e(t[o]):t[o],a.isValid(r)){n=i=r;break}for(;o<s;++o)r=e?e(t[o]):t[o],a.isValid(r)&&(r<n&&(n=r),r>i&&(i=r));return[n,i]},l.extent.index=function(t,e){e=a.$(e);var n,i,r,o,s=-1,u=-1,l=t.length;for(o=0;o<l;++o)if(r=e?e(t[o]):t[o],a.isValid(r)){n=i=r,s=u=o;break}for(;o<l;++o)r=e?e(t[o]):t[o],a.isValid(r)&&(r<n&&(n=r,s=o),r>i&&(i=r,u=o));return[s,u]},l.dot=function(t,e,n){var i,r,o=0;if(n)for(e=a.$(e),n=a.$(n),i=0;i<t.length;++i)r=e(t[i])*n(t[i]),r===r&&(o+=r);else{if(t.length!==e.length)throw Error("Array lengths must match.");for(i=0;i<t.length;++i)r=t[i]*e[i],r===r&&(o+=r)}return o},l.dist=function(t,e,n,i){var r,o,s=a.isFunction(n)||a.isString(n),u=t,l=s?t:e,c=s?i:n,f=2===c||null==c,h=t.length,d=0;for(s&&(e=a.$(e),n=a.$(n)),o=0;o<h;++o)r=s?e(u[o])-n(l[o]):u[o]-l[o],d+=f?r*r:Math.pow(Math.abs(r),c);return f?Math.sqrt(d):Math.pow(d,1/c)},l.cohensd=function(t,e,n){var i=n?t.map(a.$(e)):t,r=n?t.map(a.$(n)):e,o=l.mean(i),s=l.mean(r),u=l.count.valid(i),c=l.count.valid(r);if(u+c-2<=0)return 0;var f=l.variance(i),h=l.variance(r),d=Math.sqrt(((u-1)*f+(c-1)*h)/(u+c-2));return 0===d?0:(o-s)/d},l.covariance=function(t,e,n){var i,r,o,s,u,c=n?t.map(a.$(e)):t,f=n?t.map(a.$(n)):e,h=c.length,d=l.mean(c),p=l.mean(f),g=0,m=0;if(h!==f.length)throw Error("Input lengths must match.");for(i=0;i<h;++i)if(r=c[i],s=a.isValid(r),o=f[i],u=a.isValid(o),s&&u)g+=(r-d)*(o-p),++m;else if(s||u)throw Error("Valid values must align.");return g/(m-1)},l.rank=function(t,e){e=a.$(e)||a.identity;var n,i,r,o=t.map(function(t,n){return{idx:n,val:e(t)}}).sort(a.comparator("val")),s=t.length,u=Array(s),l=-1,c={};for(n=0;n<s;++n){if(i=o[n].val,l<0&&c===i)l=n-1;else if(l>-1&&c!==i){for(r=1+(n-1+l)/2;l<n;++l)u[o[l].idx]=r;l=-1}u[o[n].idx]=n+1,c=i}if(l>-1)for(r=1+(s-1+l)/2;l<s;++l)u[o[l].idx]=r;return u},l.cor=function(t,e,n){var i=n;n=i?t.map(a.$(n)):e,e=i?t.map(a.$(e)):t;var r=l.dot(e,n),o=l.mean(e),s=l.mean(n),u=l.stdev(e),c=l.stdev(n),f=t.length;return(r-f*o*s)/((f-1)*u*c)},l.cor.rank=function(t,e,n){var i,r,o,a=n?l.rank(t,e):l.rank(t),s=n?l.rank(t,n):l.rank(e),u=t.length;for(i=0,r=0;i<u;++i)o=a[i]-s[i],r+=o*o;return 1-6*r/(u*(u*u-1))},l.cor.dist=function(t,e,n){var i,r,o,s,u=n?t.map(a.$(e)):t,c=n?t.map(a.$(n)):e,f=l.dist.mat(u),h=l.dist.mat(c),d=f.length;for(i=0,r=0,o=0,s=0;i<d;++i)r+=f[i]*f[i],o+=h[i]*h[i],s+=f[i]*h[i];return Math.sqrt(s/Math.sqrt(r*o))},l.linearRegression=function(t,e,n){var i,r,o=n?t.map(a.$(e)):t,s=n?t.map(a.$(n)):e,u=o.length,c=l.covariance(o,s),f=l.stdev(o),h=l.stdev(s),d=c/(f*f),p=l.mean(s)-d*l.mean(o),g={slope:d,intercept:p,R:c/(f*h),rss:0};for(r=0;r<u;++r)a.isValid(o[r])&&a.isValid(s[r])&&(i=d*o[r]+p-s[r],g.rss+=i*i);return g},l.bootstrap={},l.bootstrap.ci=function(t,e,n,i,r){var o,s,c,f,h,d,p;for(a.isFunction(e)||a.isString(e)?(o=t.map(a.$(e)),s=n,c=i,f=r):(o=t,s=e,c=n,f=i),s=s?+s:1e3,c=c||.05,h=u.random.bootstrap(o,f),p=0,d=Array(s);p<s;++p)d[p]=l.mean(h.samples(o.length));return d.sort(a.numcmp),[l.quantile(d,c/2),l.quantile(d,1-c/2)]},l.z={},l.z.ci=function(t,e,n){var i=t,r=e;(a.isFunction(e)||a.isString(e))&&(i=t.map(a.$(e)),r=n),r=r||.05;var o=.05===r?1.96:u.random.normal(0,1).icdf(1-r/2),s=l.mean(i),c=l.stdev(i)/Math.sqrt(l.count.valid(i));return[s-o*c,s+o*c]},l.z.test=function(t,e,n,s){return a.isFunction(n)||a.isString(n)?(s&&s.paired?r:o)(s,t,e,n):a.isArray(e)?(n&&n.paired?r:o)(n,t,e):a.isFunction(e)||a.isString(e)?i(n,t,e):i(e,t)},l.dist.mat=function(t){var e,n,i,r=t.length,o=r*r,a=Array(o),s=u.zeros(r),l=0;for(n=0;n<r;++n)for(a[n*r+n]=0,i=n+1;i<r;++i)a[n*r+i]=e=Math.abs(t[n]-t[i]),a[i*r+n]=e,s[n]+=e,s[i]+=e;for(n=0;n<r;++n)l+=s[n],s[n]/=r;for(l/=o,n=0;n<r;++n)for(i=n;i<r;++i)a[n*r+i]+=l-s[n]-s[i],a[i*r+n]=a[n*r+i];return a},l.entropy=function(t,e){e=a.$(e);var n,i,r=0,o=0,s=t.length;for(n=0;n<s;++n)r+=e?e(t[n]):t[n];if(0===r)return 0;for(n=0;n<s;++n)i=(e?e(t[n]):t[n])/r,i&&(o+=i*Math.log(i));return-o/Math.LN2},l.mutual=function(t,e,n,i){var r,o,s,u=i?t.map(a.$(e)):t,l=i?t.map(a.$(n)):e,c=i?t.map(a.$(i)):n,f={},h={},d=c.length,p=0,g=0,m=0;for(s=0;s<d;++s)f[u[s]]=0,h[l[s]]=0;for(s=0;s<d;++s)f[u[s]]+=c[s],h[l[s]]+=c[s],p+=c[s];for(o=1/(p*Math.LN2),s=0;s<d;++s)0!==c[s]&&(r=p*c[s]/(f[u[s]]*h[l[s]]),g+=c[s]*o*Math.log(r),m+=c[s]*o*Math.log(c[s]/p));return[g,1+g/m]},l.mutual.info=function(t,e,n,i){return l.mutual(t,e,n,i)[0]},l.mutual.dist=function(t,e,n,i){return l.mutual(t,e,n,i)[1]},l.profile=function(t,e){var n,i,r,o,u,c=0,f=0,h=0,d=0,p=null,g=null,m=0,v=[],y={};for(r=0;r<t.length;++r)o=e?e(t[r]):t[r],y[o]=o in y?y[o]+1:(d+=1,1),null==o?++h:a.isValid(o)&&(u="string"==typeof o?o.length:o,(null===p||u<p)&&(p=u),(null===g||u>g)&&(g=u),n=u-c,c+=n/++f,m+=n*(u-c),v.push(u));return m/=f-1,i=Math.sqrt(m),v.sort(a.cmp),{type:s(t,e),unique:y,count:t.length,valid:f,missing:h,distinct:d,min:p,max:g,mean:c,stdev:i,median:o=l.quantile(v,.5),q1:l.quantile(v,.25),q3:l.quantile(v,.75),modeskew:0===i?0:(c-o)/i}},l.summary=function(t,e){e=e||a.keys(t[0]);var n=e.map(function(e){var n=l.profile(t,a.$(e));return n.field=e,n});return n.__summary__=!0,n}},{"./generate":16,"./import/type":25,"./util":30}],28:[function(t,e,n){function i(t){var e=r(t,"d");return e="var __t; return "+e+";",new Function("d",e).bind(f)}function r(t,e,n){e=e||"obj";var i=0,r="'",s=h;return t.replace(s,function(s,u,l){return r+=t.slice(i,l).replace(m,a),i=l+s.length,u&&(r+="'\n+((__t=("+o(u,e,n)+"))==null?'':__t)+\n'"),s}),r+"'"}function o(t,e,n){function r(t){return t=t||"",f?(f=!1,h="String("+h+")"+t):h+=t,h}function o(){return"(typeof "+h+'==="number"?new Date('+h+"):"+h+")"}function a(t){var e=_[0];if(!("'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1]))throw Error("Format pattern must be quoted: "+e);e=e.slice(1,-1),v=s(e,t),f=!1;var n="number"===t?h:o();h="this.formats["+v+"]("+n+")"}var u=t.match(d),c=u.shift().trim(),f=!0;n&&(n[c]=1);for(var h=i.property(e,c),g=0;g<u.length;++g){var m,v,y,b=u[g],_=null;switch((m=b.indexOf(":"))>0&&(b=b.slice(0,m),_=u[g].slice(m+1).match(p).map(function(t){return t.trim()})),b=b.trim()){case"length":r(".length");break;case"lower":r(".toLowerCase()");break;case"upper":r(".toUpperCase()");break;case"lower-locale":r(".toLocaleLowerCase()");break;case"upper-locale":r(".toLocaleUpperCase()");break;case"trim":r(".trim()");break;case"left":v=l.number(_[0]),r(".slice(0,"+v+")");break;case"right":v=l.number(_[0]),r(".slice(-"+v+")");break;case"mid":v=l.number(_[0]),y=v+l.number(_[1]),r(".slice(+"+v+","+y+")");break;case"slice":v=l.number(_[0]),r(".slice("+v+(_.length>1?","+l.number(_[1]):"")+")");break;case"truncate":v=l.number(_[0]),y=_[1],y="left"!==y&&"middle"!==y&&"center"!==y?"right":y,h="this.truncate("+r()+","+v+",'"+y+"')";break;case"pad":v=l.number(_[0]),y=_[1],y="left"!==y&&"middle"!==y&&"center"!==y?"right":y,h="this.pad("+r()+","+v+",'"+y+"')";break;case"number":a("number");break;case"time":a("time");break;case"time-utc":a("utc");break;case"month":h="this.month("+h+")";break;case"month-abbrev":h="this.month("+h+",true)";break;case"day":h="this.day("+h+")";break;case"day-abbrev":h="this.day("+h+",true)";break;default:throw Error("Unrecognized template filter: "+b)}}return h}function a(t){return"\\"+g[t]}function s(t,e){var n=e+":"+t;if(null==f.format_map[n]){var i=c[e](t),r=f.formats.length;return f.formats.push(i),f.format_map[n]=r,r}return f.format_map[n]}function u(t,e){return f.formats[s(t,e)]}var l=t("./util"),c=t("./format"),f={formats:[],format_map:{},truncate:l.truncate,pad:l.pad,day:c.day,month:c.month};i.source=r,i.context=f,i.format=u,e.exports=i,i.clearFormatCache=function(){f.formats=[],f.format_map={}},i.property=function(t,e){var n=l.field(e).map(l.str).join("][");return t+"["+n+"]"};var h=/\{\{(.+?)\}\}|$/g,d=/(?:"[^"]*"|\'[^\']*\'|[^\|"]+|[^\|\']+)+/g,p=/(?:"[^"]*"|\'[^\']*\'|[^,"]+|[^,\']+)+/g,g={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},m=/\\|'|\r|\n|\u2028|\u2029/g},{"./format":15,"./util":30}],29:[function(t,e,n){function i(t){return l.setTime(+t),l}function r(t,e,n,i,r,o){var a={type:t,date:e,unit:n};return i?a.step=i:a.minstep=1,null!=r&&(a.min=r),null!=o&&(a.max=o),a}function o(t,e,n,i,o,a){return r(t,function(t){return e.offset(n,t)},function(t){return e.count(n,t)},i,o,a)}function a(t,e,n,i){var r,o,a,s=p[0];for(r=1,o=p.length;r<o;++r)if(s=p[r],e>s[0]){if(a=e/s[0],a>i)return t[p[r-1][1]];if(a>=n)return t[s[1]]}return t[p[o-1][1]]}function s(t){var e,n,i={};for(e=0,n=t.length;e<n;++e)i[t[e].type]=t[e];return i.find=function(e,n,i){return a(t,e,n,i)},i}var u=t("d3-time"),l=new Date,c=new Date(0,0,1).setFullYear(0),f=new Date(Date.UTC(0,0,1)).setUTCFullYear(0),h=[o("second",u.second,c),o("minute",u.minute,c),o("hour",u.hour,c),o("day",u.day,c,[1,7]),o("month",u.month,c,[1,3,6]),o("year",u.year,c),r("seconds",function(t){return new Date(1970,0,1,0,0,t)},function(t){return i(t).getSeconds()},null,0,59),r("minutes",function(t){return new Date(1970,0,1,0,t)},function(t){return i(t).getMinutes()},null,0,59),r("hours",function(t){return new Date(1970,0,1,t)},function(t){return i(t).getHours()},null,0,23),r("weekdays",function(t){return new Date(1970,0,4+t)},function(t){return i(t).getDay()},[1],0,6),r("dates",function(t){return new Date(1970,0,t)},function(t){return i(t).getDate()},[1],1,31),r("months",function(t){return new Date(1970,t%12,1)},function(t){return i(t).getMonth()},[1],0,11)],d=[o("second",u.utcSecond,f),o("minute",u.utcMinute,f),o("hour",u.utcHour,f),o("day",u.utcDay,f,[1,7]),o("month",u.utcMonth,f,[1,3,6]),o("year",u.utcYear,f),r("seconds",function(t){return new Date(Date.UTC(1970,0,1,0,0,t))},function(t){return i(t).getUTCSeconds()},null,0,59),r("minutes",function(t){return new Date(Date.UTC(1970,0,1,0,t))},function(t){return i(t).getUTCMinutes()},null,0,59),r("hours",function(t){return new Date(Date.UTC(1970,0,1,t))},function(t){return i(t).getUTCHours()},null,0,23),r("weekdays",function(t){return new Date(Date.UTC(1970,0,4+t))},function(t){return i(t).getUTCDay()},[1],0,6),r("dates",function(t){return new Date(Date.UTC(1970,0,t))},function(t){return i(t).getUTCDate()},[1],1,31),r("months",function(t){return new Date(Date.UTC(1970,t%12,1))},function(t){return i(t).getUTCMonth()},[1],0,11)],p=[[31536e6,5],[7776e6,4],[2592e6,4],[12096e5,3],[6048e5,3],[1728e5,3],[864e5,3],[432e5,2],[216e5,2],[108e5,2],[36e5,2],[18e5,1],[9e5,1],[3e5,1],[6e4,1],[3e4,0],[15e3,0],[5e3,0],[1e3,0]];e.exports=s(h),e.exports.utc=s(d)},{"d3-time":5}],30:[function(t,e,n){(function(t){function n(t,e){var n,i="";for(n=0;n<t;++n)i+=e;return i}function i(t,e,n){var i=0,r=t.split(u);return t=n?(r=r.reverse()).filter(function(t){return i+=t.length,i<=e}).reverse():r.filter(function(t){return i+=t.length,i<=e}),t.length?t.join("").trim():r[0].slice(0,e)}var r=e.exports,o="__name__";r.namedfunc=function(t,e){return e[o]=t,e},r.name=function(t){return null==t?null:t[o]},r.identity=function(t){return t},r["true"]=r.namedfunc("true",function(){return!0}),r["false"]=r.namedfunc("false",function(){return!1}),r.duplicate=function(t){return JSON.parse(JSON.stringify(t))},r.equal=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},r.extend=function(t){for(var e,n,i=1,r=arguments.length;i<r;++i){e=arguments[i];for(n in e)t[n]=e[n]}return t},r.length=function(t){return null!=t&&null!=t.length?t.length:null},r.keys=function(t){var e,n=[];for(e in t)n.push(e);return n},r.vals=function(t){var e,n=[];for(e in t)n.push(t[e]);return n},r.toMap=function(t,e){return(e=r.$(e))?t.reduce(function(t,n){return t[e(n)]=1,t},{}):t.reduce(function(t,e){return t[e]=1,t},{})},r.keystr=function(t){var e=t.length;if(!e)return"";for(var n=String(t[0]),i=1;i<e;++i)n+="|"+String(t[i]);return n};var a=Object.prototype.toString;r.isObject=function(t){return t===Object(t)},r.isFunction=function(t){return"[object Function]"===a.call(t)},r.isString=function(t){return"string"==typeof value||"[object String]"===a.call(t)},r.isArray=Array.isArray||function(t){return"[object Array]"===a.call(t)},r.isNumber=function(t){return"number"==typeof t||"[object Number]"===a.call(t)},r.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==a.call(t)},r.isDate=function(t){return"[object Date]"===a.call(t)},r.isValid=function(t){return null!=t&&t===t},r.isBuffer="function"==typeof t&&t.isBuffer||r["false"],r.number=function(t){return null==t||""===t?null:+t},r["boolean"]=function(t){return null==t||""===t?null:"false"!==t&&!!t},r.date=function(t,e){var n=e?e:Date;return null==t||""===t?null:n.parse(t)},r.array=function(t){return null!=t?r.isArray(t)?t:[t]:[]},r.str=function(t){return r.isArray(t)?"["+t.map(r.str)+"]":r.isObject(t)||r.isString(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t};var s=/\[(.*?)\]|[^.\[]+/g;r.field=function(t){return String(t).match(s).map(function(t){return"["!==t[0]?t:"'"!==t[1]&&'"'!==t[1]?t.slice(1,-1):t.slice(2,-2).replace(/\\(["'])/g,"$1")})},r.accessor=function(t){return null==t||r.isFunction(t)?t:r.namedfunc(t,Function("x","return x["+r.field(t).map(r.str).join("][")+"];"))},r.$=r.accessor,r.mutator=function(t){var e;return r.isString(t)&&(e=r.field(t)).length>1?function(t,n){for(var i=0;i<e.length-1;++i)t=t[e[i]];t[e[i]]=n}:function(e,n){e[t]=n}},r.$func=function(t,e){return function(n){n=r.$(n)||r.identity;var i=t+(r.name(n)?"_"+r.name(n):"");return r.namedfunc(i,function(t){return e(n(t))})}},r.$valid=r.$func("valid",r.isValid),r.$length=r.$func("length",r.length),r.$in=function(t,e){t=r.$(t);var n=r.isArray(e)?r.toMap(e):e;return function(e){return!!n[t(e)]}},r.comparator=function(t){var e=[];return void 0===t&&(t=[]),t=r.array(t).map(function(t){var n=1;return"-"===t[0]?(n=-1,t=t.slice(1)):"+"===t[0]&&(n=1,t=t.slice(1)),e.push(n),r.accessor(t)}),function(n,i){
var r,o,a,s,u;for(r=0,o=t.length;r<o;++r){if(a=t[r],s=a(n),u=a(i),s<u)return-1*e[r];if(s>u)return e[r]}return 0}},r.cmp=function(t,e){return t<e?-1:t>e?1:t>=e?0:null===t?-1:null===e?1:NaN},r.numcmp=function(t,e){return t-e},r.stablesort=function(t,e,n){var i=t.reduce(function(t,e,i){return t[n(e)]=i,t},{});return t.sort(function(t,r){var o=e(t),a=e(r);return o<a?-1:o>a?1:i[n(t)]-i[n(r)]}),t},r.pad=function(t,e,i,r){r=r||" ";var o=e-t.length;if(o<=0)return t;switch(i){case"left":return n(o,r)+t;case"middle":case"center":return n(Math.floor(o/2),r)+t+n(Math.ceil(o/2),r);default:return t+n(o,r)}},r.truncate=function(t,e,n,r,o){var a=t.length;if(a<=e)return t;o=void 0!==o?String(o):"…";var s=Math.max(0,e-o.length);switch(n){case"left":return o+(r?i(t,s,1):t.slice(a-s));case"middle":case"center":var u=Math.ceil(s/2),l=Math.floor(s/2);return(r?i(t,u):t.slice(0,u))+o+(r?i(t,l,1):t.slice(a-l));default:return(r?i(t,s):t.slice(0,s))+o}};var u=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/}).call(this,t("buffer").Buffer)},{buffer:1}]},{},[26])(26)}),/**
 * sifter.js
 * Copyright (c) 2013 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */
function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.Sifter=e()}(this,function(){var t=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};t.prototype.tokenize=function(t){if(t=r(String(t||"").toLowerCase()),!t||!t.length)return[];var e,n,i,a,u=[],l=t.split(/ +/);for(e=0,n=l.length;e<n;e++){if(i=o(l[e]),this.settings.diacritics)for(a in s)s.hasOwnProperty(a)&&(i=i.replace(new RegExp(a,"g"),s[a]));u.push({string:l[e],regex:new RegExp(i,"i")})}return u},t.prototype.iterator=function(t,e){var n;n=a(t)?Array.prototype.forEach||function(t){for(var e=0,n=this.length;e<n;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)},n.apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var n,r,o,a,s;n=this,t=n.prepareSearch(t,e),o=t.tokens,r=t.options.fields,a=o.length,s=t.options.nesting;var u=function(t,e){var n,i;return t?(t=String(t||""),i=t.search(e.regex),i===-1?0:(n=e.string.length/t.length,0===i&&(n+=.5),n)):0},l=function(){var t=r.length;return t?1===t?function(t,e){return u(i(e,r[0],s),t)}:function(e,n){for(var o=0,a=0;o<t;o++)a+=u(i(n,r[o],s),e);return a/t}:function(){return 0}}();return a?1===a?function(t){return l(o[0],t)}:"and"===t.options.conjunction?function(t){for(var e,n=0,i=0;n<a;n++){if(e=l(o[n],t),e<=0)return 0;i+=e}return i/a}:function(t){for(var e=0,n=0;e<a;e++)n+=l(o[e],t);return n/a}:function(){return 0}},t.prototype.getSortFunction=function(t,n){var r,o,a,s,u,l,c,f,h,d,p;if(a=this,t=a.prepareSearch(t,n),p=!t.query&&n.sort_empty||n.sort,h=function(t,e){return"$score"===t?e.score:i(a.items[e.id],t,n.nesting)},u=[],p)for(r=0,o=p.length;r<o;r++)(t.query||"$score"!==p[r].field)&&u.push(p[r]);if(t.query){for(d=!0,r=0,o=u.length;r<o;r++)if("$score"===u[r].field){d=!1;break}d&&u.unshift({field:"$score",direction:"desc"})}else for(r=0,o=u.length;r<o;r++)if("$score"===u[r].field){u.splice(r,1);break}for(f=[],r=0,o=u.length;r<o;r++)f.push("desc"===u[r].direction?-1:1);return l=u.length,l?1===l?(s=u[0].field,c=f[0],function(t,n){return c*e(h(s,t),h(s,n))}):function(t,n){var i,r,o;for(i=0;i<l;i++)if(o=u[i].field,r=f[i]*e(h(o,t),h(o,n)))return r;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;e=n({},e);var i=e.fields,r=e.sort,o=e.sort_empty;return i&&!a(i)&&(e.fields=[i]),r&&!a(r)&&(e.sort=[r]),o&&!a(o)&&(e.sort_empty=[o]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,e){var n,i,r,o,a=this;return i=this.prepareSearch(t,e),e=i.options,t=i.query,o=e.score||a.getScoreFunction(i),t.length?a.iterator(a.items,function(t,r){n=o(t),(e.filter===!1||n>0)&&i.items.push({score:n,id:r})}):a.iterator(a.items,function(t,e){i.items.push({score:1,id:e})}),r=a.getSortFunction(i,e),r&&i.items.sort(r),i.total=i.items.length,"number"==typeof e.limit&&(i.items=i.items.slice(0,e.limit)),i};var e=function(t,e){return"number"==typeof t&&"number"==typeof e?t>e?1:t<e?-1:0:(t=u(String(t||"")),e=u(String(e||"")),t>e?1:e>t?-1:0)},n=function(t,e){var n,i,r,o;for(n=1,i=arguments.length;n<i;n++)if(o=arguments[n])for(r in o)o.hasOwnProperty(r)&&(t[r]=o[r]);return t},i=function(t,e,n){if(t&&e){if(!n)return t[e];for(var i=e.split(".");i.length&&(t=t[i.shift()]););return t}},r=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},o=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},a=Array.isArray||"undefined"!=typeof $&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"},u=function(){var t,e,n,i,r="",o={};for(n in s)if(s.hasOwnProperty(n))for(i=s[n].substring(2,s[n].length-1),r+=i,t=0,e=i.length;t<e;t++)o[i.charAt(t)]=n;var a=new RegExp("["+r+"]","g");return function(t){return t.replace(a,function(t){return o[t]}).toLowerCase()}}();return t}),/**
 * microplugin.js
 * Copyright (c) 2013 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */
function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.MicroPlugin=e()}(this,function(){var t={};t.mixin=function(t){t.plugins={},t.prototype.initializePlugins=function(t){var n,i,r,o=this,a=[];if(o.plugins={names:[],settings:{},requested:{},loaded:{}},e.isArray(t))for(n=0,i=t.length;n<i;n++)"string"==typeof t[n]?a.push(t[n]):(o.plugins.settings[t[n].name]=t[n].options,a.push(t[n].name));else if(t)for(r in t)t.hasOwnProperty(r)&&(o.plugins.settings[r]=t[r],a.push(r));for(;a.length;)o.require(a.shift())},t.prototype.loadPlugin=function(e){var n=this,i=n.plugins,r=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');i.requested[e]=!0,i.loaded[e]=r.fn.apply(n,[n.plugins.settings[e]||{}]),i.names.push(e)},t.prototype.require=function(t){var e=this,n=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(n.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return n.loaded[t]},t.define=function(e,n){t.plugins[e]={name:e,fn:n}}};var e={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t}),/**
 * selectize.js (v0.12.4)
 * Copyright (c) 2013–2015 Brian Reavis & contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 * file except in compliance with the License. You may obtain a copy of the License at:
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under
 * the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF
 * ANY KIND, either express or implied. See the License for the specific language
 * governing permissions and limitations under the License.
 *
 * @author Brian Reavis <brian@thirdroute.com>
 */
function(t,e){"function"==typeof define&&define.amd?define(["jquery","sifter","microplugin"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("sifter"),require("microplugin")):t.Selectize=e(t.jQuery,t.Sifter,t.MicroPlugin)}(this,function(t,e,n){"use strict";var i=function(t,e){if("string"!=typeof e||e.length){var n="string"==typeof e?new RegExp(e,"i"):e,i=function(t){var e=0;if(3===t.nodeType){var r=t.data.search(n);if(r>=0&&t.data.length>0){var o=t.data.match(n),a=document.createElement("span");a.className="highlight";var s=t.splitText(r),u=(s.splitText(o[0].length),s.cloneNode(!0));a.appendChild(u),s.parentNode.replaceChild(a,s),e=1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName))for(var l=0;l<t.childNodes.length;++l)l+=i(t.childNodes[l]);return e};return t.each(function(){i(this)})}};t.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var t=this.parentNode;t.replaceChild(this.firstChild,this),t.normalize()}).end()};var r=function(){};r.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},r.mixin=function(t){for(var e=["on","off","trigger"],n=0;n<e.length;n++)t.prototype[e[n]]=r.prototype[e[n]]};var o=/Mac/.test(navigator.userAgent),a=65,s=13,u=27,l=37,c=38,f=80,h=39,d=40,p=78,g=8,m=46,v=16,y=o?91:17,b=o?18:17,_=9,x=1,w=2,k=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,E=function(t){return"undefined"!=typeof t},S=function(t){return"undefined"==typeof t||null===t?null:"boolean"==typeof t?t?"1":"0":t+""},C=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},T={};T.before=function(t,e,n){var i=t[e];t[e]=function(){return n.apply(t,arguments),i.apply(t,arguments)}},T.after=function(t,e,n){var i=t[e];t[e]=function(){var e=i.apply(t,arguments);return n.apply(t,arguments),e}};var M=function(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}},A=function(t,e){var n;return function(){var i=this,r=arguments;window.clearTimeout(n),n=window.setTimeout(function(){t.apply(i,r)},e)}},$=function(t,e,n){var i,r=t.trigger,o={};t.trigger=function(){var n=arguments[0];return e.indexOf(n)===-1?r.apply(t,arguments):void(o[n]=arguments)},n.apply(t,[]),t.trigger=r;for(i in o)o.hasOwnProperty(i)&&r.apply(t,o[i])},O=function(t,e,n,i){t.on(e,n,function(e){for(var n=e.target;n&&n.parentNode!==t[0];)n=n.parentNode;return e.currentTarget=n,i.apply(this,[e])})},D=function(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var n=document.selection.createRange(),i=document.selection.createRange().text.length;n.moveStart("character",-t.value.length),e.start=n.text.length-i,e.length=i}return e},N=function(t,e,n){var i,r,o={};if(n)for(i=0,r=n.length;i<r;i++)o[n[i]]=t.css(n[i]);else o=t.css();e.css(o)},I=function(e,n){if(!e)return 0;var i=t("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(e).appendTo("body");N(n,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var r=i.width();return i.remove(),r},L=function(t){var e=null,n=function(n,i){var r,o,a,s,u,l,c,f;n=n||window.event||{},i=i||{},n.metaKey||n.altKey||(i.force||t.data("grow")!==!1)&&(r=t.val(),n.type&&"keydown"===n.type.toLowerCase()&&(o=n.keyCode,a=o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||32===o,o===m||o===g?(f=D(t[0]),f.length?r=r.substring(0,f.start)+r.substring(f.start+f.length):o===g&&f.start?r=r.substring(0,f.start-1)+r.substring(f.start+1):o===m&&"undefined"!=typeof f.start&&(r=r.substring(0,f.start)+r.substring(f.start+1))):a&&(l=n.shiftKey,c=String.fromCharCode(n.keyCode),c=l?c.toUpperCase():c.toLowerCase(),r+=c)),s=t.attr("placeholder"),!r&&s&&(r=s),u=I(r,t)+4,u!==e&&(e=u,t.width(u),t.triggerHandler("resize")))};t.on("keydown keyup update blur",n),n()},P=function(t){var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML},R=function(t,e){e||(e={});var n="Selectize";console.error(n+": "+t),e.explanation&&(console.group&&console.group(),console.error(e.explanation),console.group&&console.groupEnd())},F=function(n,i){var r,o,a,s,u=this;s=n[0],s.selectize=u;var l=window.getComputedStyle&&window.getComputedStyle(s,null);if(a=l?l.getPropertyValue("direction"):s.currentStyle&&s.currentStyle.direction,a=a||n.parents("[dir]:first").attr("dir")||"",t.extend(u,{order:0,settings:i,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===s.tagName.toLowerCase()?x:w,rtl:/rtl/i.test(a),eventNS:".selectize"+ ++F.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?u.onSearchChange:A(u.onSearchChange,i.loadThrottle)}),u.sifter=new e(this.options,{diacritics:i.diacritics}),u.settings.options){for(r=0,o=u.settings.options.length;r<o;r++)u.registerOption(u.settings.options[r]);delete u.settings.options}if(u.settings.optgroups){for(r=0,o=u.settings.optgroups.length;r<o;r++)u.registerOptionGroup(u.settings.optgroups[r]);delete u.settings.optgroups}u.settings.mode=u.settings.mode||(1===u.settings.maxItems?"single":"multi"),"boolean"!=typeof u.settings.hideSelected&&(u.settings.hideSelected="multi"===u.settings.mode),u.initializePlugins(u.settings.plugins),u.setupCallbacks(),u.setupTemplates(),u.setup()};return r.mixin(F),"undefined"!=typeof n?n.mixin(F):R("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),t.extend(F.prototype,{setup:function(){var e,n,i,r,a,s,u,l,c,f,h=this,d=h.settings,p=h.eventNS,g=t(window),m=t(document),_=h.$input;if(u=h.settings.mode,l=_.attr("class")||"",e=t("<div>").addClass(d.wrapperClass).addClass(l).addClass(u),n=t("<div>").addClass(d.inputClass).addClass("items").appendTo(e),i=t('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",_.is(":disabled")?"-1":h.tabIndex),s=t(d.dropdownParent||e),r=t("<div>").addClass(d.dropdownClass).addClass(u).hide().appendTo(s),a=t("<div>").addClass(d.dropdownContentClass).appendTo(r),(f=_.attr("id"))&&(i.attr("id",f+"-selectized"),t("label[for='"+f+"']").attr("for",f+"-selectized")),h.settings.copyClassesToDropdown&&r.addClass(l),e.css({width:_[0].style.width}),h.plugins.names.length&&(c="plugin-"+h.plugins.names.join(" plugin-"),e.addClass(c),r.addClass(c)),(null===d.maxItems||d.maxItems>1)&&h.tagType===x&&_.attr("multiple","multiple"),h.settings.placeholder&&i.attr("placeholder",d.placeholder),!h.settings.splitOn&&h.settings.delimiter){var w=h.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");h.settings.splitOn=new RegExp("\\s*"+w+"+\\s*")}_.attr("autocorrect")&&i.attr("autocorrect",_.attr("autocorrect")),_.attr("autocapitalize")&&i.attr("autocapitalize",_.attr("autocapitalize")),h.$wrapper=e,h.$control=n,h.$control_input=i,h.$dropdown=r,h.$dropdown_content=a,r.on("mouseenter","[data-selectable]",function(){return h.onOptionHover.apply(h,arguments)}),r.on("mousedown click","[data-selectable]",function(){return h.onOptionSelect.apply(h,arguments)}),O(n,"mousedown","*:not(input)",function(){return h.onItemSelect.apply(h,arguments)}),L(i),n.on({mousedown:function(){return h.onMouseDown.apply(h,arguments)},click:function(){return h.onClick.apply(h,arguments)}}),i.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return h.onKeyDown.apply(h,arguments)},keyup:function(){return h.onKeyUp.apply(h,arguments)},keypress:function(){return h.onKeyPress.apply(h,arguments)},resize:function(){h.positionDropdown.apply(h,[])},blur:function(){return h.onBlur.apply(h,arguments)},focus:function(){return h.ignoreBlur=!1,h.onFocus.apply(h,arguments)},paste:function(){return h.onPaste.apply(h,arguments)}}),m.on("keydown"+p,function(t){h.isCmdDown=t[o?"metaKey":"ctrlKey"],h.isCtrlDown=t[o?"altKey":"ctrlKey"],h.isShiftDown=t.shiftKey}),m.on("keyup"+p,function(t){t.keyCode===b&&(h.isCtrlDown=!1),t.keyCode===v&&(h.isShiftDown=!1),t.keyCode===y&&(h.isCmdDown=!1)}),m.on("mousedown"+p,function(t){if(h.isFocused){if(t.target===h.$dropdown[0]||t.target.parentNode===h.$dropdown[0])return!1;h.$control.has(t.target).length||t.target===h.$control[0]||h.blur(t.target)}}),g.on(["scroll"+p,"resize"+p].join(" "),function(){h.isOpen&&h.positionDropdown.apply(h,arguments)}),g.on("mousemove"+p,function(){h.ignoreHover=!1}),this.revertSettings={$children:_.children().detach(),tabindex:_.attr("tabindex")},_.attr("tabindex",-1).hide().after(h.$wrapper),t.isArray(d.items)&&(h.setValue(d.items),delete d.items),k&&_.on("invalid"+p,function(t){t.preventDefault(),h.isInvalid=!0,h.refreshState()}),h.updateOriginalInput(),h.refreshItems(),h.refreshState(),h.updatePlaceholder(),h.isSetup=!0,_.is(":disabled")&&h.disable(),h.on("change",this.onChange),_.data("selectize",h),_.addClass("selectized"),h.trigger("initialize"),d.preload===!0&&h.onSearchChange("")},setupTemplates:function(){var e=this,n=e.settings.labelField,i=e.settings.optgroupLabelField,r={optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[i])+"</div>"},option:function(t,e){return'<div class="option">'+e(t[n])+"</div>"},item:function(t,e){return'<div class="item">'+e(t[n])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}};e.settings.render=t.extend({},r,e.settings.render)},setupCallbacks:function(){var t,e,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in n)n.hasOwnProperty(t)&&(e=this.settings[n[t]],e&&this.on(t,e))},onClick:function(t){var e=this;e.isFocused||(e.focus(),t.preventDefault())},onMouseDown:function(e){var n=this,i=e.isDefaultPrevented();t(e.target);if(n.isFocused){if(e.target!==n.$control_input[0])return"single"===n.settings.mode?n.isOpen?n.close():n.open():i||n.setActiveItem(null),!1}else i||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var n=this;return n.isFull()||n.isInputHidden||n.isLocked?void e.preventDefault():void(n.settings.splitOn&&setTimeout(function(){var e=n.$control_input.val();if(e.match(n.settings.splitOn))for(var i=t.trim(e).split(n.settings.splitOn),r=0,o=i.length;r<o;r++)n.createItem(i[r])},0))},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){var e=(t.target===this.$control_input[0],this);if(e.isLocked)return void(t.keyCode!==_&&t.preventDefault());switch(t.keyCode){case a:if(e.isCmdDown)return void e.selectAll();break;case u:return void(e.isOpen&&(t.preventDefault(),t.stopPropagation(),e.close()));case p:if(!t.ctrlKey||t.altKey)break;case d:if(!e.isOpen&&e.hasOptions)e.open();else if(e.$activeOption){e.ignoreHover=!0;var n=e.getAdjacentOption(e.$activeOption,1);n.length&&e.setActiveOption(n,!0,!0)}return void t.preventDefault();case f:if(!t.ctrlKey||t.altKey)break;case c:if(e.$activeOption){e.ignoreHover=!0;var i=e.getAdjacentOption(e.$activeOption,-1);i.length&&e.setActiveOption(i,!0,!0)}return void t.preventDefault();case s:return void(e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),t.preventDefault()));case l:return void e.advanceSelection(-1,t);case h:return void e.advanceSelection(1,t);case _:return e.settings.selectOnTab&&e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),e.isFull()||t.preventDefault()),void(e.settings.create&&e.createItem()&&t.preventDefault());case g:case m:return void e.deleteSelection(t)}return!e.isFull()&&!e.isInputHidden||(o?t.metaKey:t.ctrlKey)?void 0:void t.preventDefault()},onKeyUp:function(t){var e=this;if(e.isLocked)return t&&t.preventDefault();var n=e.$control_input.val()||"";e.lastValue!==n&&(e.lastValue=n,e.onSearchChange(n),e.refreshOptions(),e.trigger("type",n))},onSearchChange:function(t){var e=this,n=e.settings.load;n&&(e.loadedSearches.hasOwnProperty(t)||(e.loadedSearches[t]=!0,e.load(function(i){n.apply(e,[t,i])})))},onFocus:function(t){var e=this,n=e.isFocused;return e.isDisabled?(e.blur(),t&&t.preventDefault(),!1):void(e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.onSearchChange(""),n||e.trigger("focus"),e.$activeItems.length||(e.showInput(),e.setActiveItem(null),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState()))},onBlur:function(t,e){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus)){if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(t);var i=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),e&&e.focus&&e.focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,i):i()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(e){var n,i,r=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),i=t(e.currentTarget),i.hasClass("create")?r.createItem(null,function(){r.settings.closeAfterSelect&&r.close()}):(n=i.attr("data-value"),"undefined"!=typeof n&&(r.lastQuery=null,r.setTextboxValue(""),r.addItem(n),r.settings.closeAfterSelect?r.close():!r.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&r.setActiveOption(r.getOption(n))))},onItemSelect:function(t){var e=this;e.isLocked||"multi"===e.settings.mode&&(t.preventDefault(),e.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,n=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||n.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},setTextboxValue:function(t){var e=this.$control_input,n=e.val()!==t;n&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return this.tagType===x&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){var n=e?[]:["change"];$(this,n,function(){this.clear(e),this.addItems(t,e)})},setActiveItem:function(e,n){var i,r,o,a,s,u,l,c,f=this;if("single"!==f.settings.mode){if(e=t(e),!e.length)return t(f.$activeItems).removeClass("active"),f.$activeItems=[],void(f.isFocused&&f.showInput());if(i=n&&n.type.toLowerCase(),"mousedown"===i&&f.isShiftDown&&f.$activeItems.length){for(c=f.$control.children(".active:last"),a=Array.prototype.indexOf.apply(f.$control[0].childNodes,[c[0]]),s=Array.prototype.indexOf.apply(f.$control[0].childNodes,[e[0]]),a>s&&(l=a,a=s,s=l),r=a;r<=s;r++)u=f.$control[0].childNodes[r],f.$activeItems.indexOf(u)===-1&&(t(u).addClass("active"),f.$activeItems.push(u));n.preventDefault()}else"mousedown"===i&&f.isCtrlDown||"keydown"===i&&this.isShiftDown?e.hasClass("active")?(o=f.$activeItems.indexOf(e[0]),f.$activeItems.splice(o,1),e.removeClass("active")):f.$activeItems.push(e.addClass("active")[0]):(t(f.$activeItems).removeClass("active"),f.$activeItems=[e.addClass("active")[0]]);f.hideInput(),this.isFocused||f.focus()}},setActiveOption:function(e,n,i){var r,o,a,s,u,l=this;l.$activeOption&&l.$activeOption.removeClass("active"),l.$activeOption=null,e=t(e),e.length&&(l.$activeOption=e.addClass("active"),!n&&E(n)||(r=l.$dropdown_content.height(),o=l.$activeOption.outerHeight(!0),n=l.$dropdown_content.scrollTop()||0,a=l.$activeOption.offset().top-l.$dropdown_content.offset().top+n,s=a,u=a-r+o,a+o>r+n?l.$dropdown_content.stop().animate({scrollTop:u},i?l.settings.scrollDuration:0):a<n&&l.$dropdown_content.stop().animate({scrollTop:s},i?l.settings.scrollDuration:0)))},selectAll:function(){var t=this;"single"!==t.settings.mode&&(t.$activeItems=Array.prototype.slice.apply(t.$control.children(":not(input)").addClass("active")),t.$activeItems.length&&(t.hideInput(),t.close()),t.focus())},hideInput:function(){var t=this;t.setTextboxValue(""),t.$control_input.css({opacity:0,position:"absolute",left:t.rtl?1e4:-1e4}),t.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0))},blur:function(t){this.$control_input[0].blur(),this.onBlur(null,t)},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e}},search:function(e){var n,i,r,o=this,a=o.settings,s=this.getSearchOptions();if(a.score&&(r=o.settings.score.apply(this,[e]),"function"!=typeof r))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==o.lastQuery?(o.lastQuery=e,i=o.sifter.search(e,t.extend(s,{score:r})),o.currentResults=i):i=t.extend(!0,{},o.currentResults),a.hideSelected)for(n=i.items.length-1;n>=0;n--)o.items.indexOf(S(i.items[n].id))!==-1&&i.items.splice(n,1);return i},refreshOptions:function(e){var n,r,o,a,s,u,l,c,f,h,d,p,g,m,v,y;"undefined"==typeof e&&(e=!0);var b=this,_=t.trim(b.$control_input.val()),x=b.search(_),w=b.$dropdown_content,k=b.$activeOption&&S(b.$activeOption.attr("data-value"));for(a=x.items.length,"number"==typeof b.settings.maxOptions&&(a=Math.min(a,b.settings.maxOptions)),s={},u=[],n=0;n<a;n++)for(l=b.options[x.items[n].id],c=b.render("option",l),f=l[b.settings.optgroupField]||"",h=t.isArray(f)?f:[f],r=0,o=h&&h.length;r<o;r++)f=h[r],b.optgroups.hasOwnProperty(f)||(f=""),s.hasOwnProperty(f)||(s[f]=document.createDocumentFragment(),u.push(f)),s[f].appendChild(c);for(this.settings.lockOptgroupOrder&&u.sort(function(t,e){var n=b.optgroups[t].$order||0,i=b.optgroups[e].$order||0;return n-i}),d=document.createDocumentFragment(),n=0,a=u.length;n<a;n++)f=u[n],b.optgroups.hasOwnProperty(f)&&s[f].childNodes.length?(p=document.createDocumentFragment(),p.appendChild(b.render("optgroup_header",b.optgroups[f])),p.appendChild(s[f]),d.appendChild(b.render("optgroup",t.extend({},b.optgroups[f],{html:P(p),dom:p})))):d.appendChild(s[f]);if(w.html(d),b.settings.highlight&&x.query.length&&x.tokens.length)for(w.removeHighlight(),n=0,a=x.tokens.length;n<a;n++)i(w,x.tokens[n].regex);if(!b.settings.hideSelected)for(n=0,a=b.items.length;n<a;n++)b.getOption(b.items[n]).addClass("selected");g=b.canCreate(_),g&&(w.prepend(b.render("option_create",{input:_})),y=t(w[0].childNodes[0])),b.hasOptions=x.items.length>0||g,b.hasOptions?(x.items.length>0?(v=k&&b.getOption(k),v&&v.length?m=v:"single"===b.settings.mode&&b.items.length&&(m=b.getOption(b.items[0])),m&&m.length||(m=y&&!b.settings.addPrecedence?b.getAdjacentOption(y,1):w.find("[data-selectable]:first"))):m=y,b.setActiveOption(m),e&&!b.isOpen&&b.open()):(b.setActiveOption(null),e&&b.isOpen&&b.close())},addOption:function(e){var n,i,r,o=this;if(t.isArray(e))for(n=0,i=e.length;n<i;n++)o.addOption(e[n]);else(r=o.registerOption(e))&&(o.userOptions[r]=!0,o.lastQuery=null,o.trigger("option_add",r,e))},registerOption:function(t){var e=S(t[this.settings.valueField]);return"undefined"!=typeof e&&null!==e&&!this.options.hasOwnProperty(e)&&(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=S(t[this.settings.optgroupValueField]);return!!e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,n){var i,r,o,a,s,u,l,c=this;if(e=S(e),o=S(n[c.settings.valueField]),null!==e&&c.options.hasOwnProperty(e)){if("string"!=typeof o)throw new Error("Value must be set in option data");l=c.options[e].$order,o!==e&&(delete c.options[e],a=c.items.indexOf(e),a!==-1&&c.items.splice(a,1,o)),n.$order=n.$order||l,c.options[o]=n,s=c.renderCache.item,u=c.renderCache.option,s&&(delete s[e],delete s[o]),u&&(delete u[e],delete u[o]),c.items.indexOf(o)!==-1&&(i=c.getItem(e),r=t(c.render("item",n)),i.hasClass("active")&&r.addClass("active"),i.replaceWith(r)),c.lastQuery=null,c.isOpen&&c.refreshOptions(!1)}},removeOption:function(t,e){var n=this;t=S(t);var i=n.renderCache.item,r=n.renderCache.option;i&&delete i[t],r&&delete r[t],delete n.userOptions[t],delete n.options[t],n.lastQuery=null,n.trigger("option_remove",t),n.removeItem(t,e)},clearOptions:function(){var t=this;t.loadedSearches={},t.userOptions={},t.renderCache={},t.options=t.sifter.items={},t.lastQuery=null,t.trigger("option_clear"),t.clear()},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,n){var i=this.$dropdown.find("[data-selectable]"),r=i.index(e)+n;return r>=0&&r<i.length?i.eq(r):t()},getElementWithValue:function(e,n){if(e=S(e),"undefined"!=typeof e&&null!==e)for(var i=0,r=n.length;i<r;i++)if(n[i].getAttribute("data-value")===e)return t(n[i]);return t()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItems:function(e,n){for(var i=t.isArray(e)?e:[e],r=0,o=i.length;r<o;r++)this.isPending=r<o-1,this.addItem(i[r],n)},addItem:function(e,n){var i=n?[]:["change"];$(this,i,function(){var i,r,o,a,s,u=this,l=u.settings.mode;return e=S(e),u.items.indexOf(e)!==-1?void("single"===l&&u.close()):void(u.options.hasOwnProperty(e)&&("single"===l&&u.clear(n),"multi"===l&&u.isFull()||(i=t(u.render("item",u.options[e])),s=u.isFull(),u.items.splice(u.caretPos,0,e),u.insertAtCaret(i),(!u.isPending||!s&&u.isFull())&&u.refreshState(),u.isSetup&&(o=u.$dropdown_content.find("[data-selectable]"),u.isPending||(r=u.getOption(e),a=u.getAdjacentOption(r,1).attr("data-value"),u.refreshOptions(u.isFocused&&"single"!==l),a&&u.setActiveOption(u.getOption(a))),!o.length||u.isFull()?u.close():u.positionDropdown(),u.updatePlaceholder(),u.trigger("item_add",e,i),u.updateOriginalInput({silent:n})))))})},removeItem:function(e,n){var i,r,o,a=this;i=e instanceof t?e:a.getItem(e),e=S(i.attr("data-value")),r=a.items.indexOf(e),r!==-1&&(i.remove(),i.hasClass("active")&&(o=a.$activeItems.indexOf(i[0]),a.$activeItems.splice(o,1)),a.items.splice(r,1),a.lastQuery=null,!a.settings.persist&&a.userOptions.hasOwnProperty(e)&&a.removeOption(e,n),r<a.caretPos&&a.setCaret(a.caretPos-1),a.refreshState(),a.updatePlaceholder(),a.updateOriginalInput({silent:n}),a.positionDropdown(),a.trigger("item_remove",e,i))},createItem:function(e,n){var i=this,r=i.caretPos;e=e||t.trim(i.$control_input.val()||"");var o=arguments[arguments.length-1];if("function"!=typeof o&&(o=function(){}),"boolean"!=typeof n&&(n=!0),!i.canCreate(e))return o(),!1;i.lock();var a="function"==typeof i.settings.create?this.settings.create:function(t){var e={};return e[i.settings.labelField]=t,e[i.settings.valueField]=t,e},s=M(function(t){if(i.unlock(),!t||"object"!=typeof t)return o();var e=S(t[i.settings.valueField]);return"string"!=typeof e?o():(i.setTextboxValue(""),i.addOption(t),i.setCaret(r),i.addItem(e),i.refreshOptions(n&&"single"!==i.settings.mode),void o(t))}),u=a.apply(this,[e,s]);return"undefined"!=typeof u&&s(u),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var t=!this.items.length;this.isInvalid=t,this.$control_input.prop("required",t),this.$input.prop("required",!t)},refreshClasses:function(){var e=this,n=e.isFull(),i=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",i).toggleClass("full",n).toggleClass("not-full",!n).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!t.isEmptyObject(e.options)).toggleClass("has-items",e.items.length>0),e.$control_input.data("grow",!n&&!i)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,n,i,r,o=this;if(t=t||{},o.tagType===x){for(i=[],e=0,n=o.items.length;e<n;e++)r=o.options[o.items[e]][o.settings.labelField]||"",i.push('<option value="'+C(o.items[e])+'" selected="selected">'+C(r)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),o.$input.html(i.join(""))}else o.$input.val(o.getValue()),o.$input.attr("value",o.$input.val());o.isSetup&&(t.silent||o.trigger("change",o.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var t=this.$control_input;this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),t.triggerHandler("update",{force:!0})}},open:function(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.focus(),t.isOpen=!0,t.refreshState(),t.$dropdown.css({visibility:"hidden",display:"block"}),t.positionDropdown(),t.$dropdown.css({visibility:"visible"}),t.trigger("dropdown_open",t.$dropdown))},close:function(){var t=this,e=t.isOpen;"single"===t.settings.mode&&t.items.length&&(t.hideInput(),t.$control_input.blur()),t.isOpen=!1,t.$dropdown.hide(),t.setActiveOption(null),t.refreshState(),e&&t.trigger("dropdown_close",t.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t.outerWidth(),top:e.top,left:e.left})},clear:function(t){var e=this;e.items.length&&(e.$control.children(":not(input)").remove(),e.items=[],e.lastQuery=null,e.setCaret(0),e.setActiveItem(null),e.updatePlaceholder(),e.updateOriginalInput({silent:t}),e.refreshState(),e.showInput(),e.trigger("clear"))},insertAtCaret:function(e){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(e):t(this.$control[0].childNodes[n]).before(e),this.setCaret(n+1)},deleteSelection:function(e){var n,i,r,o,a,s,u,l,c,f=this;if(r=e&&e.keyCode===g?-1:1,o=D(f.$control_input[0]),f.$activeOption&&!f.settings.hideSelected&&(u=f.getAdjacentOption(f.$activeOption,-1).attr("data-value")),a=[],f.$activeItems.length){for(c=f.$control.children(".active:"+(r>0?"last":"first")),s=f.$control.children(":not(input)").index(c),r>0&&s++,n=0,i=f.$activeItems.length;n<i;n++)a.push(t(f.$activeItems[n]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(f.isFocused||"single"===f.settings.mode)&&f.items.length&&(r<0&&0===o.start&&0===o.length?a.push(f.items[f.caretPos-1]):r>0&&o.start===f.$control_input.val().length&&a.push(f.items[f.caretPos]));if(!a.length||"function"==typeof f.settings.onDelete&&f.settings.onDelete.apply(f,[a])===!1)return!1;for("undefined"!=typeof s&&f.setCaret(s);a.length;)f.removeItem(a.pop());return f.showInput(),f.positionDropdown(),f.refreshOptions(!0),u&&(l=f.getOption(u),l.length&&f.setActiveOption(l)),!0},advanceSelection:function(t,e){var n,i,r,o,a,s,u=this;0!==t&&(u.rtl&&(t*=-1),n=t>0?"last":"first",i=D(u.$control_input[0]),u.isFocused&&!u.isInputHidden?(o=u.$control_input.val().length,a=t<0?0===i.start&&0===i.length:i.start===o,a&&!o&&u.advanceCaret(t,e)):(s=u.$control.children(".active:"+n),s.length&&(r=u.$control.children(":not(input)").index(s),u.setActiveItem(null),u.setCaret(t>0?r+1:r))))},advanceCaret:function(t,e){var n,i,r=this;0!==t&&(n=t>0?"next":"prev",r.isShiftDown?(i=r.$control_input[n](),i.length&&(r.hideInput(),r.setActiveItem(i),e&&e.preventDefault())):r.setCaret(r.caretPos+t))},setCaret:function(e){var n=this;if(e="single"===n.settings.mode?n.items.length:Math.max(0,Math.min(n.items.length,e)),!n.isPending){var i,r,o,a;for(o=n.$control.children(":not(input)"),i=0,r=o.length;i<r;i++)a=t(o[i]).detach(),i<e?n.$control_input.before(a):n.$control.append(a)}n.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var t=this;t.$input.prop("disabled",!0),t.$control_input.prop("disabled",!0).prop("tabindex",-1),t.isDisabled=!0,t.lock()},enable:function(){var t=this;t.$input.prop("disabled",!1),t.$control_input.prop("disabled",!1).prop("tabindex",t.tabIndex),t.isDisabled=!1,t.unlock()},destroy:function(){var e=this,n=e.eventNS,i=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(i.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:i.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("selectize"),t(window).off(n),t(document).off(n),t(document.body).off(n),delete e.$input[0].selectize},render:function(e,n){var i,r,o="",a=!1,s=this;return"option"!==e&&"item"!==e||(i=S(n[s.settings.valueField]),a=!!i),a&&(E(s.renderCache[e])||(s.renderCache[e]={}),s.renderCache[e].hasOwnProperty(i))?s.renderCache[e][i]:(o=t(s.settings.render[e].apply(this,[n,C])),"option"===e||"option_create"===e?o.attr("data-selectable",""):"optgroup"===e&&(r=n[s.settings.optgroupValueField]||"",o.attr("data-group",r)),"option"!==e&&"item"!==e||o.attr("data-value",i||""),a&&(s.renderCache[e][i]=o[0]),o[0])},clearCache:function(t){var e=this;"undefined"==typeof t?e.renderCache={}:delete e.renderCache[t]},canCreate:function(t){var e=this;if(!e.settings.create)return!1;var n=e.settings.createFilter;return t.length&&("function"!=typeof n||n.apply(e,[t]))&&("string"!=typeof n||new RegExp(n).test(t))&&(!(n instanceof RegExp)||n.test(t))}}),F.count=0,F.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",
dropdownParent:null,copyClassesToDropdown:!0,render:{}},t.fn.selectize=function(e){var n=t.fn.selectize.defaults,i=t.extend({},n,e),r=i.dataAttr,o=i.labelField,a=i.valueField,s=i.optgroupField,u=i.optgroupLabelField,l=i.optgroupValueField,c=function(e,n){var s,u,l,c,f=e.attr(r);if(f)for(n.options=JSON.parse(f),s=0,u=n.options.length;s<u;s++)n.items.push(n.options[s][a]);else{var h=t.trim(e.val()||"");if(!i.allowEmptyOption&&!h.length)return;for(l=h.split(i.delimiter),s=0,u=l.length;s<u;s++)c={},c[o]=l[s],c[a]=l[s],n.options.push(c);n.items=l}},f=function(e,n){var c,f,h,d,p=n.options,g={},m=function(t){var e=r&&t.attr(r);return"string"==typeof e&&e.length?JSON.parse(e):null},v=function(e,r){e=t(e);var u=S(e.val());if(u||i.allowEmptyOption)if(g.hasOwnProperty(u)){if(r){var l=g[u][s];l?t.isArray(l)?l.push(r):g[u][s]=[l,r]:g[u][s]=r}}else{var c=m(e)||{};c[o]=c[o]||e.text(),c[a]=c[a]||u,c[s]=c[s]||r,g[u]=c,p.push(c),e.is(":selected")&&n.items.push(u)}},y=function(e){var i,r,o,a,s;for(e=t(e),o=e.attr("label"),o&&(a=m(e)||{},a[u]=o,a[l]=o,n.optgroups.push(a)),s=t("option",e),i=0,r=s.length;i<r;i++)v(s[i],o)};for(n.maxItems=e.attr("multiple")?null:1,d=e.children(),c=0,f=d.length;c<f;c++)h=d[c].tagName.toLowerCase(),"optgroup"===h?y(d[c]):"option"===h&&v(d[c])};return this.each(function(){if(!this.selectize){var r,o=t(this),a=this.tagName.toLowerCase(),s=o.attr("placeholder")||o.attr("data-placeholder");s||i.allowEmptyOption||(s=o.children('option[value=""]').text());var u={placeholder:s,options:[],optgroups:[],items:[]};"select"===a?f(o,u):c(o,u),r=new F(o,t.extend(!0,{},n,u,e))}})},t.fn.selectize.defaults=F.defaults,t.fn.selectize.support={validity:k},F.define("drag_drop",function(e){if(!t.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var n=this;n.lock=function(){var t=n.lock;return function(){var e=n.$control.data("sortable");return e&&e.disable(),t.apply(n,arguments)}}(),n.unlock=function(){var t=n.unlock;return function(){var e=n.$control.data("sortable");return e&&e.enable(),t.apply(n,arguments)}}(),n.setup=function(){var e=n.setup;return function(){e.apply(this,arguments);var i=n.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:n.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),i.css({overflow:"visible"})},stop:function(){i.css({overflow:"hidden"});var e=n.$activeItems?n.$activeItems.slice():null,r=[];i.children("[data-value]").each(function(){r.push(t(this).attr("data-value"))}),n.setValue(r),n.setActiveItem(e)}})}}()}}),F.define("dropdown_header",function(e){var n=this;e=t.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},e),n.setup=function(){var i=n.setup;return function(){i.apply(n,arguments),n.$dropdown_header=t(e.html(e)),n.$dropdown.prepend(n.$dropdown_header)}}()}),F.define("optgroup_columns",function(e){var n=this;e=t.extend({equalizeWidth:!0,equalizeHeight:!0},e),this.getAdjacentOption=function(e,n){var i=e.closest("[data-group]").find("[data-selectable]"),r=i.index(e)+n;return r>=0&&r<i.length?i.eq(r):t()},this.onKeyDown=function(){var t=n.onKeyDown;return function(e){var i,r,o,a;return!this.isOpen||e.keyCode!==l&&e.keyCode!==h?t.apply(this,arguments):(n.ignoreHover=!0,a=this.$activeOption.closest("[data-group]"),i=a.find("[data-selectable]").index(this.$activeOption),a=e.keyCode===l?a.prev("[data-group]"):a.next("[data-group]"),o=a.find("[data-selectable]"),r=o.eq(Math.min(o.length-1,i)),void(r.length&&this.setActiveOption(r)))}}();var i=function(){var t,e=i.width,n=document;return"undefined"==typeof e&&(t=n.createElement("div"),t.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',t=t.firstChild,n.body.appendChild(t),e=i.width=t.offsetWidth-t.clientWidth,n.body.removeChild(t)),e},r=function(){var r,o,a,s,u,l,c;if(c=t("[data-group]",n.$dropdown_content),o=c.length,o&&n.$dropdown_content.width()){if(e.equalizeHeight){for(a=0,r=0;r<o;r++)a=Math.max(a,c.eq(r).height());c.css({height:a})}e.equalizeWidth&&(l=n.$dropdown_content.innerWidth()-i(),s=Math.round(l/o),c.css({width:s}),o>1&&(u=l-s*(o-1),c.eq(o-1).css({width:u})))}};(e.equalizeHeight||e.equalizeWidth)&&(T.after(this,"positionDropdown",r),T.after(this,"refreshOptions",r))}),F.define("remove_button",function(e){e=t.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e);var n=function(e,n){n.className="remove-single";var i=e,r='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+C(n.title)+'">'+n.label+"</a>",o=function(t,e){return t+e};e.setup=function(){var a=i.setup;return function(){if(n.append){var s=t(i.$input.context).attr("id"),u=(t("#"+s),i.settings.render.item);i.settings.render.item=function(t){return o(u.apply(e,arguments),r)}}a.apply(e,arguments),e.$control.on("click","."+n.className,function(t){t.preventDefault(),i.isLocked||i.clear()})}}()},i=function(e,n){var i=e,r='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+C(n.title)+'">'+n.label+"</a>",o=function(t,e){var n=t.search(/(<\/[^>]+>\s*)$/);return t.substring(0,n)+e+t.substring(n)};e.setup=function(){var a=i.setup;return function(){if(n.append){var s=i.settings.render.item;i.settings.render.item=function(t){return o(s.apply(e,arguments),r)}}a.apply(e,arguments),e.$control.on("click","."+n.className,function(e){if(e.preventDefault(),!i.isLocked){var n=t(e.currentTarget).parent();i.setActiveItem(n),i.deleteSelection()&&i.setCaret(i.items.length)}})}}()};return"single"===this.settings.mode?void n(this,e):void i(this,e)}),F.define("restore_on_backspace",function(t){var e=this;t.text=t.text||function(t){return t[this.settings.labelField]},this.onKeyDown=function(){var n=e.onKeyDown;return function(e){var i,r;return e.keyCode===g&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1,i>=0&&i<this.items.length)?(r=this.options[this.items[i]],this.deleteSelection(e)&&(this.setTextboxValue(t.text.apply(this,[r])),this.refreshOptions(!0)),void e.preventDefault()):n.apply(this,arguments)}}()}),F}),/**
 * Angular Google Analytics - Easy tracking for your AngularJS application
 * @version v1.1.7 - 2016-03-25
 * @link http://github.com/revolunet/angular-google-analytics
 * @author Julien Bouquillon <julien@revolunet.com> (https://github.com/revolunet)
 * @contributors Julien Bouquillon (https://github.com/revolunet),Justin Saunders (https://github.com/justinsa),Chris Esplin (https://github.com/deltaepsilon),Adam Misiorny (https://github.com/adam187)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["angular"],e):"object"==typeof module&&module.exports?module.exports=e(require("angular")):e(t.angular)}(this,function(t,e){"use strict";return t.module("angular-google-analytics",[]).provider("Analytics",function(){var n,i,r,o,a,s=!0,u="auto",l=!1,c=!1,f="USD",h=!1,d=!1,p=!1,g=!1,m=!1,v=!1,y=!1,b=!1,_=!1,x=!1,w=!1,k="$routeChangeSuccess",E=!1,S=!1,C=!1,T="",M=!0,A=!1;this.log=[],this.offlineQueue=[],this.setAccount=function(i){return n=t.isUndefined(i)||i===!1?e:t.isArray(i)?i:t.isObject(i)?[i]:[{tracker:i,trackEvent:!0}],this},this.trackPages=function(t){return M=!!t,this},this.trackPrefix=function(t){return T=t,this},this.setDomainName=function(t){return r=t,this},this.useDisplayFeatures=function(t){return p=!!t,this},this.useAnalytics=function(t){return s=!!t,this},this.useEnhancedLinkAttribution=function(t){return y=!!t,this},this.useCrossDomainLinker=function(t){return c=!!t,this},this.setCrossLinkDomains=function(t){return i=t,this},this.setPageEvent=function(t){return k=t,this},this.setCookieConfig=function(t){return u=t,this},this.useECommerce=function(t,e){return m=!!t,v=!!e,this},this.setCurrency=function(t){return f=t,this},this.setRemoveRegExp=function(t){return t instanceof RegExp&&(a=t),this},this.setExperimentId=function(t){return o=t,this},this.ignoreFirstPageLoad=function(t){return b=!!t,this},this.trackUrlParams=function(t){return A=!!t,this},this.disableAnalytics=function(t){return g=!!t,this},this.setHybridMobileSupport=function(t){return x=!!t,this},this.startOffline=function(t){return w=!!t,w===!0&&this.delayScriptTag(!0),this},this.delayScriptTag=function(t){return d=!!t,this},this.logAllCalls=function(t){return _=!!t,this},this.enterTestMode=function(){return S=!0,this},this.enterDebugMode=function(t){return h=!0,C=!!t,this},this.readFromRoute=function(t){return E=!!t,this},this.$get=["$document","$location","$log","$rootScope","$window","$injector",function($,O,D,N,I,L){var P=this,R=function(e,n){return t.isObject(n)&&t.isDefined(n[e])},F=function(t,e,n){return R(t,e)&&e[t]===n},j=function(e,n){return t.isString(n)?n+"."+e:R("name",n)?n.name+"."+e:e},U={};E&&(L.has("$route")?U=L.get("$route"):D.warn("$route service is not available. Make sure you have included ng-route in your application dependencies."));var z=function(){if(E&&U.current&&"pageTrack"in U.current)return U.current.pageTrack;var t=A?O.url():O.path();return a?t.replace(a,""):t},H=function(){var e={utm_source:"campaignSource",utm_medium:"campaignMedium",utm_term:"campaignTerm",utm_content:"campaignContent",utm_campaign:"campaignName"},n={};return t.forEach(O.search(),function(i,r){var o=e[r];t.isDefined(o)&&(n[o]=i)}),n},q=function(t,e,n,i,r,o,a,s,u){var l={};return t&&(l.id=t),e&&(l.affiliation=e),n&&(l.revenue=n),i&&(l.tax=i),r&&(l.shipping=r),o&&(l.coupon=o),a&&(l.list=a),s&&(l.step=s),u&&(l.option=u),l},W=function(t){!s&&I._gaq&&"function"==typeof t&&t()},Y=function(){var t=Array.prototype.slice.call(arguments);return w===!0?void P.offlineQueue.push([Y,t]):(I._gaq||(I._gaq=[]),_===!0&&P._log.apply(P,t),void I._gaq.push(t))},B=function(t){s&&I.ga&&"function"==typeof t&&t()},V=function(){var t=Array.prototype.slice.call(arguments);return w===!0?void P.offlineQueue.push([V,t]):"function"!=typeof I.ga?void P._log("warn","ga function not set on window"):(_===!0&&P._log.apply(P,t),void I.ga.apply(null,t))},X=function(t){var e=Array.prototype.slice.call(arguments,1),i=e[0],r=[];return"function"==typeof t?n.forEach(function(e){t(e)&&r.push(e)}):r=n,0===r.length?void V.apply(P,e):void r.forEach(function(t){R("select",t)&&"function"==typeof t.select&&!t.select(e)||(e[0]=j(i,t),V.apply(P,e))})};return this._log=function(){var t=Array.prototype.slice.call(arguments);if(t.length>0){if(t.length>1)switch(t[0]){case"debug":case"error":case"info":case"log":case"warn":D[t[0]](t.slice(1))}P.log.push(t)}},this._createScriptTag=function(){if(!n||n.length<1)return void P._log("warn","No account id set to create script tag");if(n.length>1&&(P._log("warn","Multiple trackers are not supported with ga.js. Using first tracker only"),n=n.slice(0,1)),l===!0)return void P._log("warn","ga.js or analytics.js script tag already created");g===!0&&(P._log("info","Analytics disabled: "+n[0].tracker),I["ga-disable-"+n[0].tracker]=!0),Y("_setAccount",n[0].tracker),r&&Y("_setDomainName",r),y&&Y("_require","inpage_linkid","//www.google-analytics.com/plugins/ga/inpage_linkid.js"),M&&!b&&(a?Y("_trackPageview",z()):Y("_trackPageview"));var t,e=$[0];return t=p===!0?("https:"===e.location.protocol?"https://":"http://")+"stats.g.doubleclick.net/dc.js":("https:"===e.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",S!==!0?!function(){var n=e.createElement("script");n.type="text/javascript",n.async=!0,n.src=t;var i=e.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}():P._log("inject",t),l=!0,!0},this._createAnalyticsScriptTag=function(){if(!n)return void P._log("warn","No account id set to create analytics script tag");if(l===!0)return void P._log("warn","ga.js or analytics.js script tag already created");g===!0&&n.forEach(function(t){P._log("info","Analytics disabled: "+t.tracker),I["ga-disable-"+t.tracker]=!0});var e=$[0],r=x===!0?"https:":"",a=r+"//www.google-analytics.com/"+(h?"analytics_debug.js":"analytics.js");if(S!==!0?!function(t,e,n,i,r,o,a){t.GoogleAnalyticsObject=r,t[r]=t[r]||function(){(t[r].q=t[r].q||[]).push(arguments)},t[r].l=1*new Date,o=e.createElement(n),a=e.getElementsByTagName(n)[0],o.async=1,o.src=i,a.parentNode.insertBefore(o,a)}(window,e,"script",a,"ga"):("function"!=typeof I.ga&&(I.ga=function(){}),P._log("inject",a)),C&&(I.ga_debug={trace:!0}),n.forEach(function(e){e.crossDomainLinker=R("crossDomainLinker",e)?e.crossDomainLinker:c,e.crossLinkDomains=R("crossLinkDomains",e)?e.crossLinkDomains:i,e.displayFeatures=R("displayFeatures",e)?e.displayFeatures:p,e.enhancedLinkAttribution=R("enhancedLinkAttribution",e)?e.enhancedLinkAttribution:y,e.set=R("set",e)?e.set:{},e.trackEcommerce=R("trackEcommerce",e)?e.trackEcommerce:m,e.trackEvent=!!R("trackEvent",e)&&e.trackEvent;var n={};R("fields",e)?n=e.fields:R("cookieConfig",e)?t.isString(e.cookieConfig)?n.cookieDomain=e.cookieConfig:n=e.cookieConfig:t.isString(u)?n.cookieDomain=u:u&&(n=u),e.crossDomainLinker===!0&&(n.allowLinker=!0),R("name",e)&&(n.name=e.name),e.fields=n,V("create",e.tracker,e.fields),x===!0&&V(j("set",e),"checkProtocolTask",null);for(var r in e.set)e.set.hasOwnProperty(r)&&V(j("set",e),r,e.set[r]);e.crossDomainLinker===!0&&(V(j("require",e),"linker"),t.isDefined(e.crossLinkDomains)&&V(j("linker:autoLink",e),e.crossLinkDomains)),e.displayFeatures&&V(j("require",e),"displayfeatures"),e.trackEcommerce&&(v?(V(j("require",e),"ec"),V(j("set",e),"&cu",f)):V(j("require",e),"ecommerce")),e.enhancedLinkAttribution&&V(j("require",e),"linkid"),M&&!b&&V(j("send",e),"pageview",T+z())}),o){var s=e.createElement("script"),d=e.getElementsByTagName("script")[0];s.src=r+"//www.google-analytics.com/cx/api.js?experiment="+o,d.parentNode.insertBefore(s,d)}return l=!0,!0},this._ecommerceEnabled=function(t,e){var n=m&&!v;return t===!0&&n===!1&&(m&&v?P._log("warn",e+" is not available when Enhanced Ecommerce is enabled with analytics.js"):P._log("warn","Ecommerce must be enabled to use "+e+" with analytics.js")),n},this._enhancedEcommerceEnabled=function(t,e){var n=m&&v;return t===!0&&n===!1&&P._log("warn","Enhanced Ecommerce must be enabled to use "+e+" with analytics.js"),n},this._trackPage=function(n,i,r){n=n?n:z(),i=i?i:$[0].title,W(function(){Y("_set","title",i),Y("_trackPageview",T+n)}),B(function(){var o={page:T+n,title:i};t.extend(o,H()),t.isObject(r)&&t.extend(o,r),X(e,"send","pageview",o)})},this._trackEvent=function(e,n,i,r,o,a){W(function(){Y("_trackEvent",e,n,i,r,!!o)}),B(function(){var s={},u=function(t){return F("trackEvent",t,!0)};t.isDefined(o)&&(s.nonInteraction=!!o),t.isObject(a)&&t.extend(s,a),t.isDefined(s.page)||(s.page=z()),X(u,"send","event",e,n,i,r,s)})},this._addTrans=function(t,e,n,i,r,o,a,s,u){W(function(){Y("_addTrans",t,e,n,i,r,o,a,s)}),B(function(){if(P._ecommerceEnabled(!0,"addTrans")){var o=function(t){return F("trackEcommerce",t,!0)};X(o,"ecommerce:addTransaction",{id:t,affiliation:e,revenue:n,tax:i,shipping:r,currency:u||"USD"})}})},this._addItem=function(t,e,n,i,r,o){W(function(){Y("_addItem",t,e,n,i,r,o)}),B(function(){if(P._ecommerceEnabled(!0,"addItem")){var a=function(t){return F("trackEcommerce",t,!0)};X(a,"ecommerce:addItem",{id:t,name:n,sku:e,category:i,price:r,quantity:o})}})},this._trackTrans=function(){W(function(){Y("_trackTrans")}),B(function(){if(P._ecommerceEnabled(!0,"trackTrans")){var t=function(t){return F("trackEcommerce",t,!0)};X(t,"ecommerce:send")}})},this._clearTrans=function(){B(function(){if(P._ecommerceEnabled(!0,"clearTrans")){var t=function(t){return F("trackEcommerce",t,!0)};X(t,"ecommerce:clear")}})},this._addProduct=function(e,n,i,r,o,a,s,u,l,c){W(function(){Y("_addProduct",e,n,i,r,o,a,s,u,l)}),B(function(){if(P._enhancedEcommerceEnabled(!0,"addProduct")){var f=function(t){return F("trackEcommerce",t,!0)},h={id:e,name:n,category:i,brand:r,variant:o,price:a,quantity:s,coupon:u,position:l};t.isObject(c)&&t.extend(h,c),X(f,"ec:addProduct",h)}})},this._addImpression=function(t,e,n,i,r,o,a,s){W(function(){Y("_addImpression",t,e,n,i,r,o,a,s)}),B(function(){if(P._enhancedEcommerceEnabled(!0,"addImpression")){var u=function(t){return F("trackEcommerce",t,!0)};X(u,"ec:addImpression",{id:t,name:e,category:r,brand:i,variant:o,list:n,position:a,price:s})}})},this._addPromo=function(t,e,n,i){W(function(){Y("_addPromo",t,e,n,i)}),B(function(){if(P._enhancedEcommerceEnabled(!0,"addPromo")){var r=function(t){return F("trackEcommerce",t,!0)};X(r,"ec:addPromo",{id:t,name:e,creative:n,position:i})}})},this._setAction=function(t,e){W(function(){Y("_setAction",t,e)}),B(function(){if(P._enhancedEcommerceEnabled(!0,"setAction")){var n=function(t){return F("trackEcommerce",t,!0)};X(n,"ec:setAction",t,e)}})},this._trackTransaction=function(t,e,n,i,r,o,a,s,u){this._setAction("purchase",q(t,e,n,i,r,o,a,s,u))},this._trackRefund=function(t){this._setAction("refund",q(t))},this._trackCheckOut=function(t,e){this._setAction("checkout",q(null,null,null,null,null,null,null,t,e))},this._trackDetail=function(){this._setAction("detail"),this._pageView()},this._trackCart=function(t,e){-1!==["add","remove"].indexOf(t)&&(this._setAction(t,{list:e}),this._trackEvent("UX","click",t+("add"===t?" to cart":" from cart")))},this._promoClick=function(t){this._setAction("promo_click"),this._trackEvent("Internal Promotions","click",t)},this._productClick=function(t){this._setAction("click",q(null,null,null,null,null,null,t,null,null)),this._trackEvent("UX","click",t)},this._pageView=function(t){B(function(){V(j("send",t),"pageview")})},this._send=function(){var t=Array.prototype.slice.call(arguments);t.unshift("send"),B(function(){V.apply(P,t)})},this._set=function(t,e,n){B(function(){V(j("set",n),t,e)})},this._trackTimings=function(t,n,i,r){B(function(){X(e,"send","timing",t,n,i,r)})},this._trackException=function(t,n){B(function(){X(e,"send","exception",{exDescription:t,exFatal:!!n})})},d||(s?this._createAnalyticsScriptTag():this._createScriptTag()),M&&N.$on(k,function(){(!E||U.current&&U.current.templateUrl&&!U.current.doNotTrack)&&P._trackPage()}),{log:P.log,offlineQueue:P.offlineQueue,configuration:{accounts:n,universalAnalytics:s,crossDomainLinker:c,crossLinkDomains:i,currency:f,debugMode:h,delayScriptTag:d,disableAnalytics:g,displayFeatures:p,domainName:r,ecommerce:P._ecommerceEnabled(),enhancedEcommerce:P._enhancedEcommerceEnabled(),enhancedLinkAttribution:y,experimentId:o,hybridMobileSupport:x,ignoreFirstPageLoad:b,logAllCalls:_,pageEvent:k,readFromRoute:E,removeRegExp:a,testMode:S,traceDebuggingMode:C,trackPrefix:T,trackRoutes:M,trackUrlParams:A},getUrl:z,setCookieConfig:P._setCookieConfig,getCookieConfig:function(){return u},createAnalyticsScriptTag:function(t){return t&&(u=t),P._createAnalyticsScriptTag()},createScriptTag:function(){return P._createScriptTag()},offline:function(t){if(t===!0&&w===!1&&(w=!0),t===!1&&w===!0)for(w=!1;P.offlineQueue.length>0;){var e=P.offlineQueue.shift();e[0].apply(P,e[1])}return w},trackPage:function(t,e,n){P._trackPage.apply(P,arguments)},trackEvent:function(t,e,n,i,r,o){P._trackEvent.apply(P,arguments)},addTrans:function(t,e,n,i,r,o,a,s,u){P._addTrans.apply(P,arguments)},addItem:function(t,e,n,i,r,o){P._addItem.apply(P,arguments)},trackTrans:function(){P._trackTrans.apply(P,arguments)},clearTrans:function(){P._clearTrans.apply(P,arguments)},addProduct:function(t,e,n,i,r,o,a,s,u,l){P._addProduct.apply(P,arguments)},addPromo:function(t,e,n,i){P._addPromo.apply(P,arguments)},addImpression:function(t,e,n,i,r,o,a,s){P._addImpression.apply(P,arguments)},productClick:function(t){P._productClick.apply(P,arguments)},promoClick:function(t){P._promoClick.apply(P,arguments)},trackDetail:function(){P._trackDetail.apply(P,arguments)},trackCart:function(t,e){P._trackCart.apply(P,arguments)},trackCheckout:function(t,e){P._trackCheckOut.apply(P,arguments)},trackTimings:function(t,e,n,i){P._trackTimings.apply(P,arguments)},trackTransaction:function(t,e,n,i,r,o,a,s,u){P._trackTransaction.apply(P,arguments)},trackException:function(t,e){P._trackException.apply(P,arguments)},setAction:function(t,e){P._setAction.apply(P,arguments)},pageView:function(){P._pageView.apply(P,arguments)},send:function(t){P._send.apply(P,arguments)},set:function(t,e,n){P._set.apply(P,arguments)}}}]}).directive("gaTrackEvent",["Analytics","$parse",function(t,e){return{restrict:"A",link:function(n,i,r){var o=e(r.gaTrackEvent);i.bind("click",function(){r.gaTrackEventIf&&!n.$eval(r.gaTrackEventIf)||o.length>1&&t.trackEvent.apply(t,o(n))})}}}]),t.module("angular-google-analytics")}),function(){(function(){function t(e,i){function o(t){if(o[t]!==m)return o[t];var e;if("bug-string-char-index"==t)e="a"!="a"[0];else if("json"==t)e=o("json-stringify")&&o("json-parse");else{var n,r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var u=i.stringify,c="function"==typeof u&&b;if(c){(n=function(){return 1}).toJSON=n;try{c="0"===u(0)&&"0"===u(new a)&&'""'==u(new s)&&u(y)===m&&u(m)===m&&u()===m&&"1"===u(n)&&"[1]"==u([n])&&"[null]"==u([m])&&"null"==u(null)&&"[null,null,null]"==u([m,y,null])&&u({a:[n,!0,!1,null,"\0\b\n\f\r\t"]})==r&&"1"===u(null,n)&&"[\n 1,\n 2\n]"==u([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==u(new l((-864e13)))&&'"+275760-09-13T00:00:00.000Z"'==u(new l(864e13))&&'"-000001-01-01T00:00:00.000Z"'==u(new l((-621987552e5)))&&'"1969-12-31T23:59:59.999Z"'==u(new l((-1)))}catch(f){c=!1}}e=c}if("json-parse"==t){var h=i.parse;if("function"==typeof h)try{if(0===h("0")&&!h(!1)){n=h(r);var d=5==n.a.length&&1===n.a[0];if(d){try{d=!h('"\t"')}catch(f){}if(d)try{d=1!==h("01")}catch(f){}if(d)try{d=1!==h("1.")}catch(f){}}}}catch(f){d=!1}e=d}}return o[t]=!!e}e||(e=r.Object()),i||(i=r.Object());var a=e.Number||r.Number,s=e.String||r.String,u=e.Object||r.Object,l=e.Date||r.Date,c=e.SyntaxError||r.SyntaxError,f=e.TypeError||r.TypeError,h=e.Math||r.Math,d=e.JSON||r.JSON;"object"==typeof d&&d&&(i.stringify=d.stringify,i.parse=d.parse);var p,g,m,v=u.prototype,y=v.toString,b=new l((-0xc782b5b800cec));try{b=b.getUTCFullYear()==-109252&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(_){}var x="[object Function]",w="[object Date]",k="[object Number]",E="[object String]",S="[object Array]",C="[object Boolean]",T=o("bug-string-char-index");if(!b)var M=h.floor,A=[0,31,59,90,120,151,181,212,243,273,304,334],$=function(t,e){return A[e]+365*(t-1970)+M((t-1969+(e=+(e>1)))/4)-M((t-1901+e)/100)+M((t-1601+e)/400)};(p=v.hasOwnProperty)||(p=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=y?p=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,p=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,p.call(this,t)}),g=function(t,e){var i,r,o,a=0;(i=function(){this.valueOf=0}).prototype.valueOf=0,r=new i;for(o in r)p.call(r,o)&&a++;return i=r=null,a?g=2==a?function(t,e){var n,i={},r=y.call(t)==x;for(n in t)r&&"prototype"==n||p.call(i,n)||!(i[n]=1)||!p.call(t,n)||e(n)}:function(t,e){var n,i,r=y.call(t)==x;for(n in t)r&&"prototype"==n||!p.call(t,n)||(i="constructor"===n)||e(n);(i||p.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],g=function(t,e){var i,o,a=y.call(t)==x,s=!a&&"function"!=typeof t.constructor&&n[typeof t.hasOwnProperty]&&t.hasOwnProperty||p;for(i in t)a&&"prototype"==i||!s.call(t,i)||e(i);for(o=r.length;i=r[--o];s.call(t,i)&&e(i));}),g(t,e)};var O={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},D="000000",N=function(t,e){return(D+(e||0)).slice(-t)},I="\\u00",L=function(t){for(var e='"',n=0,i=t.length,r=!T||i>10,o=r&&(T?t.split(""):t);n<i;n++){var a=t.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=O[a];break;default:if(a<32){e+=I+N(2,a.toString(16));break}e+=r?o[n]:t.charAt(n)}}return e+'"'},P=function(t,e,n,i,r,o,a,s){var u,l,c,h,d,v,b,_,x,T,A,O,D,I,R,F;s=s||0;try{u=e[t]}catch(j){}if("object"==typeof u&&u)if(l=y.call(u),l!=w||p.call(u,"toJSON"))"function"==typeof u.toJSON&&(l!=k&&l!=E&&l!=S||p.call(u,"toJSON"))&&(u=u.toJSON(t));else if(u>-1/0&&u<1/0){if($){for(d=M(u/864e5),c=M(d/365.2425)+1970-1;$(c+1,0)<=d;c++);for(h=M((d-$(c,0))/30.42);$(c,h+1)<=d;h++);d=1+d-$(c,h),v=(u%864e5+864e5)%864e5,b=M(v/36e5)%24,_=M(v/6e4)%60,x=M(v/1e3)%60,T=v%1e3}else c=u.getUTCFullYear(),h=u.getUTCMonth(),d=u.getUTCDate(),b=u.getUTCHours(),_=u.getUTCMinutes(),x=u.getUTCSeconds(),T=u.getUTCMilliseconds();u=(c<=0||c>=1e4?(c<0?"-":"+")+N(6,c<0?-c:c):N(4,c))+"-"+N(2,h+1)+"-"+N(2,d)+"T"+N(2,b)+":"+N(2,_)+":"+N(2,x)+"."+N(3,T)+"Z"}else u=null;if(n&&(u=n.call(e,t,u)),null===u)return"null";if(l=y.call(u),l==C)return""+u;if(l==k)return u>-1/0&&u<1/0?""+u:"null";if(l==E)return L(""+u);if("object"==typeof u){for(I=a.length;I--;)if(a[I]===u)throw f();if(a.push(u),A=[],R=o,o+=r,l==S){var F,U=o.length;for(D=0,I=u.length;D<I;D++)O=P(D,u,n,i,r,o,a,s),F=O===m?"null":O,U+=F.length+(D>0?1:0),A.push(F);F=A.length?r&&U>s?"[\n"+o+A.join(",\n"+o)+"\n"+R+"]":"["+A.join(",")+"]":"[]"}else{var U=o.length,D=0;g(i||u,function(t){var e,l=P(t,u,n,i,r,o,a,s);l!==m&&(e=L(t)+":"+(r?" ":"")+l,U+=e.length+(D++>0?1:0),A.push(e))}),F=A.length?r&&U>s?"{\n"+o+A.join(",\n"+o)+"\n"+R+"}":"{"+A.join(",")+"}":"{}"}return a.pop(),F}};if(i.stringify=function(t,e,i,r){var o,a,s,u;if(n[typeof e]&&e)if((u=y.call(e))==x)a=e;else if(u==S){s={};for(var l,c=0,f=e.length;c<f;l=e[c++],u=y.call(l),(u==E||u==k)&&(s[l]=1));}if(i)if((u=y.call(i))==k){if((i-=i%1)>0)for(o="",i>10&&(i=10);o.length<i;o+=" ");}else u==E&&(o=i.length<=10?i:i.slice(0,10));return P("",(l={},l[""]=t,l),a,s,o,"",[],r)},i.compactStringify=function(t,e,n){return i.stringify(t,e,n,60)},!o("json-parse")){var R,F,j=s.fromCharCode,U={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},z=function(){throw R=F=null,c()},H=function(){for(var t,e,n,i,r,o=F,a=o.length;R<a;)switch(r=o.charCodeAt(R)){case 9:case 10:case 13:case 32:R++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=T?o.charAt(R):o[R],R++,t;case 34:for(t="@",R++;R<a;)if(r=o.charCodeAt(R),r<32)z();else if(92==r)switch(r=o.charCodeAt(++R)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=U[r],R++;break;case 117:for(e=++R,n=R+4;R<n;R++)r=o.charCodeAt(R),r>=48&&r<=57||r>=97&&r<=102||r>=65&&r<=70||z();t+=j("0x"+o.slice(e,R));break;default:z()}else{if(34==r)break;for(r=o.charCodeAt(R),e=R;r>=32&&92!=r&&34!=r;)r=o.charCodeAt(++R);t+=o.slice(e,R)}if(34==o.charCodeAt(R))return R++,t;z();default:if(e=R,45==r&&(i=!0,r=o.charCodeAt(++R)),r>=48&&r<=57){for(48==r&&(r=o.charCodeAt(R+1),r>=48&&r<=57)&&z(),i=!1;R<a&&(r=o.charCodeAt(R),r>=48&&r<=57);R++);if(46==o.charCodeAt(R)){for(n=++R;n<a&&(r=o.charCodeAt(n),r>=48&&r<=57);n++);n==R&&z(),R=n}if(r=o.charCodeAt(R),101==r||69==r){for(r=o.charCodeAt(++R),43!=r&&45!=r||R++,n=R;n<a&&(r=o.charCodeAt(n),r>=48&&r<=57);n++);n==R&&z(),R=n}return+o.slice(e,R)}if(i&&z(),"true"==o.slice(R,R+4))return R+=4,!0;if("false"==o.slice(R,R+5))return R+=5,!1;if("null"==o.slice(R,R+4))return R+=4,null;z()}return"$"},q=function(t){var e,n;if("$"==t&&z(),"string"==typeof t){if("@"==(T?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=H(),"]"!=t;n||(n=!0))n&&(","==t?(t=H(),"]"==t&&z()):z()),","==t&&z(),e.push(q(t));return e}if("{"==t){for(e={};t=H(),"}"!=t;n||(n=!0))n&&(","==t?(t=H(),"}"==t&&z()):z()),","!=t&&"string"==typeof t&&"@"==(T?t.charAt(0):t[0])&&":"==H()||z(),e[t.slice(1)]=q(H());return e}z()}return t},W=function(t,e,n){var i=Y(t,e,n);i===m?delete t[e]:t[e]=i},Y=function(t,e,n){var i,r=t[e];if("object"==typeof r&&r)if(y.call(r)==S)for(i=r.length;i--;)W(r,i,n);else g(r,function(t){W(r,t,n)});return n.call(t,e,r)};i.parse=function(t,e){var n,i;return R=0,F=""+t,n=q(H()),"$"!=H()&&z(),R=F=null,e&&y.call(e)==x?Y((i={},i[""]=n,i),"",e):n}}return i.runInContext=t,i}var e="function"==typeof define&&define.amd,n={"function":!0,object:!0},i=n[typeof exports]&&exports&&!exports.nodeType&&exports,r=n[typeof window]&&window||this,o=i&&n[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!o||o.global!==o&&o.window!==o&&o.self!==o||(r=o),i&&!e)t(r,i);else{var a=r.JSON,s=r.JSON3,u=!1,l=t(r,r.JSON3={noConflict:function(){return u||(u=!0,r.JSON=a,r.JSON3=s,a=s=null),l}});r.JSON={parse:l.parse,stringify:l.stringify}}e&&define(function(){return l})}).call(this)}(),function(){window.vlSchema={oneOf:[{$ref:"#/definitions/ExtendedUnitSpec",description:"Schema for a unit Vega-Lite specification, with the syntactic sugar extensions:\n\n- `row` and `column` are included in the encoding.\n\n- (Future) label, box plot\n\n\n\nNote: the spec could contain facet."},{$ref:"#/definitions/FacetSpec"},{$ref:"#/definitions/LayerSpec"}],definitions:{ExtendedUnitSpec:{type:"object",properties:{mark:{$ref:"#/definitions/Mark",description:'The mark type.\n\nOne of `"bar"`, `"circle"`, `"square"`, `"tick"`, `"line"`,\n\n`"area"`, `"point"`, `"rule"`, and `"text"`.'},encoding:{$ref:"#/definitions/Encoding",description:"A key-value mapping between encoding channels and definition of fields."},name:{description:"Name of the visualization for later reference.",type:"string"},description:{description:"An optional description of this mark for commenting purpose.\n\nThis property has no effect on the output visualization.",type:"string"},data:{$ref:"#/definitions/Data",description:"An object describing the data source"},transform:{$ref:"#/definitions/Transform",description:"An object describing filter and new field calculation."},projection:{$ref:"#/definitions/Projection"},config:{$ref:"#/definitions/Config",description:"Configuration object"}},required:["mark"]},Mark:{type:"string","enum":["area","bar","line","point","text","tick","rule","circle","square","path","errorBar"]},Encoding:{type:"object",properties:{row:{$ref:"#/definitions/PositionChannelDef",description:"Vertical facets for trellis plots."},column:{$ref:"#/definitions/PositionChannelDef",description:"Horizontal facets for trellis plots."},x:{$ref:"#/definitions/PositionChannelDef",description:"X coordinates for `point`, `circle`, `square`,\n\n`line`, `rule`, `text`, and `tick`\n\n(or to width and height for `bar` and `area` marks)."},y:{$ref:"#/definitions/PositionChannelDef",description:"Y coordinates for `point`, `circle`, `square`,\n\n`line`, `rule`, `text`, and `tick`\n\n(or to width and height for `bar` and `area` marks)."},x2:{$ref:"#/definitions/PositionChannelDef",description:"X2 coordinates for ranged `bar`, `rule`, `area`"},y2:{$ref:"#/definitions/PositionChannelDef",description:"Y2 coordinates for ranged `bar`, `rule`, `area`"},color:{$ref:"#/definitions/ChannelDefWithLegend",description:"Color of the marks – either fill or stroke color based on mark type.\n\n(By default, fill color for `area`, `bar`, `tick`, `text`, `circle`, and `square` /\n\nstroke color for `line` and `point`.)"},opacity:{$ref:"#/definitions/ChannelDefWithLegend",description:"Opacity of the marks – either can be a value or in a range."},size:{$ref:"#/definitions/ChannelDefWithLegend",description:"Size of the mark.\n\n- For `point`, `square` and `circle`\n\n– the symbol size, or pixel area of the mark.\n\n- For `bar` and `tick` – the bar and tick's size.\n\n- For `text` – the text's font size.\n\n- Size is currently unsupported for `line` and `area`."},shape:{$ref:"#/definitions/ChannelDefWithLegend",description:'The symbol\'s shape (only for `point` marks). The supported values are\n\n`"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`,\n\nor `"triangle-down"`.'},detail:{description:"Additional levels of detail for grouping data in aggregate views and\n\nin line and area marks without mapping data to a specific visual channel.",oneOf:[{$ref:"#/definitions/FieldDef",description:"Interface for any kind of FieldDef;\n\nFor simplicity, we do not declare multiple interfaces of FieldDef like\n\nwe do for JSON schema."},{type:"array",items:{$ref:"#/definitions/FieldDef",description:"Interface for any kind of FieldDef;\n\nFor simplicity, we do not declare multiple interfaces of FieldDef like\n\nwe do for JSON schema."}}]},text:{$ref:"#/definitions/FieldDef",description:"Text of the `text` mark."},label:{$ref:"#/definitions/FieldDef"},geopath:{$ref:"#/definitions/FieldDef"},path:{description:"Order of data points in line marks.",oneOf:[{$ref:"#/definitions/OrderChannelDef"},{type:"array",items:{$ref:"#/definitions/OrderChannelDef"}}]},order:{description:"Layer order for non-stacked marks, or stack order for stacked marks.",oneOf:[{$ref:"#/definitions/OrderChannelDef"},{type:"array",items:{$ref:"#/definitions/OrderChannelDef"}}]}}},PositionChannelDef:{type:"object",properties:{axis:{oneOf:[{type:"boolean"},{$ref:"#/definitions/Axis"}]},scale:{$ref:"#/definitions/Scale"},sort:{oneOf:[{$ref:"#/definitions/SortField"},{$ref:"#/definitions/SortOrder"}]},field:{description:"Name of the field from which to pull a data value.",type:"string"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\n\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`)\n\nor an initial character of the type name (`"Q"`, `"T"`, `"O"`, `"N"`).\n\nThis property is case insensitive.'},value:{description:"A constant value in visual domain.",oneOf:[{type:"number"},{type:"string"},{type:"boolean"}]},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`)."},bin:{description:"Flag for binning a `quantitative` field, or a bin property object\n\nfor binning parameters.",oneOf:[{type:"boolean"},{$ref:"#/definitions/Bin",description:"Binning properties or boolean flag for determining whether to bin data or not."}]},aggregate:{$ref:"#/definitions/AggregateOp",description:"Aggregation function for the field\n\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`)."},title:{description:"Title for axis or legend.",type:"string"}}},Axis:{type:"object",properties:{labelAngle:{description:"The rotation angle of the axis labels.",type:"number"},format:{description:"The formatting pattern for axis labels.",type:"string"},orient:{$ref:"#/definitions/AxisOrient",description:"The orientation of the axis. One of top, bottom, left or right. The orientation can be used to further specialize the axis type (e.g., a y axis oriented for the right edge of the chart)."},title:{description:"A title for the axis. Shows field name and its function by default.",type:"string"},values:{type:"array",items:{type:"number"}},axisWidth:{description:"Width of the axis line",type:"number"},layer:{description:"A string indicating if the axis (and any gridlines) should be placed above or below the data marks.",type:"string"},offset:{description:"The offset, in pixels, by which to displace the axis from the edge of the enclosing group or data rectangle.",type:"number"},axisColor:{description:"Color of axis line.",type:"string"},grid:{description:"A flag indicate if gridlines should be created in addition to ticks. If `grid` is unspecified, the default value is `true` for ROW and COL. For X and Y, the default value is `true` for quantitative and time fields and `false` otherwise.",type:"boolean"},gridColor:{description:"Color of gridlines.",type:"string"},gridDash:{description:"The offset (in pixels) into which to begin drawing with the grid dash array.",type:"array",items:{type:"number"}},gridOpacity:{description:"The stroke opacity of grid (value between [0,1])",type:"number"},gridWidth:{description:"The grid width, in pixels.",type:"number"},labels:{description:"Enable or disable labels.",type:"boolean"},labelAlign:{description:"Text alignment for the Label.",type:"string"},labelBaseline:{description:"Text baseline for the label.",type:"string"},labelMaxLength:{description:"Truncate labels that are too long.",minimum:1,type:"number"},shortTimeLabels:{description:"Whether month and day names should be abbreviated.",type:"boolean"},subdivide:{description:"If provided, sets the number of minor ticks between major ticks (the value 9 results in decimal subdivision). Only applicable for axes visualizing quantitative scales.",type:"number"},ticks:{description:'A desired number of ticks, for axes visualizing quantitative scales. The resulting number may be different so that values are "nice" (multiples of 2, 5, 10) and lie within the underlying scale\'s range.',minimum:0,type:"number"},tickColor:{description:"The color of the axis's tick.",type:"string"},tickLabelColor:{description:"The color of the tick label, can be in hex color code or regular color name.",type:"string"},tickLabelFont:{description:"The font of the tick label.",type:"string"},tickLabelFontSize:{description:"The font size of label, in pixels.",type:"number"},tickPadding:{description:"The padding, in pixels, between ticks and text labels.",type:"number"},tickSize:{description:"The size, in pixels, of major, minor and end ticks.",minimum:0,type:"number"},tickSizeMajor:{description:"The size, in pixels, of major ticks.",minimum:0,type:"number"},tickSizeMinor:{description:"The size, in pixels, of minor ticks.",minimum:0,type:"number"},tickSizeEnd:{description:"The size, in pixels, of end ticks.",minimum:0,type:"number"},tickWidth:{description:"The width, in pixels, of ticks.",type:"number"},titleColor:{description:"Color of the title, can be in hex color code or regular color name.",type:"string"},titleFont:{description:"Font of the title.",type:"string"},titleFontSize:{description:"Size of the title.",type:"number"},titleFontWeight:{description:"Weight of the title.",type:"string"},titleOffset:{description:"A title offset value for the axis.",type:"number"},titleMaxLength:{description:"Max length for axis title if the title is automatically generated from the field's description. By default, this is automatically based on cell size and characterWidth property.",minimum:0,type:"number"},characterWidth:{description:"Character width for automatically determining title max length.",type:"number"},properties:{description:"Optional mark property definitions for custom axis styling."}}},AxisOrient:{type:"string","enum":["top","right","left","bottom"]},Scale:{type:"object",properties:{type:{$ref:"#/definitions/ScaleType"},domain:{description:"The domain of the scale, representing the set of data values. For quantitative data, this can take the form of a two-element array with minimum and maximum values. For ordinal/categorical data, this may be an array of valid input values. The domain may also be specified by a reference to a data source.",
oneOf:[{type:"string"},{type:"array",items:{type:"number"}},{type:"array",items:{type:"string"}}]},range:{description:"The range of the scale, representing the set of visual values. For numeric values, the range can take the form of a two-element array with minimum and maximum values. For ordinal or quantized data, the range may by an array of desired output values, which are mapped to elements in the specified domain. For ordinal scales only, the range can be defined using a DataRef: the range values are then drawn dynamically from a backing data set.",oneOf:[{type:"string"},{type:"array",items:{type:"number"}},{type:"array",items:{type:"string"}}]},round:{description:"If true, rounds numeric output values to integers. This can be helpful for snapping to the pixel grid.",type:"boolean"},bandSize:{minimum:0,type:"number"},padding:{description:"Applies spacing among ordinal elements in the scale range. The actual effect depends on how the scale is configured. If the __points__ parameter is `true`, the padding value is interpreted as a multiple of the spacing between points. A reasonable value is 1.0, such that the first and last point will be offset from the minimum and maximum value by half the distance between points. Otherwise, padding is typically in the range [0, 1] and corresponds to the fraction of space in the range interval to allocate to padding. A value of 0.5 means that the range band width will be equal to the padding width. For more, see the [D3 ordinal scale documentation](https://github.com/mbostock/d3/wiki/Ordinal-Scales).",type:"number"},clamp:{description:"If true, values that exceed the data domain are clamped to either the minimum or maximum range value",type:"boolean"},nice:{description:"If specified, modifies the scale domain to use a more human-friendly value range. If specified as a true boolean, modifies the scale domain to use a more human-friendly number range (e.g., 7 instead of 6.96). If specified as a string, modifies the scale domain to use a more human-friendly value range. For time and utc scale types only, the nice value should be a string indicating the desired time interval.",oneOf:[{type:"boolean"},{$ref:"#/definitions/NiceTime"}]},exponent:{description:"Sets the exponent of the scale transformation. For pow scale types only, otherwise ignored.",type:"number"},zero:{description:"If true, ensures that a zero baseline value is included in the scale domain. This option is ignored for non-quantitative scales.",type:"boolean"},useRawDomain:{description:'Uses the source data range as scale domain instead of aggregated data for aggregate axis.\n\nThis property only works with aggregate functions that produce values within the raw data domain (`"mean"`, `"average"`, `"stdev"`, `"stdevp"`, `"median"`, `"q1"`, `"q3"`, `"min"`, `"max"`). For other aggregations that produce values outside of the raw data domain (e.g. `"count"`, `"sum"`), this property is ignored.',type:"boolean"}}},ScaleType:{type:"string","enum":["linear","log","pow","sqrt","quantile","quantize","ordinal","time","utc"]},NiceTime:{type:"string","enum":["second","minute","hour","day","week","month","year"]},SortField:{type:"object",properties:{field:{description:"The field name to aggregate over.",type:"string"},op:{$ref:"#/definitions/AggregateOp",description:"The sort aggregation operator"},order:{$ref:"#/definitions/SortOrder"}},required:["field","op"]},AggregateOp:{type:"string","enum":["values","count","valid","missing","distinct","sum","mean","average","variance","variancep","stdev","stdevp","median","q1","q3","modeskew","min","max","argmin","argmax"]},SortOrder:{type:"string","enum":["ascending","descending","none"]},Type:{type:"string","enum":["quantitative","ordinal","temporal","nominal","geojson","longitude","latitude"]},TimeUnit:{type:"string","enum":["year","month","day","date","hours","minutes","seconds","milliseconds","yearmonth","yearmonthday","yearmonthdate","yearday","yeardate","yearmonthdayhours","yearmonthdayhoursminutes","yearmonthdayhoursminutesseconds","hoursminutes","hoursminutesseconds","minutesseconds","secondsmilliseconds","quarter","yearquarter","quartermonth","yearquartermonth"]},Bin:{type:"object",properties:{min:{description:"The minimum bin value to consider. If unspecified, the minimum value of the specified field is used.",type:"number"},max:{description:"The maximum bin value to consider. If unspecified, the maximum value of the specified field is used.",type:"number"},base:{description:"The number base to use for automatic bin determination (default is base 10).",type:"number"},step:{description:"An exact step size to use between bins. If provided, options such as maxbins will be ignored.",type:"number"},steps:{description:"An array of allowable step sizes to choose from.",type:"array",items:{type:"number"}},minstep:{description:"A minimum allowable step size (particularly useful for integer values).",type:"number"},div:{description:"Scale factors indicating allowable subdivisions. The default value is [5, 2], which indicates that for base 10 numbers (the default base), the method may consider dividing bin sizes by 5 and/or 2. For example, for an initial step size of 10, the method can check if bin sizes of 2 (= 10/5), 5 (= 10/2), or 1 (= 10/(5*2)) might also satisfy the given constraints.",type:"array",items:{type:"number"}},maxbins:{description:"Maximum number of bins.",minimum:2,type:"number"}}},ChannelDefWithLegend:{type:"object",properties:{legend:{$ref:"#/definitions/Legend"},scale:{$ref:"#/definitions/Scale"},sort:{oneOf:[{$ref:"#/definitions/SortField"},{$ref:"#/definitions/SortOrder"}]},field:{description:"Name of the field from which to pull a data value.",type:"string"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\n\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`)\n\nor an initial character of the type name (`"Q"`, `"T"`, `"O"`, `"N"`).\n\nThis property is case insensitive.'},value:{description:"A constant value in visual domain.",oneOf:[{type:"number"},{type:"string"},{type:"boolean"}]},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`)."},bin:{description:"Flag for binning a `quantitative` field, or a bin property object\n\nfor binning parameters.",oneOf:[{type:"boolean"},{$ref:"#/definitions/Bin",description:"Binning properties or boolean flag for determining whether to bin data or not."}]},aggregate:{$ref:"#/definitions/AggregateOp",description:"Aggregation function for the field\n\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`)."},title:{description:"Title for axis or legend.",type:"string"}}},Legend:{type:"object",properties:{format:{description:"An optional formatting pattern for legend labels. Vega uses D3\\'s format pattern.",type:"string"},title:{description:"A title for the legend. (Shows field name and its function by default.)",type:"string"},values:{description:"Explicitly set the visible legend values.",type:"array",items:{}},orient:{description:'The orientation of the legend. One of "left" or "right". This determines how the legend is positioned within the scene. The default is "right".',type:"string"},offset:{description:"The offset, in pixels, by which to displace the legend from the edge of the enclosing group or data rectangle.",type:"number"},padding:{description:"The padding, in pixels, between the lengend and axis.",type:"number"},margin:{description:"The margin around the legend, in pixels",type:"number"},gradientStrokeColor:{description:"The color of the gradient stroke, can be in hex color code or regular color name.",type:"string"},gradientStrokeWidth:{description:"The width of the gradient stroke, in pixels.",type:"number"},gradientHeight:{description:"The height of the gradient, in pixels.",type:"number"},gradientWidth:{description:"The width of the gradient, in pixels.",type:"number"},labelAlign:{description:"The alignment of the legend label, can be left, middle or right.",type:"string"},labelBaseline:{description:"The position of the baseline of legend label, can be top, middle or bottom.",type:"string"},labelColor:{description:"The color of the legend label, can be in hex color code or regular color name.",type:"string"},labelFont:{description:"The font of the lengend label.",type:"string"},labelFontSize:{description:"The font size of lengend lable.",type:"number"},labelOffset:{description:"The offset of the legend label.",type:"number"},shortTimeLabels:{description:"Whether month names and weekday names should be abbreviated.",type:"boolean"},symbolColor:{description:"The color of the legend symbol,",type:"string"},symbolShape:{description:"The shape of the legend symbol, can be the 'circle', 'square', 'cross', 'diamond',\n\n'triangle-up', 'triangle-down'.",type:"string"},symbolSize:{description:"The size of the lengend symbol, in pixels.",type:"number"},symbolStrokeWidth:{description:"The width of the symbol's stroke.",type:"number"},titleColor:{description:"Optional mark property definitions for custom legend styling.\n\nThe color of the legend title, can be in hex color code or regular color name.",type:"string"},titleFont:{description:"The font of the legend title.",type:"string"},titleFontSize:{description:"The font size of the legend title.",type:"number"},titleFontWeight:{description:"The font weight of the legend title.",type:"string"},properties:{description:"Optional mark property definitions for custom legend styling."}}},FieldDef:{type:"object",properties:{field:{description:"Name of the field from which to pull a data value.",type:"string"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\n\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`)\n\nor an initial character of the type name (`"Q"`, `"T"`, `"O"`, `"N"`).\n\nThis property is case insensitive.'},value:{description:"A constant value in visual domain.",oneOf:[{type:"number"},{type:"string"},{type:"boolean"}]},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`)."},bin:{description:"Flag for binning a `quantitative` field, or a bin property object\n\nfor binning parameters.",oneOf:[{type:"boolean"},{$ref:"#/definitions/Bin",description:"Binning properties or boolean flag for determining whether to bin data or not."}]},aggregate:{$ref:"#/definitions/AggregateOp",description:"Aggregation function for the field\n\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`)."},title:{description:"Title for axis or legend.",type:"string"}}},OrderChannelDef:{type:"object",properties:{sort:{$ref:"#/definitions/SortOrder"},field:{description:"Name of the field from which to pull a data value.",type:"string"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\n\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`)\n\nor an initial character of the type name (`"Q"`, `"T"`, `"O"`, `"N"`).\n\nThis property is case insensitive.'},value:{description:"A constant value in visual domain.",oneOf:[{type:"number"},{type:"string"},{type:"boolean"}]},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`)."},bin:{description:"Flag for binning a `quantitative` field, or a bin property object\n\nfor binning parameters.",oneOf:[{type:"boolean"},{$ref:"#/definitions/Bin",description:"Binning properties or boolean flag for determining whether to bin data or not."}]},aggregate:{$ref:"#/definitions/AggregateOp",description:"Aggregation function for the field\n\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`)."},title:{description:"Title for axis or legend.",type:"string"}}},Data:{type:"object",properties:{format:{$ref:"#/definitions/DataFormat",description:"An object that specifies the format for the data file or values."},url:{description:"A URL from which to load the data set. Use the formatType property\n\nto ensure the loaded data is correctly parsed.",type:"string"},values:{description:"Pass array of objects instead of a url to a file.",type:"array",items:{}}}},DataFormat:{type:"object",properties:{type:{$ref:"#/definitions/DataFormatType",description:'Type of input data: `"json"`, `"csv"`, `"tsv"`.\n\nThe default format type is determined by the extension of the file url.\n\nIf no extension is detected, `"json"` will be used by default.'},property:{description:'JSON only) The JSON property containing the desired data.\n\nThis parameter can be used when the loaded JSON file may have surrounding structure or meta-data.\n\nFor example `"property": "values.features"` is equivalent to retrieving `json.values.features`\n\nfrom the loaded JSON object.',type:"string"},feature:{description:'The name of the TopoJSON object set to convert to a GeoJSON feature collection.\n\nFor example, in a map of the world, there may be an object set named `"countries"`.\n\nUsing the feature property, we can extract this set and generate a GeoJSON feature object for each country.',type:"string"},mesh:{description:"The name of the TopoJSON object set to convert to a mesh.\n\nSimilar to the `feature` option, `mesh` extracts a named TopoJSON object set.\n\nUnlike the `feature` option, the corresponding geo data is returned as a single, unified mesh instance, not as inidividual GeoJSON features.\n\nExtracting a mesh is useful for more efficiently drawing borders or other geographic elements that you do not need to associate with specific regions such as individual countries, states or counties.",type:"string"}}},DataFormatType:{type:"string","enum":["json","csv","tsv","topojson"]},Transform:{type:"object",properties:{filter:{description:"A string containing the filter Vega expression. Use `datum` to refer to the current data object.",type:"string"},filterNull:{description:"Filter null values from the data. If set to true, all rows with null values are filtered. If false, no rows are filtered. Set the property to undefined to filter only quantitative and temporal fields.",type:"boolean"},calculate:{description:"Calculate new field(s) using the provided expresssion(s). Calculation are applied before filter.",type:"array",items:{$ref:"#/definitions/Formula",description:"Formula object for calculate."}}}},Formula:{type:"object",properties:{field:{description:"The field in which to store the computed formula value.",type:"string"},expr:{description:"A string containing an expression for the formula. Use the variable `datum` to to refer to the current data object.",type:"string"}},required:["field","expr"]},Projection:{type:"object",properties:{type:{type:"string"},center:{type:"array",items:{type:"number"}},translate:{type:"array",items:{type:"number"}},scale:{type:"number"},rotate:{description:"The rotation of the projection.",type:"number"},precision:{type:"number"},clipAngle:{type:"number"}}},Config:{type:"object",properties:{viewport:{description:"The width and height of the on-screen viewport, in pixels. If necessary, clipping and scrolling will be applied.",type:"number"},background:{description:'CSS color property to use as background of visualization. Default is `"transparent"`.',type:"string"},numberFormat:{description:'D3 Number format for axis labels and text tables. For example "s" for SI units.',type:"string"},timeFormat:{description:"Default datetime format for axis and legend labels. The format can be set directly on each axis and legend.",type:"string"},cell:{$ref:"#/definitions/CellConfig",description:"Cell Config"},mark:{$ref:"#/definitions/MarkConfig",description:"Mark Config"},overlay:{$ref:"#/definitions/OverlayConfig",description:"Mark Overlay Config"},scale:{$ref:"#/definitions/ScaleConfig",description:"Scale Config"},axis:{$ref:"#/definitions/AxisConfig",description:"Axis Config"},legend:{$ref:"#/definitions/LegendConfig",description:"Legend Config"},projection:{$ref:"#/definitions/Projection"},facet:{$ref:"#/definitions/FacetConfig",description:"Facet Config"}}},CellConfig:{type:"object",properties:{width:{type:"number"},height:{type:"number"},clip:{type:"boolean"},fill:{description:"The fill color.",format:"color",type:"string"},fillOpacity:{description:"The fill opacity (value between [0,1]).",type:"number"},stroke:{description:"The stroke color.",type:"string"},strokeOpacity:{description:"The stroke opacity (value between [0,1]).",type:"number"},strokeWidth:{description:"The stroke width, in pixels.",type:"number"},strokeDash:{description:"An array of alternating stroke, space lengths for creating dashed or dotted lines.",type:"array",items:{type:"number"}},strokeDashOffset:{description:"The offset (in pixels) into which to begin drawing with the stroke dash array.",type:"number"}}},MarkConfig:{type:"object",properties:{filled:{description:'Whether the shape\\\'s color should be used as fill color instead of stroke color.\n\nThis is only applicable for "bar", "point", and "area".\n\nAll marks except "point" marks are filled by default.\n\nSee Mark Documentation (http://vega.github.io/vega-lite/docs/marks.html)\n\nfor usage example.',type:"boolean"},color:{description:"Default color.",format:"color",type:"string"},fill:{description:"Default Fill Color.  This has higher precedence than config.color",format:"color",type:"string"},stroke:{description:"Default Stroke Color.  This has higher precedence than config.color",format:"color",type:"string"},opacity:{minimum:0,maximum:1,type:"number"},fillOpacity:{minimum:0,maximum:1,type:"number"},strokeOpacity:{minimum:0,maximum:1,type:"number"},strokeWidth:{minimum:0,type:"number"},strokeDash:{description:"An array of alternating stroke, space lengths for creating dashed or dotted lines.",type:"array",items:{type:"number"}},strokeDashOffset:{description:"The offset (in pixels) into which to begin drawing with the stroke dash array.",type:"number"},stacked:{$ref:"#/definitions/StackOffset"},orient:{description:"The orientation of a non-stacked bar, tick, area, and line charts.\n\nThe value is either horizontal (default) or vertical.\n\n- For bar, rule and tick, this determines whether the size of the bar and tick\n\nshould be applied to x or y dimension.\n\n- For area, this property determines the orient property of the Vega output.\n\n- For line, this property determines the sort order of the points in the line\n\nif `config.sortLineBy` is not specified.\n\nFor stacked charts, this is always determined by the orientation of the stack;\n\ntherefore explicitly specified value will be ignored.",type:"string"},interpolate:{$ref:"#/definitions/Interpolate",description:"The line interpolation method to use. One of linear, step-before, step-after, basis, basis-open, cardinal, cardinal-open, monotone."},tension:{description:"Depending on the interpolation type, sets the tension parameter.",type:"number"},lineSize:{description:"Size of line mark.",type:"number"},ruleSize:{description:"Size of rule mark.",type:"number"},barSize:{description:"The size of the bars.  If unspecified, the default size is  `bandSize-1`,\n\nwhich provides 1 pixel offset between bars.",type:"number"},barThinSize:{description:"The size of the bars on continuous scales.",type:"number"},shape:{$ref:"#/definitions/Shape",description:"The symbol shape to use. One of circle (default), square, cross, diamond, triangle-up, or triangle-down."},size:{description:"The pixel area each the point. For example: in the case of circles, the radius is determined in part by the square root of the size value.",type:"number"},tickSize:{description:"The width of the ticks.",type:"number"},tickThickness:{description:"Thickness of the tick mark.",type:"number"},align:{$ref:"#/definitions/HorizontalAlign",description:"The horizontal alignment of the text. One of left, right, center."},angle:{description:"The rotation angle of the text, in degrees.",type:"number"},baseline:{$ref:"#/definitions/VerticalAlign",description:"The vertical alignment of the text. One of top, middle, bottom."},dx:{description:"The horizontal offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the angle property.",type:"number"},dy:{description:"The vertical offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the angle property.",type:"number"},radius:{description:"Polar coordinate radial offset, in pixels, of the text label from the origin determined by the x and y properties.",type:"number"},theta:{description:'Polar coordinate angle, in radians, of the text label from the origin determined by the x and y properties. Values for theta follow the same convention of arc mark startAngle and endAngle properties: angles are measured in radians, with 0 indicating "north".',type:"number"},font:{description:"The typeface to set the text in (e.g., Helvetica Neue).",type:"string"},fontSize:{description:"The font size, in pixels.",type:"number"},fontStyle:{$ref:"#/definitions/FontStyle",description:"The font style (e.g., italic)."},fontWeight:{$ref:"#/definitions/FontWeight",description:"The font weight (e.g., bold)."},format:{description:"The formatting pattern for text value. If not defined, this will be determined automatically.",type:"string"},shortTimeLabels:{description:"Whether month names and weekday names should be abbreviated.",type:"boolean"},text:{description:"Placeholder Text",type:"string"},applyColorToBackground:{description:"Apply color field to background color instead of the text.",type:"boolean"}}},StackOffset:{type:"string","enum":["zero","center","normalize","none"]},Interpolate:{type:"string","enum":["linear","linear-closed","step","step-before","step-after","basis","basis-open","basis-closed","cardinal","cardinal-open","cardinal-closed","bundle","monotone"]},Shape:{type:"string","enum":["circle","square","cross","diamond","triangle-up","triangle-down"]},HorizontalAlign:{type:"string","enum":["left","right","center"]},VerticalAlign:{type:"string","enum":["top","middle","bottom"]},FontStyle:{type:"string","enum":["normal","italic"]},FontWeight:{type:"string","enum":["normal","bold"]},OverlayConfig:{type:"object",properties:{line:{description:"Whether to overlay line with point.",type:"boolean"},area:{$ref:"#/definitions/AreaOverlay",description:"Type of overlay for area mark (line or linepoint)"},pointStyle:{$ref:"#/definitions/MarkConfig",description:"Default style for the overlayed point."},lineStyle:{$ref:"#/definitions/MarkConfig",description:"Default style for the overlayed point."}}},AreaOverlay:{type:"string","enum":["line","linepoint","none"]},ScaleConfig:{type:"object",properties:{round:{description:"If true, rounds numeric output values to integers.\n\nThis can be helpful for snapping to the pixel grid.\n\n(Only available for `x`, `y`, `size`, `row`, and `column` scales.)",type:"boolean"},textBandWidth:{description:"Default band width for `x` ordinal scale when is mark is `text`.",minimum:0,type:"number"},bandSize:{description:"Default band size for (1) `y` ordinal scale,\n\nand (2) `x` ordinal scale when the mark is not `text`.",minimum:0,type:"number"},opacity:{description:"Default range for opacity.",type:"array",items:{type:"number"}},padding:{description:"Default padding for `x` and `y` ordinal scales.",type:"number"},useRawDomain:{description:'Uses the source data range as scale domain instead of aggregated data for aggregate axis.\n\nThis property only works with aggregate functions that produce values within the raw data domain (`"mean"`, `"average"`, `"stdev"`, `"stdevp"`, `"median"`, `"q1"`, `"q3"`, `"min"`, `"max"`). For other aggregations that produce values outside of the raw data domain (e.g. `"count"`, `"sum"`), this property is ignored.',type:"boolean"},nominalColorRange:{description:"Default range for nominal color scale",oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},sequentialColorRange:{description:"Default range for ordinal / continuous color scale",oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},shapeRange:{description:"Default range for shape",oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},barSizeRange:{description:"Default range for bar size scale",type:"array",items:{type:"number"}},fontSizeRange:{description:"Default range for font size scale",type:"array",items:{type:"number"}},ruleSizeRange:{description:"Default range for rule stroke widths",type:"array",items:{type:"number"}},tickSizeRange:{description:"Default range for tick spans",type:"array",items:{type:"number"}},pointSizeRange:{description:"Default range for bar size scale",type:"array",items:{type:"number"}}}},AxisConfig:{type:"object",properties:{axisWidth:{description:"Width of the axis line",type:"number"},layer:{description:"A string indicating if the axis (and any gridlines) should be placed above or below the data marks.",type:"string"},offset:{description:"The offset, in pixels, by which to displace the axis from the edge of the enclosing group or data rectangle.",type:"number"},axisColor:{description:"Color of axis line.",type:"string"},grid:{description:"A flag indicate if gridlines should be created in addition to ticks. If `grid` is unspecified, the default value is `true` for ROW and COL. For X and Y, the default value is `true` for quantitative and time fields and `false` otherwise.",type:"boolean"},gridColor:{description:"Color of gridlines.",type:"string"},gridDash:{description:"The offset (in pixels) into which to begin drawing with the grid dash array.",type:"array",items:{type:"number"}},gridOpacity:{description:"The stroke opacity of grid (value between [0,1])",type:"number"},gridWidth:{description:"The grid width, in pixels.",type:"number"},labels:{description:"Enable or disable labels.",type:"boolean"},labelAngle:{description:"The rotation angle of the axis labels.",type:"number"},labelAlign:{description:"Text alignment for the Label.",type:"string"},labelBaseline:{description:"Text baseline for the label.",type:"string"},labelMaxLength:{description:"Truncate labels that are too long.",minimum:1,type:"number"},shortTimeLabels:{description:"Whether month and day names should be abbreviated.",type:"boolean"},subdivide:{description:"If provided, sets the number of minor ticks between major ticks (the value 9 results in decimal subdivision). Only applicable for axes visualizing quantitative scales.",type:"number"},ticks:{description:'A desired number of ticks, for axes visualizing quantitative scales. The resulting number may be different so that values are "nice" (multiples of 2, 5, 10) and lie within the underlying scale\'s range.',minimum:0,type:"number"},tickColor:{description:"The color of the axis's tick.",type:"string"},tickLabelColor:{description:"The color of the tick label, can be in hex color code or regular color name.",type:"string"},tickLabelFont:{description:"The font of the tick label.",type:"string"},tickLabelFontSize:{description:"The font size of label, in pixels.",type:"number"},tickPadding:{description:"The padding, in pixels, between ticks and text labels.",type:"number"},tickSize:{description:"The size, in pixels, of major, minor and end ticks.",minimum:0,type:"number"},tickSizeMajor:{description:"The size, in pixels, of major ticks.",minimum:0,type:"number"},tickSizeMinor:{description:"The size, in pixels, of minor ticks.",minimum:0,type:"number"},tickSizeEnd:{description:"The size, in pixels, of end ticks.",minimum:0,type:"number"},tickWidth:{description:"The width, in pixels, of ticks.",type:"number"},titleColor:{description:"Color of the title, can be in hex color code or regular color name.",type:"string"},titleFont:{description:"Font of the title.",type:"string"},titleFontSize:{description:"Size of the title.",type:"number"},titleFontWeight:{description:"Weight of the title.",type:"string"},titleOffset:{description:"A title offset value for the axis.",type:"number"},titleMaxLength:{description:"Max length for axis title if the title is automatically generated from the field's description. By default, this is automatically based on cell size and characterWidth property.",minimum:0,type:"number"},characterWidth:{description:"Character width for automatically determining title max length.",type:"number"},properties:{description:"Optional mark property definitions for custom axis styling."}}},LegendConfig:{type:"object",properties:{orient:{description:'The orientation of the legend. One of "left" or "right". This determines how the legend is positioned within the scene. The default is "right".',type:"string"},offset:{description:"The offset, in pixels, by which to displace the legend from the edge of the enclosing group or data rectangle.",type:"number"},padding:{description:"The padding, in pixels, between the lengend and axis.",type:"number"},margin:{description:"The margin around the legend, in pixels",type:"number"},gradientStrokeColor:{description:"The color of the gradient stroke, can be in hex color code or regular color name.",type:"string"},gradientStrokeWidth:{description:"The width of the gradient stroke, in pixels.",type:"number"},gradientHeight:{description:"The height of the gradient, in pixels.",type:"number"},gradientWidth:{description:"The width of the gradient, in pixels.",type:"number"},labelAlign:{description:"The alignment of the legend label, can be left, middle or right.",type:"string"},labelBaseline:{description:"The position of the baseline of legend label, can be top, middle or bottom.",type:"string"},labelColor:{description:"The color of the legend label, can be in hex color code or regular color name.",type:"string"},labelFont:{description:"The font of the lengend label.",type:"string"},labelFontSize:{description:"The font size of lengend lable.",type:"number"},labelOffset:{description:"The offset of the legend label.",type:"number"},shortTimeLabels:{description:"Whether month names and weekday names should be abbreviated.",type:"boolean"},symbolColor:{description:"The color of the legend symbol,",type:"string"},symbolShape:{description:"The shape of the legend symbol, can be the 'circle', 'square', 'cross', 'diamond',\n\n'triangle-up', 'triangle-down'.",type:"string"},symbolSize:{description:"The size of the lengend symbol, in pixels.",type:"number"},symbolStrokeWidth:{description:"The width of the symbol's stroke.",type:"number"},titleColor:{description:"Optional mark property definitions for custom legend styling.\n\nThe color of the legend title, can be in hex color code or regular color name.",type:"string"},titleFont:{description:"The font of the legend title.",type:"string"},titleFontSize:{description:"The font size of the legend title.",type:"number"},titleFontWeight:{description:"The font weight of the legend title.",type:"string"},properties:{description:"Optional mark property definitions for custom legend styling."}}},FacetConfig:{type:"object",properties:{scale:{$ref:"#/definitions/FacetScaleConfig",description:"Facet Scale Config"},axis:{$ref:"#/definitions/AxisConfig",description:"Facet Axis Config"},grid:{$ref:"#/definitions/FacetGridConfig",description:"Facet Grid Config"},cell:{$ref:"#/definitions/CellConfig",description:"Facet Cell Config"}}},FacetScaleConfig:{type:"object",properties:{round:{type:"boolean"},padding:{type:"number"}}},FacetGridConfig:{type:"object",properties:{color:{format:"color",type:"string"},opacity:{type:"number"},offset:{type:"number"}}},FacetSpec:{type:"object",properties:{facet:{$ref:"#/definitions/Facet"},spec:{oneOf:[{$ref:"#/definitions/LayerSpec"},{$ref:"#/definitions/UnitSpec"}]},name:{description:"Name of the visualization for later reference.",type:"string"},description:{description:"An optional description of this mark for commenting purpose.\n\nThis property has no effect on the output visualization.",type:"string"},data:{$ref:"#/definitions/Data",
description:"An object describing the data source"},transform:{$ref:"#/definitions/Transform",description:"An object describing filter and new field calculation."},projection:{$ref:"#/definitions/Projection"},config:{$ref:"#/definitions/Config",description:"Configuration object"}},required:["facet","spec"]},Facet:{type:"object",properties:{row:{$ref:"#/definitions/PositionChannelDef"},column:{$ref:"#/definitions/PositionChannelDef"}}},LayerSpec:{type:"object",properties:{layers:{description:"Unit specs that will be layered.",type:"array",items:{$ref:"#/definitions/UnitSpec"}},name:{description:"Name of the visualization for later reference.",type:"string"},description:{description:"An optional description of this mark for commenting purpose.\n\nThis property has no effect on the output visualization.",type:"string"},data:{$ref:"#/definitions/Data",description:"An object describing the data source"},transform:{$ref:"#/definitions/Transform",description:"An object describing filter and new field calculation."},projection:{$ref:"#/definitions/Projection"},config:{$ref:"#/definitions/Config",description:"Configuration object"}},required:["layers"]},UnitSpec:{type:"object",properties:{mark:{$ref:"#/definitions/Mark",description:'The mark type.\n\nOne of `"bar"`, `"circle"`, `"square"`, `"tick"`, `"line"`,\n\n`"area"`, `"point"`, `"rule"`, and `"text"`.'},encoding:{$ref:"#/definitions/UnitEncoding",description:"A key-value mapping between encoding channels and definition of fields."},name:{description:"Name of the visualization for later reference.",type:"string"},description:{description:"An optional description of this mark for commenting purpose.\n\nThis property has no effect on the output visualization.",type:"string"},data:{$ref:"#/definitions/Data",description:"An object describing the data source"},transform:{$ref:"#/definitions/Transform",description:"An object describing filter and new field calculation."},projection:{$ref:"#/definitions/Projection"},config:{$ref:"#/definitions/Config",description:"Configuration object"}},required:["mark"]},UnitEncoding:{type:"object",properties:{x:{$ref:"#/definitions/PositionChannelDef",description:"X coordinates for `point`, `circle`, `square`,\n\n`line`, `rule`, `text`, and `tick`\n\n(or to width and height for `bar` and `area` marks)."},y:{$ref:"#/definitions/PositionChannelDef",description:"Y coordinates for `point`, `circle`, `square`,\n\n`line`, `rule`, `text`, and `tick`\n\n(or to width and height for `bar` and `area` marks)."},x2:{$ref:"#/definitions/PositionChannelDef",description:"X2 coordinates for ranged `bar`, `rule`, `area`"},y2:{$ref:"#/definitions/PositionChannelDef",description:"Y2 coordinates for ranged `bar`, `rule`, `area`"},color:{$ref:"#/definitions/ChannelDefWithLegend",description:"Color of the marks – either fill or stroke color based on mark type.\n\n(By default, fill color for `area`, `bar`, `tick`, `text`, `circle`, and `square` /\n\nstroke color for `line` and `point`.)"},opacity:{$ref:"#/definitions/ChannelDefWithLegend",description:"Opacity of the marks – either can be a value or in a range."},size:{$ref:"#/definitions/ChannelDefWithLegend",description:"Size of the mark.\n\n- For `point`, `square` and `circle`\n\n– the symbol size, or pixel area of the mark.\n\n- For `bar` and `tick` – the bar and tick's size.\n\n- For `text` – the text's font size.\n\n- Size is currently unsupported for `line` and `area`."},shape:{$ref:"#/definitions/ChannelDefWithLegend",description:'The symbol\'s shape (only for `point` marks). The supported values are\n\n`"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`,\n\nor `"triangle-down"`.'},detail:{description:"Additional levels of detail for grouping data in aggregate views and\n\nin line and area marks without mapping data to a specific visual channel.",oneOf:[{$ref:"#/definitions/FieldDef",description:"Interface for any kind of FieldDef;\n\nFor simplicity, we do not declare multiple interfaces of FieldDef like\n\nwe do for JSON schema."},{type:"array",items:{$ref:"#/definitions/FieldDef",description:"Interface for any kind of FieldDef;\n\nFor simplicity, we do not declare multiple interfaces of FieldDef like\n\nwe do for JSON schema."}}]},text:{$ref:"#/definitions/FieldDef",description:"Text of the `text` mark."},label:{$ref:"#/definitions/FieldDef"},geopath:{$ref:"#/definitions/FieldDef"},path:{description:"Order of data points in line marks.",oneOf:[{$ref:"#/definitions/OrderChannelDef"},{type:"array",items:{$ref:"#/definitions/OrderChannelDef"}}]},order:{description:"Layer order for non-stacked marks, or stack order for stacked marks.",oneOf:[{$ref:"#/definitions/OrderChannelDef"},{type:"array",items:{$ref:"#/definitions/OrderChannelDef"}}]}}}},$schema:"http://json-schema.org/draft-04/schema#"}}(),function(){"use strict";angular.module("vlui",["LocalStorageModule","angular-google-analytics"]).constant("_",window._).constant("dl",window.dl).constant("vl",window.vl).constant("vlSchema",window.vlSchema).constant("vg",window.vg).constant("Blob",window.Blob).constant("URL",window.URL).constant("Drop",window.Drop).constant("Heap",window.Heap).constant("JSON3",window.JSON3.noConflict()).constant("consts",{addCount:!0,debug:!0,useUrl:!0,logging:!0,defaultConfigSet:"large",appId:"vlui",embeddedData:window.vguiData||void 0,priority:{bookmark:0,popup:0,vislist:1e3},myriaRest:"http://ec2-52-1-38-182.compute-1.amazonaws.com:8753",defaultTimeFn:"year",typeNames:{nominal:"text",ordinal:"text-ordinal",quantitative:"number",temporal:"time",geographic:"geo"}})}(),function(){angular.module("vlui").run(["$templateCache",function(t){t.put("alertmessages/alertmessages.html",'<div class="alert-box" ng-show="Alerts.alerts.length > 0"><div class="alert-item" ng-repeat="alert in Alerts.alerts">{{ alert.msg }} <a class="close" ng-click="Alerts.closeAlert($index)">&times;</a></div></div>'),t.put("bookmarklist/bookmarklist.html",'<modal id="bookmark-list" ng-if="Bookmarks.isSupported"><div class="modal-header card no-top-margin no-right-margin"><modal-close-button on-close="logBookmarksClosed()"></modal-close-button><h2 class="no-bottom-margin">Bookmarks ({{ Bookmarks.length }})</h2><a ng-click="Bookmarks.clear()"><i class="fa fa-trash-o"></i> Clear all</a></div><div class="flex-grow-1 scroll-y"><div ng-if="Bookmarks.length > 0" class="hflex flex-wrap"><vl-plot-group ng-repeat="chart in Bookmarks.dict | orderObjectBy : \'timeAdded\' : false" class="wrapped-vl-plot-group card" chart="chart" field-set="chart.fieldSet" show-bookmark="true" show-debug="consts.debug" show-expand="false" always-selected="true" highlighted="highlighted" overflow="true" tooltip="true" priority="consts.priority.bookmark"></vl-plot-group></div><div class="vis-list-empty" ng-if="Bookmarks.length === 0">You have no bookmarks</div></div></modal>'),t.put("dataset/addmyriadataset.html",'<div class="add-myria-dataset"><p>Select a dataset from the Myria instance at <input ng-model="myriaRestUrl"><button ng-click="loadDatasets(\'\')">update</button>.</p><form ng-submit="addDataset(myriaDataset)"><div><select name="myria-dataset" id="select-myria-dataset" ng-disabled="disabled" ng-model="myriaDataset" ng-options="optionName(dataset) for dataset in myriaDatasets track by dataset.relationName"><option value="">Select Dataset...</option></select></div><button type="submit">Add dataset</button></form></div>'),t.put("dataset/addurldataset.html",'<div class="add-url-dataset"><p>Add the name of the dataset and the URL to a <b>JSON</b> or <b>CSV</b> (with header) file. Make sure that the formatting is correct and clean the data before adding it. The added dataset is only visible to you.</p><form ng-submit="addFromUrl(addedDataset)"><div class="form-group"><label for="dataset-name">Name</label> <input ng-model="addedDataset.name" id="dataset-name" type="text"></div><div class="form-group"><label for="dataset-url">URL</label> <input ng-model="addedDataset.url" id="dataset-url" type="url"><p>Make sure that you host the file on a server that has <code>Access-Control-Allow-Origin: *</code> set.</p></div><button type="submit">Add dataset</button></form></div>'),t.put("dataset/changeloadeddataset.html",'<div class="change-loaded-dataset"><div ng-if="userData.length"><h3>Uploaded Datasets</h3><ul><li ng-repeat="dataset in userData track by dataset.id" ng-class="{selected: Dataset.currentDataset.id === dataset.id}"><a class="dataset" ng-click="selectDataset(dataset)" ng-disabled="Dataset.currentDataset.id === dataset.id"><i class="fa fa-database"></i> <strong>{{dataset.name}}</strong></a> <span ng-if="dataset.description">{{dataset.description}}</span> <strong ng-if="Dataset.currentDataset === dataset">(selected)</strong></li></ul></div><h3>Explore a Sample Dataset</h3><ul class="loaded-dataset-list"><li ng-repeat="dataset in sampleData track by dataset.id" ng-class="{selected: Dataset.currentDataset.id === dataset.id}"><a class="dataset" ng-click="selectDataset(dataset)" ng-disabled="Dataset.currentDataset.id === dataset.id"><i class="fa fa-database"></i> <strong>{{dataset.name}}</strong></a> <strong ng-if="Dataset.currentDataset === dataset">(selected)</strong> <em ng-if="dataset.description">{{dataset.description}}</em></li></ul></div>'),t.put("dataset/datasetmodal.html",'<modal id="dataset-modal" max-width="800px"><div class="modal-header"><modal-close-button></modal-close-button><h2>Add Dataset</h2></div><div class="modal-main"><tabset><tab heading="Change Dataset"><change-loaded-dataset></change-loaded-dataset></tab><tab heading="Paste or Upload Data"><paste-dataset></paste-dataset></tab><tab heading="From URL"><add-url-dataset></add-url-dataset></tab><tab heading="From Myria"><add-myria-dataset></add-myria-dataset></tab></tabset></div></modal>'),t.put("dataset/datasetselector.html",'<button id="select-data" class="small-button select-data" ng-click="loadDataset();">Change</button>'),t.put("dataset/filedropzone.html",'<div class="dropzone" ng-transclude=""></div>'),t.put("dataset/pastedataset.html",'<div class="paste-data"><file-dropzone dataset="dataset" max-file-size="10" valid-mime-types="[text/csv, text/json, text/tsv]"><div class="upload-data"><div class="form-group"><label for="dataset-file">File</label> <input type="file" id="dataset-file" accept="text/csv,text/tsv"></div><p>Upload a CSV, or paste data in <a href="https://en.wikipedia.org/wiki/Comma-separated_values">CSV</a> format into the fields.</p><div class="dropzone-target"><p>Drop CSV file here</p></div></div><form ng-submit="addDataset()"><div class="form-group"><label for="dataset-name">Name</label> <input type="name" ng-model="dataset.name" id="dataset-name" required=""></div><div class="form-group"><textarea ng-model="dataset.data" ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 17, \'blur\': 0 }}" required="">\n      </textarea></div><button type="submit">Add data</button></form></file-dropzone></div>'),t.put("fieldinfo/fieldinfo.html",'<span class="field-info"><span class="hflex full-width" ng-click="clicked($event)"><span class="type-caret" ng-class="{active: !disableCountCaret || fieldDef.aggregate!==\'count\'}"><i class="fa fa-caret-down" ng-show="showCaret"></i> <span class="type fa {{icon}}" ng-show="showType" title="{{typeNames[fieldDef.type]}}"></span></span> <span ng-if="fieldDef.aggregate!==\'count\'" class="field-info-text"><span ng-if="func(fieldDef)" class="field-func" ng-class="{any: fieldDef._any}">{{ func(fieldDef) }}</span><span class="field-name" ng-class="{hasfunc: func(fieldDef), any: fieldDef._any}">{{ fieldDef.field | underscore2space }}</span></span> <span ng-if="fieldDef.aggregate===\'count\'" class="field-count field-info-text"><span class="field-name">COUNT</span></span> <span class="no-shrink remove" ng-show="showRemove"><a class="remove-field" ng-click="removeAction()"><i class="fa fa-times"></i></a></span> <span class="no-shrink info" ng-show="showInfo"><i ng-if="fieldDef.aggregate !== \'count\' && containsType([vlType.NOMINAL, vlType.ORDINAL], fieldDef.type)" class="fa fa-info-circle" tooltips="" tooltip-size="small" tooltip-html="<div class=\'tooltip-content\'> <strong>Name:</strong> {{fieldDef.field}}<br> <strong>Cardinality:</strong> {{stats.distinct | number}}<br> <strong>Min:</strong> {{stats.min}}<br> <strong>Max:</strong> {{stats.max}}<br> <strong>Sample:</strong> <span class=\'sample\'>{{stats.sample.join(\', \')}}</span> </div>" tooltip-side="right"></i> <i ng-if="fieldDef.aggregate !== \'count\' && fieldDef.type === vlType.TEMPORAL" class="fa fa-info-circle" tooltips="" tooltip-size="small" tooltip-html="<div class=\'tooltip-content\'> <strong>Name:</strong> {{fieldDef.field}}<br> <strong>Cardinality:</strong> {{stats.distinct | number}}<br> <strong>Min:</strong> {{stats.min | date: short}}<br> <strong>Max:</strong> {{stats.max | date: short}}<br> <strong>Sample:</strong> <span class=\'sample\'>{{stats.sample.join(\', \')}}</span> </div>" tooltip-side="right"></i> <i ng-if="fieldDef.aggregate !== \'count\' && fieldDef.type === vlType.QUANTITATIVE" class="fa fa-info-circle" tooltips="" tooltip-size="small" tooltip-html="<div class=\'tooltip-content\'> <strong>Name:</strong> {{fieldDef.field}}<br> <strong>Cardinality:</strong> {{stats.distinct | number}}<br> <strong>Min:</strong> {{stats.min | number}}<br> <strong>Max:</strong> {{stats.max | number}}<br> <strong>Stdev:</strong> {{stats.stdev | number:2}}<br> <strong>Mean:</strong> {{stats.mean | number:2}}<br> <strong>Median:</strong> {{stats.median | number}}<br> <strong>Sample:</strong> <span class=\'sample\'>{{stats.sample.join(\', \')}}</span> </div>" tooltip-side="right"></i><i ng-if="fieldDef.aggregate === \'count\'" class="fa fa-info-circle" tooltips="" tooltip-size="small" tooltip-html="<div class=\'tooltip-content\'> <strong>Count:</strong> {{stats.max}} </div>" tooltip-side="right"></i></span></span></span>'),t.put("modal/modal.html",'<div class="modal" ng-if="isOpen"><div class="modal-wrapper" style="{{wrapperStyle}}" ng-transclude=""></div></div>'),t.put("modal/modalclosebutton.html",'<div class="right"><a ng-click="closeModal()" class="right">Close</a></div>'),t.put("tabs/tab.html",'<div ng-if="active" ng-transclude=""></div>'),t.put("tabs/tabset.html",'<div class="tab-container"><div><a class="tab" ng-repeat="tab in tabset.tabs" ng-class="{\'active\': tab.active}" ng-click="tabset.showTab(tab)">{{tab.heading}}</a></div><div class="tab-contents" ng-transclude=""></div></div>'),t.put("vlplot/vlplot.html",'<div class="vl-plot" id="vis-{{visId}}" ng-class="{ fit: !alwaysScrollable && !overflow && (maxHeight && (!height || height <= maxHeight)) && (maxWidth && (!width || width <= maxWidth)), overflow: alwaysScrollable || overflow || (maxHeight && height && height > maxHeight) || (maxWidth && width && width > maxWidth), scroll: alwaysScrollable || unlocked || hoverFocus }" ng-mousedown="unlocked=!thumbnail" ng-mouseup="unlocked=false" ng-mouseover="mouseover()" ng-mouseout="mouseout()"><div class="vis-tooltip" ng-show="tooltipActive"><table><tr ng-repeat="p in data"><td class="key">{{p[0]}}</td><td class="value"><b>{{p[1]}}</b></td></tr></table></div></div>'),t.put("vlplotgroup/vlplotgroup.html",'<div class="vl-plot-group vflex"><div ng-show="showExpand || fieldSet || showTranspose || showBookmark && Bookmarks.isSupported || showToggle" class="vl-plot-group-header no-shrink"><div class="field-set-info"><field-info ng-repeat="fieldDef in fieldSet" ng-if="fieldSet" field-def="fieldDef" show-type="true" ng-class="{ selected: alwaysSelected || (isSelected && isSelected(fieldDef.field)), unselected: isSelected && !isSelected(fieldDef.field), highlighted: (highlighted||{})[fieldDef.field] }" ng-mouseover="(highlighted||{})[fieldDef.field] = true" ng-mouseout="(highlighted||{})[fieldDef.field] = false"></field-info></div><div class="toolbox"><a ng-if="consts.debug && showDebug" class="command debug"><i class="fa fa-wrench" ng-click="shCopied=\'\'; vlCopied=\'\'; vgCopied=\'\';" ng-mouseover="initializePopup();"></i></a><vl-plot-group-popup ng-if="consts.debug && showDebug && renderPopup"></vl-plot-group-popup><a ng-if="showMark" class="command disabled"><i class="fa fa-font"></i> <i class="fa fa-line-chart"></i> <i class="fa fa-area-chart"></i> <i class="fa fa-bar-chart"></i> <i class="fa fa-circle-o"></i></a> <a ng-if="showLog && chart.vlSpec && log.support(chart.vlSpec, \'x\')" class="command" ng-click="log.toggle(chart.vlSpec, \'x\')" ng-class="{active: log.active(chart.vlSpec, \'x\')}"><i class="fa fa-long-arrow-right"></i> <small>Log X</small></a> <a ng-if="showLog && chart.vlSpec && log.support(chart.vlSpec, \'y\')" class="command" ng-click="log.toggle(chart.vlSpec, \'y\')" ng-class="{active: log.active(chart.vlSpec, \'y\')}"><i class="fa fa-long-arrow-up"></i> <small>Log Y</small></a> <a ng-if="showSort && chart.vlSpec && toggleSort.support(chart.vlSpec, Dataset.stats)" class="command" ng-click="toggleSort.toggle(chart.vlSpec)"><i class="fa sort" ng-class="toggleSortClass(chart.vlSpec)"></i> <small ng-if="showLabel">Sort</small></a> <a ng-if="showFilterNull && chart.vlSpec && toggleFilterNull.support(chart.vlSpec, Dataset.stats)" class="command" ng-click="toggleFilterNull(chart.vlSpec)" ng-class="{active: chart.vlSpec && chart.vlSpec.cfg.filterNull.O}"><i class="fa fa-filter"></i> <small ng-if="showLabel">Filter</small> <small>NULL</small></a> <a ng-if="showTranspose" class="command" ng-click="transpose()"><i class="fa fa-refresh transpose"></i> <small ng-if="showLabel">Swap X/Y</small></a> <a ng-if="showBookmark && Bookmarks.isSupported" class="command" ng-click="Bookmarks.toggle(chart)" ng-class="{disabled: !chart.vlSpec.encoding, active: Bookmarks.isBookmarked(chart.shorthand)}"><i class="fa fa-bookmark"></i> <small ng-if="showLabel">Bookmark</small></a> <a ng-if="showExpand" ng-click="expandAction()" class="command"><i class="fa fa-expand"></i></a></div></div><vl-plot class="flex-grow-1" data-fieldset="{fieldSet.key}}" chart="chart" disabled="disabled" is-in-list="isInList" always-scrollable="alwaysScrollable" config-set="{{configSet||\'small\'}}" max-height="maxHeight" max-width="maxWidth" overflow="overflow" priority="priority" rescale="rescale" thumbnail="thumbnail" tooltip="tooltip"></vl-plot></div>'),t.put("vlplotgroup/vlplotgrouppopup.html",'<div class="drop-container"><div class="popup-menu popup-command no-shrink dev-tool"><div class="command debug"><span class="debug">Vls</span> <a class="debug" ui-zeroclip="" zeroclip-copied="shCopied=\'(Copied)\'" zeroclip-model="chart.shorthand">Copy</a> / <a class="debug" ng-click="logCode(\'VL shorthand\', chart.shorthand); shCopied=\'(Logged)\';">Log</a> <span>{{shCopied}}</span></div><div class="command debug"><span class="debug">Vl</span> <a class="debug" ui-zeroclip="" zeroclip-copied="vlCopied=\'(Copied)\'" zeroclip-model="chart.cleanSpec | compactJSON">Copy</a> / <a class="debug" ng-click="logCode(\'Vega-Lite\', chart.cleanSpec); vlCopied=\'(Logged)\';">Log</a> <span>{{vlCopied}}</span></div><div class="command debug"><span class="debug">Vg</span> <a class="debug" ui-zeroclip="" zeroclip-copied="vgCopied=\'(Copied)\'" zeroclip-model="chart.vgSpec | compactJSON">Copy</a> / <a class="debug" ng-click="logCode(\'Vega\', chart.vgSpec); vgCopied=\'(Logged)\';">Log</a> <span>{{vgCopied}}</span></div><a class="command debug" ng-href="{{ {type:\'vl\', spec: chart.cleanSpec} | reportUrl }}" target="_blank">Report Bad Render</a> <a ng-click="showFeature=!showFeature" class="command debug">{{chart.score}}</a><div ng-repeat="f in chart.scoreFeatures track by f.reason">[{{f.score}}] {{f.reason}}</div></div></div>')}])}(),function(){"use strict";angular.module("vlui").directive("alertMessages",["Alerts",function(t){return{templateUrl:"alertmessages/alertmessages.html",restrict:"E",scope:{},link:function(e){e.Alerts=t}}}])}(),function(){"use strict";angular.module("vlui").service("Alerts",["$timeout","_",function(t,e){var n={};return n.alerts=[],n.add=function(i,r){var o={msg:i};n.alerts.push(o),r&&t(function(){var t=e.findIndex(n.alerts,o);n.closeAlert(t)},r)},n.closeAlert=function(t){n.alerts.splice(t,1)},n}])}(),function(){"use strict";angular.module("vlui").directive("bookmarkList",["Bookmarks","consts","Logger",function(t,e,n){return{templateUrl:"bookmarklist/bookmarklist.html",restrict:"E",replace:!0,scope:{highlighted:"="},link:function(i){n.logInteraction(n.actions.BOOKMARK_OPEN),i.logBookmarksClosed=function(){n.logInteraction(n.actions.BOOKMARK_CLOSE)},i.Bookmarks=t,i.consts=e}}}])}(),function(){"use strict";angular.module("vlui").service("Bookmarks",["_","vl","localStorageService","Logger","Dataset",function(t,e,n,i,r){var o=function(){this.dict={},this.length=0,this.isSupported=n.isSupported},a=o.prototype;return a.updateLength=function(){this.length=Object.keys(this.dict).length},a.save=function(){n.set("bookmarks",this.dict)},a.load=function(){this.dict=n.get("bookmarks")||{},this.updateLength()},a.clear=function(){this.dict={},this.updateLength(),this.save(),i.logInteraction(i.actions.BOOKMARK_CLEAR)},a.toggle=function(t){var e=t.shorthand;this.dict[e]?this.remove(t):this.add(t)},a.add=function(e){var n=e.shorthand;console.log("adding",e.vlSpec,n),e.timeAdded=(new Date).getTime(),e.stats=r.stats,this.dict[n]=t.cloneDeep(e),this.updateLength(),this.save(),i.logInteraction(i.actions.BOOKMARK_ADD,n)},a.remove=function(t){var e=t.shorthand;console.log("removing",t.vlSpec,e),delete this.dict[e],this.updateLength(),this.save(),i.logInteraction(i.actions.BOOKMARK_REMOVE,e)},a.isBookmarked=function(t){return t in this.dict},new o}])}(),function(){"use strict";angular.module("vlui").factory("Config",function(){var t={};return t.data={},t.config={},t.getConfig=function(){return{}},t.getData=function(){return t.data},t.large=function(){return{cell:{width:400,height:400},facet:{cell:{width:200,height:200}}}},t.small=function(){return{facet:{cell:{width:150,height:150}}}},t.updateDataset=function(e,n){e.values?(t.data.values=e.values,delete t.data.url,t.data.formatType=void 0):(t.data.url=e.url,delete t.data.values,t.data.formatType=n)},t})}(),function(){"use strict";angular.module("vlui").directive("addMyriaDataset",["$http","Dataset","consts",function(t,e,n){return{templateUrl:"dataset/addmyriadataset.html",restrict:"E",require:"?^^modal",replace:!0,scope:!0,link:function(i,r,o,a){function s(){a&&a.close()}i.myriaRestUrl=n.myriaRest,i.myriaDatasets=[],i.myriaDataset=null,i.loadDatasets=function(e){return t.get(i.myriaRestUrl+"/dataset/search/?q="+e).then(function(t){i.myriaDatasets=t.data})},i.loadDatasets(""),i.optionName=function(t){return t.userName+":"+t.programName+":"+t.relationName},i.addDataset=function(t){var n={group:"myria",name:t.relationName,url:i.myriaRestUrl+"/dataset/user-"+t.userName+"/program-"+t.programName+"/relation-"+t.relationName+"/data?format=json"};e.type="json",e.dataset=e.add(n),e.update(e.dataset),s()}}}}])}(),function(){"use strict";angular.module("vlui").directive("addUrlDataset",["Dataset","Logger",function(t,e){return{templateUrl:"dataset/addurldataset.html",restrict:"E",require:"?^^modal",replace:!0,scope:!0,link:function(n,i,r,o){function a(){o&&o.close()}n.addedDataset={group:"user"},n.addFromUrl=function(n){e.logInteraction(e.actions.DATASET_NEW_URL,n.url),t.dataset=t.add(n),t.update(t.dataset),a()}}}}])}(),function(){"use strict";angular.module("vlui").filter("inGroup",["_",function(t){return function(e,n){return t.where(e,{group:n})}}]),angular.module("vlui").directive("changeLoadedDataset",["Dataset","_",function(t,e){return{templateUrl:"dataset/changeloadeddataset.html",restrict:"E",require:"?^^modal",replace:!0,scope:!0,link:function(n,i,r,o){function a(){o&&o.close()}n.Dataset=t,n.userData=e.filter(t.datasets,function(t){return"sample"!==t.group}),n.sampleData=e.where(t.datasets,{group:"sample"}),n.$watch(function(){return t.datasets.length},function(){n.userData=e.filter(t.datasets,function(t){return"sample"!==t.group})}),n.selectDataset=function(e){t.update(e),a()}}}}])}(),function(){"use strict";function t(t){return t.reduce(function(t,e){return t[e.field]=e,t},{})}angular.module("vlui").factory("Dataset",["$http","$q","Alerts","_","dl","vl","SampleData","Config","Logger",function(e,n,i,r,o,a,s,u,l){var c={},f=s;c.datasets=f,c.dataset=f[1],c.currentDataset=void 0,c.dataschema=[],c.dataschema.byName={},c.stats={},c.type=void 0;var h={nominal:0,ordinal:0,geographic:2,temporal:3,quantitative:4};return c.fieldOrderBy={},c.fieldOrderBy.type=function(t){return"count"===t.aggregate?4:h[t.type]},c.fieldOrderBy.typeThenName=function(t){return c.fieldOrderBy.type(t)+"_"+("count"===t.aggregate?"~":t.field.toLowerCase())},c.fieldOrderBy.original=function(){return 0},c.fieldOrderBy.field=function(t){return t.field},c.fieldOrderBy.cardinality=function(t,e){return e[t.field].distinct},c.fieldOrder=c.fieldOrderBy.typeThenName,c.getSchema=function(t,e,n){var i=o.type.inferAll(t),s=r.reduce(i,function(t,n,i){var r={field:i,type:a.data.types[n],primitiveType:n};return r.type===a.type.QUANTITATIVE&&e[r.field].distinct<=5&&(r.type=a.type.ORDINAL),t.push(r),t},[]);return s=o.stablesort(s,n||c.fieldOrderBy.typeThenName,c.fieldOrderBy.field),s.push(a.fieldDef.count()),s},c.onUpdate=[],c.update=function(t){var i;return l.logInteraction(l.actions.DATASET_CHANGE,t.name),i=t.values?n(function(e,n){c.type=void 0,c.updateFromData(t,t.values),e()}):e.get(t.url,{cache:!0}).then(function(e){var n;r.isObject(e.data)?(n=e.data,c.type="json"):(n=o.read(e.data,{type:"csv"}),c.type="csv"),c.updateFromData(t,n)}),c.onUpdate.forEach(function(t){i=i.then(t)}),i.then(function(){u.updateDataset(t,c.type)}),i},c.updateFromData=function(e,n){c.data=n,c.currentDataset=e,c.stats=o.summary(n).reduce(function(t,e){return t[e.field]=e,t},{"*":{max:n.length,min:0}});for(var i in c.stats)"*"!==i&&(c.stats[i].sample=r.sample(r.map(c.data,i),7));c.dataschema=c.getSchema(c.data,c.stats),c.dataschema.byName=t(c.dataschema)},c.add=function(t){return t.id||(t.id=t.url),f.push(t),t},c}])}(),function(){"use strict";angular.module("vlui").directive("datasetModal",function(){return{templateUrl:"dataset/datasetmodal.html",restrict:"E",scope:!1}})}(),function(){"use strict";angular.module("vlui").directive("datasetSelector",["Modals","Logger",function(t,e){return{templateUrl:"dataset/datasetselector.html",restrict:"E",replace:!0,scope:{},link:function(n){n.loadDataset=function(){e.logInteraction(e.actions.DATASET_OPEN),t.open("dataset-modal")}}}}])}(),function(){"use strict";angular.module("vlui").constant("FileReader",window.FileReader).directive("fileDropzone",["Modals","Alerts","FileReader",function(t,e,n){function i(t,e){return!e||t/1024/1024<+e}function r(t,e){return!e||e.indexOf(t)>-1}return{templateUrl:"dataset/filedropzone.html",replace:!0,restrict:"E",transclude:!0,scope:{maxFileSize:"@",validMimeTypes:"@",dataset:"="},link:function(t,o){function a(o){if(!r(o.type,t.validMimeTypes))return void t.$apply(function(){e.add("Invalid file type. File must be one of following types: "+t.validMimeTypes)});if(!i(o.size,t.maxFileSize))return void t.$apply(function(){e.add("File must be smaller than "+t.maxFileSize+" MB")});var a=new n;a.onload=function(e){return t.$apply(function(t){t.dataset.data=e.target.result,t.dataset.name=o.name.replace(/\.\w+$/,"")})},a.onerror=function(){e.add("Error reading file")},a.readAsText(o)}t.dataset=t.dataset||{},o.on("dragover dragenter",function(t){t&&t.preventDefault(),t.originalEvent.dataTransfer.effectAllowed="copy"}),o.on("drop",function(t){t&&t.preventDefault(),a(t.originalEvent.dataTransfer.files[0])}),o.find('input[type="file"]').on("change",function(){a(this.files[0])})}}}])}(),function(){"use strict";angular.module("vlui").directive("pasteDataset",["Dataset","Logger","Config","_","dl",function(t,e,n,i,r){return{templateUrl:"dataset/pastedataset.html",restrict:"E",require:"?^^modal",replace:!0,scope:!0,link:function(n,i,o,a){function s(){a&&a.close()}n.dataset={name:"",data:""},n.addDataset=function(){var i=r.read(n.dataset.data,{type:"csv"}),o={id:Date.now(),name:n.dataset.name,values:i,group:"pasted"};e.logInteraction(e.actions.DATASET_NEW_PASTE,o.name),t.dataset=t.add(o),t.update(t.dataset),s()}}}}])}(),function(){"use strict";angular.module("vlui").constant("SampleData",[{name:"Barley",description:"Barley yield by variety across the upper midwest in 1931 and 1932",url:"data/barley.json",id:"barley",group:"sample"},{name:"Cars",description:"Automotive statistics for a variety of car models between 1970 & 1982",url:"data/cars.json",id:"cars",group:"sample"},{name:"Crimea",url:"data/crimea.json",id:"crimea",group:"sample"},{name:"Driving",url:"data/driving.json",id:"driving",group:"sample"},{name:"Iris",url:"data/iris.json",id:"iris",group:"sample"},{name:"Jobs",url:"data/jobs.json",id:"jobs",group:"sample"},{name:"Population",url:"data/population.json",id:"population",group:"sample"},{name:"Movies",url:"data/movies.json",id:"movies",group:"sample"},{name:"Birdstrikes",url:"data/birdstrikes.json",id:"birdstrikes",group:"sample"},{name:"Burtin",url:"data/burtin.json",id:"burtin",group:"sample"},{name:"Campaigns",url:"data/weball26.json",id:"weball26",group:"sample"}])}(),function(){"use strict";angular.module("vlui").directive("fieldInfo",["Dataset","Drop","vl","consts","_",function(t,e,n,i,r){return{templateUrl:"fieldinfo/fieldinfo.html",restrict:"E",replace:!0,scope:{fieldDef:"=",showType:"=",showInfo:"=",showCaret:"=",popupContent:"=",showRemove:"=",removeAction:"&",action:"&",disableCountCaret:"="},link:function(o,a){var s;switch(o.vlType=n.type,o.typeNames=i.typeNames,o.stats=t.stats[o.fieldDef.field],o.containsType=function(t,e){return r.includes(t,e)},o.fieldDef.type){case n.type.ORDINAL:o.icon="fa-font";break;case n.type.NOMINAL:o.icon="fa-font";break;case n.type.QUANTITATIVE:o.icon="icon-hash";break;case n.type.TEMPORAL:o.icon="fa-calendar"}o.clicked=function(t){o.action&&t.target!==a.find(".fa-caret-down")[0]&&t.target!==a.find("span.type")[0]&&o.action(t)},o.func=function(t){return t.aggregate||t.timeUnit||t.bin&&"bin"||t._aggregate||t._timeUnit||t._bin&&"bin"||t._any&&"auto"},o.$watch("popupContent",function(t){t&&(s&&s.destroy(),s=new e({content:t,target:a.find(".type-caret")[0],position:"bottom left",openOn:"click"}))}),o.$on("$destroy",function(){s&&s.destroy()})}}}])}(),function(){"use strict";angular.module("vlui").service("Logger",["$location","$window","consts","Analytics",function(t,e,n,i){var r={};return r.levels={OFF:{id:"OFF",rank:0},TRACE:{id:"TRACE",rank:1},DEBUG:{id:"DEBUG",rank:2},INFO:{id:"INFO",rank:3},WARN:{id:"WARN",rank:4},ERROR:{id:"ERROR",rank:5},FATAL:{id:"FATAL",rank:6}},r.actions={INITIALIZE:{category:"DATA",id:"INITIALIZE",level:r.levels.DEBUG},UNDO:{category:"DATA",id:"UNDO",level:r.levels.INFO},REDO:{category:"DATA",id:"REDO",level:r.levels.INFO},DATASET_CHANGE:{category:"DATA",id:"DATASET_CHANGE",level:r.levels.INFO},DATASET_OPEN:{category:"DATA",id:"DATASET_OPEN",level:r.levels.INFO},DATASET_NEW_PASTE:{category:"DATA",id:"DATASET_NEW_PASTE",level:r.levels.INFO},DATASET_NEW_URL:{category:"DATA",id:"DATASET_NEW_URL",level:r.levels.INFO},BOOKMARK_ADD:{category:"BOOKMARK",id:"BOOKMARK_ADD",level:r.levels.INFO},BOOKMARK_REMOVE:{category:"BOOKMARK",id:"BOOKMARK_REMOVE",level:r.levels.INFO},BOOKMARK_OPEN:{category:"BOOKMARK",id:"BOOKMARK_OPEN",level:r.levels.INFO},BOOKMARK_CLOSE:{category:"BOOKMARK",id:"BOOKMARK_CLOSE",level:r.levels.INFO},BOOKMARK_CLEAR:{category:"BOOKMARK",id:"BOOKMARK_CLEAR",level:r.levels.INFO},CHART_MOUSEOVER:{category:"CHART",id:"CHART_MOUSEOVER",level:r.levels.DEBUG},CHART_MOUSEOUT:{category:"CHART",id:"CHART_MOUSEOUT",level:r.levels.DEBUG},CHART_RENDER:{category:"CHART",id:"CHART_RENDER",level:r.levels.DEBUG},CHART_EXPOSE:{category:"CHART",id:"CHART_EXPOSE",level:r.levels.DEBUG},CHART_TOOLTIP:{category:"CHART",id:"CHART_TOOLTIP",level:r.levels.DEBUG},CHART_TOOLTIP_END:{category:"CHART",id:"CHART_TOOLTIP_END",level:r.levels.DEBUG
},SORT_TOGGLE:{category:"CHART",id:"SORT_TOGGLE",level:r.levels.INFO},MARK_TOGGLE:{category:"CHART",id:"MARK_TOGGLE",level:r.levels.INFO},DRILL_DOWN_OPEN:{category:"CHART",id:"DRILL_DOWN_OPEN",level:r.levels.INFO},DRILL_DOWN_CLOSE:{category:"CHART",id:"DRILL_DOWN_CLOSE",level:r.levels.INFO},LOG_TOGGLE:{category:"CHART",id:"LOG_TOGGLE",level:r.levels.INFO},TRANSPOSE_TOGGLE:{category:"CHART",id:"TRANSPOSE_TOGGLE",level:r.levels.INFO},NULL_FILTER_TOGGLE:{category:"CHART",id:"NULL_FILTER_TOGGLE",level:r.levels.INFO},CLUSTER_SELECT:{category:"CHART",id:"CLUSTER_SELECT",level:r.levels.INFO},LOAD_MORE:{category:"CHART",id:"LOAD_MORE",level:r.levels.INFO},FIELDS_CHANGE:{category:"FIELDS",id:"FIELDS_CHANGE",level:r.levels.INFO},FIELDS_RESET:{category:"FIELDS",id:"FIELDS_RESET",level:r.levels.INFO},FUNC_CHANGE:{category:"FIELDS",id:"FUNC_CHANGE",level:r.levels.INFO},SPEC_CHANGE:{category:"POLESTAR",id:"SPEC_CHANGE",level:r.levels.DEBUG},FIELD_DROP:{category:"POLESTAR",id:"FIELD_DROP",level:r.levels.DEBUG},MARK_CHANGE:{category:"POLESTAR",id:"MARK_CHANGE",level:r.levels.DEBUG}},r.logInteraction=function(t,e,o){if(n.logging){var a=o?o.value:void 0;t.level.rank>=r.levels.INFO.rank&&(i.trackEvent(t.category,t.id,e,a),console.log("[Logging] ",t.id,e,o))}},r.logInteraction(r.actions.INITIALIZE,n.appId),r}])}(),function(){"use strict";angular.module("vlui").directive("modal",["$document","Modals",function(t,e){return{templateUrl:"modal/modal.html",restrict:"E",transclude:!0,scope:{autoOpen:"=",maxWidth:"@"},controller:["$scope",function(t){this.close=function(){t.isOpen=!1}}],link:function(n,i,r){function o(t){27===t.keyCode&&n.isOpen&&(n.isOpen=!1,n.$digest())}var a=r.id;n.maxWidth&&(n.wrapperStyle="max-width:"+n.maxWidth),n.isOpen=n.autoOpen,angular.element(t).on("keydown",o),e.register(a,n),n.$on("$destroy",function(){e.deregister(a)})}}}])}(),function(){"use strict";angular.module("vlui").directive("modalCloseButton",function(){return{templateUrl:"modal/modalclosebutton.html",restrict:"E",require:"^^modal",scope:{closeCallback:"&onClose"},link:function(t,e,n,i){t.closeModal=function(){i.close(),t.closeCallback&&t.closeCallback()}}}})}(),function(){"use strict";angular.module("vlui").factory("Modals",["$cacheFactory",function(t){var e=t("modals");return{register:function(t,n){return e.get(t)?void console.error("Cannot register two modals with id "+t):void e.put(t,n)},deregister:function(t){e.remove(t)},open:function(t){var n=e.get(t);return n?void(n.isOpen=!0):void console.error("Unregistered modal id "+t)},close:function(t){var n=e.get(t);return n?void(n.isOpen=!1):void console.error("Unregistered modal id "+t)},empty:function(){e.removeAll()},count:function(){return e.info().size}}}])}(),function(){"use strict";angular.module("vlui").factory("Schema",["vlSchema",function(t){var e={};return e.schema=t,e.getChannelSchema=function(t){var n=e.schema.definitions.Encoding.properties[t],i=n.$ref||n.oneOf[0].$ref,r=i.slice(i.lastIndexOf("/")+1);return e.schema.definitions[r]},e}])}(),function(){"use strict";angular.module("vlui").directive("tab",function(){return{templateUrl:"tabs/tab.html",restrict:"E",require:"^^tabset",replace:!0,transclude:!0,scope:{heading:"@"},link:function(t,e,n,i){i.addTab(t)}}})}(),function(){"use strict";angular.module("vlui").directive("tabset",function(){return{templateUrl:"tabs/tabset.html",restrict:"E",transclude:!0,controller:function(){var t=this;this.tabs=[],this.addTab=function(e){e.active=0===t.tabs.length,t.tabs.push(e)},this.showTab=function(e){t.tabs.forEach(function(t){t.active=t===e})}},controllerAs:"tabset"}})}(),function(){"use strict";angular.module("vlui").directive("vlPlot",["dl","vl","vg","$timeout","$q","Dataset","Config","consts","_","$document","Logger","Heap","$window",function(t,e,n,i,r,o,a,s,u,l,c,f,h){function d(t,e){return t>g||e>g||t*e>m?"svg":"canvas"}var p=0,g=16383.5,m=67108864,v=new f(function(t,e){return e.priority-t.priority}),y=!1;return{templateUrl:"vlplot/vlplot.html",restrict:"E",scope:{chart:"=",disabled:"=",isInList:"=",alwaysScrollable:"=",configSet:"@",maxHeight:"=",maxWidth:"=",overflow:"=",priority:"=",rescale:"=",thumbnail:"=",tooltip:"="},replace:!0,link:function(r,f){function g(e,n){n&&n.datum&&(r.tooltipPromise=i(function(){if(!n.datum._facetID){r.tooltipActive=!0,c.logInteraction(c.actions.CHART_TOOLTIP,n.datum),r.data=u(n.datum).omit("_prev","_id").toPairs().value().map(function(e){return e[1]=t.isNumber(e[1])?T(e[1]):e[1],e}),r.$digest();var i=f.find(".vis-tooltip"),o=angular.element(l),a=i.width(),s=i.height();e.pageY+10+s<o.height()?i.css("top",e.pageY+10):i.css("top",e.pageY-10-s),e.pageX+10+a<o.width()?i.css("left",e.pageX+10):i.css("left",e.pageX-10-a)}},C))}function m(t,e){var n=f.find(".vis-tooltip");n.css("top",null),n.css("left",null),i.cancel(r.tooltipPromise),r.tooltipActive&&c.logInteraction(c.actions.CHART_TOOLTIP_END,e.datum),r.tooltipActive=!1,r.data=[],r.$digest()}function b(){var n=r.configSet||s.defaultConfigSet||{};if(r.chart.vlSpec){var i=u.cloneDeep(r.chart.vlSpec);t.extend(i.config,a[n]());var l=r.chart.stats||o.stats,c=i.encoding;if(c){if(c.y&&c.y.field&&[e.type.NOMINAL,e.type.ORDINAL].indexOf(c.y.type)>-1&&c.x){var f=l[c.y.field];f&&e.fieldDef.cardinality(c.y,l)>30&&((c.x.axis=c.x.axis||{}).orient="top")}(c.row||c.y&&l[c.y.field]&&e.fieldDef.cardinality(c.y,l)>10)&&((c.y.scale=c.y.scale||{}).bandSize=12),(c.column||c.x&&l[c.x.field]&&e.fieldDef.cardinality(c.x,l)>10)&&((c.x.scale=c.x.scale||{}).bandSize=12),c.color&&c.color.type===e.type.NOMINAL&&e.fieldDef.cardinality(c.color,l)>10&&((c.color.scale=c.color.scale||{}).range="category20")}return e.compile(i).spec}}function _(){return f.find(".vega > :first-child")}function x(){var t=_();if(r.rescale){r.$digest();var e=Math.max(.2,f.width()/r.width);e<1&&t.width(r.width*e).height(r.height*e)}else t.css("transform",null).css("transform-origin",null)}function w(){return r.chart.shorthand||(r.chart.vlSpec?e.shorthand.shorten(r.chart.vlSpec):"")}function k(){if(v.size()>0){var t=v.pop();t.parse()}else y=!1}function E(t){function e(){if(r.destroyed||r.disabled||r.isInList&&r.chart.fieldSetKey&&!r.isInList(r.chart.fieldSetKey))return console.log("cancel rendering",a),void k();var e=(new Date).getTime();n.parse.spec(t,function(n,u){if(n)return void console.error("error",n);try{var l=(new Date).getTime();M=null,M=u({el:f[0]}),s.useUrl||M.data({raw:o.data}),M.update();var d=f.find(".vega > :first-child");r.width=d.width(),r.height=d.height(),s.debug&&(h.views=h.views||{},h.views[a]=M),c.logInteraction(c.actions.CHART_RENDER,"",r.chart.vlSpec),x();var p=(new Date).getTime();console.log("parse spec",l-e,"charting",p-l,a),r.tooltip&&(M.on("mouseover",g),M.on("mouseout",m))}catch(v){console.error(v,JSON.stringify(t))}finally{i(k)}})}if(!t)return void(M&&(M.off("mouseover"),M.off("mouseout")));r.height=t.height,f||console.error("can not find vis element");var a=w();r.renderer=d(t),y?v.push({priority:r.priority||0,parse:e}):(y=!0,e())}var S=500,C=250;r.visId=p++,r.hoverPromise=null,r.tooltipPromise=null,r.hoverFocus=!1,r.tooltipActive=!1,r.destroyed=!1;var T=t.format.number("");r.mouseover=function(){r.hoverPromise=i(function(){c.logInteraction(c.actions.CHART_MOUSEOVER,"",r.chart.vlSpec),r.hoverFocus=!r.thumbnail},S)},r.mouseout=function(){r.hoverFocus&&c.logInteraction(c.actions.CHART_MOUSEOUT,"",r.chart.vlSpec),i.cancel(r.hoverPromise),r.hoverFocus=r.unlocked=!1};var M;r.$watch(function(){return u.omit(r.chart.vlSpec,"data")},function(){var t=r.chart.vgSpec=b();r.chart.cleanSpec||(r.chart.cleanSpec=r.chart.vlSpec),E(t)},!0),r.$on("$destroy",function(){console.log("vlplot destroyed"),M&&(M.off("mouseover"),M.off("mouseout"),M=null);var t=w();s.debug&&h.views&&delete h.views[t],r.destroyed=!0})}}}])}(),function(){"use strict";angular.module("vlui").directive("vlPlotGroup",["Bookmarks","consts","dl","vl","Dataset","Logger","_",function(t,e,n,i,r,o,a){return{templateUrl:"vlplotgroup/vlplotgroup.html",restrict:"E",replace:!0,controller:["$scope","$element",function(t,e){this.getDropTarget=function(){return e.find(".fa-wrench")[0]}}],scope:{chart:"=",disabled:"=",isInList:"=",alwaysScrollable:"=",configSet:"@",maxHeight:"=",maxWidth:"=",overflow:"=",priority:"=",rescale:"=",thumbnail:"=",tooltip:"=",fieldSet:"=",showBookmark:"@",showDebug:"=",showExpand:"=",showFilterNull:"@",showLabel:"@",showLog:"@",showMark:"@",showSort:"@",showTranspose:"@",alwaysSelected:"=",isSelected:"=",highlighted:"=",expandAction:"&"},link:function(s){s.Bookmarks=t,s.consts=e,s.Dataset=r,s.renderPopup=!1,s.initializePopup=a.once(function(){s.renderPopup=!0}),s.logCode=function(t,e){console.log(t+":\n\n",JSON.stringify(e))},s.log={},s.log.support=function(t,e){if(!t)return!1;var n=t.encoding,r=n[e];return r&&r.type===i.type.QUANTITATIVE&&!r.bin},s.log.toggle=function(t,e){if(s.log.support(t,e)){var n=t.encoding[e],i=n.scale=n.scale||{};i.type="log"===i.type?"linear":"log",o.logInteraction(o.actions.LOG_TOGGLE,s.chart.shorthand)}},s.log.active=function(t,e){if(s.log.support(t,e)){var n=t.encoding[e],i=n.scale=n.scale||{};return"log"===i.type}},s.toggleFilterNull=function(t){o.logInteraction(o.actions.NULL_FILTER_TOGGLE,s.chart.shorthand),t.config=t.config||{},t.config.filterNull=t.config.filterNull!==!0||void 0},s.toggleFilterNull.support=function(t,e){var n=i.spec.fieldDefs(t);for(var r in n){var o=n[r];if(a.includes([i.type.ORDINAL,i.type.NOMINAL],o.type)&&o.name in e&&e[o.name].missing>0)return!0}return!1};var u=s.toggleSort={};u.modes=["ordinal-ascending","ordinal-descending","quantitative-ascending","quantitative-descending","custom"],u.toggle=function(t){o.logInteraction(o.actions.SORT_TOGGLE,s.chart.shorthand);var e=u.mode(t),n=u.modes.indexOf(e),i=(n+1)%(u.modes.length-1),r=u.modes[i];console.log("toggleSort",e,r);var a=u.channels(t);t.encoding[a.ordinal].sort=u.getSort(r,t)},u.getSort=function(t,e){if("ordinal-ascending"===t)return"ascending";if("ordinal-descending"===t)return"descending";var n=u.channels(e),i=e.encoding[n.quantitative];return"quantitative-ascending"===t?{op:i.aggregate,field:i.field,order:"ascending"}:"quantitative-descending"===t?{op:i.aggregate,field:i.field,order:"descending"}:null},u.mode=function(t){var e=u.channels(t),i=t.encoding[e.ordinal].sort;if(void 0===i)return"ordinal-ascending";for(var r=0;r<u.modes.length-1;r++){var o=u.modes[r],s=u.getSort(o,t);if(a.isEqual(i,s))return o}return n.isObject(i)&&i.op&&i.field?"custom":(console.error("invalid mode"),null)},u.channels=function(t){return t.encoding.x.type===i.type.NOMINAL||t.encoding.x.type===i.type.ORDINAL?{ordinal:"x",quantitative:"y"}:{ordinal:"y",quantitative:"x"}},u.support=function(t,e){var n=t.encoding;return!(i.encoding.has(n,"row")||i.encoding.has(n,"column")||!i.encoding.has(n,"x")||!i.encoding.has(n,"y")||!i.spec.alwaysNoOcclusion(t,e))&&(n.x.type!==i.type.NOMINAL&&n.x.type!==i.type.ORDINAL||!i.fieldDef.isMeasure(n.y)?!(n.y.type!==i.type.NOMINAL&&n.y.type!==i.type.ORDINAL||!i.fieldDef.isMeasure(n.x))&&"y":"x")},s.toggleSortClass=function(t){if(!t||!u.support(t,r.stats))return"invisible";var e=t&&u.channels(t).ordinal,n=t&&u.mode(t),i="x"===e?"sort-x ":"";switch(n){case"ordinal-ascending":return i+"fa-sort-alpha-asc";case"ordinal-descending":return i+"fa-sort-alpha-desc";case"quantitative-ascending":return i+"fa-sort-amount-asc";case"quantitative-descending":return i+"fa-sort-amount-desc";default:return i+"fa-sort"}},s.transpose=function(){o.logInteraction(o.actions.TRANSPOSE_TOGGLE,s.chart.shorthand),i.spec.transpose(s.chart.vlSpec)},s.$on("$destroy",function(){s.chart=null})}}}])}(),function(){"use strict";angular.module("vlui").directive("vlPlotGroupPopup",["Drop",function(t){return{templateUrl:"vlplotgroup/vlplotgrouppopup.html",restrict:"E",require:"^^vlPlotGroup",scope:!1,link:function(e,n,i,r){var o=new t({content:n.find(".dev-tool")[0],target:r.getDropTarget(),position:"bottom right",openOn:"click",constrainToWindow:!0});e.$on("$destroy",function(){o.destroy()})}}}])}(),function(){"use strict";angular.module("vlui").filter("compactJSON",["JSON3",function(t){return function(e){return t.stringify(e,null,"  ",80)}}])}(),function(){"use strict";angular.module("vlui").filter("encodeURI",function(){return function(t){return window.encodeURI(t)}})}(),function(){"use strict";angular.module("vlui").filter("reportUrl",["compactJSONFilter","_","consts",function(t,e,n){function i(n){var i="https://docs.google.com/forms/d/1T9ZA14F3mmzrHR7JJVUKyPXzrMqF54CjLIOjv2E7ZEM/viewform?";if(n.fields){var r=encodeURI(t(e.values(n.fields)));i+="entry.1245199477="+r+"&"}if(n.spec){var o=e.omit(n.spec,"config");o=encodeURI(t(o)),i+="entry.1323680136="+o+"&"}if(n.spec2){var a=e.omit(n.spec2,"config");a=encodeURI(t(a)),i+="entry.853137786="+a+"&"}var s="entry.1940292677=";switch(n.type){case"vl":i+=s+"Visualization+Rendering+(Vegalite)&";break;case"vr":i+=s+"Recommender+Algorithm+(Visrec)&";break;case"fv":i+=s+"Recommender+UI+(FacetedViz)&"}return i}function r(n){var i="https://docs.google.com/forms/d/1xKs-qGaLZEUfbTmhdmSoS13OKOEpuu_NNWE5TAAml_Y/viewform?";if(n.spec){var r=e.omit(n.spec,"config");r=encodeURI(t(r)),i+="entry.1245199477="+r+"&"}return i}return"voyager"===n.appId?i:r}])}(),function(){"use strict";angular.module("vlui").filter("underscore2space",function(){return function(t){return t?t.replace(/_+/g," "):""}})}();